(self.webpackChunkapp_studio_enterprise_duplicates_widget=self.webpackChunkapp_studio_enterprise_duplicates_widget||[]).push([[4232,3308,927,8546,6165,2832,451,8070,5689,4260,1879,1421],{12014:(g,W,u)=>{var d={"./default-file-icon.svg":27107,"./file-excel.svg":76185,"./file-image.svg":87831,"./file-pdf.svg":96682,"./file-powerpoint.svg":30351,"./file-word.svg":23472};function c(f){var _=m(f);return u(_)}function m(f){if(!u.o(d,f)){var _=new Error("Cannot find module '"+f+"'");throw _.code="MODULE_NOT_FOUND",_}return d[f]}c.keys=function(){return Object.keys(d)},c.resolve=m,g.exports=c,c.id=12014},10722:(g,W,u)=>{var d={"./default-file-icon.svg":8035,"./file-excel.svg":25689,"./file-image.svg":21431,"./file-pdf.svg":94570,"./file-powerpoint.svg":17935,"./file-word.svg":94896,"./large/default-file-icon.svg":27107,"./large/file-excel.svg":76185,"./large/file-image.svg":87831,"./large/file-pdf.svg":96682,"./large/file-powerpoint.svg":30351,"./large/file-word.svg":23472};function c(f){var _=m(f);return u(_)}function m(f){if(!u.o(d,f)){var _=new Error("Cannot find module '"+f+"'");throw _.code="MODULE_NOT_FOUND",_}return d[f]}c.keys=function(){return Object.keys(d)},c.resolve=m,g.exports=c,c.id=10722},95320:(g,W,u)=>{var d={"./flex-column-icon.svg":34291,"./flex-row-icon.svg":84531};function c(f){var _=m(f);return u(_)}function m(f){if(!u.o(d,f)){var _=new Error("Cannot find module '"+f+"'");throw _.code="MODULE_NOT_FOUND",_}return d[f]}c.keys=function(){return Object.keys(d)},c.resolve=m,g.exports=c,c.id=95320},33996:(g,W,u)=>{var d={"./grid-area-1-icon.svg":35723,"./grid-column-1-icon.svg":27320,"./grid-column-2-icon.svg":48305,"./grid-column-3-icon.svg":6206,"./grid-column-4-icon.svg":50103};function c(f){var _=m(f);return u(_)}function m(f){if(!u.o(d,f)){var _=new Error("Cannot find module '"+f+"'");throw _.code="MODULE_NOT_FOUND",_}return d[f]}c.keys=function(){return Object.keys(d)},c.resolve=m,g.exports=c,c.id=33996},20522:(g,W,u)=>{var d={"./datetime-picker-calendar-icon.svg":42926};function c(f){var _=m(f);return u(_)}function m(f){if(!u.o(d,f)){var _=new Error("Cannot find module '"+f+"'");throw _.code="MODULE_NOT_FOUND",_}return d[f]}c.keys=function(){return Object.keys(d)},c.resolve=m,g.exports=c,c.id=20522},48104:(g,W,u)=>{var d={"./datetime-picker-toggle-date-icon.svg":67347,"./datetime-picker-toggle-time-icon.svg":63202};function c(f){var _=m(f);return u(_)}function m(f){if(!u.o(d,f)){var _=new Error("Cannot find module '"+f+"'");throw _.code="MODULE_NOT_FOUND",_}return d[f]}c.keys=function(){return Object.keys(d)},c.resolve=m,g.exports=c,c.id=48104},48422:(g,W,u)=>{var d={"./error-icon.svg":77017,"./warning-icon.svg":64207};function c(f){var _=m(f);return u(_)}function m(f){if(!u.o(d,f)){var _=new Error("Cannot find module '"+f+"'");throw _.code="MODULE_NOT_FOUND",_}return d[f]}c.keys=function(){return Object.keys(d)},c.resolve=m,g.exports=c,c.id=48422},82084:(g,W,u)=>{var d={"./collapse.svg":14186};function c(f){var _=m(f);return u(_)}function m(f){if(!u.o(d,f)){var _=new Error("Cannot find module '"+f+"'");throw _.code="MODULE_NOT_FOUND",_}return d[f]}c.keys=function(){return Object.keys(d)},c.resolve=m,g.exports=c,c.id=82084},34232:(g,W,u)=>{u.r(W),u.d(W,{AccessibleAttributesDirective:()=>$,ActionsMenuComponent:()=>ge,ActionsMenuDivider:()=>Un,AdministratedObject:()=>Qs,AriaRequiredDirective:()=>Ye,BaseActionsMenu:()=>ct,BaseContainerComponent:()=>j,BaseEditPageComponent:()=>mn,BaseFilter:()=>Bn,BaseLegacySectionComponent:()=>ji,BaseLegacyTableDetailComponent:()=>kt,BasePageComponent:()=>Xe,BaseSectionComponent:()=>et,BaseSectionProfileData:()=>Ai,BaseTableDetailComponent:()=>Nt,BlinkTabService:()=>Ke,BooleanFilter:()=>li,COLLECTION_VIEW_ELEMENT_TYPES:()=>Ds,CONTAINER_BASE_COLORS:()=>Wn,CONTAINER_COLOR_TRANSPARENT:()=>Bo,CONTAINER_DEFAULT_VALUES:()=>Gn,CONTAINER_PADDING_SIZE:()=>Qn,CONTAINER_VISIBLE_PADDING_PX:()=>bs,CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR:()=>gi,CdkModule:()=>wn,ChangeBroadcastService:()=>Ie,CheckOperationPermissionPipeModule:()=>Xt,CheckboxColumnDataSchema:()=>Za,CheckboxTableCellComponent:()=>he,ClickOutsideDirective:()=>bt,CompactActionsMenuComponent:()=>dt,ComponentListComponent:()=>ye,Contact:()=>Cs,ContactPhotoComponent:()=>It,ContactPhotoModule:()=>en,ContainsStringFilter:()=>Mn,CrtCustomScrollTogglingDirective:()=>bn,CrtDuplicateIdsContainerStylesComponent:()=>Jt,CrtHorizontalResizingModule:()=>sn,CrtMainContainerStylesComponent:()=>$t,CrtRemoveDuplicateIDsStyleTogglingDirective:()=>In,CrtSearchInputComponent:()=>ue,CultureApiService:()=>rt,CultureDialogModel:()=>oa,CultureLanguageModel:()=>ri,CultureModel:()=>si,CustomOverlayContainer:()=>Lt,DATA_SOURCE_STRUCTURE_EXPLORER_DATA_PROVIDER_NAME:()=>vi,DEFAULT_REST_ERROR_HANDLER:()=>Ti,DEFAULT_REST_HANDLER:()=>Ni,DataItemMarkerDirective:()=>X,DataItemMarkerModule:()=>ee,DataSourceStructureExplorerDataProviderService:()=>Ze,DataSourceStructureExplorerModule:()=>ln,DataSourceStructureExplorerService:()=>Dt,DatePickerFilterComponent:()=>pt,DatePickerFilterModule:()=>Ht,DateRange:()=>ai,DateRangeComponent:()=>tt,DatetimePickerModule:()=>Z,DefaultRestErrorHandler:()=>ve,DefaultRestHandler:()=>$e,DeleteButtonTableCellComponent:()=>Ne,DialogActionConfigAbstract:()=>Po,DialogActionsAbstract:()=>Ro,DialogProviderAbstract:()=>ki,EntityBackwardReferenceService:()=>wt,EntityColumnValueInputModule:()=>ie,EntityDataViewComponent:()=>Pe,EntityDataViewLoaderService:()=>ht,EntityDataViewModule:()=>J,EntityOperation:()=>Xs,EntityOperationGrantee:()=>qs,EntitySchemaColumnRight:()=>Zs,EntitySchemaColumnRightLevel:()=>Jn,EntitySchemaColumnRights:()=>Js,EntitySchemaOperationsRights:()=>$s,EntitySchemaRecordDefRight:()=>Ks,EntitySchemaRecordOperationRightLevel:()=>Tt,EntityTableDataSchemaBuilder:()=>ft,ErrorTypeIconColumnSchema:()=>Ya,ErrorTypeIconTableCellComponent:()=>Ae,ExpansionButtonModule:()=>Be,FILE_ICONS:()=>hi,FLEX_DEFAULT_VALUES:()=>fe,FileIconService:()=>on,FileTypeIcon:()=>w,FilterableListComponent:()=>te,FilterableListModule:()=>Oe,FlexContainerComponent:()=>H,FormulaEditorComponent:()=>ot,FormulaEditorModule:()=>Rt,FormulaItem:()=>Rn,FormulaItemTemplate:()=>Ji,FormulaItemType:()=>Q,FormulaOperandItemComponent:()=>me,GRID_DEFAULT_VALUES:()=>Yn,GRID_VIEW_ELEMENT_TYPES:()=>fi,GTM_MODULE_NAME:()=>ii,GridContainerComponent:()=>G,GridContainerItemsLayoutService:()=>ze,HORIZONTAL_RESIZING_CONFIG:()=>Zn,HeaderComponent:()=>B,HintOverlayModule:()=>Yt,HorizontalResizingService:()=>Qe,IconColumnDataSchema:()=>eo,IconPositionEnum:()=>v.IconPositionEnum,IconTableCellComponent:()=>Ve,ImageInputComponent:()=>ae,ImageInputModule:()=>qt,LabelComponent:()=>Ue,ListComponent:()=>Kt,LocalizableDialogComponent:()=>lt,LocalizableTextInputComponent:()=>ke,LocalizableTextMaxLengthValidator:()=>ha,LocalizableTextMinLengthValidator:()=>fa,LocalizableTextModule:()=>zt,LocalizableTextRequiredValidator:()=>ga,LocalizableTextValidators:()=>ma,LookupDialogModule:()=>ne,LookupDialogMultiselectResult:()=>fo,LookupDialogResult:()=>yo,LookupDialogService:()=>Re,MaterialModule:()=>an,MessageDialogConfigAbstract:()=>zo,MessageDialogProviderAbstract:()=>Li,MultiselectDialogComponent:()=>st,NamedFolderTableCellComponent:()=>Le,NumberInputComponent:()=>ce,NumberInputModule:()=>be,OVERLAY_COMPONENT_SELECTOR:()=>Xn,OVERLAY_CONTAINER_SELECTOR:()=>ei,ObjectFilterType:()=>xe,ObjectTypeFilterComponent:()=>nt,PageableTableDataSource:()=>gn,PasswordValidationRuleProvider:()=>ni,PasswordValidationService:()=>At,QuickEntityFilterComponent:()=>gt,RESOURCES_CONFIG:()=>Fn,ResourcesConfig:()=>ti,ResourcesService:()=>se,RightManagementService:()=>Ge,SearchInputModule:()=>Y,SelectEntitySchemaColumnDialogComponent:()=>it,SelectSysAdminUnitDialogComponent:()=>nn,SimpleHintComponent:()=>_t,SizeEnum:()=>v.SizeEnum,SyncReactiveStateDirective:()=>Dn,SysAdminUnitTreeComponent:()=>vt,SysAdminUnitTreeControl:()=>Mi,TableDialogComponent:()=>ut,TimeAgoComponent:()=>je,TimeAgoModule:()=>Bt,TitleService:()=>Ot,ValidationErrorDialogComponent:()=>Qt,VerticalExpansionPanelComponent:()=>St,containerPaddingConverter:()=>Gs,createCrtControlUsingFormControlArgs:()=>Hs,fileTypeIconMap:()=>Ii,getDateLocale:()=>Si,isNumber:()=>Sn,isSizeEnum:()=>v.isSizeEnum,syncReactiveStateProvider:()=>Us});var d=u(5960),c=u(40297),m=u(56711),f=u(59445),_=u(92011),P=u(44059),R=u(6675),C=u(52989),L=u(55231),x=u(23023),O=u(53135),I=u(76923),M=u(4091),T=u(70987),Ce=u(67047),Et=u(91627),K=u(63035),z=u(62521),cn=u(42828),Vn=u(27397),l=u(38495),E=u(79772),b=u(59564),Me=u(96590),k=u(31334),U=u(47742),h=u(21018),v=u(22438),Se=u(10850),e=u(59131),dn=u(14715);const bi=["tsTable"],Di=["detailTableWrapper"];class Nt{constructor(){this.tableEventHandlers={},this.dataChange=new e.EventEmitter,this.tableDataSource=this.createTableDataSource()}set data(t){t=t||[],this.tableDataSource.data=t,this.onDataSourceSet(t)}get data(){return this.tableDataSource.data}get readonly(){return this._readonly}set readonly(t){this._readonly!==t&&(this._readonly=t,this.onReadonlySet(t))}createTableDataSource(){return new dn.MatLegacyTableDataSource}applyDataBinding(){const t=this.tableDataSource.data;this.tableDataSource.data=t}addRowSilent(t){this.data.push(t)}addRow(t){this.addRows(t)}addRows(...t){t.forEach(n=>this.addRowSilent(n)),this.applyDataBinding()}deleteRowSilent(t){const n=this.data,i=n.findIndex(a=>a===t);i!==-1&&n.splice(i,1)}deleteRow(t){this.deleteRows(t)}deleteRows(...t){t.forEach(n=>this.deleteRowSilent(n)),this.applyDataBinding()}onDataSourceSet(t){}checkTableIsNotEmpty(){if(!this.table)throw new Error("Table detail should contain an instance of `TableComponent`.")}onReadonlySet(t){}processRowsBeforeAdd(...t){return t}processRowsBeforeDelete(...t){return t}ngOnInit(){this.readonly=!1}fireChangeEvent(){this.dataChange.emit(this.data)}isEmpty(){return this.checkTableIsNotEmpty(),this.table.isEmpty()}onAddRow(t){this.onAddRows(t)}onAddRows(...t){if(this.readonly)return;const n=this.processRowsBeforeAdd(...t);this.addRows(...n),n?.length>0&&this.fireChangeEvent()}onDeleteRow(t){this.onDeleteRows(t)}onDeleteRows(...t){if(this.readonly)return;const n=this.processRowsBeforeDelete(...t);this.deleteRows(...n),n?.length>0&&this.fireChangeEvent()}onDeleteSelected(){this.checkTableIsNotEmpty(),this.onDeleteRows(...this.table.selected)}isDeleteSelectedButtonVisible(){return this.readonly?!1:(this.checkTableIsNotEmpty(),this.table.isAnyRecordSelected())}static{this.\u0275fac=function(n){return new(n||Nt)}}static{this.\u0275dir=e.\u0275\u0275defineDirective({type:Nt,viewQuery:function(n,i){if(n&1&&(e.\u0275\u0275viewQuery(bi,7),e.\u0275\u0275viewQuery(Di,7)),n&2){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.table=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.detailTableWrapper=a.first)}},inputs:{data:"data",isLoading:"isLoading",readonly:"readonly"},outputs:{dataChange:"dataChange"}})}}var un=u(17499);class kt extends Nt{set sort(t){this._sort!==t&&(this._sort=t,this.tableDataSource&&t&&(this.tableDataSource.sort=t))}isEmpty(){const t=this.tableDataSource;return!this.isLoading&&(t.data.length===0||t.filteredData.length===0)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(kt)))(i||kt)}})()}static{this.\u0275dir=e.\u0275\u0275defineDirective({type:kt,viewQuery:function(n,i){if(n&1&&e.\u0275\u0275viewQuery(un.MatSort,5),n&2){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.sort=a.first)}},features:[e.\u0275\u0275InheritDefinitionFeature]})}}var D=u(28399),p=u(36486),pn=u(31555),wi=u(18081);const Xn=new e.InjectionToken("Component selector in the shadow root of which overlay container will be injected"),ei=new e.InjectionToken("Selector of an element in the component into which the overlay container will be injected");class Lt extends pn.OverlayContainer{constructor(t,n,i="",a=""){super(t,n),this._platform=n,this._componentSelector=i,this._containerSelector=a}_getContainerRootElement(){const t=this._document.querySelector(this._componentSelector),n=t&&t.shadowRoot;return n&&n.querySelector(this._containerSelector)||this._document.body}getContainerElement(){const t=super.getContainerElement(),n=this._getContainerRootElement();return n.querySelector("."+t.className)||n.appendChild(t),t}static{this.\u0275fac=function(n){return new(n||Lt)(e.\u0275\u0275inject(c.DOCUMENT),e.\u0275\u0275inject(wi.Platform),e.\u0275\u0275inject(Xn),e.\u0275\u0275inject(ei))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:Lt,factory:Lt.\u0275fac})}}const Fn=new e.InjectionToken("Represents a set of configuration properties for getting resources");class ti{constructor(t,n,i){this._getResourcesEventName=t,this._setResourcesEventName=n,this._defaultResources=i}get defaultResources(){return this._defaultResources}get getResourcesEventName(){return l.ValidationUtilities.checkStringIsNotEmpty("getResourcesEventName",this._getResourcesEventName)}get setResourcesEventName(){return l.ValidationUtilities.checkStringIsNotEmpty("setResourcesEventName",this._setResourcesEventName)}}var S=u(62278);class se{constructor(t,n){this._customEventService=t,this._destroyed$=new S.Subject,this._defaultResources=this._getSafeResources(n.defaultResources),this._setResourcesEventName=n.setResourcesEventName,this._getResourcesEventName=n.getResourcesEventName}_getSafeResources(t){return t=t||{},t.localizableStrings=t.localizableStrings||{},t}getResources(){const t=new S.ReplaySubject;return this._customEventService.subscribe(this._setResourcesEventName).pipe((0,p.take)(1),(0,p.map)(n=>this._getSafeResources(n)),(0,p.map)(n=>(0,D.merge)(this._defaultResources,n)),(0,p.takeUntil)(this._destroyed$)).subscribe(n=>{t.next(n),t.complete()}),this._customEventService.createOutboundChannel(this._getResourcesEventName).next({}),t}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||se)(e.\u0275\u0275inject(Me.CustomEventService),e.\u0275\u0275inject(Fn))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:se,factory:se.\u0275fac})}}class Ie{constructor(){this._eventEmitter=new e.EventEmitter(!1)}emit(t){this._eventEmitter.emit(t)}subscribe(t){return this._eventEmitter.subscribe(t)}static{this.\u0275fac=function(n){return new(n||Ie)}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac})}}class ve extends h.RestErrorHandler{processErrorMessage(t){this._dialogService.openInfoDialog(t)}constructor(t){super(),this._dialogService=t}static{this.\u0275fac=function(n){return new(n||ve)(e.\u0275\u0275inject(b.DialogService))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:ve,factory:ve.\u0275fac})}}const Ti={provide:h.RestErrorHandler,useClass:ve};var Ei=u(93883);class $e extends h.RestHandler{constructor(t,n,i){super(),this._snackBar=n,this._maskService=i,this._errorHandler=new ve(t)}_handleRequestSuccess(t,n){return t.pipe((0,p.tap)(i=>{const{success:a}=i||{};(a||a===void 0)&&n()}))}_handleRequestsSuccess(t,n){let i=0;const a=()=>i===t.length;return t.map(s=>this._handleRequestSuccess(s,()=>{i++,a()&&this.showSuccessMessage(n)}))}_handleRequestsFinished(t,n){const i=t.slice(),a=()=>i.length===0,s=r=>{const y=i.indexOf(r);y!==-1&&(i.splice(y,1),a()&&n())};return t.map(r=>r.pipe((0,p.tap)(()=>s(r)),(0,p.finalize)(()=>s(r))))}showSuccessMessage(t){this._snackBar.open(t,"",{duration:5e3})}handleError(t,n){return this._errorHandler.handleRequest(t,n)}handleSuccess(t,n){return this._handleRequestSuccess(t,()=>this.showSuccessMessage(n))}applyMask(t,n){this._maskService.showBodyMask({delay:n.maskDelay});let i=!1;return t.pipe((0,p.tap)(()=>{this._maskService.hideBodyMask(),i=!0}),(0,p.finalize)(()=>{i||this._maskService.hideBodyMask()}))}handleRequest(t,n={}){let i=this.handleError(t,n);return n.skipBodyMask||(i=this.applyMask(i,n)),n.successMessage&&(i=this.handleSuccess(i,n.successMessage)),i}handleRequests(t,n={}){let i=t.map(a=>this.handleError(a,n));return n.successMessage&&(i=this._handleRequestsSuccess(i,n.successMessage)),n.skipBodyMask||(this._maskService.showBodyMask({delay:n.maskDelay}),i=this._handleRequestsFinished(i,()=>this._maskService.hideBodyMask())),i}static{this.\u0275fac=function(n){return new(n||$e)(e.\u0275\u0275inject(b.DialogService),e.\u0275\u0275inject(Ei.MatLegacySnackBar),e.\u0275\u0275inject(b.MaskService))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:$e,factory:$e.\u0275fac})}}const Ni={provide:h.RestHandler,useClass:$e};class Ke{constructor(t){this._window=t,this._defaultBlinkInterval=500,this._defaultBlinkPrefix="*"}_getBlinkConfig(t){const n=this._window.document,i=t?.title||n.title;return{title:i,blinkTitle:t?.blinkTitle||`${this._defaultBlinkPrefix}${i}`,blinkInterval:t?.blinkInterval||this._defaultBlinkInterval,blinkOnce:(t||{}).blinkOnce===!0}}_createSyncSubject(){const t=new S.Subject;return(0,S.fromEvent)(this._window,"mousemove").pipe((0,p.first)(),(0,p.map)(n=>null)).subscribe(t),t}blink(t){return(0,S.of)(null)}static{this.\u0275fac=function(n){return new(n||Ke)(e.\u0275\u0275inject(Me.WINDOW_TOKEN))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}}var re=u(73308),q=u(71252);class Ot{constructor(t,n){this._sysSettingsService=t,this._title=n,this._defaultProductName="Creatio",this._productNameSysSettingsCode="ProductName",this._setTitleWithDebounce$=new S.Subject,this._setTitleWithDebounce$.pipe((0,S.debounceTime)(500)).subscribe(i=>{this.setTitle(i)})}_getProductName(){var t=this;return(0,re.A)(function*(){const n=yield t._sysSettingsService.getByCode(t._productNameSysSettingsCode);return n?n.value:t._defaultProductName})()}setTitleAsync(t=""){var n=this;return(0,re.A)(function*(){const i=yield n._getProductName(),a=t?[t,i].join(" - "):i;n._title.setTitle(a)})()}setTitle(t=""){this.setTitleAsync(t).then()}setTitleWithDebounce(t=""){this._setTitleWithDebounce$.next(t)}static{this.\u0275fac=function(n){return new(n||Ot)(e.\u0275\u0275inject(l.SysSettingsService),e.\u0275\u0275inject(q.Title))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:Ot,factory:Ot.\u0275fac,providedIn:"root"})}}class ni{}class At{constructor(t,n){this._translateService=t,this._passwordValidationRuleProvider=n,this._validationRules=[],this._initValidationRules()}_initValidationRules(){this._passwordValidationRuleProvider.getPasswordValidationRules().pipe((0,S.take)(1)).subscribe(t=>{this._validationRules=t})}validate(t){return this._validationRules.map(n=>({valid:n.pattern.test(t),caption:this._translateService.instant(n.message,n.interpolateParams)}))}getDefaultValidationRules(){return this._validationRules.map(t=>({valid:null,caption:this._translateService.instant(t.message,t.interpolateParams)}))}static{this.\u0275fac=function(n){return new(n||At)(e.\u0275\u0275inject(E.TranslateService),e.\u0275\u0275inject(ni))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:At,factory:At.\u0275fac,providedIn:"root"})}}class ki{open(t,n){return(0,S.of)({})}}class Li{open(t){return(0,S.of)({})}}var qe=u(85638);const ii=new e.InjectionToken("GtmModuleName");class Xe{set model(t){this._model!==t&&(this._model=t,this.onModelSet(t))}get model(){return this._model}constructor(t){this.injector=t,this._destroyedSubject=new S.Subject,this.destroyed$=this._destroyedSubject.asObservable(),this.hasLoadingError=!1,this.isLoading=!0,this.injectDependencies(),this._model=this.createEmptyModel()}injectDependencies(){this.dialogService=this.injector.get(b.DialogService),this.googleTagManagerService=this.injector.get(qe.GoogleTagManagerService),this.window=this.injector.get(Me.WINDOW_TOKEN),this.gtmModuleName=this.injector.get(ii,""),this._translateService=this.injector.get(E.TranslateService),this.scrollToBottomObserverFactory=this.injector.get(h.ScrollToBottomObserverFactory),this._restHandler=this.injector.get(h.RestHandler,null)}createEmptyModel(){return{}}onModelSet(t){}onPageLoadErrorDialogClosed(t){this.close()}onPageDataLoadError(t){this.dialogService.openInfoDialog(t.message).subscribe(n=>{this.onPageLoadErrorDialogClosed(n)})}applyPageLoadUnsuccessfulResponse(t){this.sendGtmAction(this.getPageOpenErrorGtmData()),this.model=this.createEmptyModel(),this.hideBodyMask(),this.hasLoadingError=!0,t&&t.errorInfo&&this.onPageDataLoadError(t.errorInfo)}applyPageLoadSuccessfulResponse(t){this.hasLoadingError=!1;const n=this.getModelFromLoadResponse(t);this.model=this.preProcessLoadedPageModel(n),this.sendGtmAction(this.getPageOpenGtmData())}applyPageLoadResponse(t){if(!t||!t.success){this.applyPageLoadUnsuccessfulResponse(t);return}this.applyPageLoadSuccessfulResponse(t)}beforeInitialPageDataLoading(){}beforePageDataReloading(){}beforePageDataLoading(){}afterInitialPageDataLoaded(){}afterPageDataReloaded(){}afterPageDataLoaded(){}executePageDataLoading(t){return this.beforePageDataLoading(),this.showBodyMask(),t().pipe((0,p.take)(1),(0,p.tap)(i=>{this.hideBodyMask(),i=this.preProcessPageLoadingResponse(i),this.applyPageLoadResponse(i),this.afterPageDataLoaded()}),(0,p.share)(),(0,p.takeUntil)(this.destroyed$))}loadInitialPageData(){this.beforeInitialPageDataLoading();const t=this.executePageDataLoading(()=>this.requestInitialPageData());return t.subscribe(()=>this.afterInitialPageDataLoaded()),t}preProcessPageLoadingResponse(t){return t}preProcessLoadedPageModel(t){return t}requestInitialPageData(){return this.requestPageData()}requestPageDataOnReload(){return this.requestPageData()}getDefaultGtmData(){return{moduleName:this.gtmModuleName,schemaName:this.getGtmSchemaName()}}getPageOpenGtmData(){return{action:"PageOpen"}}getPageOpenErrorGtmData(){return{action:"PageOpenError"}}sendGtmAction(t){const n=this.getDefaultGtmData();t&&n&&n.moduleName&&n.schemaName&&this.googleTagManagerService.track((0,D.merge)(n,t))}hideBodyMask(){this.isLoading=!1}showBodyMask(){this.isLoading=!0}translateInstant(t,n){return n===void 0?this._translateService.instant(t):this._translateService.instant(t,n)}translateAsync(t,n){return n===void 0?this._translateService.get(t):this._translateService.get(t,n)}handleRequest(t,n){return this._restHandler.handleRequest(t,n)}reloadPageData(){this.beforePageDataReloading();const t=this.executePageDataLoading(()=>this.requestPageDataOnReload());return t.subscribe(()=>this.afterPageDataReloaded()),t}openDialog(t,n){return n=n||{},n.data=n.data||{},n.data.gtmData=(0,D.merge)(n.data.gtmData,this.getDefaultGtmData()),this.dialogService.open(t,n)}openInfoDialog(t){return this.dialogService.openInfoDialog(t).pipe((0,p.takeUntil)(this.destroyed$))}openConfirmationDialog(t,n,i){const a=this.dialogService.openConfirmationDialog(t).pipe((0,p.takeUntil)(this.destroyed$),(0,p.share)());return n&&a.pipe((0,p.filter)(s=>s===b.YesButton.result)).subscribe(n),i&&a.pipe((0,p.filter)(s=>s===b.NoButton.result)).subscribe(i),a}ngOnInit(){this.loadInitialPageData()}ngOnDestroy(){this._destroyedSubject.next(),this._destroyedSubject.complete()}closeButtonVisible(){return!0}static{this.\u0275fac=function(n){return new(n||Xe)(e.\u0275\u0275directiveInject(e.Injector))}}static{this.\u0275dir=e.\u0275\u0275defineDirective({type:Xe})}}class mn extends Xe{get isChanged(){return this._isChanged}set isChanged(t){this.setIsChanged(t)}preProcessLoadedPageModel(t){return this.modelSnap=this.cloneModel(super.preProcessLoadedPageModel(t)),t}loadModelFromSnap(){this.model=this.cloneModel(this.modelSnap)}injectDependencies(){super.injectDependencies(),this.location=this.injector.get(c.Location)}preProcessModelForSave(t){return t}createChangeBroadcastService(){return this.injector.get(Ie)}getDefaultSaveGtmData(){return{}}getSaveSuccessGtmData(){return(0,D.merge)(this.getDefaultSaveGtmData(),{action:"Save"})}getSaveErrorGtmData(){return(0,D.merge)(this.getDefaultSaveGtmData(),{action:"SaveError"})}preProcessSaveResponse(t){return t}canShowUnsuccessfulSaveMessage(){return!0}applySaveUnsuccessfulResponse(t,n){this.sendGtmAction(this.getSaveErrorGtmData()),this.hideBodyMask(),this.canShowUnsuccessfulSaveMessage()&&n&&n.errorInfo&&this.openInfoDialog(n.errorInfo.message)}applySaveSuccessfulResponse(t,n){this.sendGtmAction(this.getSaveSuccessGtmData()),this.modelSnap=this.cloneModel(t),this.isChanged=!1,this.changeBroadcastService&&this.changeBroadcastService.emit(this.model)}cloneModel(t){return(0,D.cloneDeep)(t)}applySaveResponse(t,n){if(!n||!n.success){this.applySaveUnsuccessfulResponse(t,n);return}this.applySaveSuccessfulResponse(t,n)}executeSave(){const t=this.preProcessModelForSave(this.model),n=this.savePageData(t).pipe((0,p.share)());return n.subscribe(i=>{i=this.preProcessSaveResponse(i),this.applySaveResponse(t,i)}),n}closeAfterSave(){this.goBackToSection()}recordSaved(t){t&&t.success&&this.closePageAfterSave&&this.closeAfterSave()}goBackToSection(){this.location.back()}isModelValid(){return!!this.model}constructor(t){super(t),this.closePageAfterSave=!0,this._isChanged=!1,this.changeBroadcastService=this.createChangeBroadcastService()}setIsChanged(t=!0){this._isChanged=t}cancel(){this.loadModelFromSnap(),this.isChanged=!1}saveAsync(){this.showBodyMask();const t=this.executeSave().pipe((0,p.share)());return t.subscribe(n=>{this.hideBodyMask(),this.recordSaved(n)}),t}save(){const t=this.saveAsync();return t.subscribe(),t}saveButtonVisible(){return this.isChanged&&!this.hasLoadingError}saveButtonEnabled(){return this.isModelValid()}cancelButtonVisible(){return this.saveButtonVisible()}closeButtonVisible(){return super.closeButtonVisible()&&!this.saveButtonVisible()}close(){if(this.window.history.length===1){this.window.close();return}this.goBackToSection()}static{this.\u0275fac=function(n){return new(n||mn)(e.\u0275\u0275directiveInject(e.Injector))}}static{this.\u0275dir=e.\u0275\u0275defineDirective({type:mn,features:[e.\u0275\u0275InheritDefinitionFeature]})}}class gn extends dn.MatLegacyTableDataSource{constructor(t=[]){super(t),this._visibleContentSize=0,this._pageSize=40,this.resetVisibleContentSize()}resetVisibleContentSize(){this._visibleContentSize=this._pageSize}loadNext(){this._visibleContentSize+=this._pageSize,this._updateChangeSubscription()}_pageData(t){return this._visibleContentSize>=t.length?t:t.slice(0,this._visibleContentSize)}}const Oi=["tsTable"];class Ai extends qe.BaseProfileData{}class et extends Xe{constructor(){super(...arguments),this._selected$=new S.Subject,this.searchKeyValue="",this.searchSettingsValue={...this.getDefaultSearchSettings()},this.selected$=this._selected$.asObservable()}get tableDataSource(){return this._tableDataSource}set searchKey(t){this.searchKeyValue=t,this.onSearchKeySet(t)}get searchKey(){return this.searchKeyValue}set searchSettings(t){this.searchSettingsValue=t,this.onSearchSettingsSet(t)}get searchSettings(){return this.searchSettingsValue}set sort(t){this._sort!==t&&(this._sort=t,this.tableDataSource&&t&&(this.tableDataSource.sort=t))}get sort(){return this._sort}set dataSchema(t){this.checkTableIsNotEmpty(),this.table.dataSchema=t}get dataSchema(){return this.checkTableIsNotEmpty(),this.table.dataSchema}set selected(t){this.checkTableIsNotEmpty(),this.table.selected=t,this._selected$.next(t)}get selected(){return this.checkTableIsNotEmpty(),this.table.selected}set selectMode(t){this.checkTableIsNotEmpty(),this.table.selectMode=t}get selectMode(){return this.checkTableIsNotEmpty(),this.table.selectMode}_getSearchSettingsColumnSelectors(){const t=this.getSearchSettingsColumnDescriptors(),n=this.searchSettings.columns;return!t||!n?[]:t.filter(a=>n.includes(a.name)).map(a=>a.selector??a.name)}getDefaultSearchSettings(){return{searchStrategy:h.SearchStrategy.Contains,columns:[]}}getSearchSettingsColumnDescriptors(){return[]}createEmptyModel(){return[]}onModelSet(t){t=t||[],super.onModelSet(t),this.tableDataSource&&(this.tableDataSource.data=t),this.resetVisibleContent()}injectDependencies(){super.injectDependencies(),this.userProfileService=this.injector.get(qe.UserProfileService)}beforePageDataLoading(){this.tableDataSource.resetVisibleContentSize(),super.beforePageDataLoading()}createEqualityPredicate(){return(t,n)=>t===n}createSearchPredicate(){const t=this.getStaticSearchColumns();return(0,h.createSearchLowerCasePredicate)(t.concat(this._getSearchSettingsColumnSelectors()),this.searchSettings.searchStrategy)}createChangeBroadcastService(){return this.injector.get(Ie)}updateRecord(t,n){Object.assign(t,n)}applySearchSettings(){const t=this.createSearchPredicate();t&&this.tableDataSource&&(this.tableDataSource.filterPredicate=t)}initSelectedChange(){this.checkTableIsNotEmpty(),this.table.selectedChange.subscribe(t=>{this._selected$.next(t),this.onSelectedChanged(t)})}initTableComponent(){this.dataSchema=this.getDefaultDataSchema(),this.selectMode=this.getDefaultSelectMode(),this.initSelectedChange()}initTableDataSource(){this.setTableDataSource(new gn(this.model)),this.applySearchSettings()}onSelectedChanged(t){}onRecordChanged(t,n){t&&this.updateRecord(t,n)}initChangeBroadcastSubscription(){const t=this.createEqualityPredicate();t&&(this.changeBroadcastService=this.createChangeBroadcastService(),this.changeBroadcastService.subscribe(n=>{const i=this.model.find(a=>t(a,n));this.onRecordChanged(i,n)}))}loadNextData(){this.tableDataSource&&this.tableDataSource.loadNext()}getProfileData(){const t={searchKey:this.searchKey};return(0,D.isEqual)(this.searchSettings,this.getDefaultSearchSettings())||(t.searchSettings={searchStrategy:this.searchSettings.searchStrategy}),t}applyProfileData(t){t.searchSettings&&(this.searchSettingsValue.searchStrategy=t.searchSettings.searchStrategy,this.applySearchSettings()),t.searchKey&&(this.searchKeyValue=t.searchKey,this.applySearchKey())}loadUserProfileData(){const t=this.userProfileService.getProfile(this.getProfileDataKey()).pipe((0,p.share)());return t.subscribe(n=>{n&&this.applyProfileData(n)}),t}saveUserProfileData(){const t=this.getProfileData(),n=this.userProfileService.saveProfile(this.getProfileDataKey(),t).pipe((0,p.share)());return n.subscribe(),n}resetVisibleContent(){!this.scrollPageToBottomObserver||!this.tableDataSource||(this.scrollPageToBottomObserver.resetScrollMaxPosition(),this.tableDataSource.resetVisibleContentSize())}applySearchKey(){this.tableDataSource.filter=this.searchKey&&this.searchKey.trim().toLowerCase()}onSearchKeySet(t){this.applySearchKey(),this.onSearchConditionsChanged()}onSearchSettingsSet(t){this.applySearchSettings(),this.applySearchKey(),this.onSearchConditionsChanged()}onSearchConditionsChanged(){this.resetVisibleContent(),this.saveUserProfileData()}initScrollToBottomObserver(){this.scrollPageToBottomObserver=this.scrollToBottomObserverFactory.createObserver(this.window,this.loadNextData.bind(this))}setTableDataSource(t){this.checkTableIsNotEmpty(),this.table.dataSource=t,this._tableDataSource=t}checkTableIsNotEmpty(){if(!this.table)throw new Error("Section page should contain an instance of `TableComponent`.")}ngOnInit(){this.initTableComponent(),this.initTableDataSource(),this.initChangeBroadcastSubscription(),this.loadUserProfileData().subscribe(()=>{super.ngOnInit()})}ngAfterViewInit(){this.initScrollToBottomObserver()}ngOnDestroy(){super.ngOnDestroy(),this.scrollPageToBottomObserver&&this.scrollPageToBottomObserver.destroy()}isEmpty(){return this.checkTableIsNotEmpty(),!this.isLoading&&this.table.isEmpty()}areFiltersEmpty(){return!this.searchKey}close(){const t=this.window.location.href;this.window.history.back(),setTimeout(()=>{this.window.location.href===t&&this.window.close()},200)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(et)))(i||et)}})()}static{this.\u0275dir=e.\u0275\u0275defineDirective({type:et,viewQuery:function(n,i){if(n&1&&(e.\u0275\u0275viewQuery(un.MatSort,5),e.\u0275\u0275viewQuery(Oi,7)),n&2){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.sort=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.table=a.first)}},features:[e.\u0275\u0275InheritDefinitionFeature]})}}class ji extends et{get tableDataSource(){return this._internalTableDataSource}getDefaultSelectMode(){return"none"}setTableDataSource(t){this._internalTableDataSource=t}initTableComponent(){}getDefaultDataSchema(){return null}isEmpty(){const t=this.tableDataSource;return!this.isLoading&&(t.data.length===0||t.filteredData.length===0)}}var Vi=u(30046),le=u.n(Vi);class ai{}class tt{constructor(){this._value=new ai,this.valueChange=new e.EventEmitter}get startDate(){return this._startDate}set startDate(t){t.isSame(this._startDate)||(this._value.startDate=t.toDate(),this._startDate=t)}get endDate(){return this._endDate}set endDate(t){t.isSame(this._endDate)||(this._value.endDate=t.toDate(),this._endDate=t)}set value(t){const n={startDate:(0,h.startOfDay)(t.startDate),endDate:(0,h.endOfDay)(t.endDate)};this._value=n,this._startDate=le()(n.startDate),this._endDate=le()(n.endDate)}get value(){return this._value}onValueChanged(){this.value.endDate=(0,h.endOfDay)(this.value.endDate),this.valueChange.emit(this.value)}static{this.\u0275fac=function(n){return new(n||tt)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:tt,selectors:[["ts-date-range"]],inputs:{startDateRequired:"startDateRequired",endDateRequired:"endDateRequired",maxDate:"maxDate",value:"value"},outputs:{valueChange:"valueChange"},decls:15,vars:14,consts:[["startDatePicker",""],["endDatePicker",""],["floatLabel","never",1,"date-picker"],["matInput","",3,"ngModelChange","dateChange","max","matDatepicker","ngModel","disabled"],["matSuffix","",3,"for"],["svgIcon","start-date","matDatepickerToggleIcon","",1,"date-picker-icon"],["disabled","false"],[1,"period-separator"],["matInput","",3,"ngModelChange","dateChange","min","max","matDatepicker","ngModel","disabled"],["svgIcon","end-date","matDatepickerToggleIcon","",1,"date-picker-icon"]],template:function(n,i){if(n&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-form-field",2)(1,"input",3),e.\u0275\u0275twoWayListener("ngModelChange",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275twoWayBindingSet(i.startDate,r)||(i.startDate=r),e.\u0275\u0275resetView(r)}),e.\u0275\u0275listener("dateChange",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.onValueChanged())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"mat-datepicker-toggle",4),e.\u0275\u0275element(3,"mat-icon",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"mat-datepicker",6,0),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"span",7),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"mat-form-field",2)(10,"input",8),e.\u0275\u0275twoWayListener("ngModelChange",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275twoWayBindingSet(i.endDate,r)||(i.endDate=r),e.\u0275\u0275resetView(r)}),e.\u0275\u0275listener("dateChange",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.onValueChanged())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"mat-datepicker-toggle",4),e.\u0275\u0275element(12,"mat-icon",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(13,"mat-datepicker",6,1),e.\u0275\u0275elementEnd()}if(n&2){const a=e.\u0275\u0275reference(5),s=e.\u0275\u0275reference(14);e.\u0275\u0275advance(),e.\u0275\u0275property("max",i.value.endDate)("matDatepicker",a),e.\u0275\u0275twoWayProperty("ngModel",i.startDate),e.\u0275\u0275property("disabled",i.startDateRequired),e.\u0275\u0275advance(),e.\u0275\u0275property("for",a),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,12,"DateRange.To")),e.\u0275\u0275advance(3),e.\u0275\u0275property("min",i.value.startDate)("max",i.maxDate)("matDatepicker",s),e.\u0275\u0275twoWayProperty("ngModel",i.endDate),e.\u0275\u0275property("disabled",i.endDateRequired),e.\u0275\u0275advance(),e.\u0275\u0275property("for",s)}},dependencies:[m.DefaultValueAccessor,m.NgControlStatus,m.NgModel,_.MatDatepicker,_.MatDatepickerInput,_.MatDatepickerToggle,_.MatDatepickerToggleIcon,M.MatLegacyFormField,M.MatLegacySuffix,C.MatIcon,T.MatLegacyInput,E.TranslatePipe],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   .period-separator[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px;padding-top:5px}[_nghost-%COMP%]   .date-picker-icon[_ngcontent-%COMP%]{width:20px!important;height:20px;padding-bottom:4px}[_nghost-%COMP%]   .date-picker-icon[_ngcontent-%COMP%]     svg{width:20px;height:20px}[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-bottom:-1em}"]})}}const Fi=[[["","header",""]],"*"],Pi=["[header]","*"];function Ri(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"span",8),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(n.title)}}class B{static{this._logoLinkUrl=""}static{this._logoImageUrl=""}get logoLinkUrl(){return B._logoLinkUrl}get logoImageUrl(){return B._logoImageUrl}constructor(t,n){this._environment=t,this._runtimeUrlProvider=n}static setLogoLinkUrl(t){B._logoLinkUrl=t}static setLogoImageUrl(t){B._logoImageUrl=t}buildLogoImageUrl(){return"img/terrasoft.axd?s=nui-binary-syssetting&r=MenuLogoImage&source_hash="+Date.now().toString().slice(0,-5)}initDefaultLogoImageUrl(){B.setLogoImageUrl("assets/app-logo.svg")}ngOnInit(){if(!this.logoLinkUrl){const t=this._runtimeUrlProvider.getUrl();B.setLogoLinkUrl(t)}this.logoImageUrl||B.setLogoImageUrl(c.Location.joinWithSlash(this._environment.workspaceBaseUrl,this.buildLogoImageUrl()))}static{this.\u0275fac=function(n){return new(n||B)(e.\u0275\u0275directiveInject("environment"),e.\u0275\u0275directiveInject(h.RuntimeUrlProvider))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:B,selectors:[["ts-header"]],inputs:{title:"title"},ngContentSelectors:Pi,decls:10,vars:3,consts:[[1,"top-container"],[1,"left-container"],["class","title",4,"ngIf"],[1,"content-wrapper"],[1,"right-container"],[1,"logo-wrapper",3,"href"],["alt","logo image",1,"logo",3,"error","src"],[1,"content-wrapper","bottom-content-wrapper"],[1,"title"]],template:function(n,i){n&1&&(e.\u0275\u0275projectionDef(Fi),e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275template(2,Ri,2,1,"span",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275projection(4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",4)(6,"a",5)(7,"img",6),e.\u0275\u0275listener("error",function(){return i.initDefaultLogoImageUrl()}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(8,"div",7),e.\u0275\u0275projection(9,1),e.\u0275\u0275elementEnd()),n&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.title),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("href",i.logoLinkUrl,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(),e.\u0275\u0275propertyInterpolate("src",i.logoImageUrl,e.\u0275\u0275sanitizeUrl))},dependencies:[c.NgIf],styles:["[_nghost-%COMP%]{display:block;padding:12px 22px 12px 21px}.top-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.top-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;overflow:hidden}.top-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-family:Bpmonline Open Sans Light,serif;font-size:26px;height:26px}.top-container[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;align-items:center}.top-container[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:block}.top-container[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;max-height:28px;max-width:134px}.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row}.content-wrapper[_ngcontent-%COMP%]:not(:empty).top-left-content-wrapper:not(:first-child){padding-left:15px}.content-wrapper[_ngcontent-%COMP%]:not(:empty).bottom-content-wrapper{margin:14px 0 0}"]})}}var jt=u(283),xe;(function(o){o.All="0",o.Section="1",o.Lookup="2"})(xe||(xe={}));class nt{constructor(){this.value=xe.All,this.valueChange=new e.EventEmitter}onValueChanged(t){this.value=t.value,this.valueChange.emit(this.value)}static{this.\u0275fac=function(n){return new(n||nt)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:nt,selectors:[["ts-object-type-filter"]],inputs:{value:"value"},outputs:{valueChange:"valueChange"},decls:22,vars:14,consts:[["typeViewFilter",""],[1,"type-filter"],["disableOptionCentering","true",3,"valueChange","selectionChange","value"],[1,"filter-type-caption"],["value","0",1,"type-mat-option"],[1,"filter-type-icon","filter-type-icon-0"],["value","1",1,"type-mat-option"],[1,"filter-type-icon","filter-type-icon-1"],["value","2",1,"type-mat-option"],[1,"filter-type-icon","filter-type-icon-2"]],template:function(n,i){if(n&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-form-field",1)(1,"mat-select",2,0),e.\u0275\u0275twoWayListener("valueChange",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275twoWayBindingSet(i.value,r)||(i.value=r),e.\u0275\u0275resetView(r)}),e.\u0275\u0275listener("selectionChange",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.onValueChanged(r))}),e.\u0275\u0275elementStart(3,"mat-select-trigger"),e.\u0275\u0275element(4,"span"),e.\u0275\u0275elementStart(5,"span",3),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"mat-option",4),e.\u0275\u0275element(8,"span",5),e.\u0275\u0275elementStart(9,"span"),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"mat-option",6),e.\u0275\u0275element(13,"span",7),e.\u0275\u0275elementStart(14,"span"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"mat-option",8),e.\u0275\u0275element(18,"span",9),e.\u0275\u0275elementStart(19,"span"),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"translate"),e.\u0275\u0275elementEnd()()()()}if(n&2){const a=e.\u0275\u0275reference(2);e.\u0275\u0275advance(),e.\u0275\u0275twoWayProperty("value",i.value),e.\u0275\u0275advance(3),e.\u0275\u0275classMapInterpolate1("filter-type-icon filter-type-icon-",i.value,""),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(a.triggerValue),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,8,"ObjectTypeFilter.AllObjects")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(16,10,"ObjectTypeFilter.Sections")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(21,12,"ObjectTypeFilter.Lookups"))}},dependencies:[jt.MatLegacyOption,M.MatLegacyFormField,K.MatLegacySelect,K.MatLegacySelectTrigger,E.TranslatePipe],styles:["[_nghost-%COMP%]{line-height:16px;padding:4px 10px 0 0;min-width:100px}.filter-type-icon[_ngcontent-%COMP%]{width:16px;height:16px;background-repeat:no-repeat;margin-right:6px;display:inline-block}.filter-type-icon.filter-type-icon-0[_ngcontent-%COMP%]{background-image:url(filter_objects.svg)}.filter-type-icon.filter-type-icon-1[_ngcontent-%COMP%]{background-image:url(filter_sections.svg)}.filter-type-icon.filter-type-icon-2[_ngcontent-%COMP%]{background-image:url(filter_lookups.svg)}"]})}}function zi(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-option",14),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const n=t.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",n.caption," ")}}class it{constructor(t,n){this.entitySchemaService=t,this.data=n,this.isLoading=!1}_prepareEntityColumns(t){if(!t||!t.success){this.isLoading=!1;return}this.entitySchemaColumns=t.entitySchema.columns,this.entitySchemaColumns.sort((n,i)=>n.caption<i.caption?-1:1),this.data&&this.data.excludeFilter&&(this.entitySchemaColumns=this.entitySchemaColumns.filter(this.data.excludeFilter)),this.isLoading=!1}ngOnInit(){!this.data||!this.data.entitySchemaUId||(this.isLoading=!0,this.entitySchemaService.getEntitySchemaByUId(this.data.entitySchemaUId).subscribe(this._prepareEntityColumns.bind(this)))}onFilteredEntitySchemaColumnSelected(t){const n=t.option.value;this.selectedColumn=n}getEntitySchemaColumnCaption(t){return t&&t.caption}search(t){if(!t){this.filteredEntitySchemaColumns=this.entitySchemaColumns;return}t=t.toLowerCase(),this.filteredEntitySchemaColumns=this.entitySchemaColumns.filter(n=>n.caption.toLowerCase().indexOf(t)!==-1)}static{this.\u0275fac=function(n){return new(n||it)(e.\u0275\u0275directiveInject(h.EntitySchemaService),e.\u0275\u0275directiveInject(I.MAT_LEGACY_DIALOG_DATA))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:it,selectors:[["ts-select-entity-schema-column-dialog"]],decls:22,vars:17,consts:[["auto","matAutocomplete"],["mat-dialog-title",""],["mat-icon-button","",1,"close-dialog",3,"mat-dialog-close"],["svgIcon","close",1,"close-button-icon"],["mat-dialog-actions",""],["mat-flat-button","","color","accent",3,"mat-dialog-close","disabled"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-dialog-content",""],["floatLabel","never",1,"entity-schema-column"],["type","text","matInput","",3,"input","focus","placeholder","matAutocomplete"],["matSuffix","",1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],[3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,i){if(n&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",1)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275element(5,"mat-icon",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",4)(7,"button",5),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"button",6),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"div",7)(14,"mat-form-field",8)(15,"input",9),e.\u0275\u0275pipe(16,"translate"),e.\u0275\u0275listener("input",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.search(r.target.value))})("focus",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.search(""))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",10),e.\u0275\u0275element(18,"div",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(19,"mat-autocomplete",12,0),e.\u0275\u0275listener("optionSelected",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.onFilteredEntitySchemaColumnSelected(r))}),e.\u0275\u0275template(21,zi,2,2,"mat-option",13),e.\u0275\u0275elementEnd()()}if(n&2){const a=e.\u0275\u0275reference(20);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,9,"SelectEntitySchemaColumnDialog.Title")),e.\u0275\u0275advance(5),e.\u0275\u0275property("mat-dialog-close",i.selectedColumn)("disabled",!i.selectedColumn),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,11,"SelectEntitySchemaColumnDialog.Select")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(12,13,"SelectEntitySchemaColumnDialog.Cancel")),e.\u0275\u0275advance(4),e.\u0275\u0275property("placeholder",e.\u0275\u0275pipeBind1(16,15,"SelectEntitySchemaColumnDialog.SelectFieldPlaceholder"))("matAutocomplete",a),e.\u0275\u0275advance(4),e.\u0275\u0275property("displayWith",i.getEntitySchemaColumnCaption),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",i.filteredEntitySchemaColumns)}},dependencies:[c.NgForOf,L.MatLegacyAutocomplete,L.MatLegacyAutocompleteTrigger,jt.MatLegacyOption,x.MatLegacyButton,I.MatLegacyDialogClose,I.MatLegacyDialogTitle,I.MatLegacyDialogContent,I.MatLegacyDialogActions,M.MatLegacyFormField,M.MatLegacySuffix,C.MatIcon,T.MatLegacyInput,E.TranslatePipe],styles:["[_nghost-%COMP%]{padding:4px 10px 0;min-width:420px;min-height:136px}[mat-dialog-actions][_ngcontent-%COMP%]{margin-bottom:23px!important}[mat-dialog-content][_ngcontent-%COMP%]   .field-title[_ngcontent-%COMP%]{font-family:Bpmonline Open Sans,serif;color:#444;font-size:14px;line-height:18px;text-align:left}[mat-dialog-content][_ngcontent-%COMP%]   .entity-schema-column[_ngcontent-%COMP%]{width:100%;line-height:19px;font-size:14px}[mat-dialog-content][_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%;line-height:18px!important}"]})}}var hn=u(93277),fn=u(90865),Vt=u(13053);class ce extends b.BaseMaterialInput{set maxValue(t){this._maxValue=t}set selected(t){this._selected=t}get formattedValue(){return this._formattedValue}constructor(t,n,i,a,s,r){super(t,n,i),this._element=a,this._cdRef=s,this._formatUtility=r,this._formattedValue="",this._selected=!1,this._maxValue=99999999999e-2,this._maxLargeValue=999999999999,this.controlType="ts-number-input",this.isLargeNumberEnabled=!1,this.inputBlur=new e.EventEmitter,this.precision=2}_updateFormattedValue(){this._formattedValue=this._formatUtility.formatNumberValue(this.innerValue,new h.NumberFormatConfig({precision:this.precision}))}_exceededMaxValue(t){const n=Math.abs(t),i=n%1;return this.isLargeNumberEnabled&&i===0?n>this._maxLargeValue:n>this._maxValue}ngAfterViewInit(){this._selected&&(this._element.nativeElement.lastElementChild.focus(),this._cdRef.detectChanges())}ngOnInit(){this._updateFormattedValue()}onInputValueChange(){this.callChangeHandler()}onInputFocus(){this.innerValue&&(this._formattedValue=this._formatUtility.formatNumberValue(this.innerValue,new h.NumberFormatConfig({ignoreThousandSeparator:!0,precision:this.precision})))}writeValue(t){this.setInnerValueSilent(t),this._updateFormattedValue(),this.stateChanges.next(),this._cdRef.detectChanges()}onBlur(t){this._updateFormattedValue(),t&&(t.currentTarget.value=this._formattedValue),this.inputBlur.emit()}onInput(t){let n=t.currentTarget.value;if(n===""){this.setInnerValueSilent(0),this._formattedValue="";return}if(n=this._formatUtility.formatStringValue(n),this.precision===0){const a=this._formatUtility.getNumberFormatInfo().decimalSeparator;n=n.replace(new RegExp(`\\${a}$`),"")}t.currentTarget.value=n;let i=this._formatUtility.parseStringToNumber(n,this.precision);n==="-"&&(i=0),(isNaN(i)||this._exceededMaxValue(i))&&(i=this.innerValue,t.currentTarget.value=this._formatUtility.formatNumberValue(i,new h.NumberFormatConfig({ignoreThousandSeparator:!0,precision:this.precision}))),this.setInnerValueSilent(i)}static{this.\u0275fac=function(n){return new(n||ce)(e.\u0275\u0275directiveInject(m.NgControl,10),e.\u0275\u0275directiveInject(fn.AutofillMonitor),e.\u0275\u0275directiveInject(hn.FocusMonitor),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(h.NumberFormatUtility))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:ce,selectors:[["ts-number-input"]],inputs:{isLargeNumberEnabled:"isLargeNumberEnabled",maxValue:"maxValue",selected:"selected",precision:"precision"},outputs:{inputBlur:"inputBlur"},features:[e.\u0275\u0275ProvidersFeature([{provide:M.MatLegacyFormFieldControl,useExisting:ce}]),e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[["input",""],["matInput","","dir","ltr",3,"change","blur","input","focus","value","disabled","required"]],template:function(n,i){if(n&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"input",1,0),e.\u0275\u0275listener("change",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.onInputValueChange())})("blur",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.onBlur(r))})("input",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.onInput(r))})("focus",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.onInputFocus())}),e.\u0275\u0275elementEnd()}n&2&&e.\u0275\u0275property("value",i.formattedValue)("disabled",i.disabled)("required",i.required)},dependencies:[Vt.Dir,T.MatLegacyInput],styles:["input[_ngcontent-%COMP%]{text-align:left;border:0;height:100%;width:100%}input[_ngcontent-%COMP%]:focus{outline-style:none}"],changeDetection:0})}}class be{static{this.\u0275fac=function(n){return new(n||be)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:be})}static{this.\u0275inj=e.\u0275\u0275defineInjector({providers:[h.NumberFormatUtility],imports:[c.CommonModule,m.FormsModule,M.MatLegacyFormFieldModule,T.MatLegacyInputModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(be,{declarations:[ce],imports:[c.CommonModule,m.FormsModule,M.MatLegacyFormFieldModule,T.MatLegacyInputModule],exports:[ce]})})();var de=u(6149),Ui=u(73969);class Pn{constructor(t){this._overlayRef=t,this.afterClosed$=new S.Subject}_close(t){this._overlayRef.dispose(),this.afterClosed$.next(t),this.afterClosed$.complete()}close(t){this._close(t)}}var yn=u(29957);function Bi(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-checkbox",8),e.\u0275\u0275listener("change",function(a){const s=e.\u0275\u0275restoreView(n).$implicit,r=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(r.onColumnSelectedChange(s.name,a))}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(o&2){const n=t.$implicit,i=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("checked",i.isColumnSelected(n.name)),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(i.getColumnCheckboxCaption(n))}}function Hi(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,Bi,2,2,"mat-checkbox",7),e.\u0275\u0275element(2,"mat-divider"),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngForOf",n.columnConfigs)}}function Wi(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-radio-button",9),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const n=t.$implicit;e.\u0275\u0275property("value",n.value),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",n.caption," ")}}const oi=new e.InjectionToken("SEARCH_INPUT_SETTINGS_DATA");class Ft{constructor(t,n,i){this._settingsOverlayRef=t,this._translateService=n,this.searchStrategyOptions=[{value:h.SearchStrategy.StartsWith,caption:this._translateService.instant("SearchInput.Settings.StartsWith")},{value:h.SearchStrategy.Contains,caption:this._translateService.instant("SearchInput.Settings.Contains")},{value:h.SearchStrategy.Equals,caption:this._translateService.instant("SearchInput.Settings.Equals")}];const a=i?.settings||{};this.settings={searchStrategy:a.searchStrategy??h.SearchStrategy.Contains,columns:a.columns?.slice()??[]},this.columnConfigs=i?.columnConfigs??[]}_setColumnSelected(t,n){const i=this.settings.columns;if(n)i.includes(t)||i.push(t);else{const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}close(){this._settingsOverlayRef.close(null)}apply(){this._settingsOverlayRef.close(this.settings)}isColumnSelected(t){return this.settings.columns.includes(t)}onColumnSelectedChange(t,n){this._setColumnSelected(t,n.checked)}getColumnCheckboxCaption(t){const n=t.caption,i=this._translateService.instant("SearchInput.Settings.SearchColumnTemplate");return yn.String.Format(i,n)}static{this.\u0275fac=function(n){return new(n||Ft)(e.\u0275\u0275directiveInject(Pn),e.\u0275\u0275directiveInject(E.TranslateService),e.\u0275\u0275directiveInject(oi))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:Ft,selectors:[["ts-search-input-settings"]],decls:11,vars:9,consts:[[1,"search-input-settings-container"],[4,"ngIf"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"bottom-actions"],["mat-button","",1,"",3,"click"],["mat-flat-button","","color","primary",1,"action-button",3,"click"],[3,"checked","change",4,"ngFor","ngForOf"],[3,"change","checked"],[3,"value"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,Hi,3,1,"div",1),e.\u0275\u0275elementStart(2,"mat-radio-group",2),e.\u0275\u0275twoWayListener("ngModelChange",function(s){return e.\u0275\u0275twoWayBindingSet(i.settings.searchStrategy,s)||(i.settings.searchStrategy=s),s}),e.\u0275\u0275template(3,Wi,2,2,"mat-radio-button",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",4)(5,"button",5),e.\u0275\u0275listener("click",function(){return i.close()}),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"button",6),e.\u0275\u0275listener("click",function(){return i.apply()}),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd()()()),n&2&&(e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",i.columnConfigs.length>0),e.\u0275\u0275advance(),e.\u0275\u0275twoWayProperty("ngModel",i.settings.searchStrategy),e.\u0275\u0275advance(),e.\u0275\u0275property("ngForOf",i.searchStrategyOptions),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,5,"SearchInput.Settings.Cancel")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,7,"SearchInput.Settings.Apply")))},dependencies:[c.NgForOf,c.NgIf,de.MatLegacyRadioGroup,de.MatLegacyRadioButton,m.NgControlStatus,m.NgModel,x.MatLegacyButton,O.MatLegacyCheckbox,P.MatDivider,E.TranslatePipe],styles:[`.search-input-settings-container{background:#fff 0% 0% no-repeat padding-box;box-shadow:0 0 3px #0000001a;border:1px solid #e2e2e2;opacity:1;padding:11px;min-width:220px}.search-input-settings-container mat-checkbox{display:block}.search-input-settings-container mat-checkbox,.search-input-settings-container mat-radio-button{margin-left:4px;margin-right:4px}.search-input-settings-container mat-checkbox:not(:first-child),.search-input-settings-container mat-radio-button:not(:first-child){margin-top:8px}.search-input-settings-container mat-divider{margin:14px 0}.search-input-settings-container .bottom-actions{display:flex;justify-content:flex-end;margin:8px 0 4px}.search-input-settings-container .bottom-actions button:not(:first-child){margin-left:12px}
`],encapsulation:2})}}const Gi={hasBackdrop:!0,backdropClass:"search-settings-backdrop",alignToElementRef:null,data:null};class at{constructor(t,n){this._injector=t,this._overlay=n}_getOverlayConfig(t){const i=this._overlay.position().flexibleConnectedTo(t.alignToElementRef).withPositions([{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetY:6}]);return new pn.OverlayConfig({hasBackdrop:t.hasBackdrop,backdropClass:t.backdropClass,panelClass:t.panelClass,scrollStrategy:this._overlay.scrollStrategies.block(),positionStrategy:i})}_createOverlay(t){const n=this._getOverlayConfig(t);return this._overlay.create(n)}_createInjector(t,n){return e.Injector.create({providers:[{provide:Pn,useValue:n},{provide:oi,useValue:t.data}]})}_attachContainerPortal(t,n,i){const a=this._createInjector(n,i),s=new Ui.ComponentPortal(Ft,null,a);return t.attach(s).instance}openSettingsMenu(t){const n={...Gi,...t},i=this._createOverlay(n),a=new Pn(i),s=this._attachContainerPortal(i,n,a);return i.backdropClick().subscribe(r=>{s.close()}),a.afterClosed$}static{this.\u0275fac=function(n){return new(n||at)(e.\u0275\u0275inject(e.Injector),e.\u0275\u0275inject(pn.Overlay))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:at,factory:at.\u0275fac})}}const Yi=["searchSettingsButton"],Qi=["*"];function Zi(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.openSettingsMenu())}),e.\u0275\u0275element(1,"div",9,0),e.\u0275\u0275elementEnd()}}class ue{set value(t){this._value=t,this._emittedValue=t}get value(){return this._value}constructor(t,n){this._translateService=t,this._searchInputSettingsService=n,this._value="",this._valueChangeDebounceTime=500,this._emitValueChangeWithDebounce=(0,D.debounce)(i=>this._emitValueChange(i),this._valueChangeDebounceTime),this.showSettings=!1,this.settings={searchStrategy:h.SearchStrategy.Contains,columns:[]},this.settingsChange=new e.EventEmitter,this.valueChange=new e.EventEmitter,this.columnConfigs=[]}_emitValueChange(t){this._emittedValue!==t&&(this._emittedValue=t,this.valueChange.emit(t))}_changeSettings(t){t&&!(0,D.isEqual)(t,this.settings)&&(this.settings=t,this.settingsChange.emit(t))}ngOnInit(){this.placeholder||(this.placeholder=this._translateService.instant("SearchInput.Placeholder"))}onValueChanged(t){const n=t.target.value;n!==this._value&&(this._value=n,this._emitValueChangeWithDebounce(n))}onClear(){const t="";this._value=t,this._emitValueChangeWithDebounce.cancel(),this._emitValueChange(t)}openSettingsMenu(){this._searchInputSettingsService.openSettingsMenu({alignToElementRef:this.settingsButton,data:{settings:this.settings,columnConfigs:this.columnConfigs}}).subscribe(t=>this._changeSettings(t))}static{this.\u0275fac=function(n){return new(n||ue)(e.\u0275\u0275directiveInject(E.TranslateService),e.\u0275\u0275directiveInject(at))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:ue,selectors:[["ts-search-input"]],viewQuery:function(n,i){if(n&1&&e.\u0275\u0275viewQuery(Yi,5),n&2){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.settingsButton=a.first)}},inputs:{showSettings:"showSettings",value:"value",placeholder:"placeholder",settings:"settings",columnConfigs:"columnConfigs"},outputs:{settingsChange:"settingsChange",valueChange:"valueChange"},ngContentSelectors:Qi,decls:8,vars:5,consts:[["searchSettingsButton",""],["matPrefix","","svgIcon","search",1,"search-icon"],["floatLabel","never",1,"search-container-form-field"],["matInput","","type","text","spellcheck","false","autocomplete","off",1,"search-input-field",3,"input","placeholder","value"],["matSuffix","","mat-icon-button","","aria-label","Clear",1,"close",3,"click"],["svgIcon","close"],["matSuffix","",1,"search-settings-tools"],["mat-icon-button","","matSuffix","","class","search-settings-button",3,"click",4,"ngIf"],["mat-icon-button","","matSuffix","",1,"search-settings-button",3,"click"],[1,"search-settings-button-icon"]],template:function(n,i){n&1&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275element(0,"mat-icon",1),e.\u0275\u0275elementStart(1,"mat-form-field",2)(2,"input",3),e.\u0275\u0275listener("input",function(s){return i.onValueChanged(s)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",4),e.\u0275\u0275listener("click",function(){return i.onClear()}),e.\u0275\u0275element(4,"mat-icon",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",6),e.\u0275\u0275projection(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,Zi,3,0,"button",7),e.\u0275\u0275elementEnd()),n&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("placeholder",i.placeholder)("value",i.value),e.\u0275\u0275advance(),e.\u0275\u0275styleProp("visibility",i.value?"inherit":"hidden"),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",i.showSettings))},dependencies:[c.NgIf,x.MatLegacyButton,M.MatLegacyFormField,M.MatLegacyPrefix,M.MatLegacySuffix,C.MatIcon,T.MatLegacyInput],styles:[`ts-search-input{display:flex}ts-search-input mat-icon[svgicon=search]{width:16px;height:16px;margin-inline-end:6px!important;padding-top:8px!important}ts-search-input .search-container-form-field .mat-form-field-infix,ts-search-input .search-container-form-field .mat-form-field-suffix{display:flex;gap:4px}ts-search-input mat-form-field{flex-grow:1}ts-search-input mat-form-field .mat-form-field-wrapper{margin-bottom:-1em}ts-search-input mat-form-field .mat-form-field-wrapper button.close,ts-search-input mat-form-field .mat-form-field-wrapper .search-settings-button{height:22px!important;width:22px!important;vertical-align:middle!important}ts-search-input mat-form-field .mat-form-field-wrapper button.close mat-icon{display:block;margin:auto}ts-search-input mat-form-field .mat-form-field-wrapper button.close:focus{border:1px solid #c8c8c8}ts-search-input mat-form-field .mat-form-field-wrapper .search-settings-button .search-settings-button-icon{background:url(settings.svg) no-repeat;width:16px;height:16px;margin:auto;display:block}ts-search-input mat-form-field.mat-focused .mat-form-field-label{opacity:0!important}
`],encapsulation:2})}}class Y{static{this.\u0275fac=function(n){return new(n||Y)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:Y})}static{this.\u0275inj=e.\u0275\u0275defineInjector({providers:[at],imports:[c.CommonModule,de.MatLegacyRadioModule,m.FormsModule,x.MatLegacyButtonModule,O.MatLegacyCheckboxModule,I.MatLegacyDialogModule,P.MatDividerModule,M.MatLegacyFormFieldModule,C.MatIconModule,T.MatLegacyInputModule,E.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Y,{declarations:[ue,Ft],imports:[c.CommonModule,de.MatLegacyRadioModule,m.FormsModule,x.MatLegacyButtonModule,O.MatLegacyCheckboxModule,I.MatLegacyDialogModule,P.MatDividerModule,M.MatLegacyFormFieldModule,C.MatIconModule,T.MatLegacyInputModule,E.TranslateModule],exports:[ue]})})();var Q;(function(o){o[o.Number=0]="Number",o[o.ColumnOperand=1]="ColumnOperand",o[o.Operator=2]="Operator",o[o.Cursor=3]="Cursor",o[o.Function=4]="Function"})(Q||(Q={}));class pe{constructor(){this.formulaClick=new e.EventEmitter}set caption(t){this._caption=t}get caption(){return this._caption||this.value}set index(t){this._index=t}get index(){return this._index}set value(t){this._value=t}get value(){return this._value}static{this.\u0275fac=function(n){return new(n||pe)}}static{this.\u0275dir=e.\u0275\u0275defineDirective({type:pe,inputs:{caption:"caption",index:"index",value:"value"},outputs:{formulaClick:"formulaClick"}})}}class De extends pe{constructor(){super()}validateInput(t){return null}getFormulaItemType(){return Q.Cursor}static{this.\u0275fac=function(n){return new(n||De)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:De,selectors:[["ts-formula-cursor-item"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:1,vars:0,consts:[[1,"formula-cursor"]],template:function(n,i){n&1&&e.\u0275\u0275element(0,"div",0)},styles:[`.formula-cursor,.formula-cursor-hidden{width:2px;height:21px;border-radius:2px;margin-left:-1px;margin-right:-1px;background-color:#84a3e3}.formula-input:focus .formula-cursor,.formula-input:focus .formula-cursor-hidden{animation:1s blink step-end infinite}.formula-cursor-hidden{background-color:transparent}@keyframes blink{0%{background-color:#84a3e3}50%{background-color:transparent}}
`],encapsulation:2})}}class we extends pe{constructor(){super()}getFormulaItemType(){return Q.Function}validateInput(t){return!1}handleItemClick(t){this.formulaClick.emit(t)}static{this.\u0275fac=function(n){return new(n||we)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:we,selectors:[["ts-formula-function-item"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:1,consts:[[1,"formula-function-item",3,"click"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"span",0),e.\u0275\u0275listener("click",function(s){return i.handleItemClick(s)}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),n&2&&(e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(i.caption))},styles:[".formula-function-item[_ngcontent-%COMP%]{padding:0 4px;color:#444;font-size:14px;font-family:Bpmonline Open Sans;font-weight:400}"]})}}class Te extends pe{constructor(){super()}getFormulaItemType(){return Q.Number}validateInput(t){return t.length===1&&t.match("[0-9.,]")!=null}handleItemClick(t){this.formulaClick.emit(t)}static{this.\u0275fac=function(n){return new(n||Te)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:Te,selectors:[["ts-formula-numeric-input-item"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:1,consts:[[1,"formula-number-input-item",3,"click"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"span",0),e.\u0275\u0275listener("click",function(s){return i.handleItemClick(s)}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),n&2&&(e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(i.caption))},styles:[".formula-number-input-item[_ngcontent-%COMP%]{color:#444;font-size:14px;font-family:Bpmonline Open Sans;font-weight:400}"]})}}class me extends pe{constructor(){super()}getFormulaItemType(){return Q.ColumnOperand}validateInput(t){return!1}handleItemClick(t){this.formulaClick.emit(t)}static{this.\u0275fac=function(n){return new(n||me)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:me,selectors:[["ts-formula-operand-item"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["matTooltipPosition","below","matTooltipShowDelay","800",1,"formula-operand-item-wrap",3,"click","matTooltip"],[1,"formula-operand-item"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275listener("click",function(s){return i.handleItemClick(s)}),e.\u0275\u0275elementStart(1,"span",1),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),n&2&&(e.\u0275\u0275property("matTooltip",i.caption),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.caption))},dependencies:[z.MatLegacyTooltip],styles:[`.formula-operand-item-wrap{border-radius:20px;padding:0 16px;border:1px solid #b1b1b1;display:inline-block;margin:-1px 2px 4px}.formula-operand-item-wrap .formula-operand-item{font-size:14px;font-family:Bpmonline Open Sans;font-weight:400;color:#444;text-overflow:ellipsis;overflow:hidden;max-width:160px;white-space:nowrap;display:inline-block;margin-top:2px}.cdk-overlay-container .mat-tooltip{margin-top:4px;padding:10px;font-size:14px;line-height:19px;color:#444;background:#fff;word-break:break-word;box-shadow:#0000004d 0 0 .2em;border-radius:0;border-top:2px solid #22ac14;white-space:pre-line;text-overflow:clip}
`],encapsulation:2})}}class Ee extends pe{constructor(){super(),this._allowedOperatorsList=["+","-","/","*","(",")"]}_createFormulaOperatorFilterRegExp(t){let n="";return t.forEach(i=>n+=i),`[${n}]`}getFormulaItemType(){return Q.Operator}validateInput(t){const n=this._createFormulaOperatorFilterRegExp(this._allowedOperatorsList);return t.match(n)!=null}handleItemClick(t){this.formulaClick.emit(t)}static{this.\u0275fac=function(n){return new(n||Ee)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:Ee,selectors:[["ts-formula-operator-item"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:1,consts:[[1,"formula-operator-item",3,"click"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"span",0),e.\u0275\u0275listener("click",function(s){return i.handleItemClick(s)}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),n&2&&(e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(i.caption))},styles:[".formula-operator-item[_ngcontent-%COMP%]{padding:0 4px;color:#444;font-size:14px;font-family:Bpmonline Open Sans;font-weight:400}"]})}}class Pt{constructor(){this._formulaItems=[me,De,Ee,Te,we]}get FormulaItemInstance(){return this._instances?this._instances:(this._instances=[],this._formulaItems.forEach(t=>{const n=this._createFormulaItem(t);this._instances.push(n)}),this._instances)}_createFormulaItem(t){return new t}getFormulaItemType(t){let n=null;return this.FormulaItemInstance.forEach(i=>{i.validateInput(t)&&(n=i.getFormulaItemType())}),n}createComponent(t,n){const i=this.FormulaItemInstance.find(s=>s.getFormulaItemType()===t);return n.createComponent(i.constructor).instance}static{this.\u0275fac=function(n){return new(n||Pt)}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}}class Ji{constructor(t){Object.assign(this,t)}}class Rn{constructor(t){Object.assign(this,t)}}function $i(o,t){}function Ki(o,t){o&1&&e.\u0275\u0275element(0,"div")}class ot{set formulaData(t){t&&!D.isEqual(t,this._formulaData)&&(this._viewClear(),this._formulaData=t,this._generateComponents(),this.focusFormulaInputOnFormulaDataChange&&setTimeout(()=>{this._focusFormulaInput()},0))}get formulaData(){return this._formulaData}constructor(t){this._formulaItemFactory=t,this._formulaData=[],this.focusFormulaInputOnFormulaDataChange=!1,this.itemsChanged=new e.EventEmitter}_viewClear(){const t=this.container&&this.container.viewContainerRef;t&&t.clear()}_insertFormulaItem(t,n){this.formulaData.splice(t,0,n),this._generateComponents(),this.itemsChanged.emit(this.formulaData)}_removeFormulaItem(t){this.formulaData.splice(t,1),this._generateComponents(),this.itemsChanged.emit(this.formulaData)}_addCursor(t=-1){t=t===-1?this._formulaData.length:t,this._insertFormulaItem(t,new Rn({type:Q.Cursor}))}_removeCursor(){let t=this._getCursorPosition();t===-1&&(t=this._formulaData.length),this._removeFormulaItem(t)}_removeCharBeforeCursor(){const t=this._getCursorPosition()-1;t>=0&&this._removeFormulaItem(t)}_removeCharAfterCursor(){const t=this._getCursorPosition()+1;t<this._formulaData.length&&this._removeFormulaItem(t)}_getCursorPosition(){return this._formulaData.findIndex(t=>t.type===Q.Cursor)}_moveCursorForward(){const t=this._getCursorPosition();t<this._formulaData.length&&this._moveCursorOnPosition(t+1)}_moveCursorBackward(){const t=this._getCursorPosition()-1;t>=0&&this._moveCursorOnPosition(t)}_moveCursorOnPosition(t){t>this._formulaData.length||(this._removeCursor(),this._addCursor(t))}_focusFormulaInput(){this.container&&this.container.viewContainerRef.element.nativeElement.parentElement.focus()}_getPositionOutsideItems(t){let n=0;const i=t.currentTarget.children[0].clientWidth;return t.offsetX>=i&&(n=this._formulaData.length),n}_addCursorIfNotExists(){let t=this._getCursorPosition();t===-1&&(t=this.formulaData.length,this._addCursor(t))}_addItemsFromTemplate(t){let n=this._getCursorPosition();this.formulaData.splice(n,0,...t.items),D.isNumber(t.cursorPosition)&&(n+=t.cursorPosition,this._moveCursorOnPosition(n))}_generateComponents(){this._viewClear(),this._formulaData.forEach((t,n)=>{this._generateComponent(n,t)})}_generateComponent(t,n){t===0&&this._viewClear();const i=this._formulaItemFactory.createComponent(n.type,this.container.viewContainerRef);i.caption=n.caption,i.value=n.value,i.formulaClick.subscribe(a=>{this.handleItemClick(a,t)})}ngOnDestroy(){this._viewClear()}handleClick(t){const n=this._getPositionOutsideItems(t);this._getCursorPosition()===-1?this._addCursor(n):this._moveCursorOnPosition(n),t.stopPropagation()}handleItemClick(t,n){const a=t.currentTarget.getBoundingClientRect(),s=t.clientX,r=a.left+a.width/2,y=this._getCursorPosition();let N=n;s<r?y!==-1&&y<n&&(N-=1):(y===-1||y>n)&&(N+=1),this._moveCursorOnPosition(N),t.stopPropagation()}handleKeyDown(t){const n=t.key;switch(n){case"Backspace":this._removeCharBeforeCursor();break;case"Delete":this._removeCharAfterCursor();break;case"ArrowLeft":this._moveCursorBackward();break;case"ArrowRight":this._moveCursorForward();break;default:const i=this._getCursorPosition(),a=this._formulaItemFactory.getFormulaItemType(n);Object.values(Q).includes(a)&&this._insertFormulaItem(i,new Rn({type:a,caption:n,value:n}))}}addItem(t){this._addCursorIfNotExists(),D.isEmpty(t.template)||D.isEmpty(t.template.items)?this._insertFormulaItem(this._getCursorPosition(),t):this._addItemsFromTemplate(t.template),this._focusFormulaInput()}deletePreviousItem(){this._removeCharBeforeCursor()}static{this.\u0275fac=function(n){return new(n||ot)(e.\u0275\u0275directiveInject(Pt))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:ot,selectors:[["ts-formula-editor"]],viewQuery:function(n,i){if(n&1&&e.\u0275\u0275viewQuery(b.ViewContainerRefDirective,7),n&2){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.container=a.first)}},inputs:{formulaData:"formulaData",focusFormulaInputOnFormulaDataChange:"focusFormulaInputOnFormulaDataChange"},outputs:{itemsChanged:"itemsChanged"},decls:6,vars:1,consts:[["tabindex","0","dir","ltr",1,"formula-input",3,"click","keydown"],[1,"pre-formula-item"],["tsViewContainerRef",""],[4,"ngFor","ngForOf"],[1,"post-formula-item",3,"click"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275listener("click",function(s){return i.handleClick(s)})("keydown",function(s){return i.handleKeyDown(s)}),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275text(2,"="),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,$i,0,0,"ng-template",2)(4,Ki,1,0,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275listener("click",function(s){return i.deletePreviousItem(),s.stopPropagation()}),e.\u0275\u0275elementEnd()()),n&2&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",i.formulaData))},dependencies:[c.NgForOf,b.ViewContainerRefDirective,Vt.Dir],styles:[`.formula-input{-webkit-user-select:none;user-select:none;display:inline-flex;outline:none;flex-wrap:wrap;padding:0 .3em .2em;min-height:30px;border-bottom:1px solid #e7e7e7;width:100%;cursor:text}.pre-formula-item{font-size:14pt;width:20px;line-height:19px}.post-formula-item{margin-left:auto;-webkit-user-select:none;user-select:none;cursor:pointer;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxOCAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTggMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDpub25lO30KCS5zdDF7ZmlsbDojODE5NUIzO30KPC9zdHlsZT4KPGc+Cgk8Zz4KCQk8cmVjdCBjbGFzcz0ic3QwIiB3aWR0aD0iMTgiIGhlaWdodD0iMTYiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xOCwxNUg1LjhMMC40LDhsNS40LTdIMThMMTgsMTV6IE02LjIsMTRIMTdsMC0xMkg2LjJMMS42LDhMNi4yLDE0eiIvPgoJPC9nPgoJPGc+CgkJPHJlY3QgeD0iMTAuNSIgeT0iMy44IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjcwNzEgLTAuNzA3MSAwLjcwNzEgMC43MDcxIC0yLjQzNSAxMC4xMjEzKSIgY2xhc3M9InN0MSIgd2lkdGg9IjEiIGhlaWdodD0iOC41Ii8+Cgk8L2c+Cgk8Zz4KCQk8cmVjdCB4PSI2LjgiIHk9IjcuNSIgdHJhbnNmb3JtPSJtYXRyaXgoMC43MDcxIC0wLjcwNzEgMC43MDcxIDAuNzA3MSAtMi40MzUgMTAuMTIxMykiIGNsYXNzPSJzdDEiIHdpZHRoPSI4LjUiIGhlaWdodD0iMSIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=);width:18px;height:16px;margin-top:4px;margin-bottom:auto}
`],encapsulation:2})}}const tr=[me,De,Ee,Te,we];class Rt{static{this.\u0275fac=function(n){return new(n||Rt)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:Rt})}static{this.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.CommonModule,b.ViewContainerRefModule,z.MatLegacyTooltipModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Rt,{declarations:[me,De,Ee,Te,we,ot],imports:[c.CommonModule,b.ViewContainerRefModule,z.MatLegacyTooltipModule],exports:[me,De,Ee,Te,we,ot]})})();class Ne extends k.BaseTableCellComponent{constructor(){super(...arguments),this.getRegisteredEvents=()=>[{name:"click"}]}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(Ne)))(i||Ne)}})()}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:Ne,selectors:[["ts-delete-button-table-cell"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:3,consts:[["mat-icon-button","",1,"trash-icon",3,"click","title"],["svgIcon","trash"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"button",0),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275listener("click",function(){return i.fireEvent("click")}),e.\u0275\u0275element(2,"mat-icon",1),e.\u0275\u0275elementEnd()),n&2&&e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(1,1,"DeleteButtonTableCell.Tooltip"))},dependencies:[x.MatLegacyButton,C.MatIcon,E.TranslatePipe],encapsulation:2})}}const qi=["tableWrapper"],Xi=["tableNgContainer"];function ea(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",16)(1,"span",17),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span",18),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,2,"MultiselectDialog.Selected")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",n.selectedValues.length,"")}}function ta(o,t){o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),o&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"MultiselectDialog.Blankslate")))}function na(o,t){o&1&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2&&(e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"MultiselectDialog.BlankslateWithFilters")))}function ia(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",19),e.\u0275\u0275template(1,ta,4,3,"ng-container",20)(2,na,3,3,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!i.searchKey)("ngIfElse",n)}}class st{get searchKey(){return this.searchKeyValue}set searchKey(t){this.searchKeyValue=t,this.tableDataSource.filter=t&&t.trim().toLowerCase()}constructor(t,n,i){this._dialogData=t,this._scrollToBottomObserverFactory=n,this._dialogRef=i,this.searchColumns=[],this.tableData=[],this.searchKeyValue="",this.title="",this.selectedValues=[],this.tableDataSource=new gn}renderTableComponent(t){var n=this;return(0,re.A)(function*(){yield u.e(3908).then(u.t.bind(u,83908,23)).then(i=>{const a=i.TableComponent;n.table=t.createComponent(a).instance,n.table.selectMode=n.selectMode,n.table.dataSchema=n.dataSchema,n.table.dataSource=n.tableDataSource,n.table.sortColumn=n.sortColumn,n.table.sortDirection=n.sortDirection,n.table.showSelectAllButton=n.showSelectAllButton,n.table.headerSticky=!0,n.table.selected=n.selectedValues,n.table.selectedChange.subscribe(s=>n.selectedValues=s),n.table.rowDoubleClick.subscribe(s=>n.closeWithSelection(s))})})()}initDataSource(){this.tableDataSource.data=this.tableData,this.tableDataSource.filterPredicate=(0,h.createSearchLowerCasePredicate)(this.searchColumns)}loadNextData(){this.tableDataSource.loadNext()}ngOnInit(){var t=this;return(0,re.A)(function*(){!t._dialogData||!t._dialogData.data||(t.tableData=t._dialogData.data,t.dataSchema=t._dialogData.dataSchema,t.sortDirection=t._dialogData.sortDirection||"asc",t.sortColumn=t._dialogData.sortColumn,t.title=t._dialogData.title||t.title,t.selectMode=t._dialogData.selectMode||"multi",t.showSelectAllButton=t._dialogData.showSelectAllButton!==void 0?t._dialogData.showSelectAllButton:!0,t.searchColumns=t._dialogData.searchColumns||[],t.initDataSource(),yield t.renderTableComponent(t.tableNgContainer))})()}ngAfterViewInit(){const t=this.tableWrapper.nativeElement;t&&(this.scrollTableToBottomObserver=this._scrollToBottomObserverFactory.createObserver(t,this.loadNextData.bind(this)))}isEmpty(){return this.table?this.table.isEmpty():!0}closeWithSelection(t){this.selectMode==="single"&&this._dialogRef.close([t])}static{this.\u0275fac=function(n){return new(n||st)(e.\u0275\u0275directiveInject(I.MAT_LEGACY_DIALOG_DATA),e.\u0275\u0275directiveInject(h.ScrollToBottomObserverFactory),e.\u0275\u0275directiveInject(I.MatLegacyDialogRef))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:st,selectors:[["ts-multiselect-dialog"]],viewQuery:function(n,i){if(n&1&&(e.\u0275\u0275viewQuery(qi,7),e.\u0275\u0275viewQuery(Xi,7,e.ViewContainerRef)),n&2){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.tableWrapper=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.tableNgContainer=a.first)}},decls:22,vars:14,consts:[["tableWrapper",""],["tableNgContainer",""],["blankslateWithFilters",""],["mat-dialog-title",""],[1,"title"],["mat-icon-button","",1,"close-dialog",3,"mat-dialog-close"],["svgIcon","close",1,"close-button-icon"],[1,"multiselect-dialog-top-panel"],[1,"dialog-filters"],[3,"valueChange","value"],["class","select-counter-container",4,"ngIf"],["mat-dialog-content",""],["class","multiselect-dialog-blank-slate",4,"ngIf"],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-flat-button","","color","primary",3,"mat-dialog-close","disabled"],[1,"select-counter-container"],[1,"counter-label"],[1,"counter-value"],[1,"multiselect-dialog-blank-slate"],[4,"ngIf","ngIfElse"]],template:function(n,i){if(n&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",3)(1,"span",4),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",5),e.\u0275\u0275element(5,"mat-icon",6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",7)(7,"div",8)(8,"ts-search-input",9),e.\u0275\u0275twoWayListener("valueChange",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275twoWayBindingSet(i.searchKey,r)||(i.searchKey=r),e.\u0275\u0275resetView(r)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(9,ea,6,4,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",11,0),e.\u0275\u0275elementContainer(12,null,1),e.\u0275\u0275template(14,ia,4,2,"div",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",13)(16,"button",14),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"button",15),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"translate"),e.\u0275\u0275elementEnd()()}n&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,8,i.title||"MultiselectDialog.Select")),e.\u0275\u0275advance(6),e.\u0275\u0275twoWayProperty("value",i.searchKey),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",i.selectMode==="multi"),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",i.isEmpty()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(18,10,"MultiselectDialog.Cancel")),e.\u0275\u0275advance(2),e.\u0275\u0275property("mat-dialog-close",i.selectedValues)("disabled",i.selectedValues.length==0),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(21,12,"MultiselectDialog.Select")))},dependencies:[c.NgIf,x.MatLegacyButton,I.MatLegacyDialogClose,I.MatLegacyDialogTitle,I.MatLegacyDialogContent,I.MatLegacyDialogActions,C.MatIcon,ue,E.TranslatePipe],styles:["[_nghost-%COMP%]{padding:4px 10px;width:834px;max-width:100%;min-width:420px;box-sizing:border-box}[mat-dialog-title][_ngcontent-%COMP%]{display:flex}[mat-dialog-title][_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:calc(100% - 20px);display:inline-block;overflow:hidden;text-overflow:ellipsis}.multiselect-dialog-top-panel[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;font-size:14px;font-family:Bpmonline Open Sans,serif;line-height:19px;margin-top:20px;margin-bottom:5px}.multiselect-dialog-top-panel[_ngcontent-%COMP%]   .dialog-filters[_ngcontent-%COMP%]{flex-grow:1}.multiselect-dialog-top-panel[_ngcontent-%COMP%]   .dialog-filters[_ngcontent-%COMP%]   ts-search-input[_ngcontent-%COMP%]{width:max(40%,300px)}.multiselect-dialog-top-panel[_ngcontent-%COMP%]   .select-counter-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.multiselect-dialog-top-panel[_ngcontent-%COMP%]   .select-counter-container[_ngcontent-%COMP%]   .counter-label[_ngcontent-%COMP%]{font-size:13px;color:#757575}.multiselect-dialog-top-panel[_ngcontent-%COMP%]   .select-counter-container[_ngcontent-%COMP%]   .counter-value[_ngcontent-%COMP%]{padding-left:3px;font-size:14px;color:#444}[mat-dialog-content][_ngcontent-%COMP%]{overflow:auto!important;max-height:55vh!important;min-height:267px;height:862px}[mat-dialog-content][_ngcontent-%COMP%]   .multiselect-dialog-blank-slate[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:14px;color:#999;text-align:center}[mat-dialog-actions][_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}"]})}}class X{constructor(t,n){this.el=t,this.render=n}set dataItemMarker(t){this.render.setAttribute(this.el.nativeElement,"data-item-marker",t)}static{this.\u0275fac=function(n){return new(n||X)(e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.Renderer2))}}static{this.\u0275dir=e.\u0275\u0275defineDirective({type:X,selectors:[["","tsDataItemMarker",""]],inputs:{dataItemMarker:[e.\u0275\u0275InputFlags.None,"tsDataItemMarker","dataItemMarker"]}})}}class ee{static{this.\u0275fac=function(n){return new(n||ee)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:ee})}static{this.\u0275inj=e.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(ee,{declarations:[X],exports:[X]})})();var aa=u(89422);class si{}class oa{}class ri extends si{constructor(t){super(),Object.assign(this,t)}}var _n=u(63721);class rt extends h.RootInjectorGuard{constructor(t){super(),this.httpClient=t,this._serviceEndpoint="/ServiceModel/CultureService.svc/"}getAllCultures(){if(!this._allCultures$){const t=this._serviceEndpoint+"GetAllCultures";this._allCultures$=this.httpClient.post(t,{}).pipe((0,p.map)(n=>n.cultures),(0,p.shareReplay)({bufferSize:1,refCount:!1}))}return this._allCultures$}static{this.\u0275fac=function(n){return new(n||rt)(e.\u0275\u0275inject(_n.HttpClient))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:rt,factory:rt.\u0275fac,providedIn:"root"})}}function sa(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",11)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.dialogData.description," ")}}function ra(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"mat-form-field",12)(2,"mat-label",13),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"textarea",14),e.\u0275\u0275twoWayListener("ngModelChange",function(a){const s=e.\u0275\u0275restoreView(n).$implicit;return e.\u0275\u0275twoWayBindingSet(s.value,a)||(s.value=a),e.\u0275\u0275resetView(a)}),e.\u0275\u0275text(5,"				"),e.\u0275\u0275elementEnd()()()}if(o&2){const n=t.$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275attribute("data-item-marker",n.name),e.\u0275\u0275advance(),e.\u0275\u0275classProp("hideNonActiveItem",i.isHidden(n)),e.\u0275\u0275advance(),e.\u0275\u0275property("tsDataItemMarker",n.name+"_label")("lang",n.name),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(n.title),e.\u0275\u0275advance(),e.\u0275\u0275property("disabled",i.dialogData.isDisabled)("rows",1),e.\u0275\u0275twoWayProperty("ngModel",n.value),e.\u0275\u0275property("tsDataItemMarker",i.dataQaAttribute(n.name))("lang",n.name)("maxlength",i.dialogData.maxInputLength)}}function la(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",15)(1,"button",16),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.showAll=!a.showAll)}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275element(4,"mat-icon",17),e.\u0275\u0275elementEnd()()}if(o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("tsDataItemMarker","show_hide_languages_button"),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,3,n.getIsActiveButtonTitle)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("svgIcon",n.getIsActiveButtonImage)}}class lt{constructor(t,n,i){this.dialogData=t,this._dialogRef=i,this._destroyed=new S.ReplaySubject,this._maskService=new l.MaskService,this.culturesData=[];const a=n.get(C.MatIconRegistry),s=n.get(q.DomSanitizer);this._cultureApiService=n.get(rt),a.addSvgIconLiteral("up-arrows-icon",s.bypassSecurityTrustHtml(u(38192))),a.addSvgIconLiteral("close",s.bypassSecurityTrustHtml(u(54762))),a.addSvgIconLiteral("down-arrows-icon",s.bypassSecurityTrustHtml(u(71235)))}get getIsActiveButtonTitle(){return this.showAll?"LocalizableStringsDialog.HideInactiveLanguages":"LocalizableStringsDialog.ShowAllLanguages"}get getIsActiveButtonImage(){return this.showAll?"up-arrows-icon":"down-arrows-icon"}_getCultureValue(t){return this.dialogData.localizableStrings.getValue(t)}_getCultureLanguageModel(t){const n=new ri(t);return n.value=this._getCultureValue(t.name),n}_setNeedShowAllLanguagesButton(t){if(this.dialogData.hideShowAllLanguages){this.needShowAllLanguagesButton=!1;return}this.needShowAllLanguagesButton=t.some(n=>!n.isActive)}ngOnInit(){this._maskService.showBodyMask(),this._cultureApiService.getAllCultures().pipe((0,p.takeUntil)(this._destroyed),(0,p.catchError)(t=>(console.error(t),this._maskService.hideBodyMask(),(0,S.of)(null)))).subscribe(t=>{this._maskService.hideBodyMask(),this.culturesData=t.map(n=>this._getCultureLanguageModel(n)),this._setNeedShowAllLanguagesButton(t)}),this._dialogRef.keydownEvents().pipe((0,p.filter)(t=>t?.key===aa.Key.Escape)).subscribe(()=>this._maskService.hideBodyMask())}dataQaAttribute(t){return t+"_input"}isHidden(t){return this.showAll?!1:this.dialogData.alwaysVisibleCultures?.length?!this.dialogData.alwaysVisibleCultures.includes(t.name):!t.isActive}ngOnDestroy(){this._destroyed.next(!0),this._destroyed.complete()}static{this.\u0275fac=function(n){return new(n||lt)(e.\u0275\u0275directiveInject(I.MAT_LEGACY_DIALOG_DATA),e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(I.MatLegacyDialogRef))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:lt,selectors:[["ts-localizable-dialog"]],decls:18,vars:17,consts:[[1,"ts-localizable-dialog"],["mat-dialog-title",""],["mat-icon-button","",1,"close-dialog",3,"aria-label","mat-dialog-close"],["svgIcon","close",1,"close-button-icon"],["mat-dialog-content","",1,"dialog-content-wrapper"],["class","description",4,"ngIf"],[4,"ngFor","ngForOf"],["class","collapse-expand-language",4,"ngIf"],["mat-dialog-actions","",1,"dialog-action-buttons"],["mat-button","","data-item-marker","localizable-dialog-cancel-button",1,"cancelBtn",3,"mat-dialog-close"],["mat-flat-button","","color","primary","data-item-marker","localizable-dialog-apply-button",1,"applyBtn",3,"disabled","mat-dialog-close"],[1,"description"],["floatLabel","always",1,"example-full-width"],[3,"tsDataItemMarker","lang"],["matInput","",3,"ngModelChange","disabled","rows","ngModel","tsDataItemMarker","lang","maxlength"],[1,"collapse-expand-language"],["mat-button","",3,"click","tsDataItemMarker"],[1,"expandCollapsImg",3,"svgIcon"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275element(6,"mat-icon",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",4),e.\u0275\u0275template(8,sa,3,1,"div",5)(9,ra,6,12,"div",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,la,5,5,"div",7),e.\u0275\u0275elementStart(11,"div",8)(12,"button",9),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",10),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"translate"),e.\u0275\u0275elementEnd()()()),n&2&&(e.\u0275\u0275classMap(i.dialogData.customClass),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",i.dialogData.title," "),e.\u0275\u0275advance(),e.\u0275\u0275propertyInterpolate("aria-label",e.\u0275\u0275pipeBind1(5,11,"DialogComponent.CloseButtonDialog")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",i.dialogData.description),e.\u0275\u0275advance(),e.\u0275\u0275property("ngForOf",i.culturesData),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",i.needShowAllLanguagesButton),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(14,13,i.dialogData.cancelBtnTitle)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",i.dialogData.isDisabled)("mat-dialog-close",i.culturesData),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,15,i.dialogData.okBtnTitle)," "))},dependencies:[c.NgForOf,c.NgIf,m.DefaultValueAccessor,m.NgControlStatus,m.MaxLengthValidator,m.NgModel,M.MatLegacyFormField,M.MatLegacyLabel,T.MatLegacyInput,x.MatLegacyButton,C.MatIcon,I.MatLegacyDialogClose,I.MatLegacyDialogTitle,I.MatLegacyDialogContent,I.MatLegacyDialogActions,X,E.TranslatePipe],styles:[".dialog-content-wrapper[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:17px;display:flex;flex-direction:column;justify-content:space-between;width:476px;height:100%;overflow:auto!important}.dialog-content-wrapper[_ngcontent-%COMP%]   .example-full-width[_ngcontent-%COMP%]{width:100%}.dialog-content-wrapper[_ngcontent-%COMP%]   .example-full-width[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:18px}.dialog-content-wrapper[_ngcontent-%COMP%]   .example-full-width[_ngcontent-%COMP%]   textarea[disabled][_ngcontent-%COMP%]{color:#000}.dialog-content-wrapper[_ngcontent-%COMP%]   .hideNonActiveItem[_ngcontent-%COMP%]{display:none}.dialog-content-wrapper[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:14px}.ts-localizable-dialog.multilang-style[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]{margin-bottom:16px;width:480px}.ts-localizable-dialog.multilang-style[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{width:540px}.ts-localizable-dialog.multilang-style[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{padding-bottom:1.5em}[mat-dialog-actions][_ngcontent-%COMP%]{margin:9px 0!important;display:flex;flex-direction:row;justify-content:flex-end}.collapse-expand-language[_ngcontent-%COMP%]{text-align:center}.collapse-expand-language[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{text-transform:none}.collapse-expand-language[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]:focus{background-color:transparent!important}.collapse-expand-language[_ngcontent-%COMP%]   .expandCollapsImg[_ngcontent-%COMP%]{padding-left:5px;display:flex;box-sizing:content-box;width:16px;height:16px}"]})}}const ca=["input"],da=["button"];function ua(o,t){o&1&&(e.\u0275\u0275elementStart(0,"div",7),e.\u0275\u0275element(1,"mat-icon",8),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2&&(e.\u0275\u0275advance(),e.\u0275\u0275property("crtTooltip",e.\u0275\u0275pipeBind1(2,1,"Input.Readonly")))}function pa(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",7),e.\u0275\u0275element(1,"mat-icon",9),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("crtTooltip",n.tooltip)}}class ke extends b.BaseMaterialInput{get localizableStringsIcon(){return this.iconLineType==="bold"?"localizable-strings-bold":"localizable-strings"}set autofocus(t){if(t){const n=this.input.nativeElement;n.focus(),n.select()}}set stringValue(t){this.innerValue.setValueLocalizableString(this.translateService.currentLang,t),this.onChange(this.innerValue)}get stringValue(){return this.innerValue instanceof h.LocalizableStringArray?this.innerValue.getValue(this.translateService.currentLang):this.innerValue}constructor(t,n,i,a,s,r,y,N){super(t,n,i),this.translateService=a,this.dialogService=s,this._maskService=N,this.controlType="ts-localizable-string",this.iconLineType="default",this.showLockIcon=!1;const A=u(27809),Je=u(47943);r.addSvgIconLiteral("localizable-strings",y.bypassSecurityTrustHtml(A)),r.addSvgIconLiteral("localizable-strings-bold",y.bypassSecurityTrustHtml(Je))}dataQaAttribute(){return this.label.toLowerCase()+"_input"}showLanguageMiniCard(t){t.preventDefault();const n=!!this.beforeOpen;n&&this._maskService.showBodyMask({delay:0}),(n?this.beforeOpen():(0,S.of)(null)).pipe((0,S.take)(1),(0,S.tap)(()=>this._maskService.hideBodyMask()),(0,S.switchMap)(()=>this.dialogService.open(lt,{data:{title:this.label,cancelBtnTitle:"LocalizableStringsDialog.Cancel",okBtnTitle:"LocalizableStringsDialog.Apply",localizableStrings:this.innerValue,isDisabled:this.disabled},scrollStrategy:new pn.NoopScrollStrategy,panelClass:["dialog-top-border"]}))).subscribe(a=>{a&&(a.forEach(s=>{this.innerValue.setValueLocalizableString(s.name,s.value)}),this.onChange(this.innerValue))})}writeValue(t){t||(t=new h.LocalizableStringArray),super.writeValue(t)}static{this.\u0275fac=function(n){return new(n||ke)(e.\u0275\u0275directiveInject(m.NgControl,10),e.\u0275\u0275directiveInject(fn.AutofillMonitor),e.\u0275\u0275directiveInject(hn.FocusMonitor),e.\u0275\u0275directiveInject(E.TranslateService),e.\u0275\u0275directiveInject(b.DialogService),e.\u0275\u0275directiveInject(C.MatIconRegistry),e.\u0275\u0275directiveInject(q.DomSanitizer),e.\u0275\u0275directiveInject(b.MaskService))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:ke,selectors:[["ts-localizable-text-input"]],viewQuery:function(n,i){if(n&1&&(e.\u0275\u0275viewQuery(ca,5),e.\u0275\u0275viewQuery(da,5,e.ElementRef)),n&2){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.input=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.button=a.first)}},inputs:{tooltip:"tooltip",iconLineType:"iconLineType",showLockIcon:"showLockIcon",label:"label",autofocus:"autofocus",stringValue:"stringValue",beforeOpen:"beforeOpen"},features:[e.\u0275\u0275ProvidersFeature([{provide:M.MatLegacyFormFieldControl,useExisting:ke}]),e.\u0275\u0275InheritDefinitionFeature],decls:10,vars:16,consts:[["input",""],["button",""],[1,"localizable-text-input-container"],["matInput","","autocomplete","off",1,"localizable-text-input-container-control",3,"ngModelChange","ngModel","disabled","tsDataItemMarker","required","placeholder"],["class","icon-container",4,"ngIf"],["mat-icon-button","","type","button",1,"localizable-icon",3,"click","tsDataItemMarker"],[1,"localizable-strings-icon",3,"svgIcon"],[1,"icon-container"],["matIconSuffix","","svgIcon","lock",1,"readonly-icon",3,"crtTooltip"],["tabindex","0","matSuffix","","svgIcon","info-icon",1,"tooltip-icon",3,"crtTooltip"]],template:function(n,i){if(n&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",2)(1,"input",3,0),e.\u0275\u0275twoWayListener("ngModelChange",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275twoWayBindingSet(i.stringValue,r)||(i.stringValue=r),e.\u0275\u0275resetView(r)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,ua,3,3,"div",4),e.\u0275\u0275elementStart(4,"button",5,1),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275listener("click",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.showLanguageMiniCard(r))}),e.\u0275\u0275element(8,"mat-icon",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,pa,2,1,"div",4),e.\u0275\u0275elementEnd()}n&2&&(e.\u0275\u0275advance(),e.\u0275\u0275twoWayProperty("ngModel",i.stringValue),e.\u0275\u0275property("disabled",i.disabled)("tsDataItemMarker",i.dataQaAttribute())("required",i.required)("placeholder",i.placeholder),e.\u0275\u0275attribute("aria-label",i.label),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.showLockIcon&&i.disabled),e.\u0275\u0275advance(),e.\u0275\u0275property("tsDataItemMarker","localizable_button_"+i.label),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(6,12,"LocalizableTextInput.ButtonTitle"))("title",e.\u0275\u0275pipeBind1(7,14,"LocalizableTextInput.ButtonTitle")),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("svgIcon",i.localizableStringsIcon),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",i.tooltip))},dependencies:[c.NgIf,m.DefaultValueAccessor,m.NgControlStatus,m.RequiredValidator,m.NgModel,M.MatLegacySuffix,T.MatLegacyInput,x.MatLegacyButton,C.MatIcon,X,b.TooltipDirective,E.TranslatePipe],styles:[`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}.localizable-text-input-container{display:flex;flex-direction:row;align-items:center}.localizable-text-input-container .mat-input-element{padding-right:21px}.localizable-text-input-container .mat-icon-button.localizable-icon{height:auto;width:1.5em}.localizable-text-input-container .mat-icon.localizable-strings-icon{width:16px;height:16px;line-height:16px}.localizable-text-input-container .mat-button-wrapper{display:flex;justify-content:center}.localizable-text-input-container .mat-button-focus-overlay,.localizable-text-input-container .mat-button-ripple-round{height:21px}.localizable-text-input-container .mat-icon-button:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}.localizable-text-input-container .readonly-icon,.localizable-text-input-container .tooltip-icon{width:16px;height:16px;display:flex;justify-content:center}.localizable-text-input-container .tooltip-icon{color:#0d2e4e;margin-right:6px;margin-left:4px}.localizable-text-input-container:not(:hover) .readonly-icon{display:none}
`],encapsulation:2})}}class zt{static{this.\u0275fac=function(n){return new(n||zt)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:zt})}static{this.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.CommonModule,m.FormsModule,E.TranslateModule,T.MatLegacyInputModule,x.MatLegacyButtonModule,C.MatIconModule,I.MatLegacyDialogModule,ee,b.DialogModule,b.TooltipModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(zt,{declarations:[lt,ke],imports:[c.CommonModule,m.FormsModule,E.TranslateModule,T.MatLegacyInputModule,x.MatLegacyButtonModule,C.MatIconModule,I.MatLegacyDialogModule,ee,b.DialogModule,b.TooltipModule],exports:[ke]})})();class ma{static required(t){return n=>n.value?.getValue(t)?null:{required:!0}}static maxLength(t,n){return i=>i.value?.getValue(t).length>n?{maxlength:!0}:null}}function zn(o,t,n){const a=o.value?.getValue(t.currentLang);return n({value:a},t)}class ga extends Se.RequiredValidator{validate(t,n){return zn(t,n,i=>super.validate(i,n))}}class ha extends Se.MaxLengthValidator{validate(t,n){return zn(t,n,i=>super.validate(i,n))}}class fa extends Se.MinLengthValidator{validate(t,n){return zn(t,n,i=>super.validate(i,n))}}const ya=["*"],_a=o=>({"actions-menu-button-with-icon":o});function Ca(o,t){if(o&1&&e.\u0275\u0275element(0,"mat-icon",11),o&2){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("svgIcon",n.config.trigger.svgIconName)}}function Ma(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"span",12),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(n.config.trigger.caption)}}function Sa(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",6),e.\u0275\u0275listener("menuOpened",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onMenuOpened())}),e.\u0275\u0275template(1,Ca,1,1,"mat-icon",7)(2,Ma,2,1,"span",8),e.\u0275\u0275elementStart(3,"div",9),e.\u0275\u0275element(4,"div",10),e.\u0275\u0275elementEnd()()}if(o&2){const n=e.\u0275\u0275nextContext(),i=e.\u0275\u0275reference(4);e.\u0275\u0275property("matMenuTriggerFor",i)("disabled",n.config.trigger.disabled),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.config.trigger.svgIconName),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.config.trigger.caption)}}function Ia(o,t){if(o&1&&e.\u0275\u0275element(0,"mat-divider"),o&2){const n=e.\u0275\u0275nextContext().index;e.\u0275\u0275styleProp("visibility",n===0?"hidden":"visible")}}function va(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",15),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(n.caption)}}function xa(o,t){if(o&1&&e.\u0275\u0275element(0,"mat-icon",23),o&2){const n=e.\u0275\u0275nextContext(3).$implicit;e.\u0275\u0275property("svgIcon",n.svgIconName)}}function ba(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"span",21),e.\u0275\u0275template(1,xa,1,1,"mat-icon",22),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.svgIconName)}}function Da(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",16),e.\u0275\u0275listener("click",function(a){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext().$implicit,r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.onMenuItemContainerClick(a,s))}),e.\u0275\u0275elementStart(1,"button",17),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext().$implicit,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onMenuItemClick(a))}),e.\u0275\u0275elementStart(2,"div",18),e.\u0275\u0275template(3,ba,2,1,"span",19),e.\u0275\u0275elementStart(4,"span",20),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()()()}if(o&2){const n=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("disabled",i.isMenuItemDisabled(n))("ngClass",e.\u0275\u0275pureFunction1(4,_a,i.hasIcons())),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.hasIcons()),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.caption)}}function wa(o,t){if(o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Ia,1,2,"mat-divider",13)(2,va,2,1,"div",14)(3,Da,6,6,"ng-template",null,1,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),o&2){const n=t.$implicit,i=e.\u0275\u0275reference(4),a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.code===a.dividerItemCode)("ngIfElse",i),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.code===a.dividerItemCode&&n.caption)}}const Un={code:"__divider",caption:null};Object.freeze(Un);class ct{constructor(){this.menuItemClick=new e.EventEmitter}static{this.\u0275fac=function(n){return new(n||ct)}}static{this.\u0275dir=e.\u0275\u0275defineDirective({type:ct,outputs:{menuItemClick:"menuItemClick"}})}}class ge extends ct{constructor(){super(...arguments),this.dividerItemCode=Un.code}isMenuItemDisabled(t){return t.disabled===!0}onMenuItemClick(t){t.handler&&t.handler(),this.menuItemClick.emit(t.code)}onMenuItemContainerClick(t,n){this.isMenuItemDisabled(n)&&t.stopPropagation()}hasIcons(){return this.config?.menuItems?.some(t=>t.svgIconName)}trackByCode(t,n){return n.code}onMenuOpened(){this.visibleMenuItems=this.config?.menuItems?.filter(t=>!t.hidden)??[]}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(ge)))(i||ge)}})()}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:ge,selectors:[["ts-actions-menu"]],inputs:{config:"config"},features:[e.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:ya,decls:6,vars:7,consts:[["menu","matMenu"],["menuItem",""],[1,"actions-menu-trigger-wrapper",3,"menuOpened","matMenuTriggerFor"],["mat-button","","class","actions-menu-trigger default",3,"matMenuTriggerFor","disabled","menuOpened",4,"ngIf"],[1,"actions-menu-panel",3,"overlapTrigger"],[4,"ngFor","ngForOf","ngForTrackBy"],["mat-button","",1,"actions-menu-trigger","default",3,"menuOpened","matMenuTriggerFor","disabled"],["class","actions-menu-trigger-icon",3,"svgIcon",4,"ngIf"],["class","actions-menu-trigger-caption",4,"ngIf"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],[1,"actions-menu-trigger-icon",3,"svgIcon"],[1,"actions-menu-trigger-caption"],[3,"visibility",4,"ngIf","ngIfElse"],["class","menu-divider-caption",4,"ngIf"],[1,"menu-divider-caption"],[3,"click"],["mat-menu-item","",3,"click","disabled","ngClass"],[1,"actions-menu-item-button-content"],["class","actions-menu-item-icon-wrapper",4,"ngIf"],[1,"actions-menu-item-text"],[1,"actions-menu-item-icon-wrapper"],[3,"svgIcon",4,"ngIf"],[3,"svgIcon"]],template:function(n,i){if(n&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"div",2),e.\u0275\u0275listener("menuOpened",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.onMenuOpened())}),e.\u0275\u0275projection(1),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,Sa,5,4,"button",3),e.\u0275\u0275elementStart(3,"mat-menu",4,0),e.\u0275\u0275template(5,wa,5,3,"ng-container",5),e.\u0275\u0275elementEnd()}if(n&2){const a=e.\u0275\u0275reference(4);e.\u0275\u0275property("matMenuTriggerFor",a),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.config==null?null:i.config.trigger),e.\u0275\u0275advance(),e.\u0275\u0275classMap(i.config==null?null:i.config.cssClasses),e.\u0275\u0275property("overlapTrigger",i.config==null?null:i.config.overlapTrigger),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",i.visibleMenuItems)("ngForTrackBy",i.trackByCode)}},dependencies:[c.NgClass,c.NgForOf,c.NgIf,x.MatLegacyButton,P.MatDivider,C.MatIcon,Ce.MatLegacyMenu,Ce.MatLegacyMenuItem,Ce.MatLegacyMenuTrigger],styles:[`ts-actions-menu .actions-menu-trigger-wrapper{display:flex;align-items:center}.mat-menu-content .menu-divider-caption{padding:0 16px;text-transform:uppercase;font-size:14px;color:#4b7fc7;height:33px;line-height:33px}.actions-menu-panel{max-width:500px!important}.actions-menu-panel button.mat-menu-item{height:33px!important;line-height:33px!important;padding-right:30px}.actions-menu-panel button.mat-menu-item.actions-menu-button-with-icon{padding-left:12px!important}.actions-menu-panel button.mat-menu-item .actions-menu-item-button-content{display:flex;flex-direction:row;align-items:center}.actions-menu-panel button.mat-menu-item .actions-menu-item-button-content .actions-menu-item-icon-wrapper{width:16px;height:16px;padding-right:8px;line-height:16px}.actions-menu-panel button.mat-menu-item .actions-menu-item-button-content .actions-menu-item-icon-wrapper mat-icon{width:16px;height:16px;margin:0!important}.actions-menu-panel mat-divider{margin:5px 12px}
`],encapsulation:2,changeDetection:0})}}const Ta=(o,t,n)=>({menuItems:o,overlapTrigger:t,cssClasses:n});class dt extends ct{constructor(t,n){super(),this._matIconRegistry=t,this._domSanitizer=n,this.menuItems=[],this.cssClasses="",this.overlapTrigger=!0,this._registerIcons()}_registerIcons(){this._matIconRegistry.addSvgIconLiteral("vertical-dots",this._domSanitizer.bypassSecurityTrustHtml(u(112)))}static{this.\u0275fac=function(n){return new(n||dt)(e.\u0275\u0275directiveInject(C.MatIconRegistry),e.\u0275\u0275directiveInject(q.DomSanitizer))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:dt,selectors:[["ts-compact-actions-menu"]],inputs:{menuItems:"menuItems",cssClasses:"cssClasses",overlapTrigger:"overlapTrigger"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:5,consts:[[3,"menuItemClick","config"],["svgIcon","vertical-dots"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"ts-actions-menu",0),e.\u0275\u0275listener("menuItemClick",function(s){return i.menuItemClick.emit(s)}),e.\u0275\u0275element(1,"mat-icon",1),e.\u0275\u0275elementEnd()),n&2&&e.\u0275\u0275property("config",e.\u0275\u0275pureFunction3(1,Ta,i.menuItems,i.overlapTrigger,i.cssClasses))},dependencies:[C.MatIcon,ge],styles:["[_nghost-%COMP%]{display:block}mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;cursor:pointer}"],changeDetection:0})}}function Ea(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"a",6),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const n=t.$implicit,i=e.\u0275\u0275nextContext(2).$implicit,a=e.\u0275\u0275nextContext();e.\u0275\u0275property("routerLink",n),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(a.formatTextValue(i,a.columnDataSchema.valueType))}}function Na(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275nextContext(2).$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(i.formatTextValue(n,i.columnDataSchema.valueType))}}function ka(o,t){if(o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Ea,2,2,"a",5)(2,Na,2,1,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()),o&2){const n=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",i.columnDataSchema.linkGenerator&&i.columnDataSchema.linkGenerator(i.record))("ngIfElse",n)}}function La(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",2),e.\u0275\u0275element(1,"span",3),e.\u0275\u0275template(2,ka,4,2,"ng-container",4),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.isDisplayedAsText())}}class Le extends k.TableCellComponent{getValue(){if(!this.isDisplayedAsText())throw new l.ArgumentOutOfRangeException("Only text columns can be displayed via NamedFolderTableCellComponent.");return super.getValue()}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(Le)))(i||Le)}})()}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:Le,selectors:[["ts-named-folder-table-cell"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["elseBlock",""],["class","named-folder-cell-wrapper",4,"ngIf"],[1,"named-folder-cell-wrapper"],[1,"folder-icon"],[4,"ngIf"],[3,"routerLink",4,"ngIf","ngIfElse"],[3,"routerLink"]],template:function(n,i){n&1&&e.\u0275\u0275template(0,La,3,1,"div",1),n&2&&e.\u0275\u0275property("ngIf",!i.isEmpty()&&i.getValue())},dependencies:[c.NgIf,Vn.RouterLink],styles:[".named-folder-cell-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.named-folder-cell-wrapper[_ngcontent-%COMP%]   .folder-icon[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;margin-right:8px;background:url(folder-icon.svg) no-repeat}"]})}}var Cn=u(73479);class Bn{constructor(t,n){this._value=t,this._property=n}get property(){return this._property}get value(){return this._value}canMatchItem(t){if(!t)return!1;const n=t[this.property],i=n!=null,a=typeof n===this._value.constructor.name.toLowerCase();return i&&a}isItemMatch(t){return this.canMatchItem(t)&&this.isValueMatch(t[this.property])}}class Mn extends Bn{static{this.DEFAULT_PROPERTY="caption"}constructor(t,n){super(t,n||Mn.DEFAULT_PROPERTY)}isValueMatch(t){const n=t.toLowerCase(),i=this.value.toLowerCase(),a=(0,D.compact)(n.split(" "));return(0,D.compact)(i.split(" ")).every(r=>a.find(y=>y.includes(r)))}}class li extends Bn{isValueMatch(t){return t===this.value}}class Ut{_isFilterNotFalsy(t){return t&&t.value!==null&&t.value!==void 0}transform(t,n){if(!t)return[];if(!n)return t;let i=[...t];return n.filter(this._isFilterNotFalsy).forEach(s=>{i=i.filter(r=>s.isItemMatch(r))}),i}static{this.\u0275fac=function(n){return new(n||Ut)}}static{this.\u0275pipe=e.\u0275\u0275definePipe({name:"filter",type:Ut,pure:!0})}}function Oa(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",10),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.filteringValue="")}),e.\u0275\u0275element(1,"mat-icon",11),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementEnd()}if(o&2){let n;const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("title",(n=e.\u0275\u0275pipeBind1(2,1,i.localizableStrings$))==null?null:n.ClearButtonTitle)}}function Aa(o,t){o&1&&e.\u0275\u0275element(0,"mat-icon",12)}function ja(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-list-item",16),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(n).$implicit,s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(s.onItemSelected(a))}),e.\u0275\u0275elementStart(1,"button",17),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275listener("click",function(a){const s=e.\u0275\u0275restoreView(n).$implicit,r=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(r.toggleFavorite(s,a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",18),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()}if(o&2){let n;const i=t.$implicit,a=e.\u0275\u0275nextContext(3);e.\u0275\u0275classProp("active",i.isActive),e.\u0275\u0275attribute("data-qa",i.caption),e.\u0275\u0275advance(),e.\u0275\u0275property("ngClass",i.isFavorite?a.favoriteCssClass:a.regularCssClass)("title",i.isFavorite?(n=e.\u0275\u0275pipeBind1(2,6,a.localizableStrings$))==null?null:n.RemoveFromFavoriteButtonTitle:(n=e.\u0275\u0275pipeBind1(3,8,a.localizableStrings$))==null?null:n.AddToFavoriteButtonTitle),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",i.caption," ")}}function Va(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",14),e.\u0275\u0275template(1,ja,6,10,"mat-list-item",15),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275nextContext().ngIf;e.\u0275\u0275advance(),e.\u0275\u0275property("ngForOf",n)}}function Fa(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",19),e.\u0275\u0275element(1,"div",20),e.\u0275\u0275elementStart(2,"div",21),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()()),o&2){let n;const i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",(n=e.\u0275\u0275pipeBind1(4,1,i.localizableStrings$))==null?null:n.NoDataPlaceholder," ")}}function Pa(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-action-list"),e.\u0275\u0275template(1,Va,2,1,"div",13)(2,Fa,5,3,"ng-template",null,1,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),o&2){const n=t.ngIf,i=e.\u0275\u0275reference(3);e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.length>0)("ngIfElse",i)}}let te=class $n extends U.CrtBaseComponent{constructor(t,n,i){super(i),this._resourcesService=t,this._changeDetector=n,this._filters=[],this.regularCssClass="regular",this.favoriteCssClass="favorite",this.filteringValue="",this.displayOnlyFavorites=!1,this.items=[],this.itemSelected=new e.EventEmitter,this.favoriteStateChanged=new e.EventEmitter}get _searchFilter(){return new Mn(this.filteringValue)}get _favoritesFilter(){return new li(this.displayOnlyFavorites,"isFavorite")}get filters(){return this._filters=[this._searchFilter],this.displayOnlyFavorites&&this._filters.push(this._favoritesFilter),this._filters}get localizableStrings$(){return this._resources$.pipe((0,p.map)(t=>t.localizableStrings))}ngOnInit(){this._resources$=this._resourcesService.getResources()}onItemSelected(t){const n={id:t.id};this.itemSelected.emit(n)}toggleFavorite(t,n){n.stopPropagation();const{id:i,isFavorite:a}=t,s={id:i,isFavorite:!a};this.favoriteStateChanged.emit(s)}onFilteringValueChanged(t){this.filteringValue=t,this._changeDetector.detectChanges()}toggleDisplayOnlyFavorites(){this.displayOnlyFavorites=!this.displayOnlyFavorites,this._changeDetector.detectChanges()}static{this.\u0275fac=function(n){return new(n||$n)(e.\u0275\u0275directiveInject(se),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(e.Injector))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:$n,selectors:[["ts-filterable-list"]],inputs:{items:"items"},outputs:{itemSelected:"itemSelected",favoriteStateChanged:"favoriteStateChanged"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:14,vars:17,consts:[["searchIcon",""],["noData",""],[1,"filterable-list-container",3,"ngStyle","ngClass"],[1,"filter-input-container"],[1,"display-only-favorites-button-container"],["mat-icon-button","","data-qa","filter-favorite-btn",3,"click","ngClass","title"],["floatLabel","never"],["matInput","","type","text","spellcheck","false","autocomplete","off","data-qa","search-input",3,"input","value","placeholder"],["matSuffix","","mat-icon-button","","aria-label","Clear","data-qa","clear-filter-btn",3,"click",4,"ngIf","ngIfElse"],[4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear","data-qa","clear-filter-btn",3,"click"],["matSuffix","",1,"clear-icon",3,"title"],["matSuffix","",1,"search-icon"],["class","items-list",4,"ngIf","ngIfElse"],[1,"items-list"],["disableRipple","",3,"active","click",4,"ngFor","ngForOf"],["disableRipple","",3,"click"],["mat-icon-button","","data-qa","favorite-btn",3,"click","ngClass","title"],[1,"item-caption"],["data-qa","blank-slate",1,"blank-slate"],["data-qa","blank-slate-icon",1,"icon"],["data-qa","blank-slate-label",1,"label"]],template:function(n,i){if(n&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",2)(1,"div")(2,"div",3)(3,"div",4)(4,"button",5),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.toggleDisplayOnlyFavorites())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"mat-form-field",6)(7,"input",7),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275listener("input",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.onFilteringValueChanged(r.target.value))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,Oa,3,3,"button",8)(10,Aa,1,0,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(12,Pa,4,2,"mat-action-list",9),e.\u0275\u0275pipe(13,"filter"),e.\u0275\u0275elementEnd()}if(n&2){let a,s;const r=e.\u0275\u0275reference(11);e.\u0275\u0275property("ngStyle",i.styles)("ngClass",i.classes),e.\u0275\u0275attribute("id",i.id),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngClass",i.displayOnlyFavorites?i.favoriteCssClass:i.regularCssClass)("title",(a=e.\u0275\u0275pipeBind1(5,10,i.localizableStrings$))==null?null:a.FilterFavoriteTitle),e.\u0275\u0275advance(3),e.\u0275\u0275property("value",i.filteringValue)("placeholder",(s=e.\u0275\u0275pipeBind1(8,12,i.localizableStrings$))==null?null:s.SearchPlaceholder),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.filteringValue)("ngIfElse",r),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind2(13,14,i.items,i.filters))}},dependencies:[c.NgClass,c.NgForOf,c.NgIf,c.NgStyle,M.MatLegacyFormField,M.MatLegacySuffix,C.MatIcon,T.MatLegacyInput,Cn.MatLegacyList,Cn.MatLegacyListItem,x.MatLegacyButton,c.AsyncPipe,Ut],styles:[`.filterable-list-container{display:flex;flex-direction:column;height:100%;min-height:inherit;max-height:inherit}.filterable-list-container .display-only-favorites-button-container .mat-icon-button{height:32px;width:32px}.filterable-list-container .items-list{margin-top:8px}.filterable-list-container .blank-slate{display:flex;flex-direction:column;align-items:center}.filterable-list-container .blank-slate .label{color:#757575;font-size:12px;font-family:Open Sans,Regular,sans-serif;margin-top:16px}.filterable-list-container .blank-slate .icon{width:100px;height:104px;margin-top:24px;background:no-repeat url(data:image/svg+xml;base64,PHN2ZyBpZD0iaWNvbl9zZWFyY2hfYmlnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTA0IiB2aWV3Qm94PSIwIDAgMTAwIDEwNCI+DQogIDxnIGlkPSJQYXRoXzc0NTciIGRhdGEtbmFtZT0iUGF0aCA3NDU3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcxNC44MTggLTY0OS41MTIpIiBmaWxsPSJyZ2JhKDEwMCwxODQsMjIzLDAuMSkiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCI+DQogICAgPHBhdGggZD0iTSAxNzE4LjYwMTY4NDU3MDMxMyA3NTIuNTA1ODU5Mzc1IEMgMTcyMS41NjE2NDU1MDc4MTMgNzUwLjM3MDQyMjM2MzI4MTMgMTcyNC4zMTk3MDIxNDg0MzggNzQ3LjEzMzIzOTc0NjA5MzggMTcyNi44MzQ1OTQ3MjY1NjMgNzQyLjgzNTgxNTQyOTY4NzUgQyAxNzI5LjQyMTI2NDY0ODQzOCA3MzguNDE1NTg4Mzc4OTA2MyAxNzMwLjc1NTM3MTA5Mzc1IDczNC41MjIwMzM2OTE0MDYzIDE3MzAuODEwOTEzMDg1OTM4IDczNC4zNTgzOTg0Mzc1IEwgMTczMS4wMDY1OTE3OTY4NzUgNzMzLjc4MTkyMTM4NjcxODggTCAxNzMwLjU4NDM1MDU4NTkzOCA3MzMuMzQzMzIyNzUzOTA2MyBDIDE3MjYuMjg1NTIyNDYwOTM4IDcyOC44NzkzMzM0OTYwOTM4IDE3MjIuOTE0MzA2NjQwNjI1IDcyMy43MTg5MzMxMDU0Njg4IDE3MjAuNTY0MzMxMDU0Njg4IDcxOC4wMDUzNzEwOTM3NSBDIDE3MTguMTI5NTE2NjAxNTYzIDcxMi4wODU1NzEyODkwNjI1IDE3MTYuODk1MDE5NTMxMjUgNzA1LjgwNzY3ODIyMjY1NjMgMTcxNi44OTUwMTk1MzEyNSA2OTkuMzQ2MDA4MzAwNzgxMyBDIDE3MTYuODk1MDE5NTMxMjUgNjkyLjc1MTk1MzEyNSAxNzE4LjE3NjUxMzY3MTg3NSA2ODYuMzU1NzczOTI1NzgxMyAxNzIwLjcwMzczNTM1MTU2MyA2ODAuMzM1MjY2MTEzMjgxMyBDIDE3MjMuMTQ0ODk3NDYwOTM4IDY3NC41MTk5NTg0OTYwOTM4IDE3MjYuNjM5NzcwNTA3ODEzIDY2OS4yOTczMDIyNDYwOTM4IDE3MzEuMDkxMTg2NTIzNDM4IDY2NC44MTIzMTY4OTQ1MzEzIEMgMTczNS41NDIxMTQyNTc4MTMgNjYwLjMyNzgxOTgyNDIxODggMTc0MC43MjQ4NTM1MTU2MjUgNjU2LjgwNzEyODkwNjI1IDE3NDYuNDk1MzYxMzI4MTI1IDY1NC4zNDgwODM0OTYwOTM4IEMgMTc1Mi40Njg3NSA2NTEuODAyNjczMzM5ODQzOCAxNzU4LjgxNDY5NzI2NTYyNSA2NTAuNTEyMDIzOTI1NzgxMyAxNzY1LjM1NzA1NTY2NDA2MyA2NTAuNTEyMDIzOTI1NzgxMyBDIDE3NzEuODk5MTY5OTIxODc1IDY1MC41MTIwMjM5MjU3ODEzIDE3NzguMjQ0ODczMDQ2ODc1IDY1MS44MDI2NzMzMzk4NDM4IDE3ODQuMjE4MjYxNzE4NzUgNjU0LjM0ODA4MzQ5NjA5MzggQyAxNzg5Ljk4ODc2OTUzMTI1IDY1Ni44MDcxMjg5MDYyNSAxNzk1LjE3MTUwODc4OTA2MyA2NjAuMzI3ODE5ODI0MjE4OCAxNzk5LjYyMjU1ODU5Mzc1IDY2NC44MTIzMTY4OTQ1MzEzIEMgMTgwNC4wNzM5NzQ2MDkzNzUgNjY5LjI5NzM2MzI4MTI1IDE4MDcuNTY4ODQ3NjU2MjUgNjc0LjUyMDAxOTUzMTI1IDE4MTAuMDEwMTMxODM1OTM4IDY4MC4zMzUyNjYxMTMyODEzIEMgMTgxMi41Mzc0NzU1ODU5MzggNjg2LjM1NTgzNDk2MDkzNzUgMTgxMy44MTg5Njk3MjY1NjMgNjkyLjc1MTk1MzEyNSAxODEzLjgxODk2OTcyNjU2MyA2OTkuMzQ2MDA4MzAwNzgxMyBDIDE4MTMuODE4OTY5NzI2NTYzIDcwNS45Mzk4MTkzMzU5Mzc1IDE4MTIuNTM3NDc1NTg1OTM4IDcxMi4zMzU3NTQzOTQ1MzEzIDE4MTAuMDEwMTMxODM1OTM4IDcxOC4zNTYxNDAxMzY3MTg4IEMgMTgwNy41Njg4NDc2NTYyNSA3MjQuMTcxMjY0NjQ4NDM3NSAxODA0LjA3Mzk3NDYwOTM3NSA3MjkuMzkzODU5ODYzMjgxMyAxNzk5LjYyMjU1ODU5Mzc1IDczMy44Nzg3ODQxNzk2ODc1IEMgMTc5NS4xNzE1MDg3ODkwNjMgNzM4LjM2MzI4MTI1IDE3ODkuOTg4NzY5NTMxMjUgNzQxLjg4MzkxMTEzMjgxMjUgMTc4NC4yMTgyNjE3MTg3NSA3NDQuMzQyOTU2NTQyOTY4OCBDIDE3NzguMjQ0ODczMDQ2ODc1IDc0Ni44ODgzNjY2OTkyMTg4IDE3NzEuODk5MDQ3ODUxNTYzIDc0OC4xNzkwMTYxMTMyODEzIDE3NjUuMzU3MDU1NjY0MDYzIDc0OC4xNzkwMTYxMTMyODEzIEMgMTc1OS42MDc1NDM5NDUzMTMgNzQ4LjE3OTAxNjExMzI4MTMgMTc1My45Nzk4NTgzOTg0MzggNzQ3LjE3MzUyMjk0OTIxODggMTc0OC42MzA2MTUyMzQzNzUgNzQ1LjE5MDM2ODY1MjM0MzggTCAxNzQ4LjA3MDQzNDU3MDMxMyA3NDQuOTgyNjY2MDE1NjI1IEwgMTc0Ny42MjIwNzAzMTI1IDc0NS4zNzc1MDI0NDE0MDYzIEMgMTc0Ny4yODQ3OTAwMzkwNjMgNzQ1LjY3NDQ5OTUxMTcxODggMTc0Ni45NDcxNDM1NTQ2ODggNzQ1LjkyMTgxMzk2NDg0MzggMTc0Ni41NTkzMjYxNzE4NzUgNzQ2LjE1NTgyMjc1MzkwNjMgQyAxNzM3LjA4NTQ0OTIxODc1IDc1MS44ODMxNzg3MTA5Mzc1IDE3MjkuNjYxNzQzMTY0MDYzIDc1Mi40NDk4MjkxMDE1NjI1IDE3MTguNjAxNjg0NTcwMzEzIDc1Mi41MDU4NTkzNzUgWiIgc3Ryb2tlPSJub25lIi8+DQogICAgPHBhdGggZD0iTSAxNzY1LjM1NzA1NTY2NDA2MyA2NTEuNTEyMDIzOTI1NzgxMyBDIDE3NTguOTUwMTk1MzEyNSA2NTEuNTEyMDIzOTI1NzgxMyAxNzUyLjczNjIwNjA1NDY4OCA2NTIuNzc1NzU2ODM1OTM3NSAxNzQ2Ljg4NzQ1MTE3MTg3NSA2NTUuMjY4MDY2NDA2MjUgQyAxNzQxLjIzNjIwNjA1NDY4OCA2NTcuNjc2MjA4NDk2MDkzOCAxNzM2LjE2MDQwMDM5MDYyNSA2NjEuMTI0Mzg5NjQ4NDM3NSAxNzMxLjgwMDkwMzMyMDMxMyA2NjUuNTE2Nzg0NjY3OTY4OCBDIDE3MjcuNDQwNDI5Njg3NSA2NjkuOTEwMTU2MjUgMTcyNC4wMTY5Njc3NzM0MzggNjc1LjAyNjA2MjAxMTcxODggMTcyMS42MjU4NTQ0OTIxODggNjgwLjcyMjI5MDAzOTA2MjUgQyAxNzE5LjE1MDI2ODU1NDY4OCA2ODYuNjE5NjI4OTA2MjUgMTcxNy44OTUwMTk1MzEyNSA2OTIuODg1NTU5MDgyMDMxMyAxNzE3Ljg5NTAxOTUzMTI1IDY5OS4zNDYwMDgzMDA3ODEzIEMgMTcxNy44OTUwMTk1MzEyNSA3MDUuNjc2NTEzNjcxODc1IDE3MTkuMTA0MjQ4MDQ2ODc1IDcxMS44MjY0NzcwNTA3ODEzIDE3MjEuNDg5MTM1NzQyMTg4IDcxNy42MjUgQyAxNzIzLjc5MTAxNTYyNSA3MjMuMjIxNjc5Njg3NSAxNzI3LjA5MzM4Mzc4OTA2MyA3MjguMjc2NjcyMzYzMjgxMyAxNzMxLjMwNDU2NTQyOTY4OCA3MzIuNjQ5NjU4MjAzMTI1IEwgMTczMi4xNDkyOTE5OTIxODggNzMzLjUyNjc5NDQzMzU5MzggTCAxNzMxLjc1NzgxMjUgNzM0LjY3OTg3MDYwNTQ2ODggQyAxNzMxLjU3OTIyMzYzMjgxMyA3MzUuMjA2MDU0Njg3NSAxNzI4LjEyNDc1NTg1OTM3NSA3NDUuMTg4OTY0ODQzNzUgMTcyMS4zOTczMzg4NjcxODggNzUxLjQ3NjY4NDU3MDMxMjUgQyAxNzI1LjExMzY0NzQ2MDkzOCA3NTEuNDEyNTk3NjU2MjUgMTcyOC40MDk1NDU4OTg0MzggNzUxLjIzMjIzODc2OTUzMTMgMTczMS41NzE0MTExMzI4MTMgNzUwLjcyNDc5MjQ4MDQ2ODggQyAxNzM2Ljc0NzMxNDQ1MzEyNSA3NDkuODk0MTA0MDAzOTA2MyAxNzQxLjIwOTk2MDkzNzUgNzQ4LjIyMTE5MTQwNjI1IDE3NDYuMDQyNjAyNTM5MDYzIDc0NS4yOTk2ODI2MTcxODc1IEMgMTc0Ni4zNzgwNTE3NTc4MTMgNzQ1LjA5NzI5MDAzOTA2MjUgMTc0Ni42Njk5MjE4NzUgNzQ0Ljg4MzU0NDkyMTg3NSAxNzQ2Ljk2MTA1OTU3MDMxMyA3NDQuNjI3MDc1MTk1MzEyNSBMIDE3NDcuODU3Nzg4MDg1OTM4IDc0My44MzczNDEzMDg1OTM4IEwgMTc0OC45NzgxNDk0MTQwNjMgNzQ0LjI1MjY4NTU0Njg3NSBDIDE3NTQuMjE1ODIwMzEyNSA3NDYuMTk0NDU4MDA3ODEyNSAxNzU5LjcyNjU2MjUgNzQ3LjE3OTAxNjExMzI4MTMgMTc2NS4zNTcwNTU2NjQwNjMgNzQ3LjE3OTAxNjExMzI4MTMgQyAxNzcxLjc2MzY3MTg3NSA3NDcuMTc5MDE2MTEzMjgxMyAxNzc3Ljk3NzUzOTA2MjUgNzQ1LjkxNTI4MzIwMzEyNSAxNzgzLjgyNjE3MTg3NSA3NDMuNDIyOTczNjMyODEyNSBDIDE3ODkuNDc3Mjk0OTIxODc1IDc0MS4wMTQ4MzE1NDI5Njg4IDE3OTQuNTUzMjIyNjU2MjUgNzM3LjU2NjcxMTQyNTc4MTMgMTc5OC45MTI3MTk3MjY1NjMgNzMzLjE3NDMxNjQwNjI1IEMgMTgwMy4yNzMzMTU0Mjk2ODggNzI4Ljc4MTAwNTg1OTM3NSAxODA2LjY5Njc3NzM0Mzc1IDcyMy42NjUyMjIxNjc5Njg4IDE4MDkuMDg4MDEyNjk1MzEzIDcxNy45NjkxMTYyMTA5Mzc1IEMgMTgxMS41NjM3MjA3MDMxMjUgNzEyLjA3MTg5OTQxNDA2MjUgMTgxMi44MTg5Njk3MjY1NjMgNzA1LjgwNjE1MjM0Mzc1IDE4MTIuODE4OTY5NzI2NTYzIDY5OS4zNDYwMDgzMDA3ODEzIEMgMTgxMi44MTg5Njk3MjY1NjMgNjkyLjg4NTU1OTA4MjAzMTMgMTgxMS41NjM3MjA3MDMxMjUgNjg2LjYxOTY4OTk0MTQwNjMgMTgwOS4wODgwMTI2OTUzMTMgNjgwLjcyMjI5MDAzOTA2MjUgQyAxODA2LjY5Njc3NzM0Mzc1IDY3NS4wMjYxMjMwNDY4NzUgMTgwMy4yNzMzMTU0Mjk2ODggNjY5LjkxMDIxNzI4NTE1NjMgMTc5OC45MTI3MTk3MjY1NjMgNjY1LjUxNjc4NDY2Nzk2ODggQyAxNzk0LjU1MzIyMjY1NjI1IDY2MS4xMjQzODk2NDg0Mzc1IDE3ODkuNDc3Mjk0OTIxODc1IDY1Ny42NzYyMDg0OTYwOTM4IDE3ODMuODI2MTcxODc1IDY1NS4yNjgwNjY0MDYyNSBDIDE3NzcuOTc3NTM5MDYyNSA2NTIuNzc1NzU2ODM1OTM3NSAxNzcxLjc2MzY3MTg3NSA2NTEuNTEyMDIzOTI1NzgxMyAxNzY1LjM1NzA1NTY2NDA2MyA2NTEuNTEyMDIzOTI1NzgxMyBNIDE3NjUuMzU3MDU1NjY0MDYzIDY0OS41MTIwMjM5MjU3ODEzIEMgMTc5Mi42NzUwNDg4MjgxMjUgNjQ5LjUxMjAyMzkyNTc4MTMgMTgxNC44MTg5Njk3MjY1NjMgNjcxLjgyMjk5ODA0Njg3NSAxODE0LjgxODk2OTcyNjU2MyA2OTkuMzQ2MDA4MzAwNzgxMyBDIDE4MTQuODE4OTY5NzI2NTYzIDcyNi44Njc5ODA5NTcwMzEzIDE3OTIuNjc1MDQ4ODI4MTI1IDc0OS4xNzkwMTYxMTMyODEzIDE3NjUuMzU3MDU1NjY0MDYzIDc0OS4xNzkwMTYxMTMyODEzIEMgMTc1OS4zNTQ5ODA0Njg3NSA3NDkuMTc5MDE2MTEzMjgxMyAxNzUzLjYwNDk4MDQ2ODc1IDc0OC4xMDEwMTMxODM1OTM4IDE3NDguMjgyOTU4OTg0Mzc1IDc0Ni4xMjc5OTA3MjI2NTYzIEMgMTc0Ny45NDc5OTgwNDY4NzUgNzQ2LjQyMjk3MzYzMjgxMjUgMTc0Ny41NjQ5NDE0MDYyNSA3NDYuNzE2OTc5OTgwNDY4OCAxNzQ3LjA3NjA0OTgwNDY4OCA3NDcuMDEyMDIzOTI1NzgxMyBDIDE3MzYuMzIzOTc0NjA5Mzc1IDc1My41MTIwMjM5MjU3ODEzIDE3MjguMDc5OTU2MDU0Njg4IDc1My41MTIwMjM5MjU3ODEzIDE3MTQuODE4OTY5NzI2NTYzIDc1My41MTIwMjM5MjU3ODEzIEMgMTcyNC41ODg5ODkyNTc4MTMgNzQ5LjM5Njk3MjY1NjI1IDE3MjkuNzc0MDQ3ODUxNTYzIDczNC4zMDIwMDE5NTMxMjUgMTcyOS44NjQwMTM2NzE4NzUgNzM0LjAzNjk4NzMwNDY4NzUgQyAxNzIxLjIyMzk5OTAyMzQzOCA3MjUuMDY1MDAyNDQxNDA2MyAxNzE1Ljg5NTAxOTUzMTI1IDcxMi44MzU5OTg1MzUxNTYzIDE3MTUuODk1MDE5NTMxMjUgNjk5LjM0NjAwODMwMDc4MTMgQyAxNzE1Ljg5NTAxOTUzMTI1IDY3MS44MjI5OTgwNDY4NzUgMTczOC4wMzc5NjM4NjcxODggNjQ5LjUxMjAyMzkyNTc4MTMgMTc2NS4zNTcwNTU2NjQwNjMgNjQ5LjUxMjAyMzkyNTc4MTMgWiIgc3Ryb2tlPSJub25lIiBmaWxsPSIjNjRiOGRmIi8+DQogIDwvZz4NCiAgPGcgaWQ9Ikdyb3VwXzc3NjAiIGRhdGEtbmFtZT0iR3JvdXAgNzc2MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE3MTQuODE4IC02NDkuNTEyKSI+DQogICAgPGNpcmNsZSBpZD0iRWxsaXBzZV8xMzM2IiBkYXRhLW5hbWU9IkVsbGlwc2UgMTMzNiIgY3g9IjEyLjI1IiBjeT0iMTIuMjUiIHI9IjEyLjI1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzQ4LjA2OSA2ODIuMDQyKSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNjRiOGRmIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMiIvPg0KICAgIDxsaW5lIGlkPSJMaW5lXzUxMyIgZGF0YS1uYW1lPSJMaW5lIDUxMyIgeDE9IjEyLjQ2MyIgeTE9IjEyLjQ2MyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTc2OS4xMDYgNzAyLjgyOSkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzY0YjhkZiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjIiLz4NCiAgPC9nPg0KPC9zdmc+DQo=);background-position:center}.filterable-list-container .mat-icon-button{background-color:transparent}.filterable-list-container .mat-icon-button.favorite{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojZmZiNzRkO30uYntmaWxsOm5vbmU7fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGNsYXNzPSJhIiBkPSJNOC41LDEuMWwyLjMsNC42NjcsNS4yLjcxLTMuNywzLjY1Mi44LDQuOTcxTDguNSwxMi43NjcsMy45LDE1LjFsLjktNC45NzFMMSw2LjQ3N2w1LjItLjcxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMSAtMC4xKSIvPjxyZWN0IGNsYXNzPSJiIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiLz48L3N2Zz4=);background-position:center}.filterable-list-container .mat-icon-button.regular{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojZGJkYmRiO30uYntmaWxsOm5vbmU7fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGNsYXNzPSJhIiBkPSJNOC41LDMuMyw5LjksNi4ybC4yLjUuNS4xLDMuMi40TDExLjYsOS40bC0uNC40LjEuNS41LDMuMUw5LDExLjhsLS41LS4yLS41LjJMNS4yLDEzLjJsLjYtMywuMS0uNS0uNC0uNEwzLjIsNy4xbDMuMS0uNC41LS4xTDcsNi4xLDguNSwzLjNNOC41LDEsNi4yLDUuNywxLDYuNCw0LjgsMTBsLS45LDUsNC42LTIuM0wxMy4xLDE1bC0uOC01TDE2LDYuNGwtNS4yLS43WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEpIi8+PHJlY3QgY2xhc3M9ImIiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIvPjwvc3ZnPg==);background-position:center}.filterable-list-container .mat-icon-button.regular:hover{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4NCjxkZWZzPiA8c3R5bGU+LmF7ZmlsbDojZmZiNzRkO30uYntmaWxsOm5vbmU7fTwvc3R5bGU+PC9kZWZzPg0KPHBhdGggY2xhc3M9ImEiIGQ9Ik04LjUsMy4zLDkuOSw2LjJsLjIuNS41LjEsMy4yLjRMMTEuNiw5LjRsLS40LjQuMS41LjUsMy4xTDksMTEuOGwtLjUtLjItLjUuMkw1LjIsMTMuMmwuNi0zLC4xLS41LS40LS40TDMuMiw3LjFsMy4xLS40LjUtLjFMNyw2LjEsOC41LDMuM004LjUsMSw2LjIsNS43LDEsNi40LDQuOCwxMGwtLjksNSw0LjYtMi4zTDEzLjEsMTVsLS44LTVMMTYsNi40bC01LjItLjdaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMSkiLz4NCjxyZWN0IGNsYXNzPSJiIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiLz48L3N2Zz4=);background-position:center}.filter-input-container{display:flex;flex-direction:row;margin-right:10px;padding-left:6px}.filter-input-container .mat-form-field{font-size:13px;width:100%}.filter-input-container .mat-form-field input{font-family:Open Sans,Regular,sans-serif;color:#444}.filter-input-container .mat-form-field .mat-input-element{vertical-align:middle}.filter-input-container .mat-form-field .mat-form-field-ripple{top:1px;height:1px;background:#006ce0}.filter-input-container .mat-form-field .mat-form-field-underline{border-bottom:1px #c8c8c8 solid;background-color:transparent;margin-top:3px}.filter-input-container .mat-form-field .mat-form-field-wrapper{padding-top:5px;margin-bottom:-1.25em}.filter-input-container .mat-form-field .mat-form-field-empty.mat-form-field-label{padding-top:2px;color:#999}.filter-input-container .mat-form-field .mat-form-field-infix{border-top:none}.filter-input-container .mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button,.filter-input-container .mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:18px;height:18px;margin-right:8px}.filter-input-container .mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{color:#999;vertical-align:middle}.filter-input-container .mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon.search-icon{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTYgMTYiPjxnIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzgwOTViMyIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCI+PGNpcmNsZSBjeD0iNiIgY3k9IjYiIHI9IjQuNSIvPjxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTSA5LjQsOS40IDE0LDE0Ii8+PC9nPjwvc3ZnPg==)}.filter-input-container .mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon.clear-icon{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4NCiAgPGcgaWQ9Ikdyb3VwXzIzNTUiIGRhdGEtbmFtZT0iR3JvdXAgMjM1NSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTk0MyAtMjEzNCkiPg0KICAgIDxsaW5lIGlkPSJMaW5lXzE0NiIgZGF0YS1uYW1lPSJMaW5lIDE0NiIgeTE9IjEwIiB4Mj0iMTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk0Ni41IDIxMzcuNSkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzc1NzU3NSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjEiLz4NCiAgICA8bGluZSBpZD0iTGluZV8xNDciIGRhdGEtbmFtZT0iTGluZSAxNDciIHgyPSIxMCIgeTI9IjEwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5NDYuNSAyMTM3LjUpIiBmaWxsPSJub25lIiBzdHJva2U9IiM3NTc1NzUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIxIi8+DQogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8xMDkyIiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAxMDkyIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk0MyAyMTM0KSIgZmlsbD0ibm9uZSIvPg0KICA8L2c+DQo8L3N2Zz4NCg==)}.mat-list.mat-list-base.mat-action-list{padding-top:0;overflow:auto}.mat-list.mat-list-base.mat-action-list::-webkit-scrollbar{width:4px}.mat-list.mat-list-base.mat-action-list::-webkit-scrollbar-track{background:transparent;border:4px solid transparent;background-clip:content-box}.mat-list.mat-list-base.mat-action-list::-webkit-scrollbar-thumb{background:#999;border-radius:4px}.mat-list.mat-list-base.mat-action-list .mat-list-item{font-size:13px;font-family:Open Sans,Regular,sans-serif;color:#444;height:33px;padding-left:6px;box-sizing:border-box}.mat-list.mat-list-base.mat-action-list .mat-list-item.active{background-color:#e5ebfb}.mat-list.mat-list-base.mat-action-list .mat-list-item:hover{background:#f2f5ff}.mat-list.mat-list-base.mat-action-list .mat-list-item .mat-list-item-content{padding-left:8px}.mat-list.mat-list-base.mat-action-list .mat-list-item .mat-list-item-content .mat-icon-button{height:16px;width:16px}.mat-list.mat-list-base.mat-action-list .mat-list-item .mat-list-item-content .item-caption{padding-left:8px;display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
`],encapsulation:3})}};(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Array)],te.prototype,"items",void 0),(0,d.__decorate)([(0,l.CrtOutput)(),(0,d.__metadata)("design:type",e.EventEmitter)],te.prototype,"itemSelected",void 0),(0,d.__decorate)([(0,l.CrtOutput)(),(0,d.__metadata)("design:type",e.EventEmitter)],te.prototype,"favoriteStateChanged",void 0),te=(0,d.__decorate)([(0,l.CrtViewElement)({type:"crt.FilterableList",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,d.__metadata)("design:paramtypes",[se,e.ChangeDetectorRef,e.Injector])],te);class Oe{static{this.\u0275fac=function(n){return new(n||Oe)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:Oe})}static{this.\u0275inj=e.\u0275\u0275defineInjector({providers:[Me.CustomEventService,se,{provide:Fn,useValue:new ti("getFilterableListResources","setFilterableListResources",{localizableStrings:{NoDataPlaceholder:"No data",SearchPlaceholder:"Search",FilterFavoriteTitle:"Only favorites",RemoveFromFavoriteButtonTitle:"Remove from favorites",AddToFavoriteButtonTitle:"Add to favorites",ClearButtonTitle:"Cancel"}})}],imports:[c.CommonModule,m.FormsModule,M.MatLegacyFormFieldModule,C.MatIconModule,T.MatLegacyInputModule,Cn.MatLegacyListModule,x.MatLegacyButtonModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Oe,{declarations:[te,Ut],imports:[c.CommonModule,m.FormsModule,M.MatLegacyFormFieldModule,C.MatIconModule,T.MatLegacyInputModule,Cn.MatLegacyListModule,x.MatLegacyButtonModule],exports:[te]})})();const Ra=["dataViewWrapper"],za=["tableNgContainer"];function Ua(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",10),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(n.additionalText)}}function Ba(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",11)(1,"a",12),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("href",n.helpLinkUrl.url,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(n.helpLinkUrl.caption)}}function Ha(o,t){if(o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"button",13),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",14),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("mat-dialog-close",!1),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,4,"TableDialog.Cancel")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("mat-dialog-close",!0),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(n.continueButtonCaption)}}function Wa(o,t){o&1&&(e.\u0275\u0275elementStart(0,"button",13),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2&&(e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"TableDialog.Close")," "))}class ut{constructor(t,n){this.dialogData=t,this.scrollToBottomObserverFactory=n,this.title="",this.sortColumn="",this.additionalText="",this.continueButtonCaption=""}_renderTableComponent(t){var n=this;return(0,re.A)(function*(){yield u.e(3908).then(u.t.bind(u,83908,23)).then(i=>{const a=i.TableComponent;n._table=t.createComponent(a).instance,n._table.dataSchema=n.dataSchema,n._table.dataSource=n.tableDataSource,n._table.sortColumn=n.sortColumn,n._table.headerSticky=!0})})()}_initScrollToBottomObserver(){const t=this.dataViewWrapper.nativeElement;this._scrollToBottomObserver=this.scrollToBottomObserverFactory.createObserver(t,this._loadNextData.bind(this))}_loadNextData(){this.tableDataSource&&this.tableDataSource.loadNext()}ngAfterViewInit(){this._initScrollToBottomObserver()}ngOnInit(){var t=this;return(0,re.A)(function*(){!t.dialogData||!t.dialogData.data||(t.tableDataSource=new gn(t.dialogData.data),t.dataSchema=t.dialogData.dataSchema,t.title=t.dialogData.title||t.title,t.sortColumn=t.dialogData.sortColumn,t.additionalText=t.dialogData.additionalText,t.helpLinkUrl=t.dialogData.helpLinkUrl,t.continueButtonCaption=t.dialogData.continueButtonCaption,yield t._renderTableComponent(t.tableNgContainer))})()}ngOnDestroy(){this._scrollToBottomObserver&&this._scrollToBottomObserver.destroy()}static{this.\u0275fac=function(n){return new(n||ut)(e.\u0275\u0275directiveInject(I.MAT_LEGACY_DIALOG_DATA),e.\u0275\u0275directiveInject(h.ScrollToBottomObserverFactory))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:ut,selectors:[["ts-table-dialog"]],viewQuery:function(n,i){if(n&1&&(e.\u0275\u0275viewQuery(Ra,7),e.\u0275\u0275viewQuery(za,7,e.ViewContainerRef)),n&2){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.dataViewWrapper=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.tableNgContainer=a.first)}},decls:14,vars:5,consts:[["dataViewWrapper",""],["tableNgContainer",""],["withoutContinue",""],["mat-dialog-title",""],[1,"dialog-content-wrapper"],["class","table-dialog-additional-text",4,"ngIf"],["class","table-dialog-help-link-url",4,"ngIf"],["mat-dialog-content","",1,"data-table"],["mat-dialog-actions",""],[4,"ngIf","ngIfElse"],[1,"table-dialog-additional-text"],[1,"table-dialog-help-link-url"],["target","_blank","rel","noopener noreferrer",3,"href"],["mat-flat-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(n,i){if(n&1&&(e.\u0275\u0275elementStart(0,"div",3)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div",4),e.\u0275\u0275template(4,Ua,2,1,"div",5)(5,Ba,3,2,"div",6),e.\u0275\u0275elementStart(6,"div",7,0),e.\u0275\u0275elementContainer(8,null,1),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",8),e.\u0275\u0275template(11,Ha,6,6,"ng-container",9)(12,Wa,3,3,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()),n&2){const a=e.\u0275\u0275reference(13);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.title),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.additionalText),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",i.helpLinkUrl),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",i.continueButtonCaption)("ngIfElse",a)}},dependencies:[c.NgIf,x.MatLegacyButton,I.MatLegacyDialogClose,I.MatLegacyDialogTitle,I.MatLegacyDialogContent,I.MatLegacyDialogActions,E.TranslatePipe],styles:[`ts-table-dialog{min-width:850px;max-width:900px;margin:0 8px!important;padding:0}ts-table-dialog .table-dialog-additional-text{margin-bottom:4px;display:inline}ts-table-dialog .table-dialog-help-link-url{display:inline;cursor:pointer}ts-table-dialog .data-table{overflow-y:auto!important;max-height:330px;margin:0;padding:0}ts-table-dialog .data-table table{padding-top:0}ts-table-dialog [mat-dialog-actions]{display:flex;flex-direction:row;justify-content:flex-end;margin:20px 0 10px!important}
`],encapsulation:2})}}function Ga(o,t){if(o&1&&e.\u0275\u0275element(0,"mat-icon",1),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("svgIcon",n.svgIconName)}}class Ya extends k.TableCustomColumnDataSchema{constructor(t){super(t),this.cellComponentClass=Ae}}class Ae extends k.BaseTableCellComponent{get svgIconName(){return{[h.MessageType.Error]:this.errorIconName,[h.MessageType.Warning]:this.warningIconName,[h.MessageType.Information]:""}[this.getValue()]??""}constructor(t,n){super(),this._matIconRegistry=t,this._domSanitizer=n,this.errorIconName="error-icon",this.warningIconName="warning-icon",this._registerIcons()}_registerIcons(){[this.warningIconName,this.errorIconName].forEach(t=>{this._matIconRegistry.addSvgIconLiteral(t,this._domSanitizer.bypassSecurityTrustHtml(u(48422)("./"+t+".svg")))})}static{this.\u0275fac=function(n){return new(n||Ae)(e.\u0275\u0275directiveInject(C.MatIconRegistry),e.\u0275\u0275directiveInject(q.DomSanitizer))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:Ae,selectors:[["ts-error-type-icon-table-cell"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["class","error-type-icon",3,"svgIcon",4,"ngIf"],[1,"error-type-icon",3,"svgIcon"]],template:function(n,i){n&1&&e.\u0275\u0275template(0,Ga,1,1,"mat-icon",0),n&2&&e.\u0275\u0275property("ngIf",!i.isEmpty()&&i.getValue())},dependencies:[c.NgIf,C.MatIcon],styles:[".error-type-icon[_ngcontent-%COMP%]{height:16px;width:16px}"]})}}function Qa(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-checkbox",1),e.\u0275\u0275listener("change",function(a){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.setValue(a.checked))}),e.\u0275\u0275elementEnd()}if(o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("disabled",n.isDisabled())("checked",n.getValue())("matTooltip",n.getTooltipText())}}class Za extends k.TableCustomColumnDataSchema{constructor(t){super(t),this.cellComponentClass=he,this.valueType=l.DataValueType.Boolean}}class he extends k.BaseEditableTableCellComponent{isDisabled(){const t=this.columnDataSchema.disabled;return typeof t=="function"?t(this.record):t}getTooltipText(){const t=this.columnDataSchema.tooltip;return typeof t=="function"?t(this.record):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(he)))(i||he)}})()}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:he,selectors:[["ts-checkbox-table-cell"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[3,"disabled","checked","matTooltip","change",4,"ngIf"],[3,"change","disabled","checked","matTooltip"]],template:function(n,i){n&1&&e.\u0275\u0275template(0,Qa,1,3,"mat-checkbox",0),n&2&&e.\u0275\u0275property("ngIf",!i.isEmpty())},dependencies:[c.NgIf,O.MatLegacyCheckbox,z.MatLegacyTooltip],encapsulation:2})}}class je{constructor(t){this._cdr=t,this._delay=2e3,this._stop=new S.Subject,this._start=new S.Subject,this._datetime=le()(),this._timer$=(0,S.timer)(0,this._delay).pipe((0,p.takeUntil)(this._stop),(0,p.repeatWhen)(()=>this._start))}set datetime(t){this._stop.next(),this._datetime=le()(t),this._start.next()}static _getDuration(t){const n=le()();return t?le().duration(t.diff(n)):le().duration({hour:0,minute:0,second:0})}_getTimerSubscription$(){return this._timer$.subscribe(()=>{if(this.value="",this._datetime.isValid()){const t=je._getDuration(this._datetime);this.value=`${t.humanize(!0)}`}this._cdr.detectChanges()})}ngOnDestroy(){this._stop.next(null),this._stop.complete(),this._timerSubscription$.unsubscribe()}ngOnInit(){this._timerSubscription$=this._getTimerSubscription$()}static{this.\u0275fac=function(n){return new(n||je)(e.\u0275\u0275directiveInject(e.ChangeDetectorRef))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:je,selectors:[["ts-time-ago"]],inputs:{datetime:"datetime"},decls:2,vars:1,consts:[[1,"time-ago"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"span",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),n&2&&(e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(i.value))},changeDetection:0})}}class Bt{static{this.\u0275fac=function(n){return new(n||Bt)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:Bt})}static{this.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.CommonModule,m.FormsModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Bt,{declarations:[je],imports:[c.CommonModule,m.FormsModule],exports:[je]})})();const Ja=(o,t)=>({"date-picker-filter-container":o,"date-picker-filter-container-rtl":t}),$a=o=>({"clear-date-icon-wrap":!0,"icon-hidden":o});class pt{constructor(t,n){this._directionality=n,this._defaultCulture="en-US",this.dateChange=new e.EventEmitter,this.cultureCode=t&&t.cultureInfo&&t.cultureInfo.sysCultureName||this._defaultCulture}set selectedDate(t){this._selectedDate=t}get selectedDate(){return this._selectedDate}updateFormattedValue(t){this.formattedDate=t&&t.toLocaleDateString(this.cultureCode)}isRtl(){return this._directionality&&this._directionality.value==="rtl"}clearDate(){this.selectedDate=null,this.clearIconVisible=!1,this.onDateChange()}showClearIcon(){this.clearIconVisible=!0}onDateChange(){const t=this.selectedDate;t&&this.showClearIcon(),this.updateFormattedValue(t),this.dateChange.emit(t)}static{this.\u0275fac=function(n){return new(n||pt)(e.\u0275\u0275directiveInject(h.UserInfo),e.\u0275\u0275directiveInject(Vt.Directionality))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:pt,selectors:[["ts-date-picker-filter"]],inputs:{selectedDate:"selectedDate",datePickerFilterFunction:"datePickerFilterFunction"},outputs:{dateChange:"dateChange"},decls:11,vars:13,consts:[["picker",""],[1,"date-picker-filter-component"],[3,"ngClass"],["matSuffix","",1,"datepicker-toggle",3,"for"],["svgIcon","datetime-picker-calendar-icon","matDatepickerToggleIcon","",1,"date-picker-calendar-icon"],["disabled","false","ngDefaultControl","",3,"restoreFocus"],[1,"date-time-buttom-marker"],["ngDefaultControl","",1,"date-time-value"],["ngDefaultControl","","disabled","",3,"dateInput","ngModelChange","dateChange","matDatepickerFilter","matDatepicker","ngModel"],[1,"close-icon",3,"click","ngClass"]],template:function(n,i){if(n&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",1)(1,"div",2)(2,"mat-datepicker-toggle",3),e.\u0275\u0275element(3,"mat-icon",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"mat-datepicker",5,0)(6,"span",6),e.\u0275\u0275elementStart(7,"span",7),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"input",8),e.\u0275\u0275listener("dateInput",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.showClearIcon())}),e.\u0275\u0275twoWayListener("ngModelChange",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275twoWayBindingSet(i.selectedDate,r)||(i.selectedDate=r),e.\u0275\u0275resetView(r)}),e.\u0275\u0275listener("dateChange",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.onDateChange())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"span",9),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.clearDate())}),e.\u0275\u0275elementEnd()()()}if(n&2){const a=e.\u0275\u0275reference(5);e.\u0275\u0275advance(),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(8,Ja,!i.isRtl(),i.isRtl())),e.\u0275\u0275advance(),e.\u0275\u0275property("for",a),e.\u0275\u0275advance(2),e.\u0275\u0275property("restoreFocus",!1),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(i.formattedDate),e.\u0275\u0275advance(),e.\u0275\u0275property("matDatepickerFilter",i.datePickerFilterFunction)("matDatepicker",a),e.\u0275\u0275twoWayProperty("ngModel",i.selectedDate),e.\u0275\u0275advance(),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(11,$a,!i.clearIconVisible))}},dependencies:[c.NgClass,M.MatLegacySuffix,_.MatDatepicker,_.MatDatepickerInput,_.MatDatepickerToggle,_.MatDatepickerToggleIcon,C.MatIcon,m.DefaultValueAccessor,m.NgControlStatus,m.NgModel],styles:[`.mat-calendar-body-cell-content.mat-focus-indicator{--palette-primary-500: #f2f5ff}.mat-calendar-body-cell-content.mat-focus-indicator.mat-calendar-body-selected{background-color:#006ce0}.date-picker-filter-component{display:inline-block;max-width:150px}.date-picker-filter-component .date-picker-filter-container{display:flex;align-items:center;position:relative;height:26px}.date-picker-filter-component .date-picker-filter-container .datepicker-toggle .mdc-icon-button{height:30px;width:36px;line-height:20px;color:#006ce0}.date-picker-filter-component .date-picker-filter-container .datepicker-toggle .mat-mdc-button-ripple,.date-picker-filter-component .date-picker-filter-container .datepicker-toggle .mdc-icon-button__ripple{height:40px;width:40px;transform:translate(-4%)}.date-picker-filter-component .date-picker-filter-container input:disabled{border:none;background:none;width:0px}.date-picker-filter-component .date-picker-filter-container .mat-datepicker-toggle{display:inline-block}.date-picker-filter-component .date-picker-filter-container .clear-date-icon-wrap{max-height:15px}.date-picker-filter-component .date-picker-filter-container .clear-date-icon-wrap .mdc-icon-button{height:17px;width:17px;margin-left:3px}.date-picker-filter-component .date-picker-filter-container span{font-size:14px}.date-picker-filter-component .date-picker-filter-container .date-time-buttom-marker{border-top:.32em solid #4d6a98;border-right:.32em solid transparent;border-left:.32em solid transparent;content:"";position:absolute;left:37px;z-index:-1}.date-picker-filter-component .date-picker-filter-container .date-time-value{margin-left:7px}.date-picker-filter-component .date-picker-filter-container .close-icon{margin-top:1px;display:inline-block;width:17px;height:17px;margin-left:0;margin-right:0;background:no-repeat url(data:image/svg+xml;base64,PHN2ZyBpZD0iR3JvdXBfNyIgZGF0YS1uYW1lPSJHcm91cCA3IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4NCiAgPHJlY3QgaWQ9IlJlY3RhbmdsZV83IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSA3IiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiLz4NCiAgPGxpbmUgaWQ9IkxpbmVfNSIgZGF0YS1uYW1lPSJMaW5lIDUiIHkxPSIxMCIgeDI9IjEwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzIDMpIiBmaWxsPSJub25lIiBzdHJva2U9IiM5OTkiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIxIi8+DQogIDxsaW5lIGlkPSJMaW5lXzYiIGRhdGEtbmFtZT0iTGluZSA2IiB4Mj0iMTAiIHkyPSIxMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMyAzKSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjOTk5IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMSIvPg0KPC9zdmc+DQo=);cursor:pointer}.date-picker-filter-component .date-picker-filter-container .close-icon.icon-hidden{display:none}.date-picker-filter-component .date-picker-filter-container-rtl{display:flex;align-items:center;position:relative;height:26px}.date-picker-filter-component .date-picker-filter-container-rtl .datepicker-toggle .mdc-icon-button{height:30px;width:36px;line-height:20px;color:#006ce0}.date-picker-filter-component .date-picker-filter-container-rtl .datepicker-toggle .mat-mdc-button-ripple,.date-picker-filter-component .date-picker-filter-container-rtl .datepicker-toggle .mdc-icon-button__ripple{height:40px;width:40px;transform:translate(-4%)}.date-picker-filter-component .date-picker-filter-container-rtl input:disabled{border:none;background:none;width:0px}.date-picker-filter-component .date-picker-filter-container-rtl .mat-datepicker-toggle{display:inline-block}.date-picker-filter-component .date-picker-filter-container-rtl .clear-date-icon-wrap{max-height:15px}.date-picker-filter-component .date-picker-filter-container-rtl .clear-date-icon-wrap .mdc-icon-button{height:17px;width:17px;margin-right:3px}.date-picker-filter-component .date-picker-filter-container-rtl span{font-size:14px}.date-picker-filter-component .date-picker-filter-container-rtl .date-time-buttom-marker{border-top:.32em solid #4d6a98;border-right:.32em solid transparent;border-left:.32em solid transparent;content:"";position:absolute;right:37px;z-index:-1}.date-picker-filter-component .date-picker-filter-container-rtl .date-time-value{margin-right:7px}.date-picker-filter-component .date-picker-filter-container-rtl .close-icon{margin-top:1px;display:inline-block;width:17px;height:17px;margin-right:0;margin-left:0;background:no-repeat url(data:image/svg+xml;base64,PHN2ZyBpZD0iR3JvdXBfNyIgZGF0YS1uYW1lPSJHcm91cCA3IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4NCiAgPHJlY3QgaWQ9IlJlY3RhbmdsZV83IiBkYXRhLW5hbWU9IlJlY3RhbmdsZSA3IiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiLz4NCiAgPGxpbmUgaWQ9IkxpbmVfNSIgZGF0YS1uYW1lPSJMaW5lIDUiIHkxPSIxMCIgeDI9IjEwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzIDMpIiBmaWxsPSJub25lIiBzdHJva2U9IiM5OTkiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIxIi8+DQogIDxsaW5lIGlkPSJMaW5lXzYiIGRhdGEtbmFtZT0iTGluZSA2IiB4Mj0iMTAiIHkyPSIxMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMyAzKSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjOTk5IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMSIvPg0KPC9zdmc+DQo=);cursor:pointer}.date-picker-filter-component .date-picker-filter-container-rtl .close-icon.icon-hidden{display:none}
`],encapsulation:2})}}var ci=u(48059);class mt{constructor(t,n){this._matIconRegistry=t,this._domSanitizer=n}registerIcons(){["datetime-picker-calendar-icon"].forEach(n=>{this._matIconRegistry?.addSvgIconLiteral(n,this._domSanitizer?.bypassSecurityTrustHtml(u(20522)("./"+n+".svg")))})}static{this.\u0275fac=function(n){return new(n||mt)(e.\u0275\u0275inject(C.MatIconRegistry),e.\u0275\u0275inject(q.DomSanitizer))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:mt,factory:mt.\u0275fac})}}function Ka(o){return o.cultureInfo.sysCultureName}class Ht{constructor(t){this._assetsService=t,this._assetsService.registerIcons()}static{this.\u0275fac=function(n){return new(n||Ht)(e.\u0275\u0275inject(mt))}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:Ht})}static{this.\u0275inj=e.\u0275\u0275defineInjector({providers:[{provide:f.MAT_DATE_LOCALE,useFactory:Ka,deps:[h.UserInfo]},_.MatDatepickerModule,mt],imports:[c.CommonModule,M.MatLegacyFormFieldModule,_.MatDatepickerModule,f.MatNativeDateModule,T.MatLegacyInputModule,ci.BrowserAnimationsModule,C.MatIconModule,m.FormsModule,_n.HttpClientModule,I.MatLegacyDialogModule,M.MatLegacyFormFieldModule,_.MatDatepickerModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Ht,{declarations:[pt],imports:[c.CommonModule,M.MatLegacyFormFieldModule,_.MatDatepickerModule,f.MatNativeDateModule,T.MatLegacyInputModule,ci.BrowserAnimationsModule,C.MatIconModule,m.FormsModule,_n.HttpClientModule,I.MatLegacyDialogModule],exports:[M.MatLegacyFormFieldModule,pt,_.MatDatepickerModule]})})();function qa(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-option",9),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const n=t.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(n.caption)}}class gt{get searchKey(){return this._searchKey}set searchKey(t){if(this._searchKey=t,this._selectedColumn){const n=!t;this._changeFilter(n)}}get filteredColumns(){return this._filteredColumns}set entitySchema(t){this._entitySchema=t,this._columns=t.columns.filter(n=>h.DataValueTypeGroup.Text.includes(n.dataValueType)||n.dataValueType===l.DataValueType.Lookup||n.dataValueType===l.DataValueType.Guid),this._filteredColumns=this._columns}get selectedColumn(){return this._selectedColumn}constructor(t,n,i,a){this._entitySchemaService=t,this._maskService=n,this._dialogService=i,this._translateService=a,this._destroyed$=new S.Subject,this._searchKey="",this.valueChange=new e.EventEmitter}_buildFilterGroup(t){const n=new l.FilterGroup;n.logicalOperation=l.LogicalOperatorType.And;const i=this._selectedColumn.dataValueType===l.DataValueType.Guid?l.ComparisonType.Equal:l.ComparisonType.Contain,a=this._selectedColumn.dataValueType===l.DataValueType.Guid?this._searchKey?.trim():this._searchKey;return n.addSchemaColumnFilterWithParameter(i,t,a),n}_getFilterColumnPath(){return this._selectedColumn.dataValueType!==l.DataValueType.Lookup?(0,S.of)(this._selectedColumn.name):(this._maskService.showBodyMask(),this._entitySchemaService.getEntitySchemaByUId(this._selectedColumn.referenceSchemaUId).pipe((0,p.map)(t=>{this._maskService.hideBodyMask();const n=t.entitySchema.getPrimaryDisplayColumn()?.name;if(n)return this._selectedColumn.name+"."+n;const i=t.entitySchema.getPrimaryColumn()?.name;return this._selectedColumn.name+"."+i})))}_changeFilter(t=!1){if(t){this.valueChange.emit(null);return}if(this._selectedColumn.dataValueType===l.DataValueType.Guid&&!(0,l.isGuid)(this._searchKey?.trim())){this._dialogService.openInfoDialog(this._translateService.instant("QuickEntityFilter.NonGuidMessage"));return}this._getFilterColumnPath().pipe((0,p.takeUntil)(this._destroyed$)).subscribe(n=>{const i=this._buildFilterGroup(n);this.valueChange.emit(i)})}searchColumn(t){t||this.selectColumn(null),t=t.toLocaleLowerCase().trim(),this._filteredColumns=this._columns.filter(n=>n.caption.toLocaleLowerCase().includes(t))}getColumnCaption(t){return t.caption}selectColumn(t){if(this._selectedColumn=t,!t){this._changeFilter(!0);return}this._searchKey&&this._changeFilter()}ngOnInit(){this._selectedColumn=this._entitySchema?.getPrimaryDisplayColumn()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||gt)(e.\u0275\u0275directiveInject(h.EntitySchemaService),e.\u0275\u0275directiveInject(b.MaskService),e.\u0275\u0275directiveInject(b.DialogService),e.\u0275\u0275directiveInject(E.TranslateService))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:gt,selectors:[["ts-quick-entity-filter"]],inputs:{entitySchema:"entitySchema"},outputs:{valueChange:"valueChange"},decls:10,vars:5,consts:[["auto","matAutocomplete"],[1,"select-column-container"],["type","text","matInput","","spellcheck","false",3,"input","matAutocomplete","value"],["matSuffix","",1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],[3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],[1,"search-container"],[3,"valueChange","value"],[3,"value"]],template:function(n,i){if(n&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",1)(1,"mat-form-field")(2,"input",2),e.\u0275\u0275listener("input",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.searchColumn(r.target.value))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275element(4,"div",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"mat-autocomplete",5,0),e.\u0275\u0275listener("optionSelected",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.selectColumn(r.option.value))}),e.\u0275\u0275template(7,qa,2,2,"mat-option",6),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(8,"div",7)(9,"ts-search-input",8),e.\u0275\u0275twoWayListener("valueChange",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275twoWayBindingSet(i.searchKey,r)||(i.searchKey=r),e.\u0275\u0275resetView(r)}),e.\u0275\u0275elementEnd()()}if(n&2){const a=e.\u0275\u0275reference(6);e.\u0275\u0275advance(2),e.\u0275\u0275property("matAutocomplete",a)("value",i.selectedColumn==null?null:i.selectedColumn.caption),e.\u0275\u0275advance(3),e.\u0275\u0275property("displayWith",i.getColumnCaption),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",i.filteredColumns),e.\u0275\u0275advance(2),e.\u0275\u0275twoWayProperty("value",i.searchKey)}},dependencies:[c.NgForOf,L.MatLegacyAutocomplete,L.MatLegacyAutocompleteTrigger,jt.MatLegacyOption,M.MatLegacyFormField,M.MatLegacySuffix,T.MatLegacyInput,ue],styles:[`ts-quick-entity-filter{display:flex}ts-quick-entity-filter .select-column-container{flex-basis:50%;padding-right:20px}ts-quick-entity-filter .select-column-container .mat-form-field{width:100%!important}ts-quick-entity-filter .search-container{flex-basis:50%}
`],encapsulation:2})}}function Xa(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",1),e.\u0275\u0275element(1,"mat-icon",2),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("svgIcon",n.iconName)}}class eo extends k.TableCustomColumnDataSchema{constructor(t,n){super(t),this.cellComponentClass=Ve,this.iconName=n}}class Ve extends k.BaseTableCellComponent{get iconName(){return this.columnDataSchema.iconName}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(Ve)))(i||Ve)}})()}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:Ve,selectors:[["ts-icon-table-cell"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["class","drag-drop-icon-wrapper","cdkDragHandle","",4,"ngIf"],["cdkDragHandle","",1,"drag-drop-icon-wrapper"],[3,"svgIcon"]],template:function(n,i){n&1&&e.\u0275\u0275template(0,Xa,2,1,"div",0),n&2&&e.\u0275\u0275property("ngIf",!i.isEmpty())},dependencies:[c.NgIf,C.MatIcon]})}}var Wt=u(63193),di=u(90824);const to=["originalPickerToggle"];function no(o,t){o&1&&e.\u0275\u0275element(0,"mat-icon",11)}function io(o,t){o&1&&e.\u0275\u0275element(0,"mat-icon",12)}function ao(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onPickerIconClick())}),e.\u0275\u0275template(1,no,1,0,"mat-icon",10)(2,io,1,0,"ng-template",null,3,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()}if(o&2){const n=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",i.type==="time")("ngIfElse",n)}}class Fe extends b.BaseMaterialInput{get convertedValue(){return this._convertedValue}set convertedValue(t){this._convertedValue=t,this.innerValue=t.toDate()}constructor(t,n,i,a,s){super(t,n,i),this._matIconRegistry=a,this._domSanitizer=s,this.controlType="ts-datetime-picker",this.type="datetime",this._registerIcons()}_registerIcons(){["datetime-picker-toggle-date","datetime-picker-toggle-time"].forEach(t=>{this._matIconRegistry.addSvgIconLiteral(t,this._domSanitizer.bypassSecurityTrustHtml(u(48104)("./"+t+"-icon.svg")))}),this._matIconRegistry.addSvgIconLiteral("read-only",this._domSanitizer.bypassSecurityTrustHtml(u(75670)))}writeValue(t){this._convertedValue=le()(t),super.writeValue(t)}onPickerIconClick(){this.originalPickerToggle.nativeElement.dispatchEvent(new MouseEvent("click"))}static{this.\u0275fac=function(n){return new(n||Fe)(e.\u0275\u0275directiveInject(m.NgControl,10),e.\u0275\u0275directiveInject(fn.AutofillMonitor),e.\u0275\u0275directiveInject(hn.FocusMonitor),e.\u0275\u0275directiveInject(C.MatIconRegistry),e.\u0275\u0275directiveInject(q.DomSanitizer))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:Fe,selectors:[["ts-datetime-picker"]],viewQuery:function(n,i){if(n&1&&e.\u0275\u0275viewQuery(to,5,e.ElementRef),n&2){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.originalPickerToggle=a.first)}},inputs:{label:"label",minDate:"minDate",maxDate:"maxDate",type:"type"},features:[e.\u0275\u0275ProvidersFeature([{provide:M.MatLegacyFormFieldControl,useExisting:Fe}]),e.\u0275\u0275InheritDefinitionFeature],decls:8,vars:10,consts:[["input",""],["originalPickerToggle",""],["datetimePicker",""],["dateIcon",""],[1,"datetime-picker-input-wrapper"],["matInput","","type","text","autocomplete","false","spellcheck","false",3,"ngModelChange","ngModel","matDatetimepicker","required","min","max","disabled"],[3,"for"],["mat-icon-button","",3,"click",4,"ngIf"],["openOnFocus","true","mode","portrait",3,"type","disabled"],["mat-icon-button","",3,"click"],["svgIcon","datetime-picker-toggle-time",4,"ngIf","ngIfElse"],["svgIcon","datetime-picker-toggle-time"],["svgIcon","datetime-picker-toggle-date"]],template:function(n,i){if(n&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",4)(1,"input",5,0),e.\u0275\u0275twoWayListener("ngModelChange",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275twoWayBindingSet(i.convertedValue,r)||(i.convertedValue=r),e.\u0275\u0275resetView(r)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"mat-datetimepicker-toggle",6,1),e.\u0275\u0275template(5,ao,4,2,"button",7),e.\u0275\u0275element(6,"mat-datetimepicker",8,2),e.\u0275\u0275elementEnd()}if(n&2){const a=e.\u0275\u0275reference(7);e.\u0275\u0275advance(),e.\u0275\u0275twoWayProperty("ngModel",i.convertedValue),e.\u0275\u0275property("matDatetimepicker",a)("required",i.required)("min",i.minDate)("max",i.maxDate)("disabled",i.disabled),e.\u0275\u0275advance(2),e.\u0275\u0275property("for",a),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!i.disabled),e.\u0275\u0275advance(),e.\u0275\u0275property("type",i.type)("disabled",i.disabled)}},dependencies:[c.NgIf,m.DefaultValueAccessor,m.NgControlStatus,m.RequiredValidator,m.NgModel,x.MatLegacyButton,Wt.MatDatetimepickerComponent,Wt.MatDatetimepickerToggleComponent,Wt.MatDatetimepickerInputDirective,C.MatIcon,T.MatLegacyInput],styles:[`ts-datetime-picker{width:100%}ts-datetime-picker .datetime-picker-input-wrapper{display:flex;align-items:center;position:relative;min-width:calc(18ch + 26px)}ts-datetime-picker .datetime-picker-input-wrapper mat-datetimepicker-toggle{display:none}ts-datetime-picker .datetime-picker-input-wrapper button[mat-icon-button]{height:26px;width:26px;line-height:26px;position:absolute;right:0}ts-datetime-picker .datetime-picker-input-wrapper button[mat-icon-button] mat-icon{height:16px!important;width:16px!important;line-height:16px;position:relative;bottom:2px}
`],encapsulation:2})}}class Z{static{this.\u0275fac=function(n){return new(n||Z)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:Z})}static{this.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.CommonModule,m.FormsModule,x.MatLegacyButtonModule,_.MatDatepickerModule,Wt.MatDatetimepickerModule,M.MatLegacyFormFieldModule,C.MatIconModule,T.MatLegacyInputModule,di.MatMomentDatetimeModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Z,{declarations:[Fe],imports:[c.CommonModule,m.FormsModule,x.MatLegacyButtonModule,_.MatDatepickerModule,Wt.MatDatetimepickerModule,M.MatLegacyFormFieldModule,C.MatIconModule,T.MatLegacyInputModule,di.MatMomentDatetimeModule],exports:[Fe]})})();var Hn=u(35266);class ht{constructor(t){this._queryExecutor=t}_getColumnPath(t){return typeof t=="string"?t:t.columnPath}_addSchemaColumn(t,n){t.addSchemaColumn(this._getColumnPath(n))}_addPrimaryColumnIfNeeded(t,n,i){const a=t.getPrimaryColumn().name;n.some(s=>this._getColumnPath(s)===a)||i.addSchemaColumn(a)}_getEsqOrderDirection(t){return t?t==="asc"?l.OrderDirection.Asc:l.OrderDirection.Desc:l.OrderDirection.None}_applySort(t,n){if(!n?.sort)return;const i=this._getEsqOrderDirection(n.sort.direction);t.getColumn(n.sort.columnName).withOrdering(i,0)}_buildEsq(t,n){const i=new l.EntitySchemaQuery(t.name);return n.columns.forEach(a=>this._addSchemaColumn(i,a)),this._addPrimaryColumnIfNeeded(t,n.columns,i),this._applySort(i,n),n.filter&&i.filters.add(n.filter),i.rowCount=n.rowCount,i.rowsOffset=n.rowsOffset,i}loadEntityData(t,n){l.ValidationUtilities.checkArgumentEmpty("entitySchema",t),l.ValidationUtilities.checkArgumentEmpty("config",n);const i=this._buildEsq(t,n);return this._queryExecutor.executeSelectQuery(i)}static{this.\u0275fac=function(n){return new(n||ht)(e.\u0275\u0275inject(Hn.QueryExecutor))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:ht,factory:ht.\u0275fac,providedIn:"root"})}}class ft{_mapEntityColumnDataSchema(t){return{name:t.name,caption:t.caption,valueType:t.dataValueType}}_getColumnPath(t){return typeof t=="string"?t:t.columnPath}buildTableDataSchema(t,n){l.ValidationUtilities.checkArgumentEmpty("entitySchema",t),l.ValidationUtilities.checkArgumentEmpty("columns",n);const i=n.map(s=>t.columns.find(r=>this._getColumnPath(s)===r.name)),a=t.getPrimaryColumn().name;return{columns:i.map(this._mapEntityColumnDataSchema.bind(this)),trackBy:s=>s[a]}}static{this.\u0275fac=function(n){return new(n||ft)}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:ft,factory:ft.\u0275fac,providedIn:"root"})}}const oo=["tableNgContainer"],so=["dataViewWrapper"];class Pe{set config(t){this._validateConfig(t);const n=this._config;this._config=t,(0,D.isEqual)(t,n)||this._applyConfig(t,n)}get sort(){return this._sort}get selectedRecords(){if(!this._entitySchema)return[];const t=this._entitySchema.getPrimaryColumn().name;return this.selectedIds?this._data.filter(n=>this.selectedIds.includes(n[t])):[]}set selectedRecords(t){const n=this._entitySchema.getPrimaryColumn().name,i=this.selectedIds.filter(r=>!this.data.some(y=>y[n]===r)),a=new Set(this.selectedIds),s=new Set(t.map(r=>r[n]).concat(i));this.selectedIds=[...s],(0,D.isEqual)(a,s)||this.selectedIdsChange.emit(this.selectedIds)}get tableDataSchema(){return this._tableDataSchema}get data(){return this._data}get tableConfig(){return this._config?.tableConfig}constructor(t,n,i,a,s){this._restHandler=t,this._entitySchemaService=n,this._loaderService=i,this._tableDataSchemaBuilder=a,this._scrollToBottomObserverFactory=s,this._destroyed$=new S.Subject,this._defaultPageSize=20,this._data=[],this._tableDataSchema={columns:[]},this._allPagesWasLoaded=!1,this._isDataLoading=!1,this.selectedIds=[],this.selectedIdsChange=new e.EventEmitter,this.dataChange=new e.EventEmitter,this.rowDoubleClick=new e.EventEmitter}_setTableDataChange(){this._table.dataSchema=this.tableDataSchema,this._table.config=this.tableConfig,this._table.data=this.data}_renderTableComponent(t){var n=this;return(0,re.A)(function*(){yield u.e(3908).then(u.t.bind(u,83908,23)).then(i=>{const a=i.TableComponent;n._tableRef=t.createComponent(a),n._table=n._tableRef.instance,n.dataChange.subscribe(()=>n._setTableDataChange()),n._table.selectedChange.subscribe(s=>n.selectedRecords=s),n._table.sortChange.subscribe(s=>n.onSortChange(s)),n._table.rowDoubleClick.subscribe(s=>n.rowDoubleClick.emit(s))})})()}_getPageSize(t){return t.pageSize??this._defaultPageSize}_afterLoaded(t,n){const i=n.length<this._getPageSize(t);this._allPagesWasLoaded=i,this.dataChange.emit({data:this._data.slice(),isLastPage:i})}_executeLoading(t,n){const i=this._restHandler.handleRequest(n()).pipe((0,p.share)());return i.subscribe(a=>this._afterLoaded(t,a)),i}_validateConfig(t){if(l.ValidationUtilities.checkArgumentEmpty("config",t),l.ValidationUtilities.checkArgumentEmpty("entitySchema",t.entitySchema),typeof t.entitySchema=="string"&&l.ValidationUtilities.checkStringIsNotEmpty("entitySchema",t.entitySchema),l.ValidationUtilities.checkArgumentEmpty("columns",t.columns),t.columns.length===0)throw new Error("Entity data view config should contain at least one column.")}_initScrollToBottomObserver(){this._scrollToBottomObserver=this._scrollToBottomObserverFactory.createObserver(this.dataViewWrapper.nativeElement,this._onScrollToBottom.bind(this))}_initDefaultSort(t,n){const i=t.getPrimaryDisplayColumn()?.name,s=i&&n.columns.some(r=>this._getColumnPath(r)===i)?i:this._getColumnPath(n.columns[0]);this._sort={columnName:s,direction:"asc"}}_getEntitySchema(t){if(typeof t=="object")return this._entitySchema=t,(0,S.of)(t);const n=this._restHandler.handleRequest(this._entitySchemaService.getEntitySchemaByUId(t),{skipBodyMask:!0}).pipe((0,p.takeUntil)(this._destroyed$),(0,p.map)(i=>i.entitySchema),(0,p.share)());return n.subscribe(i=>this._entitySchema=i),n}_prepareLoaderFilters(t){let n=null;if(t.excludedIds?.length>0){let i;i=new l.FilterGroup,i.addSchemaColumnInFilterWithParameters(l.ComparisonType.Not_equal,this._entitySchema.getPrimaryColumn().name,t.excludedIds),t.filter&&i.add(t.filter),n=i}else n=t.filter;return n}_createDefaultLoaderConfig(t){return{rowCount:this._getPageSize(t),rowsOffset:-1,sort:this._sort,columns:t.columns,filter:this._prepareLoaderFilters(t)}}_loadRows(t,n){return this._isDataLoading=!0,this._loaderService.loadEntityData(t,n).pipe((0,p.take)(1),(0,p.tap)(()=>this._isDataLoading=!1),(0,p.takeUntil)(this._destroyed$),(0,p.share)())}_loadNextData(t,n){const i=this._createDefaultLoaderConfig(n);i.rowsOffset=this._data.length;const a=this._loadRows(t,i);return a.subscribe(s=>this._data=this._data.concat(s)),a}_getColumnPath(t){return typeof t=="string"?t:t.columnPath}_resetScroll(){this.dataViewWrapper?.nativeElement&&(this.dataViewWrapper.nativeElement.scrollTop=0),this._scrollToBottomObserver?.resetScrollMaxPosition()}_loadFirstData(t,n){this._resetScroll();const i=this._createDefaultLoaderConfig(n),a=this._loadRows(t,i);return this._data=[],a.subscribe(s=>{this._data=s,this._tableDataSchema=this._tableDataSchemaBuilder.buildTableDataSchema(t,n.columns)}),a}_applyConfig(t,n){const i=t.columns;let a;if(!n||!(0,D.isEqual)(t.entitySchema,n.entitySchema))a=this._getEntitySchema(t.entitySchema).pipe((0,p.tap)(s=>this._initDefaultSort(s,t)),(0,p.mergeMap)(s=>this._loadFirstData(s,t)));else{const s=!(0,D.isEqual)(i,n.columns);s&&this._initDefaultSort(this._entitySchema,t),this._entitySchema&&(s||!(0,D.isEqual)(t.filter,n.filter)||!(0,D.isEqual)(t.excludedIds,n.excludedIds))&&(a=this._loadFirstData(this._entitySchema,t))}a&&this._executeLoading(t,()=>a)}_onScrollToBottom(){if(this._isDataLoading||this._allPagesWasLoaded)return;const t=this._config;this._executeLoading(t,()=>this._loadNextData(this._entitySchema,t))}onSortChange(t){if((0,D.isEqual)(t,this._sort))return;const n=this._config;this._sort=t,this._executeLoading(n,()=>this._loadFirstData(this._entitySchema,n))}ngOnInit(){var t=this;return(0,re.A)(function*(){yield t._renderTableComponent(t.tableNgContainer)})()}ngOnChanges(t){this._tableRef?.setInput("selected",this.selectedRecords)}ngAfterViewInit(){this._initScrollToBottomObserver()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),this._scrollToBottomObserver.destroy()}static{this.\u0275fac=function(n){return new(n||Pe)(e.\u0275\u0275directiveInject(h.RestHandler),e.\u0275\u0275directiveInject(h.EntitySchemaService),e.\u0275\u0275directiveInject(ht),e.\u0275\u0275directiveInject(ft),e.\u0275\u0275directiveInject(h.ScrollToBottomObserverFactory))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:Pe,selectors:[["ts-entity-data-view"]],viewQuery:function(n,i){if(n&1&&(e.\u0275\u0275viewQuery(oo,7,e.ViewContainerRef),e.\u0275\u0275viewQuery(so,7)),n&2){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.tableNgContainer=a.first),e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.dataViewWrapper=a.first)}},inputs:{config:"config",selectedIds:"selectedIds"},outputs:{selectedIdsChange:"selectedIdsChange",dataChange:"dataChange",rowDoubleClick:"rowDoubleClick"},features:[e.\u0275\u0275NgOnChangesFeature],decls:4,vars:2,consts:[["dataViewWrapper",""],["tableNgContainer",""],[1,"entity-data-view-wrapper"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"div",2,0),e.\u0275\u0275elementContainer(2,null,1),e.\u0275\u0275elementEnd()),n&2&&e.\u0275\u0275styleProp("display",i.data.length>0?null:"none")},styles:[".entity-data-view-wrapper[_ngcontent-%COMP%]{height:100%;overflow:auto}"]})}}const ro=o=>({"lookup-dialog-counter-value-hidden":o});function lo(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ts-quick-entity-filter",14),e.\u0275\u0275listener("valueChange",function(a){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onFilterChanged(a))}),e.\u0275\u0275elementEnd()}if(o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("entitySchema",n.entitySchema)}}function co(o,t){o&1&&e.\u0275\u0275element(0,"mat-spinner",20)}function uo(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",15)(1,"span",16),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",17)(5,"div",18),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,co,1,0,"mat-spinner",19),e.\u0275\u0275elementEnd()()),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,"LookupDialog.Selected")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(6,ro,n.displayedSelectedRecordsCount===null)),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(n.displayedSelectedRecordsCount||0),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.displayedSelectedRecordsCount===null)}}function po(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ts-entity-data-view",21),e.\u0275\u0275listener("dataChange",function(a){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onEntityRecordsLoaded(a))}),e.\u0275\u0275twoWayListener("selectedIdsChange",function(a){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(s.selectedIds,a)||(s.selectedIds=a),e.\u0275\u0275resetView(a)}),e.\u0275\u0275listener("selectedIdsChange",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onSelectedIdsChange())})("rowDoubleClick",function(a){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onRowDoubleClick(a))}),e.\u0275\u0275elementEnd()}if(o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("config",n.entityDataViewConfig),e.\u0275\u0275twoWayProperty("selectedIds",n.selectedIds)}}function mo(o,t){o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),o&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"LookupDialog.Blankslate")))}function go(o,t){o&1&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2&&(e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"BaseTableDetail.BlankslateWithFilters")))}function ho(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",22),e.\u0275\u0275template(1,mo,4,3,"ng-container",23)(2,go,3,3,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!i.entityFilter)("ngIfElse",n)}}class yt{get entityFilter(){return this._quickEntityFilter}get entityDataViewConfig(){return{entitySchema:this._entitySchema,columns:this._getDisplayedColumns(),tableConfig:this._getTableConfig(),excludedIds:this._getLookupDialogConfig().excludedIds,filter:this._quickEntityFilter,pageSize:this._pageSize}}get selectMode(){return this._dialogData.tableConfig.selectMode}get entitySchema(){return this._entitySchema}get defaultBlankslateVisible(){return this._defaultBlankslateVisible}get displayedSelectedRecordsCount(){return this._allPagesSelectionEnabled?this._allPagesSelectedCount:this._loadedSelectedCount}constructor(t,n,i,a,s,r,y){this._dialogData=t,this._dialogRef=n,this._entitySchemaService=i,this._restHandler=a,this._translateService=s,this._queryExecutor=r,this._dialogService=y,this._pageSize=20,this._allPagesSelectionWarningRecordsNumber=1e3,this._destroyed$=new S.Subject,this._allPagesRecordsCountRequestCancel$=new S.Subject,this._defaultBlankslateVisible=!1,this._loadedRecords=[],this._allPagesWasLoaded=!1,this._allPagesSelectionEnabled=!1,this._allPagesUnselectedIds=null,this._allPagesRecordsCount=null,this._allPagesSelectedCount=null,this._allRowsSelectState=null,this._loadedSelectedCount=0,this.selectedIds=[],l.ValidationUtilities.checkArgumentEmpty("data",t),l.ValidationUtilities.checkArgumentEmpty("lookupDialogConfig",t.lookupDialogConfig),this.selectedIds=t.lookupDialogConfig.selectedIds?.slice()??[],this._getEntitySchema(t.lookupDialogConfig.entitySchema).pipe((0,p.takeUntil)(this._destroyed$)).subscribe(N=>this._entitySchema=N),this._applyIncomingFilter()}_getPrimaryColumnName(){return this._entitySchema.getPrimaryColumn().name}_getLoadedRecordIds(){const t=this._getPrimaryColumnName();return this._loadedRecords.map(n=>n[t])}_unselectAllExceptLoaded(){const t=this.selectedIds;this.selectedIds=this._getLoadedRecordIds().filter(n=>t.includes(n))}_getLookupDialogConfig(){return this._dialogData.lookupDialogConfig}_actualizeLoadedSelectedCount(){this._loadedSelectedCount=this.selectedIds.length}_canExistNotLoadedSelectedRecords(t){return t===k.TableAllRowsSelectState.None&&!this._allPagesSelectionEnabled&&!this._allPagesWasLoaded}_actualizeAllPagesUnselectedIds(){const t=this.selectedIds,n=this._getLoadedRecordIds(),i=n.filter(s=>!t.includes(s)),a=n.filter(s=>t.includes(s));for(const s of i)this._allPagesUnselectedIds.add(s);for(const s of a)this._allPagesUnselectedIds.delete(s)}_calculateAllPagesSelectedCount(){this._allPagesSelectedCount=this._allPagesRecordsCount===null?null:this._allPagesRecordsCount-this._allPagesUnselectedIds.size}_setAllPagesRecordsCount(t){this._allPagesRecordsCount=t,this._calculateAllPagesSelectedCount()}_handleRequest(t){return n=>this._restHandler.handleRequest(n,t)}_getDisplayedColumns(){let t=this._getLookupDialogConfig().displayedColumns;if(!t){const n=this._entitySchema.getPrimaryDisplayColumn();t=n?[n.name]:[this._getPrimaryColumnName()]}return t}_getTableConfig(){return{...this._dialogData.tableConfig,allRowsSelectState:()=>this._allRowsSelectState,allRowsSelectToggleHandler:()=>this._allRowsSelectToggle()}}_applyIncomingFilter(){const t=this._getLookupDialogConfig().filter;t&&(this._quickEntityFilter||(this._quickEntityFilter=new l.FilterGroup),this._quickEntityFilter.add(t))}_getEntitySchema(t){return typeof t=="object"?(0,S.of)(t):this._entitySchemaService.getEntitySchemaByUId(t).pipe(this._handleRequest(),(0,p.map)(n=>n.entitySchema))}_actualizeDefaultBlankslateVisibility(t){this._defaultBlankslateVisible=t.length===0}_confirmAllPagesSelection(){if(this.displayedSelectedRecordsCount<this._allPagesSelectionWarningRecordsNumber)return(0,S.of)(!0);const t=this._translateService.instant("LookupDialog.AllPagesSelectionWarning");return this._dialogService.openConfirmationDialog(t).pipe((0,p.map)(n=>n===b.YesButton.result))}_enableAllPagesSelection(){this._unselectAllExceptLoaded(),this._allPagesSelectionEnabled=!0,this._allPagesRecordsCount||this._loadAllPagesRecordsCount(),this._allRowsSelectState=k.TableAllRowsSelectState.All,this._allPagesUnselectedIds=new Set}_disableAllPagesSelection({unselectAllRecords:t}){this._allPagesRecordsCountRequestCancel$.next(),this._allPagesSelectionEnabled=!1,t&&(this.selectedIds=[],this._allRowsSelectState=k.TableAllRowsSelectState.None),this._actualizeLoadedSelectedCount(),this._allPagesUnselectedIds=null}_createAllFilteredRecordsEsq(){const t=this._getPrimaryColumnName(),n=new l.EntitySchemaQuery(this._entitySchema.name);this._quickEntityFilter&&n.filters.add(this._quickEntityFilter);const i=this._getLookupDialogConfig().excludedIds;return i?.length>0&&n.filters.addSchemaColumnInFilterWithParameters(l.ComparisonType.Not_equal,t,i),n}_createAllFilteredIdsEsq(){const t=this._createAllFilteredRecordsEsq();return t.addSchemaColumn(this._getPrimaryColumnName()),t}_loadAllPagesRecordsCount(){const t=this._getPrimaryColumnName(),n=this._createAllFilteredRecordsEsq();n.addAggregationFunctionColumn(t,l.AggregationType.Count,"Count"),this._queryExecutor.executeSelectQuery(n).pipe(this._handleRequest({skipBodyMask:!0}),(0,p.takeUntil)((0,S.merge)(this._allPagesRecordsCountRequestCancel$,this._destroyed$)),(0,p.catchError)(()=>(this._disableAllPagesSelection({unselectAllRecords:!1}),S.EMPTY)),(0,p.map)(i=>i[0].Count)).subscribe(i=>this._setAllPagesRecordsCount(i))}_loadIsAnyRecordExist(t){const n=this._createAllFilteredIdsEsq();return n.rowCount=1,t(n),this._queryExecutor.executeSelectQuery(n).pipe((0,p.takeUntil)(this._destroyed$),this._handleRequest({maskDelay:0}),(0,p.map)(i=>i.length===1),(0,p.catchError)(()=>(0,S.of)(!0)),(0,p.shareReplay)())}_clearNotLoadedRecordsCachedInfo(){this._isAnyNotLoadedRecordSelected$=null,this._isAnyNotLoadedRecordUnselected$=null}_loadIsAnyNotLoadedRecordSelected(){return this._isAnyNotLoadedRecordSelected$??(this._isAnyNotLoadedRecordSelected$=this._loadIsAnyRecordExist(t=>t.filters.addSchemaColumnInFilterWithParameters(l.ComparisonType.Equal,this._getPrimaryColumnName(),this.selectedIds)))}_loadIsAnyNotLoadedRecordUnselected(){return this._isAnyNotLoadedRecordUnselected$??(this._isAnyNotLoadedRecordUnselected$=this._loadIsAnyRecordExist(t=>t.filters.addSchemaColumnInFilterWithParameters(l.ComparisonType.Not_equal,this._getPrimaryColumnName(),this.selectedIds)))}_loadAllPagesSelectedIds(){const t=this._getPrimaryColumnName(),n=this._getLoadedRecordIds().filter(i=>this._allPagesUnselectedIds.has(i));return this._queryExecutor.executeSelectQuery(this._createAllFilteredIdsEsq()).pipe((0,p.takeUntil)(this._destroyed$),this._handleRequest(),(0,p.map)(i=>i.map(a=>a[t])),(0,p.map)(i=>i.filter(a=>!n.includes(a))))}_actualizeAllRowsSelectState(){let t;const n=this._getLoadedRecordIds(),i=n.length>0&&n.some(s=>this.selectedIds.includes(s)),a=i&&n.every(s=>this.selectedIds.includes(s));return this.selectedIds.length===0||!i&&this._allPagesWasLoaded?t=(0,S.of)(k.TableAllRowsSelectState.None):a&&(this._allPagesWasLoaded||this._allPagesSelectionEnabled)?t=(0,S.of)(k.TableAllRowsSelectState.All):i&&!a?t=(0,S.of)(k.TableAllRowsSelectState.Intermediate):t=i?this._loadIsAnyNotLoadedRecordUnselected().pipe((0,p.map)(s=>s?k.TableAllRowsSelectState.Intermediate:k.TableAllRowsSelectState.All)):this._loadIsAnyNotLoadedRecordSelected().pipe((0,p.map)(s=>s?k.TableAllRowsSelectState.Intermediate:k.TableAllRowsSelectState.None)),t.subscribe(s=>this._allRowsSelectState=s),t}_unselectNotLoadedRecords(){const t=this._getPrimaryColumnName(),n=this._createAllFilteredIdsEsq();n.filters.addSchemaColumnInFilterWithParameters(l.ComparisonType.Equal,t,this.selectedIds);const i=this._queryExecutor.executeSelectQuery(n).pipe(this._handleRequest(),(0,p.takeUntil)((0,S.merge)(this._destroyed$)),(0,p.map)(a=>a.map(s=>s[t])),(0,p.catchError)(()=>(0,S.of)([])),(0,p.share)());return i.subscribe(a=>{this.selectedIds=this.selectedIds.filter(s=>!a.includes(s))}),i}_toggleLoadedRecordsSelection(t){const n=this._getLoadedRecordIds();t===k.TableAllRowsSelectState.None?this.selectedIds=this.selectedIds.filter(i=>!n.includes(i)):this.selectedIds=[...new Set(this.selectedIds.concat(n))]}_toggleAllPagesSelectionIfRequired(t){const n=!this._allPagesSelectionEnabled&&this.selectedIds.length>0&&t===k.TableAllRowsSelectState.All&&!this._allPagesWasLoaded,i=this._allPagesSelectionEnabled&&t===k.TableAllRowsSelectState.None;return n?(this._enableAllPagesSelection(),!0):i?(this._disableAllPagesSelection({unselectAllRecords:!0}),!1):null}_allRowsSelectToggle(){const t=this._allRowsSelectState===k.TableAllRowsSelectState.All?k.TableAllRowsSelectState.None:k.TableAllRowsSelectState.All;this._allRowsSelectState=t,this._toggleLoadedRecordsSelection(t),this._canExistNotLoadedSelectedRecords(t)?(this._loadedSelectedCount=null,this._unselectNotLoadedRecords().subscribe(()=>this._actualizeLoadedSelectedCount())):this._actualizeLoadedSelectedCount(),this._toggleAllPagesSelectionIfRequired(t)===null&&this._allPagesSelectionEnabled&&(this._allPagesUnselectedIds.clear(),this._calculateAllPagesSelectedCount())}_resetSelectionOnFilterChanged(){this._allPagesSelectionEnabled&&this._disableAllPagesSelection({unselectAllRecords:!0}),this.selectMode!=="multi"&&(this.selectedIds=[]),this._setAllPagesRecordsCount(null),this._allRowsSelectState=null}_closeWithSelection(t){const n=this._getPrimaryColumnName();this._dialogRef.close({selectedIds:t,selectedRecords:this._loadedRecords.filter(i=>t.includes(i[n]))})}getDialogTitle(){if(!this._entitySchema)return"";const t=this._translateService.instant("LookupDialog.TitleTemplate");return yn.String.Format(t,this._entitySchema.caption)}ngOnDestroy(){this._destroyed$.next()}onFilterChanged(t){this._resetSelectionOnFilterChanged(),this._quickEntityFilter=t,this._applyIncomingFilter()}onEntityRecordsLoaded({data:t,isLastPage:n}){if(this._loadedRecords=t,this._clearNotLoadedRecordsCachedInfo(),this._actualizeDefaultBlankslateVisibility(t),this._allPagesWasLoaded=n,this._allPagesSelectionEnabled){const i=this._getPrimaryColumnName();this.selectedIds=t.map(a=>a[i]).filter(a=>!this._allPagesUnselectedIds.has(a)),this._actualizeLoadedSelectedCount(),n&&this._disableAllPagesSelection({unselectAllRecords:!1})}!this._allRowsSelectState&&this.selectMode==="multi"&&this._actualizeAllRowsSelectState()}isAnyRecordSelected(){return this.displayedSelectedRecordsCount>0}onRowDoubleClick(t){if(this.selectMode!=="single")return;const n=this._getPrimaryColumnName();this._dialogRef.close({selectedIds:[t[n]],selectedRecords:[t]})}closeWithCurrentSelection(){this._allPagesSelectionEnabled?this._confirmAllPagesSelection().pipe((0,p.filter)(t=>t),(0,p.mergeMap)(()=>this._loadAllPagesSelectedIds())).subscribe(t=>this._closeWithSelection(t)):this._closeWithSelection(this.selectedIds)}onSelectedIdsChange(){this._allPagesSelectionEnabled?(this._actualizeAllPagesUnselectedIds(),this._calculateAllPagesSelectedCount()):this._actualizeLoadedSelectedCount(),this._actualizeAllRowsSelectState()}static{this.\u0275fac=function(n){return new(n||yt)(e.\u0275\u0275directiveInject(I.MAT_LEGACY_DIALOG_DATA),e.\u0275\u0275directiveInject(I.MatLegacyDialogRef),e.\u0275\u0275directiveInject(h.EntitySchemaService),e.\u0275\u0275directiveInject(h.RestHandler),e.\u0275\u0275directiveInject(E.TranslateService),e.\u0275\u0275directiveInject(Hn.QueryExecutor),e.\u0275\u0275directiveInject(b.DialogService))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:yt,selectors:[["ts-lookup-dialog"]],decls:20,vars:12,consts:[["blankslateWithFilters",""],["mat-dialog-title",""],["mat-icon-button","",1,"close-dialog",3,"mat-dialog-close"],["svgIcon","close",1,"close-button-icon"],[1,"lookup-dialog-top-panel"],[1,"dialog-filters"],[3,"entitySchema","valueChange",4,"ngIf"],["class","counter-container",4,"ngIf"],["mat-dialog-content",""],[3,"config","selectedIds","dataChange","selectedIdsChange","rowDoubleClick",4,"ngIf"],["class","lookup-dialog-blank-slate",4,"ngIf"],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-flat-button","","color","primary",3,"click","disabled"],[3,"valueChange","entitySchema"],[1,"counter-container"],[1,"counter-label"],[1,"lookup-dialog-counter-value-wrapper"],[1,"counter-value",3,"ngClass"],["diameter","18",4,"ngIf"],["diameter","18"],[3,"dataChange","selectedIdsChange","rowDoubleClick","config","selectedIds"],[1,"lookup-dialog-blank-slate"],[4,"ngIf","ngIfElse"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"div",1)(1,"div")(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",2),e.\u0275\u0275element(5,"mat-icon",3),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(6,"div",4)(7,"div",5),e.\u0275\u0275template(8,lo,1,1,"ts-quick-entity-filter",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,uo,8,8,"div",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",8),e.\u0275\u0275template(11,po,1,2,"ts-entity-data-view",9)(12,ho,4,2,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"div",11)(14,"button",12),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"button",13),e.\u0275\u0275listener("click",function(){return i.closeWithCurrentSelection()}),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275elementEnd()()),n&2&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.getDialogTitle()),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",i.entitySchema),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",i.selectMode==="multi"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.entitySchema),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",i.defaultBlankslateVisible),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(16,8,"LookupDialog.CancelButton")),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!i.isAnyRecordSelected()),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(19,10,"LookupDialog.SelectButton")))},dependencies:[c.NgClass,c.NgIf,Pe,x.MatLegacyButton,I.MatLegacyDialogClose,I.MatLegacyDialogTitle,I.MatLegacyDialogContent,I.MatLegacyDialogActions,C.MatIcon,Et.MatLegacyProgressSpinner,gt,E.TranslatePipe],styles:["[_nghost-%COMP%]{padding:4px 10px;width:834px;max-width:100%;min-width:420px;box-sizing:border-box}.counter-container[_ngcontent-%COMP%]{display:flex;align-items:baseline}.counter-container[_ngcontent-%COMP%]   .counter-label[_ngcontent-%COMP%]{font-size:13px;color:#757575;margin-right:4px}.counter-container[_ngcontent-%COMP%]   .lookup-dialog-counter-value-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.counter-container[_ngcontent-%COMP%]   .lookup-dialog-counter-value-wrapper[_ngcontent-%COMP%]   .counter-value[_ngcontent-%COMP%]{font-size:14px;color:#444}.counter-container[_ngcontent-%COMP%]   .lookup-dialog-counter-value-wrapper[_ngcontent-%COMP%]   .counter-value.lookup-dialog-counter-value-hidden[_ngcontent-%COMP%]{visibility:hidden;width:0}[mat-dialog-content][_ngcontent-%COMP%]{max-height:55vh!important;min-height:267px;height:862px}[mat-dialog-content][_ngcontent-%COMP%]   .lookup-dialog-blank-slate[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:14px;color:#999;text-align:center;padding-top:22px}[mat-dialog-actions][_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}"]})}}class Re{constructor(t){this._dialogService=t,this._defaultTableConfig={headerSticky:!0}}_createTableConfig(t){return{...this._defaultTableConfig,...t}}openWithMultiselect(t){const n={lookupDialogConfig:t,tableConfig:this._createTableConfig({selectMode:"multi"}),gtmData:null};return this._dialogService.open(yt,{data:n}).pipe((0,p.map)(i=>({selectedIds:i?.selectedIds})))}open(t){const n={lookupDialogConfig:t,tableConfig:this._createTableConfig({selectMode:"single"}),gtmData:null};return this._dialogService.open(yt,{data:n}).pipe((0,p.map)(i=>({selectedId:i?.selectedIds[0],selectedRecord:i?.selectedRecords[0]})))}static{this.\u0275fac=function(n){return new(n||Re)(e.\u0275\u0275inject(b.DialogService))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:Re,factory:Re.\u0275fac})}}class J{static{this.\u0275fac=function(n){return new(n||J)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:J})}static{this.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.CommonModule,k.TableCdkModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(J,{declarations:[Pe],imports:[c.CommonModule,k.TableCdkModule],exports:[Pe]})})();class ne{static{this.\u0275fac=function(n){return new(n||ne)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:ne})}static{this.\u0275inj=e.\u0275\u0275defineInjector({providers:[Re],imports:[c.CommonModule,b.DialogModule,J,L.MatLegacyAutocompleteModule,x.MatLegacyButtonModule,I.MatLegacyDialogModule,M.MatLegacyFormFieldModule,C.MatIconModule,T.MatLegacyInputModule,Et.MatLegacyProgressSpinnerModule,Y,E.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(ne,{declarations:[yt,gt],imports:[c.CommonModule,b.DialogModule,J,L.MatLegacyAutocompleteModule,x.MatLegacyButtonModule,I.MatLegacyDialogModule,M.MatLegacyFormFieldModule,C.MatIconModule,T.MatLegacyInputModule,Et.MatLegacyProgressSpinnerModule,Y,E.TranslateModule]})})();class fo{}class yo{}function _o(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-checkbox",6),e.\u0275\u0275twoWayListener("ngModelChange",function(a){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275twoWayBindingSet(s.innerValue,a)||(s.innerValue=a),e.\u0275\u0275resetView(a)}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(o&2){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275twoWayProperty("ngModel",n.innerValue),e.\u0275\u0275property("disabled",n.disabled),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(n.label)}}function Co(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(a.openSelectLookupValueDialog())}),e.\u0275\u0275element(1,"mat-icon",12),e.\u0275\u0275elementEnd()}}function Mo(o,t){o&1&&e.\u0275\u0275element(0,"mat-icon",13)}function So(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",7)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"input",8),e.\u0275\u0275template(4,Co,2,0,"button",9)(5,Mo,1,0,"mat-icon",10),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.label),e.\u0275\u0275advance(),e.\u0275\u0275property("value",n.getLookupDisplayValue())("required",n.required),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!n.disabled),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.disabled)}}function Io(o,t){o&1&&e.\u0275\u0275element(0,"mat-icon",13)}function vo(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-form-field",7)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"input",14),e.\u0275\u0275twoWayListener("ngModelChange",function(a){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275twoWayBindingSet(s.innerValue,a)||(s.innerValue=a),e.\u0275\u0275resetView(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Io,1,0,"mat-icon",10),e.\u0275\u0275elementEnd()}if(o&2){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.label),e.\u0275\u0275advance(),e.\u0275\u0275twoWayProperty("ngModel",n.innerValue),e.\u0275\u0275property("required",n.required)("disabled",n.disabled),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.disabled)}}function xo(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"textarea",14),e.\u0275\u0275twoWayListener("ngModelChange",function(a){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275twoWayBindingSet(s.innerValue,a)||(s.innerValue=a),e.\u0275\u0275resetView(a)}),e.\u0275\u0275elementEnd()}if(o&2){const n=e.\u0275\u0275nextContext(3);e.\u0275\u0275twoWayProperty("ngModel",n.innerValue),e.\u0275\u0275property("required",n.required)("disabled",n.disabled)}}function bo(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-form-field",7)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,xo,1,3,"textarea",15),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.label),e.\u0275\u0275advance(),e.\u0275\u0275property("ngSwitchCase",n.inputTypes.LongText)}}function Do(o,t){o&1&&e.\u0275\u0275element(0,"mat-icon",13)}function wo(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-form-field",7)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"ts-datetime-picker",17),e.\u0275\u0275twoWayListener("ngModelChange",function(a){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275twoWayBindingSet(s.innerValue,a)||(s.innerValue=a),e.\u0275\u0275resetView(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,Do,1,0,"mat-icon",10),e.\u0275\u0275elementEnd()}if(o&2){const n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.label),e.\u0275\u0275advance(),e.\u0275\u0275twoWayProperty("ngModel",n.innerValue),e.\u0275\u0275property("label",n.label)("required",n.required)("disabled",n.disabled)("type",n.getDatetimePickerType()),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.disabled)}}function To(o,t){o&1&&e.\u0275\u0275element(0,"mat-icon",13)}function Eo(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-form-field",7)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"ts-number-input",18),e.\u0275\u0275twoWayListener("ngModelChange",function(a){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext(3);return e.\u0275\u0275twoWayBindingSet(s.innerValue,a)||(s.innerValue=a),e.\u0275\u0275resetView(a)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,To,1,0,"mat-icon",10),e.\u0275\u0275elementEnd()}if(o&2){const n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.label),e.\u0275\u0275advance(),e.\u0275\u0275twoWayProperty("ngModel",n.innerValue),e.\u0275\u0275property("required",n.required)("disabled",n.disabled)("precision",n.getNumberInputPrecision())("maxValue",n.numberMaxValue),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.disabled)}}function No(o,t){if(o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,wo,5,7,"mat-form-field",16)(2,Eo,5,7,"mat-form-field",16),e.\u0275\u0275elementContainerEnd()),o&2){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.useDatepicker()),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",n.useNumberInput())}}function ko(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",1),e.\u0275\u0275elementContainerStart(1,2),e.\u0275\u0275template(2,_o,2,3,"mat-checkbox",3)(3,So,6,5,"mat-form-field",4)(4,vo,5,5,"mat-form-field",4)(5,bo,4,2,"mat-form-field",4)(6,No,3,2,"ng-container",5),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass","input-type-"+n.inputTypes[n.inputType].toLowerCase()),e.\u0275\u0275advance(),e.\u0275\u0275property("ngSwitch",n.inputType),e.\u0275\u0275advance(),e.\u0275\u0275property("ngSwitchCase",n.inputTypes.Boolean),e.\u0275\u0275advance(),e.\u0275\u0275property("ngSwitchCase",n.inputTypes.Lookup),e.\u0275\u0275advance(),e.\u0275\u0275property("ngSwitchCase",n.inputTypes.Text),e.\u0275\u0275advance(),e.\u0275\u0275property("ngSwitchCase",n.inputTypes.LongText)}}var F;(function(o){o[o.Boolean=0]="Boolean",o[o.Integer=1]="Integer",o[o.Float=2]="Float",o[o.Date=3]="Date",o[o.Time=4]="Time",o[o.DateTime=5]="DateTime",o[o.Lookup=6]="Lookup",o[o.Text=7]="Text",o[o.LongText=8]="LongText"})(F||(F={}));const ui={[F.Boolean]:[l.DataValueType.Boolean],[F.Integer]:[l.DataValueType.Integer],[F.Float]:[l.DataValueType.Float,l.DataValueType.FLOAT1,l.DataValueType.FLOAT2,l.DataValueType.FLOAT3,l.DataValueType.FLOAT4,l.DataValueType.FLOAT8,l.DataValueType.Money],[F.Date]:[l.DataValueType.Date],[F.Time]:[l.DataValueType.Time],[F.DateTime]:[l.DataValueType.DateTime],[F.Lookup]:[l.DataValueType.Lookup],[F.Text]:[l.DataValueType.Text,l.DataValueType.SHORT_TEXT,l.DataValueType.PHONE_TEXT,l.DataValueType.WEB_TEXT,l.DataValueType.EMAIL_TEXT,l.DataValueType.MEDIUM_TEXT,l.DataValueType.Color,l.DataValueType.RICH_TEXT],[F.LongText]:[l.DataValueType.LONG_TEXT,l.DataValueType.MAXSIZE_TEXT]};class Gt extends b.BaseMaterialInput{get column(){return this._column}set column(t){this._specifyInputType(t),this._column=t}get inputType(){return this._inputType}get numberMaxValue(){return this._column?.dataValueType===l.DataValueType.Integer?this._integerMaxValue:this._floatMaxValue}constructor(t,n,i,a,s,r,y,N,A){super(t,n,i),this._entitySchemaService=a,this._lookupDialogService=s,this._restErrorHandler=r,this._maskService=y,this._matIconRegistry=N,this._domSanitizer=A,this._integerMaxValue=2147483647,this._floatMaxValue=1175494351e29,this.inputTypes=F,this._registerIcons()}_specifyInputType(t){const n=Object.keys(ui).find(i=>ui[i].includes(t.dataValueType));this._inputType=n?parseInt(n):null}_registerIcons(){this._matIconRegistry.addSvgIconLiteral("read-only",this._domSanitizer.bypassSecurityTrustHtml(u(75670)))}_getLookupDialogConfig(t){const n=this.innerValue;return{entitySchema:t,displayedColumns:null,selectedIds:n?.value?[n.value]:null}}_setLookupValue(t,n){if(!n.selectedRecord)return;const i=t.getPrimaryDisplayColumn();this.innerValue={value:n.selectedId,displayValue:i?n.selectedRecord[i.name]:n.selectedId}}focusElementViaMouse(){}initMonitors(){}useDatepicker(){return[F.Date,F.Time,F.DateTime].includes(this._inputType)}getDatetimePickerType(){return{[l.DataValueType.Date]:"date",[l.DataValueType.Time]:"time",[l.DataValueType.DateTime]:"datetime"}[this._column.dataValueType]}useNumberInput(){return[F.Integer,F.Float].includes(this._inputType)}getNumberInputPrecision(){return{[l.DataValueType.Integer]:0,[l.DataValueType.Float]:2,[l.DataValueType.FLOAT1]:1,[l.DataValueType.FLOAT2]:2,[l.DataValueType.FLOAT3]:3,[l.DataValueType.FLOAT4]:4,[l.DataValueType.FLOAT8]:8,[l.DataValueType.Money]:2}[this._column.dataValueType]}openSelectLookupValueDialog(){this._maskService.showBodyMask();let t;this._restErrorHandler.handleRequest(this._entitySchemaService.getEntitySchemaByUId(this._column.referenceSchemaUId)).pipe((0,p.tap)(n=>{this._maskService.hideBodyMask(),t=n.entitySchema}),(0,p.mergeMap)(n=>this._lookupDialogService.open(this._getLookupDialogConfig(n.entitySchema)))).subscribe(n=>this._setLookupValue(t,n))}getLookupDisplayValue(){const t=this.innerValue;return t?.displayValue??t?.value??""}static{this.\u0275fac=function(n){return new(n||Gt)(e.\u0275\u0275directiveInject(m.NgControl,10),e.\u0275\u0275directiveInject(fn.AutofillMonitor),e.\u0275\u0275directiveInject(hn.FocusMonitor),e.\u0275\u0275directiveInject(h.EntitySchemaService),e.\u0275\u0275directiveInject(Re),e.\u0275\u0275directiveInject(h.RestErrorHandler),e.\u0275\u0275directiveInject(b.MaskService),e.\u0275\u0275directiveInject(C.MatIconRegistry),e.\u0275\u0275directiveInject(q.DomSanitizer))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:Gt,selectors:[["ts-entity-column-value-input"]],inputs:{column:"column",label:"label"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["class","entity-column-value-input-wrapper",3,"ngClass",4,"ngIf"],[1,"entity-column-value-input-wrapper",3,"ngClass"],[3,"ngSwitch"],[3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["floatLabel","always",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngModelChange","ngModel","disabled"],["floatLabel","always"],["matInput","","type","text","disabled","true",3,"value","required"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["matSuffix","","svgIcon","read-only",4,"ngIf"],["matSuffix","","mat-icon-button","",3,"click"],["svgIcon","search"],["matSuffix","","svgIcon","read-only"],["matInput","","type","text",3,"ngModelChange","ngModel","required","disabled"],["matInput","","type","text",3,"ngModel","required","disabled","ngModelChange",4,"ngSwitchCase"],["floatLabel","always",4,"ngIf"],[3,"ngModelChange","ngModel","label","required","disabled","type"],[3,"ngModelChange","ngModel","required","disabled","precision","maxValue"]],template:function(n,i){n&1&&e.\u0275\u0275template(0,ko,7,6,"div",0),n&2&&e.\u0275\u0275property("ngIf",i.inputType!==null)},dependencies:[c.NgClass,c.NgIf,c.NgSwitch,c.NgSwitchCase,c.NgSwitchDefault,m.DefaultValueAccessor,m.NgControlStatus,m.RequiredValidator,m.NgModel,Fe,x.MatLegacyButton,O.MatLegacyCheckbox,M.MatLegacyFormField,M.MatLegacyLabel,M.MatLegacySuffix,C.MatIcon,T.MatLegacyInput,ce],styles:[`ts-entity-column-value-input .entity-column-value-input-wrapper{display:flex;align-items:center}ts-entity-column-value-input .entity-column-value-input-wrapper:not(.input-type-longtext){height:44px}ts-entity-column-value-input .entity-column-value-input-wrapper.input-type-lookup button[matsuffix]{height:25px;width:25px}ts-entity-column-value-input .entity-column-value-input-wrapper.input-type-lookup button[matsuffix] mat-icon{height:16px;width:16px}ts-entity-column-value-input .entity-column-value-input-wrapper mat-form-field{width:100%}ts-entity-column-value-input .entity-column-value-input-wrapper mat-form-field textarea{min-height:calc(1em + 1px)}
`],encapsulation:2})}}class ie{static{this.\u0275fac=function(n){return new(n||ie)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:ie})}static{this.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.CommonModule,m.FormsModule,Z,x.MatLegacyButtonModule,O.MatLegacyCheckboxModule,M.MatLegacyFormFieldModule,C.MatIconModule,T.MatLegacyInputModule,be]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(ie,{declarations:[Gt],imports:[c.CommonModule,m.FormsModule,Z,x.MatLegacyButtonModule,O.MatLegacyCheckboxModule,M.MatLegacyFormFieldModule,C.MatIconModule,T.MatLegacyInputModule,be],exports:[Gt]})})();const Lo=(o,t)=>({"forecast-hint-content":o,"forecast-hint-content-rtl":t});class _t{set hintConfig(t){this._hintConfig!==t&&(this._hintConfig=t)}get hintConfig(){return this._hintConfig}get cssClasses(){return this._hintConfig?.cssClasses||this._defaultCssClass}constructor(t){this._directionality=t,this._defaultCssClass="simple-hint"}isRtl(){return this._directionality.value==="rtl"}static{this.\u0275fac=function(n){return new(n||_t)(e.\u0275\u0275directiveInject(Vt.Directionality))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:_t,selectors:[["ts-simple-hint"]],inputs:{hintConfig:"hintConfig"},decls:4,vars:8,consts:[[1,"simple-hint-value",3,"ngClass"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"div")(1,"span",0),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"br"),e.\u0275\u0275elementEnd()),n&2&&(e.\u0275\u0275classMap(i.cssClasses),e.\u0275\u0275advance(),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(5,Lo,!i.isRtl(),i.isRtl())),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",i.hintConfig==null?null:i.hintConfig.displayValue," "))},dependencies:[c.NgClass],styles:['.simple-hint[_ngcontent-%COMP%]{margin:15px 30px;min-width:60px;max-width:300px;display:inline-block;align-items:center;background:#fff;border-top:4px solid;position:relative;min-height:50px;padding:10px;text-align:left;box-shadow:#0000004d 0 0 .6em .02em;-moz-box-shadow:rgba(0,0,0,.3) 0 0 .2em;-webkit-box-shadow:rgba(0,0,0,.3) 0 0 .2em;font-size:13px;border-top-color:#20c964}.simple-hint[_ngcontent-%COMP%]   .simple-hint-content[_ngcontent-%COMP%]{direction:ltr}.simple-hint[_ngcontent-%COMP%]   .simple-hint-content-rtl[_ngcontent-%COMP%]{direction:ltr;text-align:right}.simple-hint[_ngcontent-%COMP%]:before{border-color:transparent transparent #20c964 transparent}.simple-hint[_ngcontent-%COMP%]:after, .simple-hint[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:0;height:0;border-style:solid}.simple-hint[_ngcontent-%COMP%]:after{left:calc(50% - 6px);top:-12px;border-color:transparent transparent #fff transparent;border-width:6px}.simple-hint[_ngcontent-%COMP%]:before{left:calc(50% - 7px);top:-17px;border-width:7px}']})}}class Yt{static{this.\u0275fac=function(n){return new(n||Yt)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:Yt})}static{this.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.CommonModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Yt,{declarations:[h.HintOverlayDirective,_t],imports:[c.CommonModule],exports:[h.HintOverlayDirective,_t]})})();function Oo(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"span",7),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(n.data.additionalText)}}function Ao(o,t){if(o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"button",8),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"button",9),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("mat-dialog-close",!1),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,4,"ValidationErrorDialogComponent.Cancel")),e.\u0275\u0275advance(2),e.\u0275\u0275property("mat-dialog-close",!0),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(n.data.continueButtonCaption)}}function jo(o,t){o&1&&(e.\u0275\u0275elementStart(0,"button",8),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),o&2&&(e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"ValidationErrorDialogComponent.Close")))}class Qt{constructor(t){this.data=t}static{this.\u0275fac=function(n){return new(n||Qt)(e.\u0275\u0275directiveInject(I.MAT_LEGACY_DIALOG_DATA))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:Qt,selectors:[["ts-validation-error-dialog"]],decls:11,vars:5,consts:[["withoutContinue",""],["mat-dialog-title",""],["mat-dialog-content",""],["class","validation-dialog-additional-text",4,"ngIf"],[1,"validation-dialog-error"],["mat-dialog-actions",""],[4,"ngIf","ngIfElse"],[1,"validation-dialog-additional-text"],["mat-flat-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(n,i){if(n&1&&(e.\u0275\u0275elementStart(0,"div",1)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div",2),e.\u0275\u0275template(4,Oo,2,1,"span",3),e.\u0275\u0275elementStart(5,"span",4),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",5),e.\u0275\u0275template(8,Ao,6,6,"ng-container",6)(9,jo,3,3,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),n&2){const a=e.\u0275\u0275reference(10);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.data.title),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.data.additionalText),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.data.validationError),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.data.continueButtonCaption)("ngIfElse",a)}},dependencies:[c.NgIf,x.MatLegacyButton,I.MatLegacyDialogClose,I.MatLegacyDialogTitle,I.MatLegacyDialogContent,I.MatLegacyDialogActions,E.TranslatePipe],styles:[`ts-validation-error-dialog{margin:0!important;padding:0 6px;width:720px}ts-validation-error-dialog [mat-dialog-actions]{float:right}ts-validation-error-dialog [mat-dialog-content] .validation-dialog-error,ts-validation-error-dialog [mat-dialog-content] .validation-dialog-additional-text{white-space:pre-wrap}ts-validation-error-dialog [mat-dialog-content] .validation-dialog-error{font-family:monospace;font-size:13px}
`],encapsulation:2})}}var Vo=u(4659),Fo=u(17331);class Po{}class Ro{}class zo extends Fo.MatDialogConfig{}function Sn(o){if(typeof o=="number")return!0;if(typeof o=="string"){const t=Number.parseInt(o);return String(t)===o}return!1}const Uo=["container"],Wn={Primary:{key:"primary",value:"#FFFFFF"}},Bo="transparent",Gn={alignItems:"stretch"};class j extends U.CrtBaseComponent{static{this._baseColors=Object.values(Wn).map(({key:t,value:n})=>({key:t.toLowerCase(),value:n.toLowerCase()}))}set container(t){this._container=t}get container(){return this.featureValues.DisableRemoveDuplicateIDs?this._container:this.elementRef}get isResponsive(){return this.responsiveWidth<Number.MAX_VALUE}get isResponsiveWidth(){return this.elementResponsiveWidth?this.elementWidth<this.elementResponsiveWidth:this.width<this.responsiveWidth}get responsiveWidth(){return 395*this.window.devicePixelRatio}set responsiveWidth(t){throw new Error("responsiveWidth is not supported yet")}constructor(t){super(t),this.injector=t,this.width=Number.MAX_VALUE,this.elementWidth=Number.MAX_VALUE,this.items=[],this.visiblePadding=!0,this.borderRadius=v.SizeEnum.None,this.stretch=!1,this.fitContent=!0,this.elementResponsiveWidth=0,this.window=this.injector.get(Me.WINDOW_TOKEN),this.featureValues=this.injector.get(h.FEATURE_VALUES),this.renderer=this.injector.get(e.Renderer2)}static isBaseColorKey(t){if(t&&typeof t=="string"){const n=t.toLowerCase();return j._baseColors.some(i=>i.key===n)}return!1}static isBaseColorValue(t){if(t&&typeof t=="string"){const n=t.toLowerCase();return j._baseColors.some(i=>i.value===n)}return!1}static getBaseColorKey(t){const n=t.toLowerCase();return j._baseColors.find(i=>i.value===n)?.key}static getBaseColorValue(t){const n=t.toLowerCase();return j._baseColors.find(i=>i.key===n)?.value}_preparePadding(){const{top:t,bottom:n}=this.padding;let{left:i,right:a}=this.padding;return this.isRtl()&&([a,i]=[i,a]),{top:t,bottom:n,left:i,right:a}}_paddingClasses(){const t=[],n=this.padding;if(!n)return t;if((0,D.isObject)(n)){const{top:i,bottom:a,left:s,right:r}=this._preparePadding();return this.applySizeClass("container-padding-top-{0}",i,t),this.applySizeClass("container-padding-bottom-{0}",a,t),this.applySizeClass("container-padding-left-{0}",s,t),this.applySizeClass("container-padding-right-{0}",r,t),t}return this.applySizeClass("container-padding-{0}",n,t),t}_paddingStyles(){const t={},n=this.padding;if(!n)return t;if((0,D.isObject)(n)){const{top:i,bottom:a,left:s,right:r}=this._preparePadding();return this.applySizeStyle("paddingTop",i,t),this.applySizeStyle("paddingBottom",a,t),this.applySizeStyle("paddingLeft",s,t),this.applySizeStyle("paddingRight",r,t),t}return this.applySizeStyle("padding",n,t),t}_borderRadiusClasses(){const t=[],n=this.borderRadius;return n&&n!==v.SizeEnum.None&&(this.applySizeClass("container-border-radius-{0}",n,t),t.push("container-border-area")),t}_borderRadiusStyles(){const t={},n=this.borderRadius;return n&&(Sn(n)?t.borderRadius=`${n}px`:(0,v.isSizeEnum)(n)||(t.borderRadius=n)),t}_colorClasses(){const t=this.color?.toLowerCase(),n=[];return j.isBaseColorKey(t)&&n.push(`container-background-color-${t}`),n}_colorStyles(){const t={};return this.color&&!j.isBaseColorKey(this.color)&&(t.backgroundColor=this.color),t}onScroll(){}applySizeClass(t,n,i){if(typeof n=="string"&&(0,v.isSizeEnum)(n)&&n!==v.SizeEnum.None){const a=yn.String.Format(t,n.toLowerCase());i.push(a)}}onResize(){this.window.requestAnimationFrame(()=>{this.zone.run(()=>{this.isResponsive&&(this.width=this.window.innerWidth,this.elementWidth=this.elementRef.nativeElement.clientWidth,this.updateResponsiveStyles(),this.detectChanges())})})}getClasses(){const t=super.getClasses(),n=this._paddingClasses(),i=this._colorClasses(),a=this._borderRadiusClasses();return[...t,...n,...i,...a]}applySizeStyle(t,n,i){n&&(Sn(n)?i[t]=`${n}px`:typeof n=="string"&&!(0,v.isSizeEnum)(n)&&(i[t]=n))}setValuesFromConfig(t,n=[]){super.setValuesFromConfig(t,["items"])}get containerStyles(){return{...this.styles||{},...this._paddingStyles(),...this._borderRadiusStyles(),...this._colorStyles()}}detectChangesAsync(t=null){this.window.requestAnimationFrame(()=>{setTimeout(()=>{this.detectChanges(),t?.()})})}subscribeResize(){this.resizeObserver=new Vo.A(()=>this.onResize()),this.container&&this.resizeObserver.observe(this.container.nativeElement)}updateResponsiveStyles(){}ngOnInit(){this.visiblePadding=!this.featureValues.HideDesignPadding}ngAfterViewInit(){this.zone=this.injector.get(e.NgZone),this.subscribeResize()}ngOnDestroy(){this.resizeObserver?.disconnect(),this.destroyed$.next(),this.destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||j)(e.\u0275\u0275directiveInject(e.Injector))}}static{this.\u0275dir=e.\u0275\u0275defineDirective({type:j,viewQuery:function(n,i){if(n&1&&e.\u0275\u0275viewQuery(Uo,5),n&2){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.container=a.first)}},hostVars:4,hostBindings:function(n,i){n&1&&e.\u0275\u0275listener("scroll",function(){return i.onScroll()}),n&2&&e.\u0275\u0275classProp("stretch",i.stretch)("fit-content",i.fitContent)},inputs:{items:"items",visiblePadding:"visiblePadding",padding:"padding",borderRadius:"borderRadius",color:"color",responsiveWidth:"responsiveWidth",stretch:"stretch",fitContent:"fitContent",elementResponsiveWidth:"elementResponsiveWidth"},features:[e.\u0275\u0275InheritDefinitionFeature]})}}(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Array)],j.prototype,"items",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Object)],j.prototype,"visiblePadding",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Object)],j.prototype,"padding",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Object)],j.prototype,"borderRadius",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",yn.String)],j.prototype,"color",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Number),(0,d.__metadata)("design:paramtypes",[Object])],j.prototype,"responsiveWidth",null),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Object)],j.prototype,"stretch",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Object)],j.prototype,"fitContent",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Object)],j.prototype,"elementResponsiveWidth",void 0);class Ct extends j{constructor(){super(...arguments),this.slotHTMLElements=[]}setSlotElementStyles(t){t=this.castSlotElements(t.filter(n=>!(n instanceof Comment))),this.applySlotElementStyles(t)}castSlotElements(t){}getItemLayout(t){}castElementStylesToLayoutConfig(t){}applySlotElementStyles(t){t.forEach(n=>{const i=this.getItemLayout(n.layoutConfig);Object.entries(i).forEach(([a,s])=>{const r=(0,D.kebabCase)(a);this.renderer.setStyle(n,r,s)})})}get shouldUseSlots(){return!this.items||!this.items.length}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(Ct)))(i||Ct)}})()}static{this.\u0275dir=e.\u0275\u0275defineDirective({type:Ct,features:[e.\u0275\u0275InheritDefinitionFeature]})}}const Ho=["items"],Wo=["*"];function Go(o,t){o&1&&e.\u0275\u0275elementContainer(0)}function Yo(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"slot",5),e.\u0275\u0275listener("slotchange",function(a){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.slotChange(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275projection(1)}}function Qo(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",7),e.\u0275\u0275elementContainer(1,8),e.\u0275\u0275elementEnd()),o&2){const n=t.$implicit,i=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("ngStyle",i.getItemLayout(n.layoutConfig)),e.\u0275\u0275advance(),e.\u0275\u0275property("crtViewElement",n)}}function Zo(o,t){if(o&1&&e.\u0275\u0275template(0,Qo,2,2,"div",6),o&2){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngForOf",n.items)}}function Jo(o,t){if(o&1&&e.\u0275\u0275template(0,Go,1,0,"ng-container",4)(1,Yo,2,0,"ng-template",null,1,e.\u0275\u0275templateRefExtractor)(3,Zo,1,1,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),o&2){const n=e.\u0275\u0275reference(2),i=e.\u0275\u0275reference(4),a=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",a.shouldUseSlots)("ngIfThen",n)("ngIfElse",i)}}function $o(o,t){o&1&&e.\u0275\u0275elementContainer(0)}function Ko(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",9),e.\u0275\u0275listener("scroll",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onInnerScroll())}),e.\u0275\u0275template(2,$o,1,0,"ng-container",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(o&2){const n=e.\u0275\u0275nextContext(),i=e.\u0275\u0275reference(1);e.\u0275\u0275advance(),e.\u0275\u0275styleProp("flex-direction",n.flexDirection),e.\u0275\u0275property("ngStyle",n.flexStyles)("ngClass",n.classes),e.\u0275\u0275attribute("id",n.id)("flex-direction",n.flexDirection)("role",n.role),e.\u0275\u0275advance(),e.\u0275\u0275property("ngTemplateOutlet",i)}}const pi=(o,t)=>{const n=o.charAt(0).toUpperCase()+o.slice(1);return{caption:`LayoutElements.Flex${n}.Caption`,hint:`LayoutElements.Flex${n}.Hint`,icon:u(95320)(`./flex-${o}-icon.svg`),defaultPropertyValues:{direction:o,items:[],fitContent:!0},position:t}},fe={...Gn,direction:"row",justifyContent:"start",gap:v.SizeEnum.Small};let H=class kn extends Ct{constructor(){super(...arguments),this._containerClasses=[],this.useOldTemplate=!1,this.direction=fe.direction,this.justifyContent=fe.justifyContent,this.alignItems=fe.alignItems,this.gap=fe.gap,this.innerScroll=new e.EventEmitter}get hostClasses(){if(!this.useOldTemplate)return this.classes}get hostRole(){if(!this.useOldTemplate)return this.role}getClasses(){const n=[...super.getClasses(),"crt-flex",...this._gapClasses()].sort();return(0,D.isEqual)(this._containerClasses,n)||(this._containerClasses=n),this._containerClasses}_gapClasses(){const t=[],n=this.gap||fe.gap;return this.applySizeClass("container-gap-{0}",n,t),t}castElementStylesToLayoutConfig(t){const[n,i,a,s,r,y,N,A,Je,En]=["basis","align-self","grow","shrink","width","height","min-width","max-width","min-height","max-height"].map(Nn=>{const er=`layout-config-${Nn}`,xi=t.getAttribute(er);if(xi)return xi});return{basis:n,alignSelf:i,grow:Number(a),shrink:Number(s),width:Number(r),height:Number(y),minWidth:Number(N),maxWidth:Number(A),minHeight:Number(Je),maxHeight:Number(En)}}castSlotElements(t){for(const n of t){const i=this.castElementStylesToLayoutConfig(n);n.layoutConfig=i}return t}get hostFlexStyles(){if(!this.useOldTemplate)return this.flexStyles}get flexStyles(){const t={};t.justifyContent=this.justifyContent||fe.justifyContent,t.alignItems=this.alignItems||fe.alignItems,t.flexWrap=this.wrap||(this.isVertical?"nowrap":"wrap");const n=this.gap;return n&&(Sn(n)?t.gap=n+"px":(0,v.isSizeEnum)(n)||(t.gap=n)),{...this.containerStyles,...t}}get hostFlexDirection(){if(!this.useOldTemplate)return this.direction||this.styles?.flexDirection}get flexDirection(){return this.isVertical?this.direction||this.styles?.flexDirection:this.direction||this.styles?.flexDirection}get isVertical(){return["column","column-reverse"].includes(this.direction)}getItemLayout(t){let n={};return t?.basis&&(t.basis==="fit-content"?this.direction==="column"?n.height="fit-content":n.width="fit-content":n.flexBasis=t.basis),t?.grow!==void 0&&(n.flexGrow=t.grow),t?.shrink!==void 0&&(n.flexShrink=t.shrink),t?.alignSelf&&(n.alignSelf=t.alignSelf),t?.width&&(n.width=`${t.width}px`,n.minWidth=`${t.width}px`),t?.minWidth&&(n.minWidth=`${t.minWidth}px`),t?.maxWidth&&(n.maxWidth=`${t.maxWidth}px`),t?.height&&(n.height=`${t.height}px`,n.minHeight=`${t.height}px`),t?.minHeight&&(n.minHeight=`${t.minHeight}px`),t?.maxHeight&&(n.maxHeight=`${t.maxHeight}px`),t&&t.styles&&(n={...n,...t.styles}),n}ngOnInit(){super.ngOnInit(),this.useOldTemplate=!!this.featureValues.DisableRemoveDuplicateIDs}ngAfterContentInit(){this.children.changes.pipe((0,p.startWith)(this.children),(0,p.takeUntil)(this.destroyed$)).subscribe(()=>{const t=this.children.map(({nativeElement:n})=>n);t?.length&&(this.slotHTMLElements=t,this.setSlotElementStyles(this.slotHTMLElements))})}slotChange(t){const n=t.target.assignedNodes();!n||!n.length||(this.slotHTMLElements=n,this.setSlotElementStyles(this.slotHTMLElements))}onHostInnerScroll(){this.useOldTemplate||this.innerScroll.emit()}onInnerScroll(){this.innerScroll.emit()}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(kn)))(i||kn)}})()}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:kn,selectors:[["crt-flex"]],contentQueries:function(n,i,a){if(n&1&&e.\u0275\u0275contentQuery(a,Ho,4,e.ElementRef),n&2){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(i.children=s)}},hostVars:8,hostBindings:function(n,i){n&1&&e.\u0275\u0275listener("scroll",function(){return i.onHostInnerScroll()}),n&2&&(e.\u0275\u0275attribute("role",i.hostRole)("flex-direction",i.hostFlexDirection),e.\u0275\u0275styleMap(i.hostFlexStyles),e.\u0275\u0275classMap(i.hostClasses),e.\u0275\u0275styleProp("flex-direction",i.hostFlexDirection))},inputs:{direction:"direction",justifyContent:"justifyContent",wrap:"wrap",alignItems:"alignItems",gap:"gap",role:"role"},outputs:{innerScroll:"innerScroll"},features:[e.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Wo,decls:3,vars:2,consts:[["template",""],["slotsTemplate",""],["itemsTemplate",""],[4,"ngIf","ngIfElse"],[4,"ngIf","ngIfThen","ngIfElse"],[3,"slotchange"],["class","crt-view-element-container",3,"ngStyle",4,"ngFor","ngForOf"],[1,"crt-view-element-container",3,"ngStyle"],[3,"crtViewElement"],[3,"scroll","ngStyle","ngClass"],[4,"ngTemplateOutlet"]],template:function(n,i){if(n&1&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275template(0,Jo,5,3,"ng-template",null,0,e.\u0275\u0275templateRefExtractor)(2,Ko,3,8,"ng-container",3)),n&2){const a=e.\u0275\u0275reference(1);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.useOldTemplate)("ngIfElse",a)}},dependencies:[c.NgClass,c.NgForOf,c.NgIf,c.NgTemplateOutlet,c.NgStyle,U.ViewElementDirective],encapsulation:2})}};(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",String)],H.prototype,"direction",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",String)],H.prototype,"justifyContent",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",String)],H.prototype,"wrap",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",String)],H.prototype,"alignItems",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Object)],H.prototype,"gap",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",String)],H.prototype,"role",void 0),(0,d.__decorate)([(0,l.CrtOutput)(),(0,d.__metadata)("design:type",Object)],H.prototype,"innerScroll",void 0),H=(0,d.__decorate)([(0,l.CrtViewElement)({type:"crt.FlexContainer",contentSlots:["items"],reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,l.CrtInterfaceDesignerItem)({toolbarConfig:[pi("row",80),pi("column",90)],designControlConfig:{allowDesignContent:!0},propertiesPanelComponentTypeName:"crt.FlexPropertiesPanel",viewElementGroupType:l.ViewElementGroupType.LayoutElements,typeCaption:"TypeCaptions.FlexContainer"})],H);class ze{constructor(){this._maxGridLayoutRow=1,this._maxColumnsCount=12,this._defaultItemLayout={colSpan:1,row:1,column:1,rowSpan:1},this._defaultRowSpan=1,this._defaultColSpan=6}_applyExplicitPositions(t,n){if(t.every(i=>!i?.layoutConfig)){let i=1,a=1;t.forEach(s=>{const r=s.layoutConfig||{};r.column===void 0&&(r.column=a,a++),r.colSpan===void 0&&(r.colSpan=1),r.row===void 0&&(r.row=i),r.rowSpan===void 0&&(r.rowSpan=1),r.column===1&&r.colSpan===-1&&i++,a>n&&(a=1,i++),s.layoutConfig=r})}return t}_checkBitmapIntersection(t,n){let i,a;for(i=0,a=t.length;i<a;i++)if((t[i]&n[i])>0)return!0;return!1}_calculateBitMask(t,n,i){const a=i-t;return Math.pow(2,a)-Math.pow(2,a-n)}_isEmpty(t){return t==null||t===""||(0,D.isArray)(t)&&t.length===0}_getItemBitmap(t,n){const i=[];if(this._isEmpty(t))return i;const a=t.column,s=t.row,r=t.colSpan||this._defaultColSpan,y=t.rowSpan||this._defaultRowSpan;let N,A;for(N=s,A=s+y;N<A;N++)i[N]=this._calculateBitMask(a,r,n);return i}_setDefaultValue(t,n,i,a){t[i]||(t[i]=a),n[i]||(n[i]=a)}_fixItemIntersect(t,n){const i=t.layoutConfig,a=n.layoutConfig,s=this._tryFixColumns(i,a);let r=!0;return s||(r=this._tryFixRows(i,a)),!s&&!r&&i.row>this._maxGridLayoutRow&&(this._maxGridLayoutRow+=1),!s&&!r&&this._moveDownItem(t),t}_moveDownItem(t){this._maxGridLayoutRow++;const n=t.layoutConfig;n.row=this._maxGridLayoutRow,n.column=1;const i=this._originalItems.find(a=>a.name===t.name);i&&(n.colSpan=i.layoutConfig.colSpan||1)}_tryFixColumns(t,n){return this._setDefaultValue(t,n,"colSpan",this._defaultColSpan),this._calculateNewParameters(t,n,"column","colSpan")}_tryFixRows(t,n){return this._setDefaultValue(t,n,"rowSpan",this._defaultRowSpan),this._calculateNewParameters(t,n,"row","rowSpan")}_calculateNewParameters(t,n,i,a){const s=t[a],r=n[a],y=n[i],N=y+r,A=t[i],Je=A+s,En=y<=A,Nn=En?N-A:Je-y;return s<=Nn?!1:(En&&(t[i]=N),t[a]=s-Nn,!0)}_compareItemsPositions(t,n){const i=t.layoutConfig||(0,D.cloneDeep)(this._defaultItemLayout),a=n.layoutConfig||(0,D.cloneDeep)(this._defaultItemLayout),s=Math.max(i.colSpan||this._defaultColSpan,i.rowSpan||this._defaultRowSpan),r=Math.max(a.colSpan||this._defaultColSpan,a.rowSpan||this._defaultRowSpan);return i.row!==a.row?i.row<a.row?-1:1:s<r||i.column<a.column&&s<=r?-1:1}_getMaxGridLayoutRow(t){const n=t.map(i=>{const a=i.layoutConfig||{},s=a.row||1,r=a.rowSpan||1;return s+r-1});return Math.max(...n)||1}_getMaxColumnsCount(t,n){const i=t.map(a=>{const s=a.layoutConfig||{},r=s.column||1,y=s.colSpan||1;return r+y-1});return Math.max(...i,n,this._maxColumnsCount)}fixItemsOverlap(t,n){this._originalItems=(0,D.cloneDeep)(t);const i=[],a=[];return this._maxGridLayoutRow=this._getMaxGridLayoutRow(t),this._maxColumnsCount=this._getMaxColumnsCount(t,n),[...t].sort((r,y)=>this._compareItemsPositions(r,y)).forEach(r=>{let y=this._getItemBitmap(r.layoutConfig,this._maxColumnsCount);a.forEach(N=>{const A=this._getItemBitmap(N.layoutConfig,this._maxColumnsCount);this._checkBitmapIntersection(A,y)&&(r=this._fixItemIntersect(r,N),y=this._getItemBitmap(r.layoutConfig,this._maxColumnsCount),i.push(r.name))}),a.push(r)}),this._applyExplicitPositions(t,n),{items:t,affectedItems:i}}static{this.\u0275fac=function(n){return new(n||ze)}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:ze,factory:ze.\u0275fac})}}const qo=["items"],Xo=["*"],es=o=>({containerDiv:o});function ts(o,t){o&1&&e.\u0275\u0275elementContainer(0)}function ns(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"slot",7),e.\u0275\u0275listener("slotchange",function(a){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.slotChange(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275projection(1)}}function is(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",9),e.\u0275\u0275elementContainer(1,10),e.\u0275\u0275elementEnd()),o&2){const n=t.$implicit,i=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("ngStyle",i.getItemLayout(n.layoutConfig)),e.\u0275\u0275advance(),e.\u0275\u0275property("crtViewElement",n)}}function as(o,t){if(o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,is,2,2,"div",8),e.\u0275\u0275elementContainerEnd()),o&2){const n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(),e.\u0275\u0275property("ngForOf",n.items)}}function os(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",9),e.\u0275\u0275elementContainer(1,10),e.\u0275\u0275elementEnd()),o&2){const n=t.$implicit,i=e.\u0275\u0275nextContext(4);e.\u0275\u0275property("ngStyle",i.getItemLayout(n.layoutConfig)),e.\u0275\u0275advance(),e.\u0275\u0275property("crtViewElement",n)}}function ss(o,t){if(o&1&&e.\u0275\u0275template(0,os,2,2,"div",8),o&2){const n=e.\u0275\u0275nextContext(2).containerDiv,i=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngForOf",i.fixItemsOverlap(i.items,i.useOldTemplate?n:i.elementRef.nativeElement).items)}}function rs(o,t){if(o&1&&e.\u0275\u0275template(0,as,2,1,"ng-container",5)(1,ss,1,1,"ng-template",null,3,e.\u0275\u0275templateRefExtractor),o&2){const n=e.\u0275\u0275reference(2),i=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("ngIf",i.gridContainerAllowOverlapFeature)("ngIfElse",n)}}function ls(o,t){if(o&1&&e.\u0275\u0275template(0,ts,1,0,"ng-container",6)(1,ns,2,0,"ng-template",null,1,e.\u0275\u0275templateRefExtractor)(3,rs,3,2,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),o&2){const n=e.\u0275\u0275reference(2),i=e.\u0275\u0275reference(4),a=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngIf",a.shouldUseSlots)("ngIfThen",n)("ngIfElse",i)}}function cs(o,t){if(o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",11,4),e.\u0275\u0275elementContainer(3,12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),o&2){const n=e.\u0275\u0275reference(2),i=e.\u0275\u0275nextContext(),a=e.\u0275\u0275reference(1);e.\u0275\u0275advance(),e.\u0275\u0275styleProp("grid-template-columns",i.gridTemplateColumns),e.\u0275\u0275property("ngStyle",i.gridStyles)("ngClass",i.classes),e.\u0275\u0275attribute("id",i.id),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",a)("ngTemplateOutletContext",e.\u0275\u0275pureFunction1(7,es,n))}}const Yn={...Gn,columnsTemplate:"minmax(32px, 1fr)"},Zt=(o,t,n={},i="column")=>{const a=Yn.columnsTemplate,s="minmax(max-content, 32px)",r=new Array(o).fill(a);return{caption:`LayoutElements.Grid${i.charAt(0).toUpperCase()+i.slice(1)}${o}.Caption`,icon:u(33996)(`./grid-${i}-${o}-icon.svg`),defaultPropertyValues:{columns:r,rows:s,gap:{columnGap:v.SizeEnum.Large},items:[],fitContent:!0,...n},position:t}},ds=(o,t)=>{const n={padding:{top:v.SizeEnum.Medium,right:v.SizeEnum.Large,bottom:v.SizeEnum.Medium,left:v.SizeEnum.Large},color:Wn.Primary.key,borderRadius:v.SizeEnum.Medium};return Zt(o,t,n,"area")};let G=class Kn extends Ct{get hostClasses(){if(!this.useOldTemplate)return this.classes}get hostGridStyles(){if(!this.useOldTemplate)return this.gridStyles}get hostGridTemplateColumns(){if(!this.useOldTemplate)return this.gridTemplateColumns}get gridStyles(){const t={};return this.justifyItems&&(t.justifyItems=this.justifyItems),this.alignItems&&(t.alignItems=this.alignItems),this.isResponsiveWidth&&(t.gridTemplateAreas="initial"),{...this.containerStyles,...t,...this._gapStyles(),...this._rowsStyles(),...this._columnsStyles()}}get gridTemplateColumns(){return this.isResponsiveWidth?Yn.columnsTemplate:this.gridStyles.gridTemplateColumns}constructor(t){super(t),this.injector=t,this._containerClasses=[],this.useOldTemplate=!1,this._gridContainerItemsLayoutService=this.injector.get(ze),this.gridContainerAllowOverlapFeature=!!this.featureValues.GridContainerAllowOverlap}_gapStyles(){const t={},n=this.gap;if((0,D.isObject)(n)){const{columnGap:i,rowGap:a}=n;this.applySizeStyle("columnGap",i,t),this.applySizeStyle("rowGap",a,t)}else this.applySizeStyle("gap",this.gap,t);return t}_rowsStyles(){const t={};return this.isResponsiveWidth?t.gridAutoRows="max-content":typeof this.rows=="string"?t.gridAutoRows=this.rows:this.rows instanceof Array&&(t.gridTemplateRows=this.rows.join(" ")),t}_columnsStyles(){const t={};return typeof this.columns=="string"?t.gridAutoColumns=this.columns:this.columns instanceof Array&&(t.gridTemplateColumns=this.columns.join(" ")),t}_gridTemplateColumnsClasses(){const t=[];return this.isResponsiveWidth&&t.push("crt-grid-responsive"),t}_gapClasses(){const t=[],n=this.gap;if(n)if((0,D.isObject)(n)){const{columnGap:i,rowGap:a}=n;this.applySizeClass("container-column-gap-{0}",i,t),this.applySizeClass("container-row-gap-{0}",a,t)}else this.applySizeClass("container-gap-{0}",n,t);return t}_fullLayoutConfig(t){const n={};let i="";t?.column!==void 0&&(i+=t.column),t?.colSpan!==void 0&&(i&&(i+="/"),t.colSpan!==-1&&(i+="span "),i+=t.colSpan);let a="";return t?.row!==void 0&&(a+=t.row),t?.rowSpan!==void 0&&(a&&(a+="/"),t.rowSpan!==-1&&(a+="span "),a+=t.rowSpan),i&&(n.gridColumn=i),a&&(n.gridRow=a),n}_responsiveLayoutConfig(t){const n={},i=t?.rowSpan;return i!==void 0&&i!==-1&&(n.gridRow=`span ${i}`),n}_computedGridColumns(t){return getComputedStyle(t).getPropertyValue("container-template-columns").split(" ")}_applySlotElementsResponsiveStyles(t){for(const n of t){const i=n?.layoutConfig?.rowSpan;i!==void 0&&i!==-1&&(this.renderer.setStyle(n,"grid-row-start",`span ${i}`),this.renderer.setStyle(n,"grid-row-end","auto")),this.renderer.setStyle(n,"grid-column-start","auto"),this.renderer.setStyle(n,"grid-column-end","auto")}}getClasses(){const t=super.getClasses()||[],n=this._gridTemplateColumnsClasses(),i=this._gapClasses(),a=[...t,"crt-grid",...n,...i].sort();return(0,D.isEqual)(this._containerClasses,a)||(this._containerClasses=a),this._containerClasses}applySlotElementStyles(t){if(this.isResponsiveWidth){this._applySlotElementsResponsiveStyles(t);return}super.applySlotElementStyles(t)}castElementStylesToLayoutConfig(t){const[n,i,a,s]=["row","column","row-span","col-span"].map(r=>{const y=`layout-config-${r}`,N=t.getAttribute(y);if(N)return Number(N)});return{row:n,column:i,rowSpan:a,colSpan:s}}castSlotElements(t){for(const n of t)n.layoutConfig=this.castElementStylesToLayoutConfig(n);if(!this.gridContainerAllowOverlapFeature&&this.container?.nativeElement){const n=t.map(i=>({layoutConfig:i.layoutConfig}));this.fixItemsOverlap(n,this.container.nativeElement)}return t}onResize(){super.onResize(),this.shouldUseSlots&&this.window.requestAnimationFrame(()=>{this.zone.run(()=>{this.setSlotElementStyles(this.slotHTMLElements)})})}getItemLayout(t){return t?this.isResponsiveWidth?this._responsiveLayoutConfig(t):this._fullLayoutConfig(t):null}fixItemsOverlap(t,n){let i=[];if(this.allowOverlap!==!0&&t){const a=this._computedGridColumns(n);i=this._gridContainerItemsLayoutService.fixItemsOverlap(t,a.length).affectedItems}return{items:t,affectedItems:i}}slotChange(t){const n=t.target.assignedNodes();!n||!n.length||(this.slotHTMLElements=n,this.setSlotElementStyles(this.slotHTMLElements))}updateResponsiveStyles(){if(this.useOldTemplate)return;const t=this.elementRef.nativeElement;this.isResponsiveWidth?this.renderer.addClass(t,"crt-grid-responsive"):this.renderer.removeClass(t,"crt-grid-responsive"),this.renderer.setStyle(t,"grid-template-areas",this.isResponsiveWidth?"initial":null),this.renderer.setStyle(t,"grid-template-columns",this.gridTemplateColumns??null)}ngOnInit(){super.ngOnInit(),this.useOldTemplate=this.featureValues.DisableRemoveDuplicateIDs}ngAfterContentInit(){this.children.changes.pipe((0,p.startWith)(this.children),(0,p.takeUntil)(this.destroyed$)).subscribe(()=>{const t=this.children.map(({nativeElement:n})=>n);t?.length&&(this.slotHTMLElements=t,this.setSlotElementStyles(this.slotHTMLElements))})}static{this.\u0275fac=function(n){return new(n||Kn)(e.\u0275\u0275directiveInject(e.Injector))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:Kn,selectors:[["crt-grid"]],contentQueries:function(n,i,a){if(n&1&&e.\u0275\u0275contentQuery(a,qo,4,e.ElementRef),n&2){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(i.children=s)}},hostVars:6,hostBindings:function(n,i){n&2&&(e.\u0275\u0275styleMap(i.hostGridStyles),e.\u0275\u0275classMap(i.hostClasses),e.\u0275\u0275styleProp("grid-template-columns",i.hostGridTemplateColumns))},inputs:{rows:"rows",columns:"columns",gap:"gap",justifyItems:"justifyItems",alignItems:"alignItems",allowOverlap:"allowOverlap"},features:[e.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Xo,decls:3,vars:2,consts:[["template",""],["slotsTemplate",""],["itemsTemplate",""],["fixItemsLayoutConfig",""],["container",""],[4,"ngIf","ngIfElse"],[4,"ngIf","ngIfThen","ngIfElse"],[3,"slotchange"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[3,"crtViewElement"],[1,"crt-grid",3,"ngStyle","ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,i){if(n&1&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275template(0,ls,5,3,"ng-template",null,0,e.\u0275\u0275templateRefExtractor)(2,cs,4,9,"ng-container",5)),n&2){const a=e.\u0275\u0275reference(1);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.useOldTemplate)("ngIfElse",a)}},dependencies:[c.NgClass,c.NgForOf,c.NgIf,c.NgTemplateOutlet,c.NgStyle,U.ViewElementDirective],encapsulation:2})}};(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Object)],G.prototype,"rows",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Object)],G.prototype,"columns",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Object)],G.prototype,"gap",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",String)],G.prototype,"justifyItems",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",String)],G.prototype,"alignItems",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Boolean)],G.prototype,"allowOverlap",void 0),G=(0,d.__decorate)([(0,l.CrtViewElement)({type:"crt.GridContainer",contentSlots:["items"],reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,l.CrtInterfaceDesignerItem)({toolbarConfig:[ds(1,40),Zt(1,50),Zt(2,60),Zt(3,70),Zt(4,80)],designControlConfig:{allowDesignContent:!0},propertiesPanelComponentTypeName:"crt.GridPropertiesPanel",viewElementGroupType:l.ViewElementGroupType.LayoutElements,typeCaption:"TypeCaptions.GridContainer"}),(0,d.__metadata)("design:paramtypes",[e.Injector])],G);class Jt{static{this.\u0275fac=function(n){return new(n||Jt)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:Jt,selectors:[["crt-duplicate-ids-container-styles"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:0,vars:0,template:function(n,i){},styles:[`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}.crt-flex,web-flex-container{display:flex;width:100%;height:100%;min-height:0;min-width:0;overflow:auto}@supports (background: -webkit-named-image(i)){.crt-flex,web-flex-container{height:initial}}crt-flex{display:flex;flex-direction:column;min-height:0;min-width:0;overflow:auto}crt-flex.stretch{min-width:0;width:100%}crt-flex.stretch>.crt-flex{min-height:0;min-width:0}crt-flex .crt-flex>.stretch{flex-grow:1}.crt-view-element-container:empty{display:none}
`,`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}crt-grid,web-grid-container{display:block;width:100%;position:relative;min-height:0;min-width:0;overflow:auto}crt-grid>.crt-grid,web-grid-container>.crt-grid{display:grid;width:100%;height:100%;min-height:0;min-width:0;overflow:auto}@supports (background: -webkit-named-image(i)){crt-grid>.crt-grid,web-grid-container>.crt-grid{height:initial}}crt-grid>.crt-grid>*,web-grid-container>.crt-grid>*{min-height:0;min-width:0;overflow:auto}@media screen and (max-width: 600px){.crt-grid:not(.crt-grid-responsive){grid-template-columns:1fr!important}}
`],encapsulation:2})}}class $t{static{this.\u0275fac=function(n){return new(n||$t)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:$t,selectors:[["crt-main-container-styles"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:0,vars:0,template:function(n,i){},styles:[`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}crt-flex{display:flex;flex-direction:column;min-height:0;min-width:0;overflow:auto;box-sizing:border-box}crt-flex.stretch{width:100%}crt-flex>.stretch{flex-grow:1}.crt-view-element-container:empty{display:none}
`,`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}crt-grid{display:grid;width:100%;position:relative;min-height:0;min-width:0;overflow:auto;box-sizing:border-box}crt-grid.crt-grid>*{min-height:0;min-width:0;overflow:auto}@media screen and (max-width: 600px){crt-grid:not(.crt-grid-responsive){grid-template-columns:1fr!important}}
`],encapsulation:2})}}class In{constructor(){this._featureValues=(0,e.inject)(h.FEATURE_VALUES),this._viewContainerRef=(0,e.inject)(e.ViewContainerRef),this._loadContainerStyles()}_loadContainerStyles(){const t=this._featureValues.DisableRemoveDuplicateIDs?Jt:$t;this._componentView=this._viewContainerRef.createComponent(t)}ngOnDestroy(){this._componentView.destroy()}static{this.\u0275fac=function(n){return new(n||In)}}static{this.\u0275dir=e.\u0275\u0275defineDirective({type:In,selectors:[["","crtRemoveDuplicateIDsStyleToggling",""]],standalone:!0})}}function us(o,t){if(o&1&&e.\u0275\u0275elementContainer(0,3),o&2){const n=t.$implicit,i=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("crtViewModel",n)("crtViewElement",i.itemViewConfig)}}function ps(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,us,1,2,"ng-container",2),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngForOf",n.viewModels)}}let ye=class Ln extends U.CrtBaseComponent{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(Ln)))(i||Ln)}})()}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:Ln,selectors:[["ts-component-list"]],inputs:{itemViewConfig:"itemViewConfig",viewModels:"viewModels"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:4,consts:[[1,"ts-component-list",3,"ngStyle","ngClass"],[4,"ngIf"],[3,"crtViewModel","crtViewElement",4,"ngFor","ngForOf"],[3,"crtViewModel","crtViewElement"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,ps,2,1,"div",1),e.\u0275\u0275elementEnd()),n&2&&(e.\u0275\u0275property("ngStyle",i.styles)("ngClass",i.classes),e.\u0275\u0275attribute("id",i.id),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",i.viewModels))},dependencies:[c.NgClass,c.NgForOf,c.NgIf,c.NgStyle,U.ViewModelDirective,U.ViewElementDirective],encapsulation:2})}};(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Object)],ye.prototype,"itemViewConfig",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Se.BaseViewModelCollection)],ye.prototype,"viewModels",void 0),ye=(0,d.__decorate)([(0,l.CrtViewElement)({type:"crt.ComponentList",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],ye);let Ue=class On extends U.CrtBaseComponent{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(On)))(i||On)}})()}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:On,selectors:[["ts-label"]],inputs:{label:"label"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[[1,"ts-label",3,"ngStyle","ngClass"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"label"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),n&2&&(e.\u0275\u0275property("ngStyle",i.styles)("ngClass",i.classes),e.\u0275\u0275attribute("id",i.id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.label))},dependencies:[c.NgClass,c.NgStyle],encapsulation:2})}};(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",String)],Ue.prototype,"label",void 0),Ue=(0,d.__decorate)([(0,l.CrtViewElement)({type:"crt.DeprecatedLabel",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],Ue);let Kt=class An extends U.CrtBaseComponent{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(An)))(i||An)}})()}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:An,selectors:[["ts-list"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:16,vars:3,consts:[[1,"ts-list",3,"ngStyle","ngClass"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"ul")(2,"li"),e.\u0275\u0275text(3,"1 Item"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"li"),e.\u0275\u0275text(5,"2 Item"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"li"),e.\u0275\u0275text(7,"3 Item"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"li"),e.\u0275\u0275text(9,"4 Item"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"li"),e.\u0275\u0275text(11,"5 Item"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"li"),e.\u0275\u0275text(13,"6 Item"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"li"),e.\u0275\u0275text(15,"7 Item"),e.\u0275\u0275elementEnd()()()),n&2&&(e.\u0275\u0275property("ngStyle",i.styles)("ngClass",i.classes),e.\u0275\u0275attribute("id",i.id))},dependencies:[c.NgClass,c.NgStyle],encapsulation:2})}};Kt=(0,d.__decorate)([(0,l.CrtViewElement)({type:"crt.List",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],Kt);const ms=o=>({visible:o}),gs=(o,t)=>({"add-image-button-icon":o,"add-disabled-image-button-icon":t}),mi=()=>{},gi={provide:m.NG_VALUE_ACCESSOR,useExisting:(0,e.forwardRef)(()=>ae),multi:!0};class ae extends U.CrtBaseComponent{set value(t){this._model=t,this.onChange(this._model),this.valueChange.emit(this._model)}get value(){return this._model}constructor(t){super(t),this.required=!1,this.clearButtonVisible=!1,this.label="",this.valueChange=new e.EventEmitter,this.disabled=!1,this.onChange=mi,this.onTouched=mi}get fileName(){return this._model?this._model.name:""}dataQaAttribute(){return this.label.toLowerCase()+"_input"}get isClearButtonVisible(){return this.clearButtonVisible&&!!this._model&&!this.disabled}onFilesSelected(t){t.length!==0&&(this.value=t[0])}clearFile(){this.value=null}writeValue(t){this._model=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}static{this.\u0275fac=function(n){return new(n||ae)(e.\u0275\u0275directiveInject(e.Injector))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:ae,selectors:[["ts-image-input"]],inputs:{value:"value",required:"required",clearButtonVisible:"clearButtonVisible",label:"label",disabled:"disabled"},outputs:{valueChange:"valueChange"},features:[e.\u0275\u0275ProvidersFeature([gi]),e.\u0275\u0275InheritDefinitionFeature],decls:11,vars:18,consts:[["addImageButton",""],["fileInput",""],["floatLabel","always",1,"image-input",3,"hideRequiredMarker","ngStyle","ngClass"],["matInput","",1,"file-name-input",3,"ngModel","disabled","tsDataItemMarker","required"],["matSuffix","","mat-icon-button","","aria-label","Clear",1,"close-button",3,"click","ngClass"],["svgIcon","close"],["mat-icon-button","","matSuffix","",1,"add-image-button",3,"click","disabled","tsDataItemMarker"],[3,"ngClass"],["hidden","","type","file","accept","image/*",3,"change"]],template:function(n,i){if(n&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-form-field",2)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"input",3),e.\u0275\u0275elementStart(4,"button",4),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.clearFile())}),e.\u0275\u0275element(5,"mat-icon",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"button",6),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(a);const r=e.\u0275\u0275reference(10);return e.\u0275\u0275resetView(r.click())}),e.\u0275\u0275element(7,"div",7,0),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"input",8,1),e.\u0275\u0275listener("change",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.onFilesSelected(r.target.files))}),e.\u0275\u0275elementEnd()()}n&2&&(e.\u0275\u0275property("hideRequiredMarker",!0)("ngStyle",i.styles)("ngClass",i.classes),e.\u0275\u0275attribute("id",i.id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.label),e.\u0275\u0275advance(),e.\u0275\u0275property("ngModel",i.fileName)("disabled",!0)("tsDataItemMarker",i.dataQaAttribute())("required",i.required),e.\u0275\u0275advance(),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(13,ms,i.isClearButtonVisible)),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",i.disabled)("tsDataItemMarker","add_image_button_"+i.label),e.\u0275\u0275advance(),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(15,gs,!i.disabled,i.disabled)))},dependencies:[c.NgClass,c.NgStyle,m.DefaultValueAccessor,m.NgControlStatus,m.RequiredValidator,m.NgModel,M.MatLegacyFormField,M.MatLegacyLabel,M.MatLegacySuffix,T.MatLegacyInput,x.MatLegacyButton,C.MatIcon,X],styles:[".add-image-button[_ngcontent-%COMP%]   .add-image-button-icon[_ngcontent-%COMP%]{background:url(add-image-icon.svg) no-repeat;width:16px;height:16px;margin:auto;display:inline-block}.add-image-button[_ngcontent-%COMP%]   .add-disabled-image-button-icon[_ngcontent-%COMP%]{background:url(add-image-disable-icon.svg) no-repeat;width:16px;height:16px;margin:auto;display:inline-block}.close-button[_ngcontent-%COMP%]{visibility:hidden}.image-input[_ngcontent-%COMP%]:hover   .visible[_ngcontent-%COMP%]{visibility:visible}.mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}}(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",File),(0,d.__metadata)("design:paramtypes",[File])],ae.prototype,"value",null),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Object)],ae.prototype,"label",void 0);class qt{static{this.\u0275fac=function(n){return new(n||qt)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:qt})}static{this.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.CommonModule,m.FormsModule,T.MatLegacyInputModule,x.MatLegacyButtonModule,C.MatIconModule,ee]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(qt,{declarations:[ae],imports:[c.CommonModule,m.FormsModule,T.MatLegacyInputModule,x.MatLegacyButtonModule,C.MatIconModule,ee],exports:[ae]})})();const hs=(o,t)=>({expanded:o,collapsed:t});class Mt{constructor(){this._direction="right",this.animationState="initial",this.isExpanded=!1,this.toggle=new e.EventEmitter}set direction(t){this._direction=t}get direction(){return this._direction}set animationDisabled(t){this._animationDisabled=t}get animationDisabled(){return this._animationDisabled}_setDefaultAnimationState(){this.animationState="initial"}_changeAnimationState(t){this.animationState=t}_onMouseEnter(){this.isExpanded||this._changeAnimationState(`slide-${this.direction}`)}_onMouseLeave(){this._changeAnimationState("initial")}onMouseAction(t){if(this.animationDisabled){this._setDefaultAnimationState();return}switch(t){case"enter":this._onMouseEnter();break;case"leave":this._onMouseLeave();break}}onToggle(){this.toggle.emit()}static{this.\u0275fac=function(n){return new(n||Mt)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:Mt,selectors:[["crt-expansion-button"]],inputs:{isExpanded:"isExpanded",direction:"direction",animationDisabled:"animationDisabled"},outputs:{toggle:"toggle"},decls:5,vars:17,consts:[[3,"mouseenter","mouseleave","click","ngClass","title"],["svgIcon","collapse",1,"arrow-icon"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275listener("mouseenter",function(){return i.onMouseAction("enter")})("mouseleave",function(){return i.onMouseAction("leave")})("click",function(){return i.onToggle()}),e.\u0275\u0275elementStart(3,"div"),e.\u0275\u0275element(4,"mat-icon",1),e.\u0275\u0275elementEnd()()),n&2&&(e.\u0275\u0275classMapInterpolate1("expansion-button-wrapper ",i.direction,""),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(14,hs,i.isExpanded,!i.isExpanded))("title",i.isExpanded?e.\u0275\u0275pipeBind1(1,10,"ExpansionButton.CollapseTooltip"):e.\u0275\u0275pipeBind1(2,12,"ExpansionButton.ExpandTooltip")),e.\u0275\u0275advance(3),e.\u0275\u0275classMapInterpolate1("expansion-btn ",i.animationState,""),e.\u0275\u0275advance(),e.\u0275\u0275classProp("reversed",i.isExpanded))},dependencies:[c.NgClass,C.MatIcon,E.TranslatePipe],styles:[`.expansion-button-wrapper{height:40px;display:flex;position:absolute}.expansion-button-wrapper.expanded{width:16px}.expansion-button-wrapper.collapsed{width:29px}.expansion-button-wrapper.left{justify-content:flex-end}.expansion-button-wrapper.left.expanded{left:-4px}.expansion-button-wrapper.left.collapsed{left:-17px}.expansion-button-wrapper.left .expansion-btn{border-radius:8px 0 0 8px}.expansion-button-wrapper.left .expansion-btn .arrow-icon{transform:rotate(0)}.expansion-button-wrapper.left .expansion-btn .arrow-icon.reversed{transform:rotate(180deg)}.expansion-button-wrapper.right{justify-content:flex-start}.expansion-button-wrapper.right.expanded{left:4px}.expansion-button-wrapper.right.collapsed{left:17px}.expansion-button-wrapper.right .expansion-btn{border-radius:0 8px 8px 0}.expansion-button-wrapper.right .expansion-btn .arrow-icon{transform:rotate(180deg)}.expansion-button-wrapper.right .expansion-btn .arrow-icon.reversed{transform:rotate(0)}.expansion-button-wrapper .expansion-btn{display:flex;justify-content:center;align-items:center;height:100%;cursor:pointer;transition:.3s cubic-bezier(.18,.89,.32,1.28)}.expansion-button-wrapper .expansion-btn.initial{width:16px}.expansion-button-wrapper .expansion-btn.slide-left,.expansion-button-wrapper .expansion-btn.slide-right{width:25px}.expansion-button-wrapper .expansion-btn .arrow-icon{height:16px;width:16px}
`],encapsulation:2})}}class Be{constructor(t,n){this._matIconRegistry=t,this._domSanitizer=n,this._registerIcons()}_registerIcons(){["collapse"].forEach(n=>{this._matIconRegistry.addSvgIconLiteral(n,this._domSanitizer.bypassSecurityTrustHtml(u(82084)("./"+n+".svg")))})}static{this.\u0275fac=function(n){return new(n||Be)(e.\u0275\u0275inject(C.MatIconRegistry),e.\u0275\u0275inject(q.DomSanitizer))}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:Be})}static{this.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.CommonModule,C.MatIconModule,E.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Be,{declarations:[Mt],imports:[c.CommonModule,C.MatIconModule,E.TranslateModule],exports:[Mt]})})();const fs=["*"],ys=o=>({show:o});function _s(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-expansion-button",2),e.\u0275\u0275listener("toggle",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onToggle())}),e.\u0275\u0275elementEnd()}if(o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("direction",n.panelConfig==null?null:n.panelConfig.direction)("animationDisabled",n.panelConfig==null?null:n.panelConfig.animationDisabled)("isExpanded",n.isExpanded)}}class St{constructor(){this.isExpanded=!1,this.toggle=new e.EventEmitter}onToggle(){this.toggle.emit()}static{this.\u0275fac=function(n){return new(n||St)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:St,selectors:[["ts-vertical-expansion-panel"]],inputs:{isExpanded:"isExpanded",panelConfig:"panelConfig"},outputs:{toggle:"toggle"},ngContentSelectors:fs,decls:4,vars:7,consts:[["class","expansion-button",3,"direction","animationDisabled","isExpanded","toggle",4,"ngIf"],[1,"panel",3,"ngClass"],[1,"expansion-button",3,"toggle","direction","animationDisabled","isExpanded"]],template:function(n,i){n&1&&(e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,_s,1,3,"crt-expansion-button",0),e.\u0275\u0275elementStart(2,"div",1),e.\u0275\u0275projection(3),e.\u0275\u0275elementEnd()()),n&2&&(e.\u0275\u0275classMapInterpolate1("container button-placement-",i.panelConfig==null?null:i.panelConfig.direction,""),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",i.panelConfig==null?null:i.panelConfig.showToggleButton),e.\u0275\u0275advance(),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(5,ys,i.isExpanded)))},dependencies:[c.NgClass,c.NgIf,Mt],styles:[".container[_ngcontent-%COMP%]{position:relative;height:100%}.expansion-button[_ngcontent-%COMP%]{position:absolute;z-index:3}.button-placement-left[_ngcontent-%COMP%]   .expansion-button[_ngcontent-%COMP%]{right:calc(100% + 10px)}.button-placement-right[_ngcontent-%COMP%]   .expansion-button[_ngcontent-%COMP%]{left:100%}.panel[_ngcontent-%COMP%]{display:none}.panel.show[_ngcontent-%COMP%]{display:flex;height:100%}"],changeDetection:0})}}class He{constructor(t){this._rightsService=t}transform(t,n){return t?this._rightsService.getCanExecuteOperation(n).pipe((0,p.map)(i=>t&&i)):(0,S.of)(!1)}static{this.\u0275fac=function(n){return new(n||He)(e.\u0275\u0275directiveInject(qe.RightsService,16))}}static{this.\u0275pipe=e.\u0275\u0275definePipe({name:"checkOperationPermission",type:He,pure:!0})}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:He,factory:He.\u0275fac,providedIn:"root"})}}class Xt{static{this.\u0275fac=function(n){return new(n||Xt)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:Xt})}static{this.\u0275inj=e.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(Xt,{declarations:[He],exports:[He]})})();class Cs{get photo(){return this._photo||((0,l.isEmptyGuid)(this.photoId)?"":(0,h.getImageFullUrlById)(this.photoId))}set photo(t){this._photo=t}constructor(t,n,i){this.id=t,this.name=n,this.photoId=i}}const Ms=["*"];function Ss(o,t){if(o&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"img",3),e.\u0275\u0275elementContainerEnd()),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275propertyInterpolate("src",n.contact==null?null:n.contact.photo,e.\u0275\u0275sanitizeUrl)}}function Is(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"span",4),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275styleProp("background",n.contactColor),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(n.getInitials())}}class It{constructor(){this.contactClick=new e.EventEmitter}getInitials(){return this.contact&&this.contact.name?this.contact.name.replace(/\s+/g," ").trim().split(" ",2).map(function(n){return n.substr(0,1).toUpperCase()}).join(""):""}contactClicked(){return this.contactClick.emit({contactId:this.contact.id}),!1}static{this.\u0275fac=function(n){return new(n||It)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:It,selectors:[["ts-contact-photo"]],inputs:{contact:"contact",contactColor:"contactColor"},outputs:{contactClick:"contactClick"},ngContentSelectors:Ms,decls:5,vars:2,consts:[["noPhoto",""],[3,"click"],[4,"ngIf","ngIfElse"],["alt","Contact photo",1,"contact-photo",3,"src"],[1,"contact-photo","no-photo"]],template:function(n,i){if(n&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275projectionDef(),e.\u0275\u0275elementStart(0,"div",1),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.contactClicked())}),e.\u0275\u0275template(1,Ss,2,1,"ng-container",2)(2,Is,2,3,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275projection(4),e.\u0275\u0275elementEnd()}if(n&2){const a=e.\u0275\u0275reference(3);e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",i.contact.photo)("ngIfElse",a)}},dependencies:[c.NgIf],styles:[".contact-photo[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;cursor:pointer}.contact-photo.no-photo[_ngcontent-%COMP%]{text-align:center;line-height:2.2em;font-size:14px;display:inline-block;min-width:32px;min-height:32px;color:#fff}"]})}}class vn{constructor(t){this.element=t}_getHash(t){let n=0;for(let i=0;i<t.length;i++)n=t.charCodeAt(i)+((n<<5)-n);return n}_getColor(t){return t?"hsl("+this._getHash(t)%180*2+",50%,50%)":this.defaultColor||"orange"}ngOnInit(){this.element.nativeElement.style.backgroundColor=this._getColor(this.value)}static{this.\u0275fac=function(n){return new(n||vn)(e.\u0275\u0275directiveInject(e.ElementRef))}}static{this.\u0275dir=e.\u0275\u0275defineDirective({type:vn,selectors:[["","tsBackgroundColor",""]],inputs:{value:[e.\u0275\u0275InputFlags.None,"tsBackgroundColor","value"],defaultColor:"defaultColor"}})}}class en{static{this.\u0275fac=function(n){return new(n||en)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:en})}static{this.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.CommonModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(en,{declarations:[It,vn],imports:[c.CommonModule],exports:[It]})})();function vs(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-option",9),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const n=t.$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275property("value",n),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",i.selectDisplayValue(n)," ")}}class tn{constructor(){this.label="",this.selectedItem=null,this.selectedItemChange=new e.EventEmitter,this.list=[],this.fieldFocus=new e.EventEmitter,this.disabled="false"}_filterList(t){t?this.filteredList=this.list.filter(n=>n.displayValue.toLowerCase().indexOf(t.toLowerCase())>=0):this.filteredList=this.list}ngOnInit(){console.warn('Component "ComboboxEditComponent" is deprecated and will removed in future versions'),this.list$&&this.list$.pipe((0,p.map)(t=>this.list=t)).subscribe()}selectDisplayValue(t){return t&&t.displayValue||""}onOptionSelected(t){const n=t.option.value;this.selectedItem=n,this.selectedItemChange.emit(n)}onFieldInput(t){this._filterList(t.target.value)}onFieldFocus(){this.filteredList=this.list,this.fieldFocus.emit()}onAutocompleteClosed(t){this.list.some(i=>i.displayValue.toLowerCase()===t.toLowerCase())||(this.selectedItem=null,this.selectedItemChange.emit(null),this._filterList(""))}static{this.\u0275fac=function(n){return new(n||tn)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:tn,selectors:[["ts-combobox-edit"]],inputs:{label:"label",selectedItem:"selectedItem",list$:"list$",disabled:"disabled"},outputs:{selectedItemChange:"selectedItemChange",fieldFocus:"fieldFocus"},decls:11,vars:6,consts:[["input",""],["auto","matAutocomplete"],["floatLabel","always",1,"combobox-edit"],[1,"combobox-edit-search-input"],["type","text","matInput","","spellcheck","false",3,"input","focus","matAutocomplete","value","disabled"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],[3,"optionSelected","closed","displayWith"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,i){if(n&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-form-field",2)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",3)(4,"input",4,0),e.\u0275\u0275listener("input",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.onFieldInput(r))})("focus",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.onFieldFocus())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275element(7,"div",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"mat-autocomplete",7,1),e.\u0275\u0275listener("optionSelected",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.onOptionSelected(r))})("closed",function(){e.\u0275\u0275restoreView(a);const r=e.\u0275\u0275reference(5);return e.\u0275\u0275resetView(i.onAutocompleteClosed(r.value))}),e.\u0275\u0275template(10,vs,2,2,"mat-option",8),e.\u0275\u0275elementEnd()()()}if(n&2){const a=e.\u0275\u0275reference(9);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.label),e.\u0275\u0275advance(2),e.\u0275\u0275property("matAutocomplete",a)("value",i.selectDisplayValue(i.selectedItem))("disabled",i.disabled),e.\u0275\u0275advance(4),e.\u0275\u0275property("displayWith",i.selectDisplayValue),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",i.filteredList)}},dependencies:[c.NgForOf,L.MatLegacyAutocomplete,L.MatLegacyAutocompleteTrigger,jt.MatLegacyOption,M.MatLegacyFormField,M.MatLegacyLabel,T.MatLegacyInput],styles:[".combobox-edit[_ngcontent-%COMP%]{width:100%}.combobox-edit[_ngcontent-%COMP%]   .combobox-edit-search-input[_ngcontent-%COMP%]{width:100%;display:inline-flex;align-items:center}"]})}}function xs(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-form-field",1)(1,"mat-label"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"input",2),e.\u0275\u0275listener("keydown.enter",function(a){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onEnterKeyDown(a))}),e.\u0275\u0275elementEnd()()}if(o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngStyle",n.styles)("ngClass",n.classes),e.\u0275\u0275attribute("id",n.id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(n.caption),e.\u0275\u0275advance(),e.\u0275\u0275property("formControl",n.value)("value",n.value==null?null:n.value.value)}}let _e=class jn extends U.CrtBaseComponent{constructor(){super(...arguments),this.enterKeyDown=new e.EventEmitter}onEnterKeyDown(t){this.enterKeyDown.next(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(jn)))(i||jn)}})()}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:jn,selectors:[["ts-input"]],inputs:{caption:"caption",value:"value"},outputs:{enterKeyDown:"enterKeyDown"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["class","full-width ts-input","appearance","fill",3,"ngStyle","ngClass",4,"ngIf"],["appearance","fill",1,"full-width","ts-input",3,"ngStyle","ngClass"],["matInput","","autocomplete","off",3,"keydown.enter","formControl","value"]],template:function(n,i){n&1&&e.\u0275\u0275template(0,xs,4,6,"mat-form-field",0),n&2&&e.\u0275\u0275property("ngIf",i.value)},dependencies:[c.NgClass,c.NgIf,c.NgStyle,m.DefaultValueAccessor,m.NgControlStatus,M.MatLegacyFormField,M.MatLegacyLabel,T.MatLegacyInput,m.FormControlDirective],encapsulation:2})}};(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",String)],_e.prototype,"caption",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",m.FormControl)],_e.prototype,"value",void 0),(0,d.__decorate)([(0,l.CrtOutput)(),(0,d.__metadata)("design:type",Object)],_e.prototype,"enterKeyDown",void 0),_e=(0,d.__decorate)([(0,l.CrtViewElement)({type:"crt.DeprecatedInput",formControlConfig:{relatesTo:"value"},reuseStrategy:l.ViewElementReuseStrategy.Reuse})],_e);const bs=6,Qn={[v.SizeEnum.None]:0,[v.SizeEnum.ExtraSmall]:4,[v.SizeEnum.Small]:8,[v.SizeEnum.Medium]:16,[v.SizeEnum.Large]:24},hi=["default-file-icon","file-excel","file-image","file-pdf","file-powerpoint","file-word"],fi=["crt.DataGrid","crt.FileList","crt.ApprovalList"],Ds=[...fi,"crt.Gallery"];var yi=u(49391),We=u(84177),_i=u(80203),xn=u(88763),oe=u(31843);class Ge{constructor(t){this.httpClient=t,this.serviceEndpoint="ServiceModel/RightManagementService.svc/"}saveAdministratedObject(t){const n=this.serviceEndpoint+"SaveAdministratedObject";return this.httpClient.post(n,{administratedObject:t})}getAdministratedObject(t){const n=this.serviceEndpoint+"GetAdministratedObject";return this.httpClient.post(n,{schemaUId:t})}getAdministratedObjects(t){let n;switch(t){case xe.Section:n="GetSectionObjects";break;case xe.Lookup:n="GetLookupObjects";break;case xe.All:default:n="GetAllObjects";break}const i=this.serviceEndpoint+n;return this.httpClient.post(i,null)}getSysAdminUnitList(){if(!this._getSysAdminUnitList$){const t=this.serviceEndpoint+"GetSysAdminUnitList";this._getSysAdminUnitList$=this.httpClient.post(t,null).pipe((0,p.shareReplay)(1)),this._getSysAdminUnitList$.subscribe()}return this._getSysAdminUnitList$}getSysAdminUnitById(t){const n=this.serviceEndpoint+"GetSysAdminUnitById";return this.httpClient.post(n,{sysAdminUnitId:t})}static{this.\u0275fac=function(n){return new(n||Ge)(e.\u0275\u0275inject(_n.HttpClient))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:Ge,factory:Ge.\u0275fac})}}var ws=u(37845);const Ts=["treeScrollWrapper"],Ci=o=>({selected:o});function Es(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-tree-node",5),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(n).$implicit,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onNodeClick(a))}),e.\u0275\u0275element(1,"div",6),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()}if(o&2){const n=t.$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(2,Ci,i.isSelectedNode(n))),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.name," ")}}function Ns(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"mat-tree-node",5),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(n).$implicit,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.onNodeClick(a))}),e.\u0275\u0275element(1,"div",7),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()}if(o&2){const n=t.$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(4,Ci,i.isSelectedNode(n))),e.\u0275\u0275advance(),e.\u0275\u0275property("ngClass",i.treeControl.isExpanded(n)?"minus":"plus"),e.\u0275\u0275attribute("aria-label","toggle "+n.name),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",n.name," ")}}class Mi extends ws.FlatTreeControl{expandParents(t){const n=this.getLevel(t);if(n<1)return;const i=this.dataNodes.indexOf(t)-1;for(let a=i;a>=0;a--){const s=this.dataNodes[a];if(this.getLevel(s)<n){if(this.getDescendants(s).indexOf(t)===-1)continue;if(this.expand(s),this.getLevel(s)===0)break}}}}class vt{constructor(){this.selectedUnitChange=new e.EventEmitter,this.treeControl=new Mi(t=>t.level,t=>t.expandable),this.treeFlattener=new oe.MatTreeFlattener(this._transformNodeToFlatNode,t=>t.level,t=>t.expandable,t=>t.children),this.treeDataSource=new oe.MatTreeFlatDataSource(this.treeControl,this.treeFlattener)}set dataSource(t){this._dataSource!==t&&(this._dataSource=t,this._initTreeDataSource(),this._expandToSysAdminUnit(this.selectedUnit))}set selectedUnit(t){this._selectedUnit!==t&&(this._selectedUnit=t,this._expandToSysAdminUnit(t))}get selectedUnit(){return this._selectedUnit}_createNode(t){return{id:t.id,name:t.name,children:[]}}_transformNodeToFlatNode(t,n){return{id:t.id,name:t.name,expandable:!!(t.children&&t.children.length>0),level:n}}_createTreeDataFromFlatList(t){const n=[],i=[],a=t.map((s,r)=>(i[s.id]=r,this._createNode(s)),this);return t.forEach(s=>{const r=a[i[s.id]];if((0,l.isEmptyGuid)(s.parentRoleId)||s.sysAdminUnitTypeValue===h.SysAdminUnitType.User)n.push(r);else{const y=a[i[s.parentRoleId]];if(!y)return;y.children.push(r)}}),n}_initTreeDataSource(){if(!Array.isArray(this._dataSource)){this.treeDataSource=null;return}this.treeDataSource.data=this._createTreeDataFromFlatList(this._dataSource)}_expandToSysAdminUnit(t){if(!t||!this.treeControl.dataNodes)return;const n=this.treeControl.dataNodes.find(i=>i.id===t.id);n&&(this.treeControl.expandParents(n),setTimeout(()=>this._scrollToItem(t),0))}_scrollToItem(t){const n=this._dataSource.findIndex(s=>s.id===t.id),i=this.treeScrollWrapper.nativeElement,a=i.scrollHeight/this._dataSource.length;i.scrollTop=n*a}hasChildren(t,n){return n.expandable}onNodeClick(t){const n=this._dataSource.find(i=>i.id===t.id);this._selectedUnit=n,this.selectedUnitChange.emit(n)}isSelectedNode(t){return!!(this.selectedUnit&&this.selectedUnit.id===t.id)}static{this.\u0275fac=function(n){return new(n||vt)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:vt,selectors:[["ts-sysadminunit-tree"]],viewQuery:function(n,i){if(n&1&&e.\u0275\u0275viewQuery(Ts,7),n&2){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i.treeScrollWrapper=a.first)}},inputs:{dataSource:"dataSource",selectedUnit:"selectedUnit"},outputs:{selectedUnitChange:"selectedUnitChange"},decls:5,vars:3,consts:[["treeScrollWrapper",""],[1,"tree-wrapper"],[3,"dataSource","treeControl"],["matTreeNodePadding","","matTreeNodePaddingIndent","27",3,"ngClass","click",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodePaddingIndent","27",3,"ngClass","click",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","","matTreeNodePaddingIndent","27",3,"click","ngClass"],[1,"toggle-icon"],["matTreeNodeToggle","",1,"toggle-icon",3,"ngClass"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"div",1,0)(2,"mat-tree",2),e.\u0275\u0275template(3,Es,3,4,"mat-tree-node",3)(4,Ns,3,6,"mat-tree-node",4),e.\u0275\u0275elementEnd()()),n&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("dataSource",i.treeDataSource)("treeControl",i.treeControl),e.\u0275\u0275advance(2),e.\u0275\u0275property("matTreeNodeDefWhen",i.hasChildren))},dependencies:[c.NgClass,oe.MatTreeNodeDef,oe.MatTreeNodePadding,oe.MatTreeNodeToggle,oe.MatTree,oe.MatTreeNode],styles:[".tree-wrapper[_ngcontent-%COMP%]{padding-top:15px;display:block;overflow:auto;max-height:313px}.tree-wrapper[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]{color:#444;line-height:19px;max-height:30px;min-height:30px;white-space:nowrap}.tree-wrapper[_ngcontent-%COMP%]   .mat-tree-node.selected[_ngcontent-%COMP%]{background-color:#f2f5ff}.tree-wrapper[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{width:16px;height:16px;margin-right:14px;margin-top:2px}.tree-wrapper[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{background:url(plus.svg) no-repeat;cursor:pointer}.tree-wrapper[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{background:url(minus.svg) no-repeat;cursor:pointer}"]})}}const ks=["usersListContainer"],Ls=(o,t)=>({"mat-optgroup-label":o,"selectable-item":t}),Os=o=>({selected:o});function As(o,t){o&1&&e.\u0275\u0275element(0,"ts-mask")}function js(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"mat-option",22),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),o&2){const n=t.$implicit;e.\u0275\u0275property("value",n.sysAdminUnit)("ngClass",e.\u0275\u0275pureFunction2(4,Ls,!n.sysAdminUnit,n.sysAdminUnit))("disabled",!n.sysAdminUnit),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate((n.sysAdminUnit==null?null:n.sysAdminUnit.name)||n.groupName)}}function Vs(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"cdk-virtual-scroll-viewport",20),e.\u0275\u0275template(1,js,2,7,"mat-option",21),e.\u0275\u0275elementEnd()),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275styleProp("height",n.calculateSearchResultContainerHeight()),e.\u0275\u0275advance(),e.\u0275\u0275property("cdkVirtualForOf",n.filteredSysAdminUnits)}}function Fs(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ts-sysadminunit-tree",23),e.\u0275\u0275twoWayListener("selectedUnitChange",function(a){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(s.selectedUnit,a)||(s.selectedUnit=a),e.\u0275\u0275resetView(a)}),e.\u0275\u0275listener("dblclick",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onTreeDoubleClick())}),e.\u0275\u0275elementEnd()}if(o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("dataSource",n.dataSource),e.\u0275\u0275twoWayProperty("selectedUnit",n.selectedUnit)}}function Ps(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ts-sysadminunit-tree",23),e.\u0275\u0275twoWayListener("selectedUnitChange",function(a){e.\u0275\u0275restoreView(n);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(s.selectedUnit,a)||(s.selectedUnit=a),e.\u0275\u0275resetView(a)}),e.\u0275\u0275listener("dblclick",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onTreeDoubleClick())}),e.\u0275\u0275elementEnd()}if(o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("dataSource",n.dataSource),e.\u0275\u0275twoWayProperty("selectedUnit",n.selectedUnit)}}function Rs(o,t){if(o&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",27),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(n).$implicit,s=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(s.onItemClick(a))})("dblclick",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.onTreeDoubleClick())}),e.\u0275\u0275elementStart(1,"div",28),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()}if(o&2){const n=t.$implicit,i=e.\u0275\u0275nextContext(2);e.\u0275\u0275propertyInterpolate("id",n.id),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(3,Os,i.isSelectedItem(n))),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",n.name," ")}}function zs(o,t){if(o&1&&(e.\u0275\u0275elementStart(0,"div",24)(1,"cdk-virtual-scroll-viewport",25,1),e.\u0275\u0275template(3,Rs,3,5,"div",26),e.\u0275\u0275elementEnd()()),o&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275property("cdkVirtualForOf",n.dataSource)}}var V;(function(o){o[o.OrganizationRoles=0]="OrganizationRoles",o[o.FunctionalRoles=1]="FunctionalRoles",o[o.Users=2]="Users"})(V||(V={}));class nn{constructor(t,n,i,a,s){this.dialogRef=t,this.dialogService=n,this.rightManagementService=i,this.translateService=a,this.data=s,this.isLoading=!1,this.selectedTabIndex=0}_getGroupNameByTabIndex(t){let n="";switch(t){case V.OrganizationRoles:n=this.translateService.instant("SelectSysAdminUnitDialog.OrganizationalRoles");break;case V.FunctionalRoles:n=this.translateService.instant("SelectSysAdminUnitDialog.FunctionalRoles");break;case V.Users:n=this.translateService.instant("SelectSysAdminUnitDialog.Users");break}return n}_getAllEmployeesUnit(){return this.sysAdminUnits.find(t=>t.id===h.ALL_EMPLOYEES_SYSADMINUNIT_ID)}_getAllPortalUsersUnit(){return this.sysAdminUnits.find(t=>t.id===h.ALL_PORTAL_USERS_SYSADMINUNIT_ID)}_getSysAdminUnitTypesByTabIndex(t){let n=[];switch(t){case V.OrganizationRoles:n=[h.SysAdminUnitType.Organization,h.SysAdminUnitType.Division,h.SysAdminUnitType.Manager,h.SysAdminUnitType.SelfServicePortalUser];break;case V.FunctionalRoles:n=[h.SysAdminUnitType.FunctionalRole];break;case V.Users:n=[h.SysAdminUnitType.User,h.SysAdminUnitType.TechnicalUser];break}return n}_fillSysAdminUnitsWithGroup(t){this.sysAdminUnitsWithGroup=[],Object.keys(V).forEach(n=>{const i=Number(V[n]);if(isNaN(i))return;const a=this._getSysAdminUnitTypesByTabIndex(i),s=this._getGroupNameByTabIndex(i);this.sysAdminUnitsWithGroup.push({sysAdminUnit:null,tabIndex:i,groupName:s}),t.filter(r=>a.indexOf(r.sysAdminUnitTypeValue)>-1).forEach(r=>{this.sysAdminUnitsWithGroup.push({sysAdminUnit:r,tabIndex:i,groupName:s})})})}_prepareSysAdminUnits(t){if(!t||!t.success){this.isLoading=!1,t&&t.errorInfo&&this.dialogService.openInfoDialog(t.errorInfo.message);return}this.sysAdminUnits=t.sysAdminUnits,this._fillSysAdminUnitsWithGroup(this.sysAdminUnits),this.fillContentByTab(V.OrganizationRoles),this.isLoading=!1}_applySysAdminUnit(){const t=this.data&&this.data.validator,n=t&&t(this.selectedUnit);if(n&&!n.success){this.dialogService.openInfoDialog(n.message);return}this.dialogRef.close(this.selectedUnit)}_changeTabIndexBySysAdminUnitType(t){let n=this.selectedTabIndex;switch(t){case h.SysAdminUnitType.Organization:case h.SysAdminUnitType.Division:case h.SysAdminUnitType.Manager:case h.SysAdminUnitType.SelfServicePortalUser:n=V.OrganizationRoles;break;case h.SysAdminUnitType.FunctionalRole:n=V.FunctionalRoles;break;case h.SysAdminUnitType.User:case h.SysAdminUnitType.TechnicalUser:n=V.Users;break}this.selectedTabIndex=n}_scrollToSelectedItem(){const t=this.selectedUnit&&this.dataSource.findIndex(n=>n.id===this.selectedUnit.id);t!==-1&&setTimeout(()=>{this._viewport.scrollToIndex(t)},0)}ngOnInit(){this.isLoading=!0,this.rightManagementService.getSysAdminUnitList().subscribe(this._prepareSysAdminUnits.bind(this))}fillContentByTab(t){if(!Array.isArray(this.sysAdminUnits)){this.dataSource=null;return}const n=this._getSysAdminUnitTypesByTabIndex(t),i=this.sysAdminUnits.filter(a=>n.indexOf(a.sysAdminUnitTypeValue)>-1);if(t===V.FunctionalRoles){i.push(this._getAllEmployeesUnit());const a=this._getAllPortalUsersUnit();a&&i.push(a)}this.dataSource=i,this.selectedTabIndex===V.Users&&this._scrollToSelectedItem()}onTreeDoubleClick(){this.selectedUnit&&this._applySysAdminUnit()}onSelectButtonClick(){this._applySysAdminUnit()}getSysAdminUnitName(t){return t.name}onFilteredSysAdminUnitSelected(t){const n=t.option.value;this._changeTabIndexBySysAdminUnitType(n.sysAdminUnitTypeValue),this.selectedUnit=n,this.fillContentByTab(this.selectedTabIndex),this.selectedTabIndex===V.Users&&this._scrollToSelectedItem()}search(t){if(!t||t.length<3){this.filteredSysAdminUnits=[];return}t=t.toLocaleLowerCase(),this.filteredSysAdminUnits=this.sysAdminUnitsWithGroup.filter(i=>!i.sysAdminUnit||i.sysAdminUnit.name.toLowerCase().indexOf(t.toLowerCase())!==-1).filter((i,a,s)=>i.sysAdminUnit||!i.sysAdminUnit&&s.findIndex(r=>r.groupName===i.groupName&&r.sysAdminUnit)>-1)}isOrganizationalRolesVisible(){return this.selectedTabIndex===V.OrganizationRoles}isFunctionalRolesVisible(){return this.selectedTabIndex===V.FunctionalRoles}isUsersVisible(){return this.selectedTabIndex===V.Users}onItemClick(t){this.selectedUnit=t}isSelectedItem(t){return!!(this.selectedUnit&&this.selectedUnit.id===t.id)}calculateSearchResultContainerHeight(){return`${this.filteredSysAdminUnits.length*33}px`}static{this.\u0275fac=function(n){return new(n||nn)(e.\u0275\u0275directiveInject(I.MatLegacyDialogRef),e.\u0275\u0275directiveInject(b.DialogService),e.\u0275\u0275directiveInject(Ge),e.\u0275\u0275directiveInject(E.TranslateService),e.\u0275\u0275directiveInject(I.MAT_LEGACY_DIALOG_DATA))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:nn,selectors:[["ts-select-sysadminunit-dialog"]],viewQuery:function(n,i){if(n&1&&e.\u0275\u0275viewQuery(ks,5),n&2){let a;e.\u0275\u0275queryRefresh(a=e.\u0275\u0275loadQuery())&&(i._viewport=a.first)}},decls:33,vars:30,consts:[["auto","matAutocomplete"],["usersListContainer",""],[4,"ngIf"],["mat-dialog-title",""],["mat-icon-button","",1,"close-dialog",3,"mat-dialog-close"],["svgIcon","close",1,"close-button-icon"],["mat-dialog-actions",""],["mat-flat-button","","color","accent",3,"click","disabled"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-dialog-content",""],[1,"search-input"],["floatLabel","never"],["matInput","","type","text","spellcheck","false",3,"input","focus","placeholder","matAutocomplete"],["matSuffix","","svgIcon","search"],[3,"optionSelected","displayWith"],["itemSize","33","minBufferPx","297","maxBufferPx","396","class","search-list-viewport",3,"height",4,"ngIf"],["mat-stretch-tabs","","animationDuration","0ms","disableRipple","true",3,"selectedIndexChange","selectedIndex"],[3,"label"],[3,"dataSource","selectedUnit","selectedUnitChange","dblclick",4,"ngIf"],["class","users-wrapper",4,"ngIf"],["itemSize","33","minBufferPx","297","maxBufferPx","396",1,"search-list-viewport"],[3,"value","ngClass","disabled",4,"cdkVirtualFor","cdkVirtualForOf"],[3,"value","ngClass","disabled"],[3,"selectedUnitChange","dblclick","dataSource","selectedUnit"],[1,"users-wrapper"],["itemSize","30","minBufferPx","300","maxBufferPx","600",1,"users-list-viewport"],["class","mat-tree-node",3,"ngClass","id","click","dblclick",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"mat-tree-node",3,"click","dblclick","ngClass","id"],[1,"user-item"]],template:function(n,i){if(n&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275template(0,As,1,0,"ts-mask",2),e.\u0275\u0275elementStart(1,"div",3)(2,"span"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",4),e.\u0275\u0275element(6,"mat-icon",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",6)(8,"button",7),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.onSelectButtonClick())}),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"button",8),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"div",9)(15,"div",10)(16,"mat-form-field",11)(17,"input",12),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275listener("input",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.search(r.target.value))})("focus",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.search(r.target.value))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"mat-icon",13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"mat-autocomplete",14,0),e.\u0275\u0275listener("optionSelected",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.onFilteredSysAdminUnitSelected(r))}),e.\u0275\u0275template(22,Vs,2,3,"cdk-virtual-scroll-viewport",15),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(23,"mat-tab-group",16),e.\u0275\u0275twoWayListener("selectedIndexChange",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275twoWayBindingSet(i.selectedTabIndex,r)||(i.selectedTabIndex=r),e.\u0275\u0275resetView(r)}),e.\u0275\u0275listener("selectedIndexChange",function(r){return e.\u0275\u0275restoreView(a),e.\u0275\u0275resetView(i.fillContentByTab(r))}),e.\u0275\u0275elementStart(24,"mat-tab",17),e.\u0275\u0275pipe(25,"translate"),e.\u0275\u0275template(26,Fs,1,2,"ts-sysadminunit-tree",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"mat-tab",17),e.\u0275\u0275pipe(28,"translate"),e.\u0275\u0275template(29,Ps,1,2,"ts-sysadminunit-tree",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"mat-tab",17),e.\u0275\u0275pipe(31,"translate"),e.\u0275\u0275template(32,zs,4,1,"div",19),e.\u0275\u0275elementEnd()()()}if(n&2){const a=e.\u0275\u0275reference(21);e.\u0275\u0275property("ngIf",i.isLoading),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,16,"SelectSysAdminUnitDialog.Title")),e.\u0275\u0275advance(5),e.\u0275\u0275property("disabled",!i.selectedUnit),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,18,"SelectSysAdminUnitDialog.Select")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,20,"SelectSysAdminUnitDialog.Cancel")),e.\u0275\u0275advance(5),e.\u0275\u0275property("placeholder",e.\u0275\u0275pipeBind1(18,22,"SelectSysAdminUnitDialog.Search"))("matAutocomplete",a),e.\u0275\u0275advance(3),e.\u0275\u0275property("displayWith",i.getSysAdminUnitName),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.filteredSysAdminUnits&&i.filteredSysAdminUnits.length>0),e.\u0275\u0275advance(),e.\u0275\u0275twoWayProperty("selectedIndex",i.selectedTabIndex),e.\u0275\u0275advance(),e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(25,24,"SelectSysAdminUnitDialog.OrganizationalRoles")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.isOrganizationalRolesVisible()),e.\u0275\u0275advance(),e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(28,26,"SelectSysAdminUnitDialog.FunctionalRoles")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.isFunctionalRolesVisible()),e.\u0275\u0275advance(),e.\u0275\u0275property("label",e.\u0275\u0275pipeBind1(31,28,"SelectSysAdminUnitDialog.Users")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.isUsersVisible())}},dependencies:[b.MaskComponent,c.NgClass,c.NgIf,L.MatLegacyAutocomplete,L.MatLegacyAutocompleteTrigger,jt.MatLegacyOption,x.MatLegacyButton,I.MatLegacyDialogClose,I.MatLegacyDialogTitle,I.MatLegacyDialogContent,I.MatLegacyDialogActions,C.MatIcon,M.MatLegacyFormField,M.MatLegacySuffix,T.MatLegacyInput,xn.MatLegacyTabGroup,xn.MatLegacyTab,We.CdkFixedSizeVirtualScroll,We.CdkVirtualForOf,We.CdkVirtualScrollViewport,vt,E.TranslatePipe],styles:["[_nghost-%COMP%]{padding:4px 10px;min-width:580px;min-height:512px}[mat-dialog-actions][_ngcontent-%COMP%]{margin-bottom:5px!important}.search-input[_ngcontent-%COMP%]{padding-top:12px;font-size:14px}.search-input[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%;line-height:18px!important}.search-input[_ngcontent-%COMP%]   mat-icon[svgicon=search][_ngcontent-%COMP%]{width:16px;height:16px;line-height:0;vertical-align:middle}.search-list-viewport[_ngcontent-%COMP%]{max-height:254px}.selectable-item[_ngcontent-%COMP%]{padding-left:50px}.users-wrapper[_ngcontent-%COMP%]   .users-list-viewport[_ngcontent-%COMP%]{height:325px}.users-wrapper[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]{color:#444;line-height:19px;max-height:30px;min-height:30px;white-space:nowrap}.users-wrapper[_ngcontent-%COMP%]   .mat-tree-node.selected[_ngcontent-%COMP%]{background-color:#f2f5ff}.users-wrapper[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]{margin-left:30px}"]})}}class xt{static{this.\u0275fac=function(n){return new(n||xt)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:xt})}static{this.\u0275inj=e.\u0275\u0275defineInjector({providers:[Ge],imports:[b.DialogModule,b.MaskModule,b.TooltipModule,c.CommonModule,yi.DragDropModule,m.FormsModule,L.MatLegacyAutocompleteModule,x.MatLegacyButtonModule,O.MatLegacyCheckboxModule,I.MatLegacyDialogModule,P.MatDividerModule,R.MatExpansionModule,C.MatIconModule,T.MatLegacyInputModule,Ce.MatLegacyMenuModule,K.MatLegacySelectModule,_i.MatLegacySlideToggleModule,un.MatSortModule,dn.MatLegacyTableModule,xn.MatLegacyTabsModule,z.MatLegacyTooltipModule,oe.MatTreeModule,M.MatLegacyFormFieldModule,b.SelectMenuModule,E.TranslateModule,We.ScrollingModule,We.CdkVirtualScrollViewport]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(xt,{declarations:[nn,vt],imports:[b.DialogModule,b.MaskModule,b.TooltipModule,c.CommonModule,yi.DragDropModule,m.FormsModule,L.MatLegacyAutocompleteModule,x.MatLegacyButtonModule,O.MatLegacyCheckboxModule,I.MatLegacyDialogModule,P.MatDividerModule,R.MatExpansionModule,C.MatIconModule,T.MatLegacyInputModule,Ce.MatLegacyMenuModule,K.MatLegacySelectModule,_i.MatLegacySlideToggleModule,un.MatSortModule,dn.MatLegacyTableModule,xn.MatLegacyTabsModule,z.MatLegacyTooltipModule,oe.MatTreeModule,M.MatLegacyFormFieldModule,b.SelectMenuModule,E.TranslateModule,We.ScrollingModule,We.CdkVirtualScrollViewport]})})();class ${constructor(){this.ariaHidden=!1,this.role="button"}get ariaLabelAttr(){return this.ariaLabel||this.crtAccessibleAttributes||this.title}get titlelAttr(){if(this.title!=="")return this.title||this.crtAccessibleAttributes||this.ariaLabel}get tabIndexAttr(){return this.tabIndex??(this.ariaHidden?-1:0)}static{this.\u0275fac=function(n){return new(n||$)}}static{this.\u0275dir=e.\u0275\u0275defineDirective({type:$,selectors:[["","crtAccessibleAttributes",""]],hostVars:6,hostBindings:function(n,i){n&2&&e.\u0275\u0275attribute("aria-label",i.ariaLabelAttr)("title",i.titlelAttr)("tabindex",i.tabIndexAttr)("aria-hidden",i.ariaHidden)("role",i.role)("aria-controls",i.ariaControls)},inputs:{crtAccessibleAttributes:"crtAccessibleAttributes",title:"title",ariaLabel:"ariaLabel",tabIndex:"tabIndex",ariaHidden:"ariaHidden",role:"role",ariaControls:"ariaControls"},exportAs:["crtAccessibleAttributes"],standalone:!0})}}(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",String)],$.prototype,"crtAccessibleAttributes",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",String)],$.prototype,"title",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",String)],$.prototype,"ariaLabel",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Number)],$.prototype,"tabIndex",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Object)],$.prototype,"ariaHidden",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Object)],$.prototype,"role",void 0),(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",String)],$.prototype,"ariaControls",void 0);class Ye{constructor(){this.isRequired=!1}get ariaRequired(){return this.isRequired}static{this.\u0275fac=function(n){return new(n||Ye)}}static{this.\u0275dir=e.\u0275\u0275defineDirective({type:Ye,selectors:[["","crtAriaRequired",""]],hostVars:1,hostBindings:function(n,i){n&2&&e.\u0275\u0275attribute("aria-required",i.ariaRequired)},inputs:{isRequired:[e.\u0275\u0275InputFlags.None,"crtAriaRequired","isRequired"]}})}}(0,d.__decorate)([(0,l.CrtInput)(),(0,d.__metadata)("design:type",Object)],Ye.prototype,"isRequired",void 0);class bt{constructor(t){this._elRef=t,this.clickOutside=new e.EventEmitter}onOutsideClick(t){const n=t.target;this._elRef.nativeElement.contains(n)||this.clickOutside.emit()}static{this.\u0275fac=function(n){return new(n||bt)(e.\u0275\u0275directiveInject(e.ElementRef))}}static{this.\u0275dir=e.\u0275\u0275defineDirective({type:bt,selectors:[["","crtClickOutside",""]],hostBindings:function(n,i){n&1&&e.\u0275\u0275listener("click",function(s){return i.onOutsideClick(s)},!1,e.\u0275\u0275resolveDocument)},outputs:{clickOutside:"crtClickOutside"}})}}class bn{constructor(t,n){this._document=t,this._sysSettingsService=n,this._initCustomScrollToggling()}_initCustomScrollToggling(){this._sysSettingsService.getValueByCode("UseDefaultBrowserScrollbarStyles",!1).pipe((0,p.take)(1),(0,p.filter)(Boolean)).subscribe(()=>{this._document.body.setAttribute("disable-custom-scroll","true")})}static{this.\u0275fac=function(n){return new(n||bn)(e.\u0275\u0275directiveInject(c.DOCUMENT),e.\u0275\u0275directiveInject(qe.SysSettingsService))}}static{this.\u0275dir=e.\u0275\u0275defineDirective({type:bn,selectors:[["","crtCustomScrollToggling",""]],standalone:!0})}}const Us=o=>({provide:m.NG_VALIDATORS,useExisting:o,multi:!0});class Dn{get errors(){return this.getErrorMessages({...this.control?.errors,...this._parentControl?.errors})}get errorMessages(){return this.errors.join(`
`)}get invalid(){return this._isControlInvalid(this.control)||this._isControlInvalid(this._parentControl)}set parentControl(t){this._parentControl=t,this._reuseFeatureEnabled&&!!this.control&&(this.control.markAsUntouched(),this.control.markAsPristine())}get parentControl(){return this._parentControl}constructor(t,n){this.injector=n,this.control=t;const i=this.injector.get(h.FEATURE_VALUES,{},{optional:!0}),a=this.injector.get(Me.WINDOW_TOKEN);this._reuseFeatureEnabled=(0,D.get)(a,"Terrasoft")?.isAngularHost&&i?.UseSchemaOutletReuseViewStrategy}_isControlInvalid(t){return t.invalid&&(t.dirty||t.touched)}getErrorMessages(t){return Object.values(t||{}).map(n=>n?.message).filter(Boolean)}validate(t){return this.control.errors}ngDoCheck(){if(this.control.touched&&this._parentControl){this._parentControl.markAsTouched();return}if(this._parentControl?.touched&&!this.control.touched){this.control.markAsTouched();return}this.control.touched&&!this._parentControl&&this.control.markAsUntouched()}static{this.\u0275fac=function(n){return new(n||Dn)(e.\u0275\u0275directiveInject(m.FormControl),e.\u0275\u0275directiveInject(e.Injector))}}static{this.\u0275dir=e.\u0275\u0275defineDirective({type:Dn,inputs:{parentControl:"parentControl"}})}}function Si(o){return o.cultureInfo.sysCultureName}const Bs={showDelay:300,hideDelay:300,touchendHideDelay:1e3,position:"above"};let wn=class qn{constructor(t){this._materialIconsRegistrator=t,hi.forEach(n=>{this._materialIconsRegistrator.addIcons([{name:n,icon:u(10722)(`./${n}.svg`)},{name:`${n}-large`,icon:u(12014)(`./${n}.svg`)}])})}static{this.\u0275fac=function(n){return new(n||qn)(e.\u0275\u0275inject(b.MaterialIconsRegistrator))}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:qn})}static{this.\u0275inj=e.\u0275\u0275defineInjector({providers:[Me.WINDOW_PROVIDER,Ke,ze,{provide:f.MAT_DATE_LOCALE,useFactory:Si,deps:[h.UserInfo]},{provide:f.MAT_DATE_FORMATS,useValue:cn.MAT_MOMENT_DATE_FORMATS},{provide:f.DateAdapter,useClass:cn.MomentDateAdapter,deps:[f.MAT_DATE_LOCALE]},{provide:z.MAT_LEGACY_TOOLTIP_DEFAULT_OPTIONS,useValue:Bs}],imports:[c.CommonModule,Z,ie,J,Oe,m.FormsModule,ne,L.MatLegacyAutocompleteModule,x.MatLegacyButtonModule,O.MatLegacyCheckboxModule,_.MatDatepickerModule,I.MatLegacyDialogModule,P.MatDividerModule,M.MatLegacyFormFieldModule,C.MatIconModule,T.MatLegacyInputModule,Ce.MatLegacyMenuModule,cn.MatMomentDateModule,Et.MatLegacyProgressSpinnerModule,f.MatRippleModule,K.MatLegacySelectModule,z.MatLegacyTooltipModule,Y,Vn.RouterModule,k.TableCdkModule,h.CommonModule,E.TranslateModule,m.ReactiveFormsModule,U.ViewModule,R.MatExpansionModule,Be,b.NotifyModule,xt,Z,ie,J,ne,Y,k.TableCdkModule]})}};wn=(0,d.__decorate)([(0,l.CrtModule)({viewElements:[G,H,_e,Ue,ye,te,Kt],converters:[v.FormatValueConverter,v.InvertBooleanValueConverter,v.IsEqual,v.ToBooleanConverter,v.ToEmailLinkConverter,v.ToEmptyPlaceholderConverter,v.ToDisplayValueConverter,v.ToImageLinkConverter,v.ToObjectPropConverter,v.ToPhoneLinkConverter,v.ToFileLinkConverter,v.ToLookupConverter,v.LinkPrefixConverter,v.ToValuesFromCollectionConverter,v.ToAggregatedValue,v.ToDcmStageValueConverter,v.InterpolateStringConverter,v.IsEveryEqualToConverter,v.ToLookupDisplayValueConverter,v.ToDataValueTypeDisplayValueConverter,v.ToDataValueTypeLookupValueConverter,v.IfElseConvertor],requestHandlers:[Se.ChangeViewModelAttributeValueHandler]}),(0,d.__metadata)("design:paramtypes",[b.MaterialIconsRegistrator])],wn),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(wn,{declarations:[ge,he,tn,dt,tt,Ne,Ae,B,Ve,st,Le,nt,it,ut,Qt,G,H,Ue,ye,_e,Kt,St,bt,Ye],imports:[c.CommonModule,Z,ie,J,Oe,m.FormsModule,ne,L.MatLegacyAutocompleteModule,x.MatLegacyButtonModule,O.MatLegacyCheckboxModule,_.MatDatepickerModule,I.MatLegacyDialogModule,P.MatDividerModule,M.MatLegacyFormFieldModule,C.MatIconModule,T.MatLegacyInputModule,Ce.MatLegacyMenuModule,cn.MatMomentDateModule,Et.MatLegacyProgressSpinnerModule,f.MatRippleModule,K.MatLegacySelectModule,z.MatLegacyTooltipModule,Y,Vn.RouterModule,k.TableCdkModule,h.CommonModule,E.TranslateModule,m.ReactiveFormsModule,U.ViewModule,R.MatExpansionModule,Be,b.NotifyModule,xt],exports:[ge,he,tn,dt,tt,Z,Ne,ie,J,Ae,B,_e,ne,st,Le,nt,Y,it,ut,k.TableCdkModule,G,H,Ue,ye,St,bt,Ye]})}();function Hs(...o){const t=new m.UntypedFormControl(...o);return new Se.FormControlBasedCrtControl(t)}class an{static{this.\u0275fac=function(n){return new(n||an)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:an})}static{this.\u0275inj=e.\u0275\u0275defineInjector({imports:[T.MatLegacyInputModule,K.MatLegacySelectModule,O.MatLegacyCheckboxModule,x.MatLegacyButtonModule,M.MatLegacyFormFieldModule,R.MatExpansionModule,L.MatLegacyAutocompleteModule,C.MatIconModule,de.MatLegacyRadioModule,z.MatLegacyTooltipModule,T.MatLegacyInputModule,K.MatLegacySelectModule,O.MatLegacyCheckboxModule,x.MatLegacyButtonModule,M.MatLegacyFormFieldModule,R.MatExpansionModule,L.MatLegacyAutocompleteModule,C.MatIconModule,de.MatLegacyRadioModule,z.MatLegacyTooltipModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(an,{imports:[T.MatLegacyInputModule,K.MatLegacySelectModule,O.MatLegacyCheckboxModule,x.MatLegacyButtonModule,M.MatLegacyFormFieldModule,R.MatExpansionModule,L.MatLegacyAutocompleteModule,C.MatIconModule,de.MatLegacyRadioModule,z.MatLegacyTooltipModule],exports:[T.MatLegacyInputModule,K.MatLegacySelectModule,O.MatLegacyCheckboxModule,x.MatLegacyButtonModule,M.MatLegacyFormFieldModule,R.MatExpansionModule,L.MatLegacyAutocompleteModule,C.MatIconModule,de.MatLegacyRadioModule,z.MatLegacyTooltipModule]})})();var w;(function(o){o.DEFAULT="default-file-icon",o.IMAGE="file-image",o.PDF="file-pdf",o.WORD="file-word",o.EXCEL="file-excel",o.POWERPOINT="file-powerpoint"})(w||(w={}));const Ii={doc:w.WORD,docx:w.WORD,pdf:w.PDF,ppt:w.POWERPOINT,pptx:w.POWERPOINT,xls:w.EXCEL,xlsx:w.EXCEL,bmp:w.IMAGE,gif:w.IMAGE,ico:w.IMAGE,jpeg:w.IMAGE,jpg:w.IMAGE,png:w.IMAGE,svg:w.IMAGE,webp:w.IMAGE,ai:w.IMAGE,cod:w.IMAGE,cmx:w.IMAGE,emz:w.IMAGE,eps:w.IMAGE,dib:w.IMAGE,heic:w.IMAGE,ief:w.IMAGE,jfif:w.IMAGE,jpe:w.IMAGE,pbm:w.IMAGE,pgm:w.IMAGE,pjp:w.IMAGE,pjpeg:w.IMAGE,pnm:w.IMAGE,ppm:w.IMAGE,ras:w.IMAGE,rgb:w.IMAGE,tif:w.IMAGE,xbm:w.IMAGE,xpm:w.IMAGE,xwd:w.IMAGE};class on{getFileIcon(t,n=""){const i=t?.lastIndexOf(".")||-1;let a=w.DEFAULT;if(i!==-1){const s=t.split(".").pop();a=Ii[s?.toLowerCase()]||w.DEFAULT}return n?`${a}-${n}`:a}static{this.\u0275fac=function(n){return new(n||on)}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:on,factory:on.\u0275fac})}}const Ws={minWidth:0,maxWidth:Number.MAX_VALUE},Zn=new e.InjectionToken("A horizontal resizing configuration");class Qe{constructor(t,n){this._isRtl=t.value==="rtl",this._defaultResizingConfig=this._mergeConfigs(n,Ws)}get resizeEdges(){return this._isRtl?{left:!0}:{right:!0}}_mergeConfigs(t,n){return{minWidth:t?.minWidth??n?.minWidth,maxWidth:t?.maxWidth??n?.maxWidth,defaultWidth:t?.defaultWidth??n?.defaultWidth}}isAvailableEdges(t){return this._isRtl?!!t?.left:!!t?.right}getAdjustedWidth(t,n){const{minWidth:i,maxWidth:a,defaultWidth:s}=this._mergeConfigs(n,this._defaultResizingConfig);return typeof t!="number"?s:(t=Math.min(t,a),t=Math.max(t,i),t)}static{this.\u0275fac=function(n){return new(n||Qe)(e.\u0275\u0275inject(Vt.Directionality),e.\u0275\u0275inject(Zn,8))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:Qe,factory:Qe.\u0275fac})}}class sn{static withConfig(t){return{ngModule:sn,providers:[Qe,{provide:Zn,useValue:t}]}}static{this.\u0275fac=function(n){return new(n||sn)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:sn})}static{this.\u0275inj=e.\u0275\u0275defineInjector({providers:[Qe]})}}function Gs(o){let t={top:0,bottom:0,left:0,right:0};if((0,D.isObject)(o))(0,D.forIn)(t,(n,i)=>{t[i]=Qn[o[i]]??o[i]});else if((0,D.isNumber)(o))(0,D.forIn)(t,(n,i)=>{t[i]=o});else if((0,D.isString)(o)&&(0,v.isSizeEnum)(o))(0,D.forIn)(t,(n,i)=>{t[i]=Qn[o]});else if((0,D.isString)(o)&&!(0,v.isSizeEnum)(o)){const n=o,i=Number(n);if(i)(0,D.forIn)(t,(a,s)=>{t[s]=i});else{const a=n?.split(" "),[s,r,y,N]=a.map(A=>Number(A.split("px")?.[0]));a.length>1?t={top:s,bottom:y??s,left:N??r,right:r}:(0,D.forIn)(t,(A,Je)=>{t[Je]=s})}}return t}var Ys=u(24897),Tn=u(47258);class Dt{_mapDataSchemaAttributeToStructureItem(t){return{name:t.name,caption:t.caption,dataValueType:t.dataValueType,item:t}}_mapToStructureExplorerItem(t){return{columnPath:t.path,caption:t.caption,metaPath:t.path,metaPathCaption:t.caption,hasChildren:!0,name:t.name,id:t.name,tags:[t.caption,t.name],data:{name:t.name,caption:t.caption,isDataSource:!1,item:t}}}_mapDataSchemaToStructureItem(t,n){return{name:t,caption:n.caption,item:n,isDataSource:!0,dataSchemaType:n.type}}getDataSchemaAttributeStructureItemsBySchemaName(t,n,i){return this.getDataSchemaByName(t,i).pipe((0,p.map)(a=>({caption:a.caption,structureItems:a.attributes.filter(s=>s.usageType!==l.DataSchemaAttributeUsageType.None).map(s=>this._mapDataSchemaAttributeToStructureItem(s))})),(0,p.mergeMap)(a=>n?.useBackwards?this.getDataSchemaBackReference({schemaName:t,schemaCaption:a.caption?.toString()}).pipe((0,p.map)(s=>[...a.structureItems,...s])):(0,S.of)(a.structureItems)))}getDataSchemaAttributeStructureExplorerItemByPath(t,n){return this.getDataSchemaAttributeByPath(t,n).pipe((0,p.map)(i=>this._mapToStructureExplorerItem(i)))}getDataSourceStructureItemByName(t){return this.getDataSourceByName(t).pipe((0,p.switchMap)(n=>(0,S.forkJoin)([(0,S.of)(n),n.getSchema().pipe((0,p.take)(1))])),(0,p.map)(([n,i])=>this._mapDataSchemaToStructureItem(n.dataSourceName,i)))}getDataSourceStructureItems(){return this.getDataSources().pipe((0,p.mergeAll)(),(0,p.switchMap)(t=>(0,S.forkJoin)([(0,S.of)(t),t.getSchema().pipe((0,p.take)(1))]).pipe((0,p.filter)(n=>!n[0].hasErrors))),(0,p.map)(([t,n])=>this._mapDataSchemaToStructureItem(t.dataSourceName,n)),(0,p.toArray)())}static{this.\u0275fac=function(n){return new(n||Dt)}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:Dt,factory:Dt.\u0275fac})}}const vi="DataSourceStructureExplorerDataProvider";class Ze extends Tn.BaseStructureExplorerDataProvider{constructor(t,n,i,a,s){super(),this._dataSourceStructureItemService=t,this._rightsService=n,this._userInfo=i,this.translateService=a,this.featureValues=s,this._defaultCaptionKey="CDK.DataGroupCaption",this.name=vi,this.setMapFunction(this._mapItemToExplorerItem)}_setTranslations(){this._defaultCaption=this.translateService.instant(this._defaultCaptionKey)}_getAttributes(t,n){return(0,S.forkJoin)([(0,S.of)(this.featureValues.UseColumnReadPermissionsForStructureExplorer),this._dataSourceStructureItemService.getDataSchemaAttributeStructureItemsBySchemaName(t,this.launchOptions,n)]).pipe((0,p.mergeMap)(([i,a])=>(0,S.iif)(()=>i&&n===l.DataSchemaType.Entity,this._rightsService.getCanReadColumns({schemaName:t,columnNames:a.filter(s=>s.item.attributeType===l.DataSchemaAttributeType.OwnAttribute).map(s=>s.name)}).pipe((0,p.mergeMap)(s=>{let r=[];return this._userInfo.isSSP&&(a=a.filter(y=>y.item.usageType===l.DataSchemaAttributeUsageType.General)),!s||Object.keys(s).length===0?(0,S.of)(a):(r=a.filter(y=>s[y.name]!==!1),(0,S.of)(r))})),(0,S.of)(a))))}_getDataSources(){return this._dataSourceStructureItemService.getDataSourceStructureItems()}_getDataSourceStructureItemByName(t){return this._dataSourceStructureItemService.getDataSourceStructureItemByName(t)}_joinPath(...t){return t.filter(Ys.coerceBooleanProperty).join(".")}_setStructureExplorerItemPaths(t,n){t.metaPath=this._joinPath(n?.metaPath,t.metaPath),t.columnPath=this._joinPath(n?.columnPath,t.columnPath),t.metaPathCaption=this._joinPath(n?.caption,t.metaPathCaption)}getCaption(){return this._currentSelectedItem?.caption||this._defaultCaption}mapItemsToResult(t){const n={items:[],relatedItems:[],hideItems:!1};return t.forEach(i=>{const a=i.data.item,s=a.attributeType;i.data.isDataSource?(n.relatedItems.push(i),n.hideItems=!0):a.dataValueType===l.DataValueType.Lookup&&a.referenceSchemaName&&(i.data.dataSchemaType=l.DataSchemaType.Entity,n.relatedItems.push(i)),s!==l.DataSchemaAttributeType.BackReferenceAttribute&&n.items.push(i)}),n}getChildItems(t){return this._getAttributes(t)}getAllItems(t){const n=t.data==null;if(this._currentSelectedItem=t.data,n)return this._getDataSources();const i=t.data.item;return this._getAttributes(i.referenceSchemaName||i.name,this._currentSelectedItem?.dataSchemaType)}_getStructureItemIcon(t){if(t.item instanceof Se.DataSchemaAttribute&&t.item.defaultValueSchema){const{valueSourceType:n}=t.item.defaultValueSchema;if(n===l.DefaultValueSource.Sequence)return"autonumber-icon"}return null}_mapItemToExplorerItem(t){const n={columnPath:t.item.name,data:t,hasChildren:!0,tags:[t.caption,t.name],caption:t.caption,shortCaption:t.shortCaption,id:t.name,name:t.name,metaPathCaption:t.caption,metaPath:t.name},i=this._getStructureItemIcon(t);return i&&(n.iconName=i),n}_mapDataSourceItemToStructureExplorerItem(t){const n={columnPath:t.item.name,hasChildren:!0,caption:t.caption,shortCaption:t.shortCaption,metaPath:t.name,id:t.name,metaPathCaption:t.caption,name:t.name,tags:[t.caption,t.name],data:{name:t.name,caption:t.caption,isDataSource:!0,item:t.item,dataSchemaType:t.dataSchemaType}},i=this._getStructureItemIcon(t);return i&&(n.iconName=i),n}_findOwnAttribute(t,n,i){return this._getAttributes(t,i).pipe((0,p.map)(a=>a.map(s=>this._mapItemToExplorerItem(s))),(0,p.map)(a=>a.find(s=>s.name===n)))}_getSelectedReferenceAttributes(t,n){const i=n.split("."),a=t.item.name,s=t.item.caption;return(0,S.combineLatest)(i.map((r,y)=>{const N=`${a}.${i.slice(0,y+1).join(".")}`;return this._dataSourceStructureItemService.getDataSchemaAttributeStructureExplorerItemByPath(N,t.dataSchemaType)})).pipe((0,p.tap)(r=>{r.forEach((y,N)=>{const A=r[N-1];this._setStructureExplorerItemPaths(y,A)}),r.forEach(y=>{y.metaPath=this._joinPath(t.name,y.metaPath),y.columnPath=this._joinPath(a,y.columnPath),y.metaPathCaption=this._joinPath(s,y.metaPathCaption)})}))}_getSelectedAttributes(t,n){const i=t.item.name;return this._findOwnAttribute(i,n,t.dataSchemaType).pipe((0,p.mergeMap)(a=>{if(a){a.columnPath=`${t.name}.${a.columnPath}`,a.metaPath=`${t.name}.${a.name}`;const s=`${t.caption}.${a.caption}`;return a.metaPathCaption=s,(0,S.of)([a])}else return this._getSelectedReferenceAttributes(t,n)}))}_getSelectedPath(t){if(!t||t.length===0)return null;this._currentSelectedItem=null;const n=t[0].split("."),i=n.shift(),a=n.join(".");return{dataSourceName:i,path:a}}_getRootItem(){const t=this.getDefaultRootItem();return t.caption=this.getCaption(),t}_getInitialStataForDataSource({dataSourceName:t,path:n}){const i=this._getRootItem();return this._getDataSourceStructureItemByName(t).pipe((0,p.tap)(a=>{i.id=a.name,i.caption=a.caption,i.data=a}),(0,p.map)(a=>({structureItem:a,structureExplorerItem:this._mapDataSourceItemToStructureExplorerItem(a)})),(0,p.mergeMap)(({structureItem:a,structureExplorerItem:s})=>(0,S.iif)(()=>!!n,this._getSelectedAttributes(a,n).pipe((0,p.map)(r=>[s,...r])),(0,S.of)([i,s]))),(0,p.map)(a=>new Tn.StructureExplorerInitialState([a])))}_getInitialStateForSelectedPath({dataSourceName:t,path:n}){return this._getDataSources().pipe((0,p.mergeMap)(i=>{const a=i.find(y=>y.name===t),s=this._mapDataSourceItemToStructureExplorerItem(a),r=this._getRootItem();return this._getSelectedAttributes(a,n).pipe((0,p.map)(y=>new Tn.StructureExplorerInitialState([[r,s,...y]])))}))}getInitialState(t){if(this._setTranslations(),this._currentSelectedItem=null,t.navigateOnlyThroughDataSource)return this._getInitialStataForDataSource({...this._getSelectedPath(t.options?.selectedMetaPaths),dataSourceName:t.navigateOnlyThroughDataSource});const n=this._getSelectedPath(t.options?.selectedMetaPaths);return n?this._getInitialStateForSelectedPath(n):(0,S.of)(new Tn.StructureExplorerInitialState([]))}static{this.\u0275fac=function(n){return new(n||Ze)(e.\u0275\u0275inject(Dt),e.\u0275\u0275inject(qe.RightsService),e.\u0275\u0275inject(h.UserInfo),e.\u0275\u0275inject(E.TranslateService),e.\u0275\u0275inject(h.FEATURE_VALUES))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:Ze,factory:Ze.\u0275fac})}}class wt{constructor(t,n){this._queryExecutor=t,this._translateService=n,this._byColumnCaptionKey="CDK.ByColumnCaption",this._whereColumnCaptionKey="CDK.WhereColumnCaption",this._isColumnCaptionKey="CDK.IsColumnCaption",this._whereColumnCaption=this._translateService.instant(this._whereColumnCaptionKey),this._isColumnCaption=this._translateService.instant(this._isColumnCaptionKey),this._byColumnCaption=this._translateService.instant(this._byColumnCaptionKey)}_getBackwardReferencesEsq(t){const n=new l.EntitySchemaQuery("SysEntitySchemaReference");return n.addSchemaColumn("ColumnCaption","ColumnCaption"),n.addSchemaColumn("ColumnName","ColumnName"),n.addSchemaColumn("SysSchema.Name","Name"),n.addSchemaColumn("SysSchema.Caption","Caption"),n.rowCount=-1,n.isDistinct=!0,n.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"[SysSchema:Id:ReferenceSchema].Name",t),n.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Not_start_with,"SysSchema.Name","VwSys"),n.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Not_start_with,"SysSchema.Name","Sys"),n.filters.addSchemaColumnFilterWithParameter(l.ComparisonType.Equal,"UsageType",0),n}_mapRowItemToDataSourceStructureItem(t,n){const i=t.Name,a=t.ColumnName,s=t.ColumnCaption,r=t.Caption,y=`${n} ${this._isColumnCaption} ${s}`,N=`(${this._whereColumnCaption} ${y})`,A=n===s?`${r} (${this._byColumnCaption} ${s})`:`${r} ${N}`;return{caption:A,shortCaption:r,dataValueType:l.DataValueType.Lookup,name:i,item:{caption:A,attributeType:l.DataSchemaAttributeType.BackReferenceAttribute,dataValueType:l.DataValueType.Lookup,isValueCloneable:!0,name:i,path:`[${i}:${a}].Id`,referenceSchemaName:i}}}getBackwardReferences(t){const n=this._getBackwardReferencesEsq(t.schemaName);return this._queryExecutor.executeSelectQuery(n).pipe((0,p.map)(i=>i.map(a=>this._mapRowItemToDataSourceStructureItem(a,t.schemaCaption))))}static{this.\u0275fac=function(n){return new(n||wt)(e.\u0275\u0275inject(Hn.QueryExecutor),e.\u0275\u0275inject(E.TranslateService))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:wt,factory:wt.\u0275fac})}}var rn=u(30478);class ln{static{this.\u0275fac=function(n){return new(n||ln)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:ln})}static{this.\u0275inj=e.\u0275\u0275defineInjector({providers:[Ze,wt,{provide:rn.DATA_PROVIDER,useExisting:Ze,multi:!0}],imports:[rn.StructureExplorerModule,rn.StructureExplorerModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(ln,{imports:[rn.StructureExplorerModule],exports:[rn.StructureExplorerModule]})})();class Qs{}var Jn;(function(o){o[o.Deny=0]="Deny",o[o.CanRead=1]="CanRead",o[o.CanEdit=2]="CanEdit",o[o.All=3]="All"})(Jn||(Jn={}));class Zs{}class Js{}class $s{}var Tt;(function(o){o[o.Deny=0]="Deny",o[o.Allow=1]="Allow",o[o.AllowAndGrant=2]="AllowAndGrant"})(Tt||(Tt={}));class Ks{constructor(){this.readRightLevel=Tt.Deny,this.editRightLevel=Tt.Deny,this.deleteRightLevel=Tt.Deny}}class qs{}class Xs{}},8035:g=>{g.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3 1V15H13V5H8.99999V1H3ZM2 0H9.99999V4H14V16H2V0Z" fill="#006CE0"/>
<path d="M10 0L14 4H10V0Z" fill="#006CE0"/>
</svg>
`},25689:g=>{g.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.0667 3.80034V12.2003H9.40001V3.80034H14.0667ZM15 2.867H8.46667V13.1337H15V2.867Z" fill="#207245"/>
<path d="M13.1334 4.73367H11.2667V5.66701H13.1334V4.73367Z" fill="#207245"/>
<path d="M10.3334 4.73367H9.40002V5.66701H10.3334V4.73367Z" fill="#207245"/>
<path d="M13.1334 6.60034H11.2667V7.53368H13.1334V6.60034Z" fill="#207245"/>
<path d="M10.3334 6.60034H9.40002V7.53368H10.3334V6.60034Z" fill="#207245"/>
<path d="M13.1334 8.46701H11.2667V9.40034H13.1334V8.46701Z" fill="#207245"/>
<path d="M10.3334 8.46701H9.40002V9.40034H10.3334V8.46701Z" fill="#207245"/>
<path d="M13.1334 10.3337H11.2667V11.267H13.1334V10.3337Z" fill="#207245"/>
<path d="M10.3334 10.3337H9.40002V11.267H10.3334V10.3337Z" fill="#207245"/>
<path d="M8.46667 2.14835V13.8524L1.93333 12.4897V3.511L8.46667 2.14835ZM9.4 1.00034L1 2.75501V13.255L9.4 15.0097V1.00968V1.00034Z" fill="#207245"/>
<path d="M3.80005 5.66699L6.60005 10.8003" stroke="#207245" stroke-miterlimit="10"/>
<path d="M3.80005 10.3337L6.60005 5.20035" stroke="#207245" stroke-miterlimit="10"/>
</svg>
`},21431:g=>{g.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.5458 3H1.54578V13H15.5458V3Z" stroke="#FF8800" stroke-miterlimit="10"/>
<path d="M11.0458 8C11.8742 8 12.5458 7.32843 12.5458 6.5C12.5458 5.67157 11.8742 5 11.0458 5C10.2173 5 9.54578 5.67157 9.54578 6.5C9.54578 7.32843 10.2173 8 11.0458 8Z" fill="#FF8800"/>
<path d="M1.54578 13V11.6514L5.09954 6.32074L10.9439 13H1.54578Z" stroke="#FF8800"/>
<path d="M15.5458 13H13.8134L11.776 9.94392L13.447 9.10838L15.5458 11.2071V13Z" stroke="#FF8800"/>
</svg>
`},94570:g=>{g.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3 8V2H10.3L14 5.42461V14H6.5" stroke="#F40000" stroke-miterlimit="10"/>
<path d="M10.4702 2H9.47021V6H13.4702V5H10.4702V2Z" fill="#F40000"/>
<path d="M12.4598 11.07C12.4498 10.98 12.3799 10.86 12.2999 10.78C12.0799 10.56 11.5899 10.44 10.8499 10.43C10.3499 10.43 9.73986 10.47 9.10986 10.56C8.82986 10.39 8.52986 10.21 8.29986 9.98996C7.67986 9.39996 7.15984 8.57996 6.83984 7.67996C6.85984 7.59996 6.87984 7.51995 6.89984 7.44995C6.89984 7.44995 7.24985 5.41996 7.15985 4.73996C7.14985 4.64996 7.13984 4.61995 7.11984 4.54995L7.08984 4.46997C6.98984 4.24997 6.80986 4.00996 6.51986 4.01996H6.33984C6.00984 4.01996 5.74984 4.17997 5.67984 4.43997C5.46984 5.23997 5.67986 6.42995 6.07986 7.97995L5.97986 8.22995C5.69986 8.93995 5.33984 9.64996 5.02984 10.27L4.98987 10.35C4.65987 11.01 4.35984 11.57 4.08984 12.04L3.80984 12.19C3.80984 12.19 3.30986 12.46 3.19986 12.53C2.24986 13.11 1.60985 13.77 1.50985 14.3C1.47985 14.47 1.50986 14.68 1.66986 14.78L1.93985 14.9199C2.05985 14.9799 2.17984 15.01 2.30984 15.01C2.98984 15.01 3.77984 14.14 4.86984 12.21C6.12984 11.79 7.55984 11.44 8.80984 11.25C9.76984 11.8 10.9398 12.18 11.6798 12.18C11.8098 12.18 11.9299 12.17 12.0199 12.14C12.1599 12.1 12.2799 12.02 12.3499 11.91C12.4899 11.69 12.5199 11.38 12.4799 11.07H12.4598ZM2.13986 14.4799C2.25986 14.1299 2.74986 13.45 3.47986 12.84C3.52986 12.8 3.63987 12.69 3.73987 12.59C2.97987 13.83 2.46986 14.32 2.13986 14.47V14.4799ZM6.43985 4.36996C6.65985 4.36996 6.77985 4.92996 6.78985 5.45996C6.79985 5.98996 6.67984 6.35997 6.52984 6.62997C6.40984 6.21997 6.34985 5.57995 6.34985 5.16995C6.34985 5.16995 6.34985 4.36996 6.43985 4.36996ZM5.15985 11.58C5.30985 11.3 5.46985 11.0099 5.62985 10.6999C6.02985 9.93995 6.26984 9.33997 6.45984 8.84997C6.82984 9.53997 7.28986 10.12 7.82986 10.59C7.89986 10.65 7.96985 10.71 8.03985 10.77C6.93985 10.99 5.98985 11.26 5.15985 11.59V11.58ZM12.0898 11.52C12.0198 11.56 11.8298 11.59 11.7098 11.59C11.3098 11.59 10.8198 11.4 10.1298 11.1C10.3998 11.08 10.6399 11.07 10.8599 11.07C11.2599 11.07 11.3799 11.0699 11.7699 11.1699C12.1599 11.2699 12.1699 11.48 12.0999 11.52H12.0898Z" fill="#F40000"/>
</svg>
`},17935:g=>{g.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.0667 3.80034V12.2003H9.40001V3.80034H14.0667ZM15 2.867H8.46667V13.1337H15V2.867Z" fill="#D24625"/>
<path d="M13.1333 10.3337H8.46667V11.267H13.1333V10.3337Z" fill="#D24625"/>
<path d="M8.46667 2.14835V13.8524L1.93333 12.4897V3.511L8.46667 2.14835ZM9.4 1.00034L1 2.75501V13.255L9.4 15.0097V1.00968V1.00034Z" fill="#D24625"/>
<path d="M11.2667 4.73367V6.60034H13.1334C13.1334 5.57367 12.2934 4.73367 11.2667 4.73367Z" fill="#D24625"/>
<path d="M6.63733 7.067C6.63733 6.227 6.33866 5.50835 5.89999 5.16302C5.22799 4.64035 4.192 4.73366 4.192 4.73366H3.79065V11.267H4.72398V9.44701C5.05065 9.44701 5.46132 9.37234 5.83465 9.09234C6.36665 8.69101 6.62799 8.00968 6.62799 7.05768L6.63733 7.067ZM5.28399 8.34566C5.11599 8.47633 4.90133 8.51368 4.73333 8.51368V5.62968C4.91066 5.65768 5.12533 5.71368 5.29333 5.86302C5.564 6.09635 5.704 6.49768 5.704 7.05768C5.704 7.49635 5.62932 8.07501 5.28399 8.33634V8.34566Z" fill="#D24625"/>
<path d="M10.3334 7.53366V5.66699C9.98802 5.66699 9.67069 5.76966 9.40002 5.92832V9.14834C9.67069 9.307 9.98802 9.40967 10.3334 9.40967C11.36 9.40967 12.2 8.56967 12.2 7.543H10.3334V7.53366Z" fill="#D24625"/>
</svg>
`},94896:g=>{g.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.0667 3.80034V12.2003H9.40001V3.80034H14.0667ZM15 2.867H8.46667V13.1337H15V2.867Z" fill="#2A5699"/>
<path d="M13.1334 4.73367H9.40002V5.66701H13.1334V4.73367Z" fill="#2A5699"/>
<path d="M13.1334 6.60034H9.40002V7.53368H13.1334V6.60034Z" fill="#2A5699"/>
<path d="M13.1334 8.46701H9.40002V9.40034H13.1334V8.46701Z" fill="#2A5699"/>
<path d="M13.1334 10.3337H9.40002V11.267H13.1334V10.3337Z" fill="#2A5699"/>
<path d="M8.46667 2.14835V13.8524L1.93333 12.4897V3.511L8.46667 2.14835ZM9.4 1.00034L1 2.75501V13.255L9.4 15.0097V1.00968V1.00034Z" fill="#2A5699"/>
<path d="M5.90935 10.3337L5.19069 7.35632L4.48135 10.3337H3.88403L2.8667 5.66699H3.61335L4.2107 8.58833L4.90136 5.66699H5.49868L6.18936 8.61633L6.78668 5.66699H7.53337L6.51604 10.3337H5.90935Z" fill="#2A5699"/>
</svg>
`},27107:g=>{g.exports=`<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M31 6L39 14H31V6Z" fill="#0058EF"/>
<mask id="path-2-inside-1_3672_46963" fill="white">
<path fill-rule="evenodd" clip-rule="evenodd" d="M31 6H11V44H39V14H31V6Z"/>
</mask>
<path d="M11 6V4H9V6H11ZM31 6H33V4H31V6ZM11 44H9V46H11V44ZM39 44V46H41V44H39ZM39 14H41V12H39V14ZM31 14H29V16H31V14ZM11 8H31V4H11V8ZM13 44V6H9V44H13ZM39 42H11V46H39V42ZM37 14V44H41V14H37ZM39 12H31V16H39V12ZM33 14V6H29V14H33Z" fill="#0058EF" mask="url(#path-2-inside-1_3672_46963)"/>
</svg>
`},76185:g=>{g.exports=`<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.849 16.7535L20.249 32.1535" stroke="#207245" stroke-width="2" stroke-miterlimit="10"/>
<path d="M11.849 30.7535L20.249 15.3535" stroke="#207245" stroke-width="2" stroke-miterlimit="10"/>
<path d="M26.8625 4.75354L4.44897 9.74786V38.7394L26.8625 43.2465V4.75354Z" stroke="#207245" stroke-width="2"/>
<path d="M26.8625 10.1133H43.551V38.0085H26.8625M26.8625 15.8385H31.5311M26.8625 21.3201H31.5311M26.8625 27.0454H31.5311M26.8625 32.6488H31.5311M34.2463 15.8385H39.9148M34.2463 21.3201H39.9148M34.2463 27.0454H39.9148M34.2463 32.6488H39.9148" stroke="#207245" stroke-width="2"/>
</svg>
`},87831:g=>{g.exports=`<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5 37V11H43V37H5Z" stroke="#FF8800" stroke-width="2" stroke-miterlimit="10"/>
<path d="M33.6655 20.1493C33.6655 21.8257 32.3244 23.1657 30.6932 23.1657C29.0621 23.1657 27.7209 21.8257 27.7209 20.1493C27.7209 18.4729 29.0621 17.1329 30.6932 17.1329C32.3244 17.1329 33.6655 18.4729 33.6655 20.1493Z" stroke="#FF8800" stroke-width="2"/>
<path d="M6.09387 37V33.8161L14.9636 19.1407L31.0907 37H6.09387Z" stroke="#FF8800" stroke-width="2"/>
<path d="M42.0514 37H37.8244L32.1907 29.215L37.0649 26.7508L42.0514 32.5684V37Z" stroke="#FF8800" stroke-width="2"/>
</svg>
`},96682:g=>{g.exports=`<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8 24V6H29.9001L41 16.2738V42H18.5" stroke="#F40000" stroke-width="2" stroke-miterlimit="10"/>
<path d="M29.3433 6.01556V16.5029C33.371 16.5029 41.4263 16.5029 41.4263 16.5029" stroke="#F40000" stroke-width="2"/>
<path d="M35.9689 33.2099C35.9389 32.9399 35.7289 32.5799 35.4889 32.3399C34.8289 31.6799 33.3589 31.3199 31.1389 31.2899C29.6389 31.2899 27.8089 31.4099 25.9189 31.6799C25.0789 31.1699 24.1789 30.6299 23.4889 29.9699C21.6289 28.1999 20.0689 25.7399 19.1089 23.0399C19.1689 22.7999 19.2289 22.5598 19.2889 22.3498C19.2889 22.3498 20.3389 16.2599 20.0689 14.2199C20.0389 13.9499 20.0089 13.8599 19.9489 13.6499L19.8589 13.4099C19.5589 12.7499 19.0189 12.0299 18.1489 12.0599H17.6089C16.6189 12.0599 15.8389 12.5399 15.6289 13.3199C14.9989 15.7199 15.6289 19.2898 16.8289 23.9398L16.5289 24.6898C15.6889 26.8198 14.6089 28.9499 13.6789 30.8099L13.559 31.0499C12.569 33.0299 11.6689 34.7099 10.8589 36.1199L10.0189 36.5699C10.0189 36.5699 8.51893 37.3799 8.18893 37.5899C5.33893 39.3299 3.41892 41.3099 3.11892 42.8999C3.02892 43.4099 3.11893 44.0399 3.59893 44.3399L4.4089 44.7598C4.7689 44.9398 5.12888 45.0299 5.51888 45.0299C7.55888 45.0299 9.92887 42.4199 13.1989 36.6299C16.9789 35.3699 21.2689 34.3199 25.0189 33.7499C27.8989 35.3999 31.4089 36.5399 33.6289 36.5399C34.0189 36.5399 34.3789 36.5098 34.6489 36.4198C35.0689 36.2999 35.4289 36.0599 35.6389 35.7299C36.0589 35.0699 36.1489 34.1399 36.0289 33.2099H35.9689ZM5.00893 43.4398C5.36893 42.3898 6.83892 40.3499 9.02892 38.5199C9.17892 38.3999 9.50895 38.0699 9.80895 37.7699C7.52895 41.4899 5.99893 42.9599 5.00893 43.4099V43.4398ZM17.9089 13.1099C18.5689 13.1099 18.9289 14.7899 18.9589 16.3799C18.9889 17.9699 18.6289 19.0799 18.1789 19.8899C17.8189 18.6599 17.6389 16.7398 17.6389 15.5098C17.6389 15.5098 17.6389 13.1099 17.9089 13.1099ZM14.0689 34.7399C14.5189 33.8999 14.9989 33.0298 15.4789 32.0998C16.6789 29.8198 17.3989 28.0199 17.9689 26.5499C19.0789 28.6199 20.4589 30.3599 22.0789 31.7699C22.2889 31.9499 22.4989 32.1299 22.7089 32.3099C19.4089 32.9699 16.5589 33.7799 14.0689 34.7699V34.7399ZM34.8589 34.5599C34.6489 34.6799 34.0789 34.7699 33.7189 34.7699C32.5189 34.7699 31.0489 34.1999 28.9789 33.2999C29.7889 33.2399 30.5089 33.2099 31.1689 33.2099C32.3689 33.2099 32.7289 33.2098 33.8989 33.5098C35.0689 33.8098 35.0989 34.4399 34.8889 34.5599H34.8589Z" fill="#F40000"/>
</svg>
`},30351:g=>{g.exports=`<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M26.8625 4.75354L4.44897 9.74786V38.7394L26.8625 43.2465V4.75354Z" stroke="#D24625" stroke-width="2"/>
<path d="M33.8 14.2097V19.8097H39.4C39.4 16.7297 36.88 14.2097 33.8 14.2097Z" fill="#D24625"/>
<path d="M31.0004 22.6097V17.0097C29.9644 17.0097 29.0124 17.3177 28.2004 17.7937V27.4537C29.0124 27.9297 29.9644 28.2377 31.0004 28.2377C34.0804 28.2377 36.6004 25.7177 36.6004 22.6377H31.0004V22.6097Z" fill="#D24625"/>
<path d="M19.9124 21.2097C19.9124 18.6897 19.0163 16.5337 17.7003 15.4977C15.6843 13.9297 12.5764 14.2097 12.5764 14.2097H11.3723V33.8097H14.1723V28.3497C15.1523 28.3497 16.3843 28.1257 17.5043 27.2857C19.1003 26.0817 19.8843 24.0377 19.8843 21.1817L19.9124 21.2097ZM15.8523 25.0457C15.3483 25.4377 14.7043 25.5497 14.2003 25.5497V16.8977C14.7323 16.9817 15.3764 17.1497 15.8804 17.5977C16.6924 18.2977 17.1124 19.5017 17.1124 21.1817C17.1124 22.4977 16.8883 24.2337 15.8523 25.0177V25.0457Z" fill="#D24625"/>
<path d="M26.8625 10.0612H43.551V37.9563H26.8625" stroke="#D24625" stroke-width="2"/>
<path d="M26.8748 32.0246H39.8748" stroke="#D24625" stroke-width="2"/>
</svg>
`},23472:g=>{g.exports=`<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M17.728 31.001L15.5721 22.069L13.444 31.001H11.6521L8.6001 17.001H10.8401L12.6321 25.765L14.7041 17.001H16.496L18.5681 25.849L20.36 17.001H22.6001L19.5481 31.001H17.728Z" fill="#2A5699"/>
<path d="M26.8413 4.54126L4.42773 9.53558V38.5271L26.8413 43.0342V4.54126Z" stroke="#2A5699" stroke-width="2"/>
<path d="M26.8413 9.90106H43.5298V37.7962H26.8413M26.8413 15.6263H39.5098M26.8413 21.1079H39.5098M26.8413 26.8331H39.5098M26.8413 32.4365H39.5098" stroke="#2A5699" stroke-width="2"/>
</svg>
`},34291:g=>{g.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64"><defs><clipPath id="a"><path fill="none" d="M0 0h33.75v5H0z"/></clipPath></defs><g transform="translate(-516 -872)"><rect width="72" height="64" rx="6" transform="translate(516 872)" fill="none"/><rect width="56" height="46" rx="4" transform="translate(524 880)" fill="none"/><g data-name="Group 14754" transform="rotate(90 519.455 828.779)" fill="#7fc8f4"><rect width="36.729" height="10.229" rx="4" transform="rotate(-90 697.929 120.8)" opacity=".5"/><rect width="36.729" height="10.91" rx="4" transform="rotate(-90 703.725 115.004)" opacity=".5"/><rect width="36.729" height="10.229" rx="4" transform="rotate(-90 709.862 108.867)" opacity=".5"/></g><g transform="rotate(90 -156.375 730.875)"><path d="M4 2.5 0 5V0ZM11 2.5 7 5V0ZM18 2.5 14 5V0ZM25 2.5 21 5V0ZM32 2.5 28 5V0Z" fill="#004fd6"/></g></g></svg>
`},84531:g=>{g.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64"><g transform="translate(-418 -872)"><rect width="72" height="64" rx="6" transform="translate(418 872)" fill="none"/><rect width="56" height="46" rx="4" transform="translate(426 880)" fill="none"/><g transform="translate(-148.128 117.452)" fill="#7fc8f4"><rect width="22" height="15" rx="4" transform="rotate(-90 690.338 113.21)" opacity=".5"/><rect width="22" height="16" rx="4" transform="rotate(-90 698.838 104.71)" opacity=".5"/><rect width="22" height="15" rx="4" transform="rotate(-90 707.838 95.71)" opacity=".5"/></g><g><path d="m434 890.5-4 2.5v-5Zm9 0-4 2.5v-5Zm9 0-4 2.5v-5Zm9 0-4 2.5v-5Zm9 0-4 2.5v-5Zm9 0-4 2.5v-5Z" fill="#004fd6"/></g></g></svg>
`},35723:g=>{g.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64">
	<rect width="72" height="64" fill="none" rx="6"/>
	<g stroke="#999" stroke-width="0.5">
		<rect width="56" height="46" x="8" y="8" fill="#fff" rx="4"/>
		<rect width="55" height="45" x="8.5" y="8.5" fill="none" rx="3.5"/>
	</g>
	<g fill="#d1d1d1">
		<rect width="40" height="6" x="16" y="18" rx="3"/>
		<rect width="40" height="6" x="16" y="28" rx="3"/>
		<rect width="40" height="6" x="16" y="38" rx="3"/>
	</g>
</svg>
`},27320:g=>{g.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64">
	<rect width="72" height="64" fill="none" rx="6"/>
	<g fill="#7fc8f4" stroke="#006ce0" opacity=".34">
		<rect width="50" height="43" x="11" y="11" rx="4"/>
		<rect width="49" height="42" x="11.5" y="11.5" fill="none" rx="3.5"/>
	</g>
</svg>
`},48305:g=>{g.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64"><g data-name="Group 14609" transform="translate(-446 -144)"><rect data-name="Rectangle 24755" width="72" height="64" rx="6" transform="translate(446 144)" fill="none"/><g data-name="Rectangle 39843" transform="translate(484 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="23" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="22" height="42" rx="3.5" fill="none"/></g><g data-name="Rectangle 39845" transform="translate(457 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="23" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="22" height="42" rx="3.5" fill="none"/></g></g></svg>'},6206:g=>{g.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64"><g data-name="Group 14609" transform="translate(-446 -144)"><rect data-name="Rectangle 24755" width="72" height="64" rx="6" transform="translate(446 144)" fill="none"/><g data-name="Rectangle 39845" transform="translate(456 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="15" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="14" height="42" rx="3.5" fill="none"/></g><g data-name="Rectangle 39906" transform="translate(474 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="15" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="14" height="42" rx="3.5" fill="none"/></g><g data-name="Rectangle 39907" transform="translate(492 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="15" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="14" height="42" rx="3.5" fill="none"/></g></g></svg>'},50103:g=>{g.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64"><g data-name="Group 14609" transform="translate(-446 -144)"><rect data-name="Rectangle 24755" width="72" height="64" rx="6" transform="translate(446 144)" fill="none"/><g data-name="Rectangle 39845" transform="translate(457 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="10" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="9" height="42" rx="3.5" fill="none"/></g><g data-name="Rectangle 39908" transform="translate(470 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="10" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="9" height="42" rx="3.5" fill="none"/></g><g data-name="Rectangle 39909" transform="translate(483 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="10" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="9" height="42" rx="3.5" fill="none"/></g><g data-name="Rectangle 39910" transform="translate(496 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="10" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="9" height="42" rx="3.5" fill="none"/></g></g></svg>'},75670:g=>{g.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" enable-background="new 0 0 20 20"><g fill="#afb4c1"><path d="m9 11.8h2v3.3h-2z"/><circle cx="10" cy="12" r="1.5"/></g><g fill="none" stroke="#afb4c1" stroke-miterlimit="10"><path d="m16.5 18.5h-13c-.6 0-1-.4-1-1v-9c0-.6.4-1 1-1h13c.6 0 1 .4 1 1v9c0 .6-.4 1-1 1z"/><path d="M5.5,7V5.5c0-2.2,1.8-4,4-4h1c2.2,0,4,1.8,4,4V7" stroke-width="1.25"/></g></svg>'},112:g=>{g.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16"><defs/><g transform="translate(143.941 -406.051)"><rect width="2" height="2" transform="translate(-136.941 408.051)" style="fill: #8095b3;"/><rect width="2" height="2" transform="translate(-136.941 413.051)" style="fill: #8095b3;"/><rect width="2" height="2" transform="translate(-136.941 418.051)" style="fill: #8095b3;"/></g><rect width="16" height="16" style="fill: none;"/></svg>
`},42926:g=>{g.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 1 20 20" enable-background="new 0 0 20 20"><path d="M17,3V1h-3v2H6V1H3v2H0v4v1v12h20V3H17z M15,2h1v3h-1V2z M4,2h1v3H4V2z M19,19H1V8h18V19z M19,7H1V4h2v2h3V4h8
	v2h3V4h2V7z" fill="#8095b3"/><path fill="none" stroke="#8095b3" stroke-miterlimit="10" d="m6.5 12.5l3 3 5-5"/></svg>
`},67347:g=>{g.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16"><defs/><path d="M-26.666,687.452l2.438,2,4.062-4" transform="translate(31.666 -676.453)" style="fill: none; stroke: #54657d; stroke-miterlimit: 10;"/><g transform="translate(0 2)" style="fill: none; stroke: #54657d; stroke-miterlimit: 10;"><rect width="16" height="14" style="stroke: none;"/><rect x="0.5" y="0.5" width="15" height="13" style="fill: none;"/></g><line x2="16" transform="translate(0 6.5)" style="fill: none; stroke: #54657d; stroke-miterlimit: 10;"/><g transform="translate(2)" style="stroke: #54657d; stroke-miterlimit: 10; fill: #fff;"><rect width="3" height="5" style="stroke: none;"/><rect x="0.5" y="0.5" width="2" height="4" style="fill: none;"/></g><g transform="translate(11)" style="stroke: #54657d; stroke-miterlimit: 10; fill: #fff;"><rect width="3" height="5" style="stroke: none;"/><rect x="0.5" y="0.5" width="2" height="4" style="fill: none;"/></g></svg>
`},63202:g=>{g.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16"><defs/><g transform="translate(-1816.814 -33.301)"><g transform="translate(1816.814 33.301)" style="fill: none; stroke: #54657d; stroke-miterlimit: 10;"><circle cx="8" cy="8" r="8" style="stroke: none;"/><circle cx="8" cy="8" r="7.5" style="fill: none;"/></g><path d="M1824.814,36.015v5.244l3.266,3.8" style="fill: none; stroke: #54657d; stroke-miterlimit: 10;"/></g></svg>
`},77017:g=>{g.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.error-icon-a{fill:#df1f26;}.error-icon-b,.error-icon-c{fill:none;}.error-icon-b{stroke:#fff;stroke-miterlimit:10;stroke-width:1.5px;}</style></defs><circle class="error-icon-a" cx="7" cy="7" r="7" transform="translate(1 1)"/><line class="error-icon-b" x2="6" y2="6" transform="translate(5 5)"/><line class="error-icon-b" y1="6" x2="6" transform="translate(5 5)"/><rect class="error-icon-c" width="16" height="16"/></svg>'},64207:g=>{g.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16.001" height="16" viewBox="0 0 16.001 16"><defs><style>.warning-icon-a{fill:#ff9800;}.warning-icon-b,.warning-icon-d{fill:none;}.warning-icon-b{stroke:#fff;stroke-linecap:round;stroke-miterlimit:10;stroke-width:2px;}.warning-icon-c{fill:#fff;}</style></defs><g transform="translate(-1330.138 361.759)"><path class="warning-icon-a" d="M1345.172-346.541H1331.1a.964.964,0,0,1-.84-1.438l7.033-12.505a.965.965,0,0,1,1.682,0l7.034,12.505A.965.965,0,0,1,1345.172-346.541Z"/><line class="warning-icon-b" y2="3" transform="translate(1338.139 -355.279)"/><circle class="warning-icon-c" cx="1.25" cy="1.25" r="1.25" transform="translate(1336.889 -350.529)"/></g><rect class="warning-icon-d" width="16" height="16" transform="translate(0.001)"/></svg>'},14186:g=>{g.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.a,.b{fill:none;}.b{stroke:#fff;stroke-linecap:round;stroke-width:1.5px;}</style></defs><g transform="translate(16) rotate(90)"><rect class="a" width="16" height="16"/><path class="b" d="M10.365,0,5.182,5.465,0,0" transform="translate(2.818 5.268)"/></g></svg>'},54762:g=>{g.exports=`<svg id="Group_7" data-name="Group 7" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <rect id="Rectangle_7" data-name="Rectangle 7" width="16" height="16" fill="none"/>
  <line id="Line_5" data-name="Line 5" y1="10" x2="10" transform="translate(3 3)" fill="none" stroke="#999" stroke-miterlimit="10" stroke-width="1"/>
  <line id="Line_6" data-name="Line 6" x2="10" y2="10" transform="translate(3 3)" fill="none" stroke="#999" stroke-miterlimit="10" stroke-width="1"/>
</svg>
`},71235:g=>{g.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">
	<g fill="none">
		<path d="M0 16V0h16v16z"/>
		<path d="m14 5-5.5 5.5L3 5" stroke="#006ce0"/>
	</g>
</svg>
`},47943:g=>{g.exports=`<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path d="M7.49134 3.22305C7.49134 2.82264 7.15352 2.49805 6.73681 2.49805C6.32009 2.49805 5.98227 2.82264 5.98227 3.22305V3.41077H2.75453C2.33782 3.41077 2 3.73536 2 4.13577C2 4.53618 2.33782 4.86077 2.75453 4.86077H8.1046C7.97647 5.14655 7.83931 5.42552 7.69554 5.69677C7.2841 6.47305 6.81859 7.18611 6.35614 7.81489C6.03052 7.32801 5.72261 6.82084 5.42587 6.29971C5.22585 5.94845 4.76734 5.81949 4.40177 6.01168C4.03619 6.20387 3.90199 6.64443 4.102 6.9957C4.49601 7.68763 4.91857 8.37339 5.38474 9.03245C5.01375 9.46248 4.68032 9.81285 4.4245 10.0693C4.26253 10.2316 4.13205 10.3559 4.04334 10.4385C3.999 10.4797 3.96513 10.5106 3.94302 10.5305L3.91885 10.5521L3.91369 10.5567C3.60572 10.8261 3.58243 11.285 3.86266 11.5811C4.143 11.8774 4.6202 11.8992 4.92852 11.6298L4.42092 11.0934C4.92852 11.6298 4.92837 11.63 4.92852 11.6298L4.93016 11.6284L4.93303 11.6259L4.94239 11.6176L4.97513 11.5883C5.00304 11.5632 5.0429 11.5269 5.09339 11.4799C5.19436 11.3859 5.33801 11.2489 5.51383 11.0727C5.7348 10.8512 6.00719 10.5671 6.30993 10.2276C6.54806 10.5072 6.79704 10.7786 7.05826 11.0401C7.34683 11.329 7.82447 11.3384 8.12511 11.0611C8.42574 10.7839 8.43553 10.3249 8.14697 10.036C7.84094 9.72969 7.55143 9.40554 7.27557 9.06637C8.14191 7.94752 9.08008 6.50571 9.73299 4.86077H10.7151C11.1318 4.86077 11.4696 4.53618 11.4696 4.13577C11.4696 3.73536 11.1318 3.41077 10.7151 3.41077H9.22026C9.20855 3.41051 9.19687 3.41051 9.18522 3.41077H7.49134V3.22305Z" fill="#0D2E4E"/>
	<path fill-rule="evenodd" clip-rule="evenodd" d="M9.88447 7.94801C10.2159 7.17997 11.3516 7.1894 11.6692 7.96284L13.9471 13.5101C14.1001 13.8826 13.9098 14.3036 13.5222 14.4506C13.1346 14.5976 12.6963 14.4148 12.5434 14.0423L11.9148 12.5116L9.5486 12.5116L8.88299 14.0539C8.72337 14.4238 8.28192 14.5993 7.89699 14.4459C7.51205 14.2925 7.32941 13.8684 7.48903 13.4985L8.27697 11.6728C8.29592 11.5574 8.34318 11.4511 8.41171 11.3606L9.88447 7.94801ZM10.1744 11.0616H11.3194L10.7611 9.70208L10.1744 11.0616Z" fill="#0D2E4E"/>
</svg>
`},27809:g=>{g.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.lsa{fill:#8095b3;}.lsb,.lsc{fill:none;}.lsb{stroke:#8095b3;stroke-miterlimit:10;}</style></defs><path class="lsa" d="M14.5,14l-.9-2.5H10L9.1,14H8.2l3.2-8.4h.8L15.4,14ZM12,7.1c0-.1-.1-.2-.1-.3s-.1-.2-.1-.3h0a.367.367,0,0,1-.1.3c-.1.1,0,.2-.1.3l-1.4,3.7h3.1Z" transform="translate(0.301 1)"/><line class="lsb" x2="10" transform="translate(0.301 2.5)"/><line class="lsb" y2="2" transform="translate(4.801 1)"/><path class="lsb" d="M1.5,11.5S6.2,7.2,8,2" transform="translate(0.301 1)"/><path class="lsb" d="M3,4.5a24.292,24.292,0,0,0,4.5,5.6" transform="translate(0.301 1)"/><rect class="lsc" width="16" height="16"/></svg>'},38192:g=>{g.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">
	<g fill="none">
		<path d="M16 0v16H0V0z"/>
		<path d="m2 11 5.5-5.5L13 11" stroke="#006ce0"/>
	</g>
</svg>
`},73308:(g,W,u)=>{u.d(W,{A:()=>c});function d(m,f,_,P,R,C,L){try{var x=m[C](L),O=x.value}catch(I){_(I);return}x.done?f(O):Promise.resolve(O).then(P,R)}function c(m){return function(){var f=this,_=arguments;return new Promise(function(P,R){var C=m.apply(f,_);function L(O){d(C,P,R,L,x,"next",O)}function x(O){d(C,P,R,L,x,"throw",O)}L(void 0)})}}}}]);
