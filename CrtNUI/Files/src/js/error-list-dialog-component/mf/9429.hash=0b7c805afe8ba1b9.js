(self.webpackChunkapp_studio_enterprise_error_list_dialog=self.webpackChunkapp_studio_enterprise_error_list_dialog||[]).push([[9429,3308,927,8546],{9429:(y,Zn,p)=>{p.r(Zn),p.d(Zn,{ACCESS_CONTROL_WHITELIST:()=>vc,ACTIVITY_CATEGORY_EMAIL:()=>jo,ACTIVITY_CATEGORY_MEETING:()=>xo,ACTIVITY_CATEGORY_TODO:()=>ko,ACTIVITY_SCHEME_NAME:()=>No,ACTIVITY_SCHEME_UID:()=>Lo,ACTIVITY_TYPE_EMAIL:()=>Po,ACTIVITY_TYPE_TASK:()=>Vo,ALLOW_PAGE_DESIGN:()=>oc,ALL_EMPLOYEES_SYSADMINUNIT_ID:()=>Ll,ALL_PORTAL_USERS_SYSADMINUNIT_ID:()=>Nl,APPEARANCE_SETTINGS_DEFAULT_LOADER:()=>hi,APPEARANCE_SETTINGS_LOADER:()=>pi,APPLICATION_INFO_PROVIDER:()=>lo,AbstractEntityDataSourceAttributeConfigConverter:()=>nr,AbstractExpressionFactory:()=>D,AbstractExpressionFactoryMediator:()=>mr,AbstractThemeProvider:()=>io,AbstractValidator:()=>Ls,AclRightsException:()=>or,AclRules:()=>ar,AddonName:()=>jr,AggregationSubQueryOperandExpression:()=>da,AggregationSubQueryOperandExpressionFactory:()=>Sa,AppBaseUrlCsrfInterceptor:()=>Tn,AppearanceSettingsMetadata:()=>Kn,AppearanceSettingsService:()=>tn,ApplicationInfo:()=>O,ApplicationInfoService:()=>He,ArithmeticOperatorDataTypeResolver:()=>oa,ArithmeticOperatorExpression:()=>ma,ArithmeticOperatorExpressionFactory:()=>Da,ArithmeticOperatorType:()=>j,BACKWARD_COMPATIBILITY_COLORS_MAP:()=>Ao,BASE_DASHBOARD_TEMPLATE_ANGULAR:()=>Oo,BASE_HOME_PAGE_TEMPLATE_ANGULAR:()=>Mo,BASE_MODAL_PAGE_TEMPLATE_ANGULAR:()=>Do,BASE_PAGE_TEMPLATE_ANGULAR:()=>wo,BASE_SIDEBAR_TEMPLATE_ANGULAR:()=>Fo,BYTES_IN_MEGABYTE:()=>Ks,BaseDateTimeHandler:()=>ue,BaseFileUploadProcessingService:()=>Vt,BaseFormatPipe:()=>Er,BaseRequireJsPathRegisterService:()=>zt,BaseRightsService:()=>yi,BaseSchema:()=>Bs,BaseSysSettingsService:()=>bc,BaseTwoFaReferrerService:()=>Mi,BaseTwoFactorDialogService:()=>wi,BinaryOperatorExpression:()=>vs,BrowserExtensionsService:()=>et,BrowserExtensionsServiceMock:()=>tt,BusinessRuleExpressionComparisonType:()=>$r,BusinessRuleExpressionType:()=>Hr,BusinessRuleTriggerType:()=>zr,BypassSecurityTrustModule:()=>On,BypassSecurityTrustPipe:()=>St,CKEDITOR_URL:()=>Cc,CLIENT_SCHEMA_SAVED_CHANNEL_NAME:()=>Su,COMPOSER_EVENT_ATTRIBUTE_PREFIX:()=>Bo,CONTEXT_SERVICE_TOKEN:()=>uc,CRT_DESIGN_TIME_METADATA_PREPROCESSOR:()=>hc,CRT_METADATA_PREPROCESSOR:()=>ts,CRT_MOMENT_DATETIME_FORMATS:()=>Ru,CRT_MOMENT_DATE_FORMATS:()=>na,CRT_NAVIGATION_LOCK_TOKEN:()=>lc,ChangeColumnTypeRules:()=>xe,ChatMessageActionType:()=>Dr,ClientLogMessage:()=>ac,ClientLogMessageType:()=>nn,ClientLogService:()=>Ce,ClientPerformanceLogger:()=>fn,ClientUnitSchemaType:()=>Br,CollectionLoadType:()=>ns,ColumnLookupValuesService:()=>cn,ColumnOperandExpression:()=>Es,ColumnOperandExpressionFactory:()=>Ia,ColumnOperandType:()=>W,CommonModule:()=>pr,ConfigurationItemCodeGenerationUtils:()=>Fc,ConsolePerformanceLogger:()=>pn,ConstOperandExpression:()=>ha,ConstantOperandDataTypeResolver:()=>ca,ConstantOperandExpressionFactory:()=>va,ContactColorService:()=>Xt,ContextService:()=>cc,CopilotToEditorCommunicationService:()=>yn,CopyClipboardRequest:()=>us,CopyClipboardRequestHandler:()=>ur,CrtAutoUnsubscribe:()=>wu,CrtColor:()=>fe,CrtDateAdapter:()=>dt,CrtDatetimeAdapter:()=>ht,CrtIndexedDBService:()=>ct,CrtIndexedDbModule:()=>Sn,CrtInjectionContext:()=>li,CrtInjectionContextsService:()=>Qe,CrtNoopNavigationLock:()=>Nt,CrtStandaloneCdkTrapFocusDirective:()=>Cn,CrtTextOverflowTitleDirective:()=>pt,CrtTextOverflowTitleModule:()=>In,CrtZoneProvider:()=>Be,CrtZoneService:()=>Ps,CrtZoneState:()=>gt,CrtZoneType:()=>Ir,CultureInfo:()=>Ft,CustomEventTranslateLoader:()=>Ut,CustomValidators:()=>$l,DATA_SERVICE_URI:()=>es,DATA_SERVICE_URI_PROVIDER:()=>Jo,DATE_TIME_DATA_VALUE_TYPES:()=>Kr,DATE_TIME_FORMATTER:()=>Ha,DATE_TIME_FORMAT_INFO:()=>lt,DEFAULT_CULTURE_ID:()=>$s,DEFAULT_CULTURE_NAME:()=>Rr,DEFAULT_DATA_SERVICE_URI:()=>si,DEFAULT_FORMATTER:()=>Rs,DEFAULT_ITEM_PROPERTY_VALUES:()=>dc,DEFAULT_THEME:()=>xl,DEPRECATED_ICON_MAP:()=>so,DEVKIT_MASK_SERVICE:()=>pc,DataServiceLoggingInterceptor:()=>fs,DataSourceLoadingType:()=>Fr,DataSourceType:()=>Or,DataValueTypeGroup:()=>$,DataValueTypeItems:()=>ie,DateTimeEmptyPlaceholderCreator:()=>Ie,DateTimeFormatInfoConverter:()=>Au,DateTimeFormatPipe:()=>Z,DateTimeFormatter:()=>Oe,DateTimeFormattingModule:()=>xn,DateTypes:()=>Ds,DaysHandler:()=>Me,DecodeHtmlPipe:()=>Ne,DefaultColors:()=>C,DefaultColorsHover:()=>Zr,DefaultZones:()=>je,DesignerDataValueTypeIconsProvider:()=>En,EMPTY_PLACEHOLDER_CREATOR_FACTORY:()=>as,EMPTY_PLACEHOLDER_CREATOR_FACTORY_PROVIDER:()=>gi,ENTITY_DATA_SOURCE_ATTRIBUTE_CONFIG_CONVERTER_FACTORY:()=>ui,ENTITY_STRUCTURE_TOKEN:()=>_c,ERROR_TRANSLATION_KEY_PATTERN:()=>oo,EditorActionType:()=>qn,EditorNotification:()=>fo,EmptyPlaceholderCreator:()=>is,EncodeHtmlPipe:()=>Et,EntityColumn:()=>mo,EntityDataSourceAggregationAttributeConfigConverter:()=>J,EntityDataSourceAttributeConfigConvertersModule:()=>rr,EntityDataSourceDefaultAttributeConfigConverter:()=>ce,EntityDataSourceFunctionAttributeConfigConverter:()=>Q,EntityDataSourceTypeName:()=>ec,EntityDeserializer:()=>bn,EntityHttpService:()=>se,EntityPathHelper:()=>Lt,EntityRequireService:()=>$e,EntitySchema:()=>Us,EntitySchemaColumn:()=>Ar,EntitySchemaColumnUsageType:()=>Y,EntitySchemaColumnUsageTypeItems:()=>Co,EntitySchemaProvider:()=>qe,EntitySchemaRepository:()=>Kt,EntitySchemaService:()=>ae,EntityStructureService:()=>Ei,EventService:()=>An,ExecutionTrackingZone:()=>Cs,Expression:()=>Rn,ExpressionFactory:()=>Pa,ExpressionFactoryMediator:()=>mt,ExpressionFactoryMediatorMock:()=>Pu,ExpressionFactoryMock:()=>ku,ExpressionFactoryModule:()=>yr,ExpressionMock:()=>ju,ExpressionType:()=>H,ExpressionVisitor:()=>xu,ExpressionVisitorMock:()=>Uu,FEATURE_VALUES:()=>ze,FILE_CONTENT_DESCRIPTOR_TOKEN:()=>Ci,FORMATTERS_REGISTRATION_MAP:()=>ws,FeatureValues:()=>Ws,FeedNotificationOperation:()=>sr,FeedNotificationService:()=>Jt,FeedSourceType:()=>Vs,FileApiHttpParamEncoder:()=>xt,FileApiService:()=>We,FileContentDescriptorsService:()=>bi,FileContentUrlBuilderService:()=>_n,FileDownloaderService:()=>me,FileReaderService:()=>kt,Formatter:()=>Dn,FormatterFactory:()=>Tt,FormattersModule:()=>Un,FunctionExpression:()=>ua,FunctionExpressionFactory:()=>Ea,GENERATE_GUID_MACRO:()=>ti,GET_TRANSLATIONS_EVENT_NAME:()=>Xs,GenerateNameMacroProcessor:()=>ol,HEADER_FIXED_HEIGHT:()=>fc,HTML_SANITIZATION_FORMATTER:()=>$a,HintDirectiveConfig:()=>Du,HintOverlayDirective:()=>fr,HourHandler:()=>Re,HtmlFormattingModule:()=>jn,HtmlSanitizationFormatter:()=>yt,ISOtoMomentDateTimeFormatInfoConverter:()=>ut,IS_ANGULAR_HOST:()=>Ti,IS_DESIGN_TIME:()=>os,ImageApiService:()=>jt,InitialsService:()=>Yt,LczToStringModule:()=>Fn,LczToStringPipe:()=>de,LocalizableStringArray:()=>U,LogicalOperation:()=>Gr,LookupFormatPipe:()=>Ve,MACROS_HANDLER:()=>Ln,MODAL_SIZE_CLASSES:()=>ss,MODULE_STRUCTURE_TOKEN:()=>Tc,MODULE_UTILS:()=>Ec,MOMENT_APP_INITIALIZER_PROVIDER:()=>vl,MOMENT_DATE_TIME_FORMATTER:()=>bs,MacrosHandlerService:()=>Pe,MacrosHelperService:()=>Ye,MacrosModule:()=>Nn,MainMenuService:()=>Ht,MeasurePerformanceNetworkService:()=>be,MeasurePerformancePageLoadService:()=>un,MeasurePerformanceService:()=>sn,MemoryFormatPipe:()=>le,MemoryFormattingModule:()=>kn,MemoryUnit:()=>Ur,MessageChannelService:()=>Ke,MessageType:()=>Vr,MetadataSchemaUtils:()=>L,ModalSize:()=>ee,ModelMode:()=>rs,ModuleStructureService:()=>Si,MomentInitializer:()=>At,MonthsHandler:()=>Fe,NAME_PATTERN:()=>Ro,NAVIGATION_HANDLER_TOKEN:()=>go,NOT_CONFIGURED_PERMISSIONS:()=>Cl,NUMBER_FORMATTER:()=>Ga,NUMBER_PRECISIONS_MAP:()=>qr,NUMERIC_DATA_VALUE_TYPES:()=>tr,NavigationService:()=>Gt,NotConfiguredPermissionsModel:()=>Fs,NumberFormatAdjuster:()=>_t,NumberFormatConfig:()=>zi,NumberFormatInfo:()=>Wi,NumberFormatPipe:()=>K,NumberFormatUtility:()=>it,NumberFormatter:()=>Le,NumberFormattingModule:()=>Bn,NumericEmptyPlaceholderCreator:()=>ve,ObjectPermissionsService:()=>Hn,OperandExpression:()=>wn,OperandExpressionFactory:()=>Ca,OperandType:()=>k,OperatorExpression:()=>gr,OperatorExpressionFactory:()=>Fa,OperatorType:()=>B,OrderDirectionStrict:()=>xr,PAGE_PARAMETERS_DATA_SOURCE_NAME:()=>nc,PAGE_PARAMETERS_DATA_SOURCE_TYPE_NAME:()=>tc,PERFORMANCE_LOGGERS:()=>Ai,PROCESS_SCHEMA_SAVED_CHANNEL_NAME:()=>Iu,PROVIDE_THEMING_ICONS_RESOLVER_APP_INITIALIZER:()=>kl,PackageLocalizableDataService:()=>Bt,ParenthesesOperatorExpression:()=>ya,ParenthesesOperatorExpressionFactory:()=>Oa,PerformanceLoggerService:()=>mn,RELATED_PAGE_TYPE_NAME:()=>vu,REQUIRE_JS:()=>er,REQUIRE_JS_PATH_REGISTER_PROVIDER:()=>Yo,ROOT_SCHEMA_DESCRIPTORS:()=>Sc,RTLUtils:()=>ls,RelationOperatorExpression:()=>_a,RelationOperatorExpressionFactory:()=>La,RelationOperatorType:()=>z,RequestLoggingInterceptor:()=>ps,RequireJsPathRegisterService:()=>ye,RequireJsProvider:()=>Ee,RequireJsService:()=>on,ResourceFinderService:()=>oe,ResourceMacrosHandlerPipe:()=>It,ResourceStringMacrosHandler:()=>Wa,ResourceUrlBuilderService:()=>gn,RestAccumulatingErrorHandler:()=>bl,RestErrorHandler:()=>to,RestHandler:()=>Al,RootInjectorGuard:()=>Ot,RootSchemaDescriptorsService:()=>Ii,RuntimeUrlProvider:()=>en,SAVE_ENTITY_EVENT:()=>Cu,SAVE_ENTITY_SCHEMA_MESSAGE_ID:()=>_i,SAVE_ENTITY_SCHEMA_MESSAGE_ID_PROVIDER:()=>yc,SCHEMA_CHANGE_LISTENER_MESSAGE_PREDICATE:()=>Jr,SCHEMA_REMOVE_LISTENER_MESSAGE_PREDICATE:()=>Qr,SESSION_END_NOTIFIER_TOKEN:()=>di,SSP_DATA_SERVICE_URI:()=>ii,SSP_URL_SEGMENT:()=>qi,STRUCTURES_TOKEN:()=>Ic,SafeUrlModule:()=>Vn,SafeUrlPipe:()=>vt,SanitizeHtmlPipe:()=>re,SaveScrollPositionDirective:()=>ft,SaveScrollPositionModule:()=>vn,SaveScrollPositionService:()=>Je,SchemaAccessService:()=>rn,SchemaChangeListenerService:()=>Se,SchemaColumnOperandExpressionFactory:()=>ba,SchemaProcessingLifecycleHooks:()=>kr,SchemaResourcesSuffix:()=>Zs,SchemaTypes:()=>Ge,ScrollToBottomObserver:()=>no,ScrollToBottomObserverFactory:()=>$n,SearchStrategy:()=>ge,SecondFactorValidationStatus:()=>cr,ShowDesktopNotificationHandler:()=>hr,ShowDesktopNotificationRequest:()=>gs,SmartDateTimeFormatPipe:()=>he,SoundNotificationHandler:()=>dr,SoundNotificationRequest:()=>ms,SspUrlPrefixInterceptor:()=>iu,StaticFileContentRequireJsPathRegisterService:()=>_e,StopwatchDateTimeFormatPipe:()=>bt,StorageService:()=>qt,StringFormatPipe:()=>Sr,StringFormatter:()=>te,StructuresService:()=>vi,StubRequireJsPathRegisterService:()=>Te,SubQueryOperandExpression:()=>Is,SubQueryOperandExpressionFactory:()=>Aa,SysAdminUnit:()=>Pl,SysAdminUnitType:()=>Os,SysSettingOperandExpression:()=>pa,SysSettingOperandExpressionFactory:()=>Ra,SysVariableOperandExpression:()=>fa,SysVariableOperandExpressionFactory:()=>wa,THEME:()=>ao,THEMES:()=>Vl,TRANSLATE_SERVICE_URI:()=>Sl,TargetMode:()=>Qn,TernaryOperatorExpression:()=>Ta,TernaryOperatorExpressionFactory:()=>Na,ThemeColor:()=>F,TimerDateTimeFormatPipe:()=>pe,ToEmptyPlaceholderModule:()=>Pn,ToEmptyPlaceholderPipe:()=>ne,TotpDialogService:()=>hn,TranslateUtilsService:()=>Xe,TrapFocusService:()=>rt,TreeNode:()=>zn,TwoFaReferrerService:()=>dn,TwoFactorHandlingInterceptor:()=>ln,TypeResources:()=>Xn,USER_INFO_PROVIDER:()=>zs,USE_PERFORMANCE_OPTIMIZATION:()=>mc,USE_SAVE_SCROLL_POSITION_SERVICE:()=>gc,UnaryOperatorExpression:()=>ga,UrlBuilderHttpInterceptor:()=>at,UserConnectionType:()=>Wr,UserInfo:()=>R,UserInfoInitializerModule:()=>Yn,UserInfoService:()=>X,UserSessionMonitorService:()=>an,VALIDATORS:()=>Ns,ValidationErrorMock:()=>Bl,ValidationErrorTranslateService:()=>ke,ValidationErrorTranslateServiceMock:()=>Ul,ValidationResult:()=>Rt,Validator:()=>wt,ValidatorMock:()=>Hl,ValidatorTranslateDecorator:()=>Wn,ValueFormatPipe:()=>Ct,VerticalResizingMixin:()=>Fu,ViewModelAttributeChangeEventOptions:()=>Eo,WEB_SOCKET_HEARTBEAT_INITIAL_DELAY:()=>Qs,WEB_SOCKET_HEARTBEAT_INTERVAL:()=>Nr,WEB_SOCKET_HEARTBEAT_REQUEST_MESSAGE:()=>ei,WEB_SOCKET_HEARTBEAT_RESPONSE_MESSAGE:()=>Jn,WEB_SOCKET_HEARTBEAT_TIMEOUT_DELAY:()=>Pr,WEB_SOCKET_RECONNECTION_DELAY:()=>Js,WINDOW_PAYLOAD_VALUES:()=>cs,WINDOW_PAYLOAD_VALUES_PROVIDER:()=>Ol,WORKPLACE_NAVIGATION_PANEL_VISIBLE_ATTRIBUTE_NAME:()=>Uo,WebComponentHttpInterceptor:()=>ot,WebSocketMsgChannel:()=>Ze,WeekHandler:()=>we,WindowPayloadService:()=>Gn,WorkplaceService:()=>Qt,YearsHandler:()=>De,addSppUrlSegment:()=>Xi,appInitializerMomentFactory:()=>eo,areLocalizableStringsEqual:()=>ru,backgroundColors:()=>bo,buildFolderTreeAttributeNames:()=>zu,buildHierarchyAttributeNames:()=>Lu,capitalizeFirstLetter:()=>ou,chunkText:()=>Dc,compareObjectsStructure:()=>Zi,compareWorkspaceBaseUrls:()=>Zo,convertArithmeticOperatorTypeToString:()=>ia,convertImageToBase64String:()=>ji,convertRelationOperatorTypeToString:()=>aa,createFileErrorLogItem:()=>Lr,createSearchLowerCasePredicate:()=>du,ctrlSPressed:()=>gu,ctrlShiftZPressed:()=>yu,ctrlZPressed:()=>_u,dataSourceEntityNameMacrosHandler:()=>Ka,detectCircularDependencies:()=>_l,endOfDay:()=>Bc,escapePressed:()=>mu,esqServiceUrl:()=>ri,expressionVisitResultMock:()=>Bu,extractLocalization:()=>Gi,extractResourcesKey:()=>Jc,findCollectionRecursive:()=>xa,findItemRecursive:()=>Va,format:()=>Ji,generatePropertiesAttributeName:()=>yo,getAbsoluteAppPath:()=>zo,getAggregationSubQueryColumnDefinitionId:()=>la,getAppBaseUrl:()=>Xr,getAppPath:()=>ci,getAppUrl:()=>Wt,getArithmeticOperatorTypeFromString:()=>Nu,getBaseAppLocation:()=>Go,getBusinessRuleCaption:()=>yl,getBusinessRuleFilterAttributeName:()=>El,getColorByTheme:()=>Dt,getColumnDefinitionId:()=>Ts,getCookie:()=>Pi,getDataValueTypeByName:()=>xc,getDataValueTypeGroup:()=>Nc,getDataValueTypeIcon:()=>Vc,getEntityUrl:()=>Wo,getEsqServiceLocation:()=>qo,getFullViewElementCaption:()=>pu,getImageFullUrlById:()=>Wc,getImageServiceUrlById:()=>Zc,getImageUrlById:()=>Ko,getInterfaceDesignerUrl:()=>Xo,getItemsAttributeName:()=>Tl,getLocalizableStringValue:()=>jl,getLocalization:()=>Qc,getNumberDataValueTypeValidatorParams:()=>Lc,getOpenSchemaNavigationUrl:()=>oi,getPropertyByPath:()=>Ki,getServicePrefixByUserType:()=>Tu,getSubQueryColumnDefinitionId:()=>Ss,getTextDataValueTypeValidatorParams:()=>Oc,getUserCultureTimeFormat:()=>Hc,getViewElementContentSlots:()=>st,getWorkspaceBaseUrl:()=>x,hasObjectStructure:()=>hs,hashCode:()=>Qi,imageServiceUrl:()=>ni,isAllowedTypeSearchColumn:()=>Ml,isCalculatedAttributeConfig:()=>wc,isLookupDataValueType:()=>Pc,isModelAttributeConfig:()=>Fi,isNumberTypeSearchColumn:()=>Dl,isResourceMacros:()=>$i,isString:()=>Yi,isValidLookupValue:()=>kc,isValidSortDirection:()=>gl,joinPath:()=>Yr,joinSubscriptions:()=>uu,macrosTemplateHandler:()=>qa,nameof:()=>fu,navigationLockFactory:()=>Hu,normalizeLocalizations:()=>eu,objectHash:()=>su,parseDate:()=>ds,parseJsonObject:()=>Ui,parseJsonObjects:()=>qc,parseJsonValue:()=>Bi,postJson:()=>zc,removeSpecialSymbols:()=>Gc,replaceSvgWithImgBase64:()=>Kc,resourceStringMacrosHandlerFactory:()=>Za,separateFilesBySize:()=>qs,setTimeZoneOffset:()=>Uc,simpleCommand:()=>_o,startOfDay:()=>jc,stripFileName:()=>$c,toExtFilters:()=>Gu,toLocalizableStringsArray:()=>tu,toOrderDirection:()=>fl,toResourceLocalizableStrings:()=>nu,toResourceMacros:()=>Yc,unCapitalizeFirstLetter:()=>cu,updateArrayUniqueElements:()=>hu});class Kn{constructor(e){this.modalSettings=e.modalSettings}}var F;(function(r){r.Auto="auto",r.Transparent="transparent",r.PrimaryContrast500="primary-contrast-500",r.Foreground500="foreground-500",r.Label500="label-500",r.BrandSecondary500="brand-secondary-500",r.Warning500="warn-500",r.Brand500="brand-500",r.NavigationPrimary500="navigation-primary-500",r.Primary500="primary-500"})(F||(F={}));const Mt=new Map([[F.PrimaryContrast500,"var(--crt-palette-background-500)"],[F.Foreground500,"var(--crt-palette-foreground-500)"],[F.Label500,"var(--crt-palette-label-500)"],[F.BrandSecondary500,"var(--crt-palette-secondary-500)"],[F.Warning500,"var(--crt-palette-error-500)"],[F.Brand500,"var(--crt-palette-navigation-primary-500)"],[F.NavigationPrimary500,"var(--crt-palette-navigation-primary-500)"],[F.Primary500,"var(--crt-palette-primary-500)"]]);function Dt(r){return Object.values(F).includes(r)&&r!==F.Transparent?Mt.get(r):r}var fe;(function(r){r.LightGreen="crt-color-light-green",r.Green="crt-color-green",r.DarkGreen="crt-color-dark-green",r.Orange="crt-color-orange",r.OrangeRed="crt-color-orange-red",r.Coral="crt-color-coral",r.BrightRed="crt-color-bright-red",r.Red="crt-color-red",r.Purple="crt-color-purple",r.Violet="crt-color-violet",r.CelestialBlue="crt-color-celestial-blue",r.Blue="crt-color-blue",r.LightBlue="crt-color-light-blue",r.NavyBlue="crt-color-navy-blue",r.DarkTurquoise="crt-color-dark-turquoise",r.Turquoise="crt-color-turquoise",r.LightGreenPastel="crt-color-light-green-pastel",r.GreenPastel="crt-color-green-pastel",r.DarkGreenPastel="crt-color-dark-green-pastel",r.OrangePastel="crt-color-orange-pastel",r.OrangeRedPastel="crt-color-orange-red-pastel",r.CoralPastel="crt-color-coral-pastel",r.BrightRedPastel="crt-color-bright-red-pastel",r.RedPastel="crt-color-red-pastel",r.PurplePastel="crt-color-purple-pastel",r.VioletPastel="crt-color-violet-pastel",r.CelestialBluePastel="crt-color-celestial-blue-pastel",r.BluePastel="crt-color-blue-pastel",r.LightBluePastel="crt-color-light-blue-pastel",r.NavyBluePastel="crt-color-navy-blue-pastel",r.DarkTurquoisePastel="crt-color-dark-turquoise-pastel",r.TurquoisePastel="crt-color-turquoise-pastel",r.PrimaryBlue="crt-color-primary-blue",r.PrimaryOrange="crt-color-primary-orange",r.PrimaryGreen="crt-color-primary-green",r.PrimaryNavi="crt-color-primary-navi",r.PrimaryGrey="crt-color-primary-grey",r.PrimaryBlack="crt-color-primary-black",r.PrimaryWhite="crt-color-primary-white"})(fe||(fe={}));var E=p(5960),o=p(38495),b=p(79772),m=p(96590),S=p(63721),i=p(59131),l=p(62278),h=p(36486);class O{static create(e){const t=new O;return Object.assign(t,e),t}get isDebugEnabled(){return!!window.Terrasoft?.isDebug}static#e=this.\u0275fac=function(t){return new(t||O)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac,providedIn:"root"})}let js=O.create({serviceUrl:"",clientConnectionClassName:""});const lo={provide:O,useFactory:()=>js};let He=class vr{constructor(e){this._httpClient=e,this._serviceEndpoint="ServiceModel/ApplicationInfoService.svc/"}_initApplicationInfo(){const e=this._serviceEndpoint+"GetApplicationInfo";this._applicationInfoObservable$=this._httpClient.post(e,null).pipe((0,h.map)(t=>{const n=t&&t.applicationInfo;return js=O.create(n),t}),(0,h.shareReplay)(1)),this._applicationInfoObservable$.subscribe()}loadApplicationInfo(){return this._applicationInfoObservable$||this._initApplicationInfo(),this._applicationInfoObservable$}loadSysValues(){return this.loadApplicationInfo().pipe((0,h.map)(e=>e?.applicationInfo?.sysValues))}getCoreVersion(){return this._coreVersion?(0,l.of)(this._coreVersion):this.loadSysValues().pipe((0,l.tap)(e=>this._coreVersion=e?.coreVersion),(0,h.map)(()=>this._coreVersion))}static#e=this.\u0275fac=function(t){return new(t||vr)(i.\u0275\u0275inject(S.HttpClient))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:vr,factory:vr.\u0275fac,providedIn:"root"})};He=(0,E.__decorate)([(0,m.CrtHandlerChainAdapter)({requestType:"crt.SysValuesService"}),(0,E.__metadata)("design:paramtypes",[S.HttpClient])],He);class Ar{get isLookupType(){return this.dataValueType?this.dataValueType===o.DataValueType.Lookup:!1}constructor(e){e&&(this.uId=e.uId,this.name=e.name,this.caption=e.caption,this.columnCaptionPath=e.columnCaptionPath,this.dataValueType=e.dataValueType,this.usageType=e.usageType,this.referenceSchemaUId=e.referenceSchemaUId,this.referenceSchemaName=e.referenceSchemaName,this.isRequired=e.isRequired,this.isValueCloneable=e.isValueCloneable,this.isMasked=e.isMasked,this.isFormatValidated=e.isFormatValidated,this.isSensitiveData=e.isSensitiveData,this.defaultValueSchema=e.defaultValueSchema,this.lookupMode=e.lookupMode)}}class Bs{constructor(e){e&&(this.uId=e.uId,this.name=e.name,this.caption=e.caption,this.extendParent=e.extendParent,this.packageUId=e.packageUId)}}class Us extends Bs{getPrimaryColumn(){return this.primaryColumnUId&&this.columns?.find(e=>e.uId===this.primaryColumnUId)}getPrimaryDisplayColumn(){return this.primaryDisplayColumnUId&&this.columns?.find(e=>e.uId===this.primaryDisplayColumnUId)}getPrimaryColorColumn(){return this.primaryColorColumnUId&&this.columns?.find(e=>e.uId===this.primaryColorColumnUId)}getHierarchyColumn(){return this.hierarchyColumnUId&&this.columns?.find(e=>e.uId===this.hierarchyColumnUId)}getCreatedOnColumn(){return this.createdOnColumnUId&&this.columns?.find(e=>e.uId===this.createdOnColumnUId)}getCreatedByColumn(){return this.createdByColumnUId&&this.columns?.find(e=>e.uId===this.createdByColumnUId)}getModifiedOnColumn(){return this.modifiedOnColumnUId&&this.columns?.find(e=>e.uId===this.modifiedOnColumnUId)}getModifiedByColumn(){return this.modifiedByColumnUId&&this.columns?.find(e=>e.uId===this.modifiedByColumnUId)}}var Hs=p(31589);const $s="A5420246-0A8E-E111-84A3-00155D054C03",Rr="en-US";class Ft{constructor(e){Object.assign(this,e)}static getDefaultCulture(){return new Ft({sysCultureId:$s,sysCultureName:Rr,decimalSeparator:".",thousandSeparator:","})}}class Ot{constructor(){const e=this.constructor;if((0,i.inject)(e,i.InjectFlags.Optional|i.InjectFlags.SkipSelf))throw Error(`[${e.name}]: trying to create multiple instances,
			but this service should be a singleton.`)}}class R{constructor(){this.cultureInfo=new Ft,this.defCultureInfo=new Ft}}const N="Information about the current user is not initialized yet. Use UserInfoService to load current user information.";function ho(){return{get id(){throw new ReferenceError(N)},get contactId(){throw new ReferenceError(N)},get contactName(){throw new ReferenceError(N)},get accountId(){throw new ReferenceError(N)},get accountName(){throw new ReferenceError(N)},get isSSP(){throw new ReferenceError(N)},get timeZoneId(){throw new ReferenceError(N)},get cultureInfo(){throw new ReferenceError(N)},get defCultureInfo(){throw new ReferenceError(N)},get timeZoneOffsetHours(){throw new ReferenceError(N)},get photoId(){throw new ReferenceError(N)},get accessType(){throw new ReferenceError(N)},get sessionId(){throw new ReferenceError(N)}}}const M=ho(),Gs={get id(){return M.id},get contactId(){return M.contactId},get contactName(){return M.contactName},get accountId(){return M.accountId},get accountName(){return M.accountName},get isSSP(){return M.isSSP},get timeZoneId(){return M.timeZoneId},get cultureInfo(){return M.cultureInfo},get defCultureInfo(){return M.defCultureInfo},get timeZoneOffsetHours(){return M.timeZoneOffsetHours},get photoId(){return M.photoId},get accessType(){return M.accessType},get sessionId(){return M.sessionId}};Object.freeze(Gs);const zs={provide:R,useFactory:()=>Gs};class X extends Ot{constructor(e){super(),this._httpClient=e,this._serviceEndpoint="ServiceModel/UserInfoService.svc"}_applyUserInfo(e){Object.keys(M).forEach(t=>{delete M[t]}),Object.assign(M,e)}loadCurrentUserInfo(){if(!this._userInfo$){const e=`${this._serviceEndpoint}/GetCurrentUserInfo`;this._userInfo$=this._httpClient.post(e,null).pipe((0,l.tap)(t=>{this._applyUserInfo(t?.userInfo)}),(0,l.shareReplay)({bufferSize:1,refCount:!1}))}return this._userInfo$}static#e=this.\u0275fac=function(t){return new(t||X)(i.\u0275\u0275inject(S.HttpClient))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:X,factory:X.\u0275fac,providedIn:"root"})}class se{constructor(e,t){this._userInfo=e,this._httpClient=t}_getServiceUrlSspPart(){return this._userInfo.isSSP?"ssp/":""}_getDataServiceUrlWithSspPart(){return`DataService/${this._getServiceUrlSspPart()}`}getSchemaDesignerServiceEndpoint(){return this._getDataServiceUrlWithSspPart()+"json/SyncReply/SchemaDesignerRequest"}getRuntimeEntitySchemaServiceEndpoint(){return this._getDataServiceUrlWithSspPart()+"json/SyncReply/RuntimeEntitySchemaRequest"}getEntitySchemaServiceEndpoint(){return this._getDataServiceUrlWithSspPart()+"json/SyncReply/EntitySchemaRequest"}getRuntimeEntitySchemeServiceEndpoint(){return this._getDataServiceUrlWithSspPart()+"json/SyncReply/RuntimeEntitySchemesRequest"}getEntity(e){return(0,l.lastValueFrom)(this._httpClient.post(this.getRuntimeEntitySchemaServiceEndpoint(),{name:e}))}getEntities(e){return(0,l.lastValueFrom)(this._httpClient.post(this.getRuntimeEntitySchemeServiceEndpoint(),e))}static#e=this.\u0275fac=function(t){return new(t||se)(i.\u0275\u0275inject(R),i.\u0275\u0275inject(S.HttpClient))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:se,factory:se.\u0275fac,providedIn:"root"})}var I=p(73308);const g="DataValueType",ie={[o.DataValueType.Date]:{type:o.DataValueType.Date,id:"603d4960-a1a2-45e9-b232-206a54421b01",name:"Date",icon:"data-type-date-icon.svg",designerIcon:p(26861),translateKey:`${g}.DateCaption`},[o.DataValueType.Time]:{type:o.DataValueType.Time,id:"04cc757b-8f06-482c-8a1a-0c0e171d2410",name:"Time",icon:"data-type-time-icon.svg",designerIcon:p(8510),translateKey:`${g}.TimeCaption`},[o.DataValueType.DateTime]:{type:o.DataValueType.DateTime,id:"d21e9ef4-c064-4012-b286-fa1a8171da44",name:"DateTime",icon:"data-type-datetime-icon.svg",designerIcon:p(55146),translateKey:`${g}.DateTimeCaption`},[o.DataValueType.Text]:{type:o.DataValueType.Text,id:"8b3f29bb-ea14-4ce5-a5c5-293a929b6ba2",name:"Text",icon:"data-type-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:p(97180),designerAutonumberIcon:p(78683),translateKey:`${g}.TextCaption`},[o.DataValueType.SHORT_TEXT]:{type:o.DataValueType.SHORT_TEXT,id:"325a73b8-0f47-44a0-8412-7606f78003ac",name:"ShortText",icon:"data-type-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:p(97180),designerAutonumberIcon:p(78683),translateKey:`${g}.ShortTextCaption`},[o.DataValueType.PHONE_TEXT]:{type:o.DataValueType.PHONE_TEXT,id:"26cba63c-daf1-4f36-b2ea-73c0d675d90c",name:"PhoneText",icon:"data-type-phone-icon.svg",designerIcon:p(59155),translateKey:`${g}.PhoneTextCaption`},[o.DataValueType.WEB_TEXT]:{type:o.DataValueType.WEB_TEXT,id:"26cba64c-daf1-4f36-b2ea-73c0d695d90c",name:"WebText",icon:"data-type-text-icon.svg",designerIcon:p(64337),translateKey:`${g}.WebTextCaption`},[o.DataValueType.EMAIL_TEXT]:{type:o.DataValueType.EMAIL_TEXT,id:"66cba64c-daf1-4f36-b8ea-73c0d695d90c",name:"EmailText",icon:"data-type-text-icon.svg",designerIcon:p(71011),translateKey:`${g}.EmailTextCaption`},[o.DataValueType.MEDIUM_TEXT]:{type:o.DataValueType.MEDIUM_TEXT,id:"ddb3a1ee-07e8-4d62-b7a9-d0e618b00fbd",name:"MediumText",icon:"data-type-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:p(97180),designerAutonumberIcon:p(78683),translateKey:`${g}.MediumTextCaption`},[o.DataValueType.LONG_TEXT]:{type:o.DataValueType.LONG_TEXT,id:"5ca35f10-a101-4c67-a96a-383da6afacfc",name:"LongText",icon:"data-type-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:p(97180),designerAutonumberIcon:p(78683),translateKey:`${g}.LongTextCaption`},[o.DataValueType.MAXSIZE_TEXT]:{type:o.DataValueType.MAXSIZE_TEXT,id:"c0f04627-4620-4bc0-84e5-9419dc8516b1",name:"MaxSizeText",icon:"data-type-unlimited-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:p(97180),designerAutonumberIcon:p(78683),translateKey:`${g}.MaxSizeTextCaption`},[o.DataValueType.Integer]:{type:o.DataValueType.Integer,id:"6b6b74e2-820d-490e-a017-2b73d4ccf2b0",name:"Integer",icon:"data-type-integer-icon.svg",designerIcon:p(60521),translateKey:`${g}.IntegerCaption`},[o.DataValueType.FLOAT1]:{type:o.DataValueType.FLOAT1,id:"07ba84ce-0bf7-44b4-9f2c-7b15032eb98c",name:"Float1",icon:"data-type-float1-icon.svg",designerIcon:p(68877),translateKey:`${g}.FLOAT1Caption`},[o.DataValueType.FLOAT2]:{type:o.DataValueType.FLOAT2,id:"5cc8060d-6d10-4773-89fc-8c12d6f659a6",name:"Float2",icon:"data-type-float2-icon.svg",designerIcon:p(68877),translateKey:`${g}.FLOAT2Caption`},[o.DataValueType.FLOAT3]:{type:o.DataValueType.FLOAT3,id:"3f62414e-6c25-4182-bcef-a73c9e396f31",name:"Float3",icon:"data-type-float3-icon.svg",designerIcon:p(68877),translateKey:`${g}.FLOAT3Caption`},[o.DataValueType.FLOAT4]:{type:o.DataValueType.FLOAT4,id:"ff22e049-4d16-46ee-a529-92d8808932dc",name:"Float4",icon:"data-type-float4-icon.svg",designerIcon:p(68877),translateKey:`${g}.FLOAT4Caption`},[o.DataValueType.FLOAT8]:{type:o.DataValueType.FLOAT8,id:"a4aaf398-3531-4a0d-9d75-a587f5b5b59e",name:"Float8",icon:"data-type-float8-icon.svg",designerIcon:p(68877),translateKey:`${g}.FLOAT8Caption`},[o.DataValueType.Guid]:{type:o.DataValueType.Guid,id:"23018567-a13c-4320-8687-fd6f9e3699bd",name:"Guid",icon:"data-type-guid-icon.svg",designerIcon:p(92458),translateKey:`${g}.GuidCaption`},[o.DataValueType.Lookup]:{type:o.DataValueType.Lookup,id:"b295071f-7ea9-4e62-8d1a-919bf3732ff2",name:"Lookup",icon:"data-type-lookup-icon.svg",designerIcon:p(61631),translateKey:`${g}.LookupCaption`},[o.DataValueType.Boolean]:{type:o.DataValueType.Boolean,id:"90b65bf8-0ffc-4141-8779-2420877af907",name:"Boolean",icon:"data-type-boolean-icon.svg",designerIcon:p(36659),translateKey:`${g}.BooleanCaption`},[o.DataValueType.HASH_TEXT]:{type:o.DataValueType.HASH_TEXT,id:"ecbcce18-2a17-4ead-829a-9d02fa9578a4",name:"HashText",icon:"data-type-crs-text-icon.svg",designerIcon:p(97180),translateKey:`${g}.HashTextCaption`},[o.DataValueType.SECURE_TEXT]:{type:o.DataValueType.SECURE_TEXT,id:"3509b9dd-2c90-4540-b82e-8f6ae85d8248",name:"SecureText",icon:"data-type-encrypted-text-icon.svg",designerIcon:p(28010),translateKey:`${g}.SecureTextCaption`},[o.DataValueType.IMAGELOOKUP]:{type:o.DataValueType.IMAGELOOKUP,id:"b039feb0-ee7c-4884-8aa6-d6d45d84316f",name:"ImageLookup",icon:"data-type-image-link-icon.svg",designerIcon:p(65689),translateKey:`${g}.ImageLookupCaption`},[o.DataValueType.Money]:{type:o.DataValueType.Money,id:"969093e2-2b4e-463b-883a-3d3b8c61f0cd",name:"Money",icon:"data-type-float2-icon.svg",designerIcon:p(32643),translateKey:`${g}.MoneyCaption`},[o.DataValueType.Float]:{type:o.DataValueType.Float,id:"57ee4c31-5ec4-45fa-b95d-3a2868aa89a8",name:"Float",icon:"data-type-float1-icon.svg",designerIcon:p(68877),translateKey:`${g}.FloatCaption`},[o.DataValueType.FILE]:{type:o.DataValueType.FILE,id:"a33c9252-d401-453e-949d-169157067ed9",name:"File",icon:"data-type-file-icon.svg",designerIcon:p(55039),translateKey:`${g}.FileCaption`},[o.DataValueType.Image]:{type:o.DataValueType.Image,id:"fa6e6e49-b996-475e-a77e-73904e4c5a88",name:"Image",icon:"data-type-image-icon.svg",designerIcon:p(55039),translateKey:`${g}.ImageCaption`},[o.DataValueType.Blob]:{type:o.DataValueType.Blob,id:"b7342b7a-5dde-40de-aa7c-24d2a57b3202",name:"Blob",icon:"data-type-blob-icon.svg",designerIcon:p(55039),translateKey:`${g}.BlobCaption`},[o.DataValueType.Color]:{type:o.DataValueType.Color,id:"dafb71f9-ee9f-4e0b-a4d7-37aa15987155",name:"Color",icon:"data-type-color-icon.svg",designerIcon:p(39078),translateKey:`${g}.ColorCaption`},[o.DataValueType.RICH_TEXT]:{type:o.DataValueType.RICH_TEXT,id:"79bccffa-8c8b-4863-b376-a69d2244182b",name:"RichText",icon:"data-type-rich-text-icon.svg",designerIcon:p(67021),translateKey:`${g}.RichCaption`},[o.DataValueType.ENTITY]:{type:o.DataValueType.ENTITY,id:"ebd85d37-0abf-4bbf-bb32-97dc3dffcc8c",name:"Entity",icon:"data-type-other-icon.svg",designerIcon:p(97180),translateKey:`${g}.Entity`},[o.DataValueType.ENTITY_COLLECTION]:{type:o.DataValueType.ENTITY_COLLECTION,id:"51fb23ba-3eb2-11e2-b7d5-b0c76188709b",name:"EntityCollection",icon:"data-type-other-icon.svg",designerIcon:p(97180),translateKey:`${g}.EntityCollection`},[o.DataValueType.ENTITY_COLUMN_MAPPING_COLLECTION]:{type:o.DataValueType.ENTITY_COLUMN_MAPPING_COLLECTION,id:"b53eaa2a-4bb7-4a6b-9f4f-58ccab293e31",name:"EntityColumnMappingCollection",icon:"data-type-other-icon.svg",designerIcon:p(97180),translateKey:`${g}.EntityColumnMappingCollection`},[o.DataValueType.CUSTOM_OBJECT]:{type:o.DataValueType.CUSTOM_OBJECT,id:"84ed6865-9692-4c98-aaed-4d15b96a95c2",name:"CustomObject",icon:"data-type-other-icon.svg",designerIcon:p(97180),translateKey:`${g}.CustomObject`},[o.DataValueType.OBJECT_LIST]:{type:o.DataValueType.OBJECT_LIST,id:"4b51a8b5-1ee9-4437-9d58-f35e083cbcdf",name:"ObjectList",icon:"data-type-other-icon.svg",designerIcon:p(97180),translateKey:`${g}.ObjectList`},[o.DataValueType.COMPOSITE_OBJECT_LIST]:{type:o.DataValueType.COMPOSITE_OBJECT_LIST,id:"651ec16f-d140-46db-b9e2-825c985a8ac2",name:"CompositeObjectList",icon:"data-type-other-icon.svg",designerIcon:p(97180),translateKey:`${g}.CompositeObjectList`},[o.DataValueType.COMPOSITE_OBJECT]:{type:o.DataValueType.COMPOSITE_OBJECT,id:"632e4371-0a7f-46cd-a284-a623b3933027",name:"CompositeObject",icon:"data-type-composite-object-icon.svg",designerIcon:p(97180),translateKey:`${g}.CompositeObject`},[o.DataValueType.COLLECTION]:{type:o.DataValueType.COLLECTION,name:"Collection",icon:"data-type-other-icon.svg",designerIcon:p(97180),translateKey:`${g}.Collection`},[o.DataValueType.LOCALIZABLE_STRING]:{type:o.DataValueType.LOCALIZABLE_STRING,id:"95c6e6c4-2cc8-46be-a1cb-96f942655f86",name:"LocalizableString",icon:"data-type-text-icon.svg",designerIcon:p(97180),translateKey:`${g}.LocalizableString`},[o.DataValueType.METADATA_TEXT]:{type:o.DataValueType.METADATA_TEXT,id:"394e160f-c8e0-46fa-9c0d-75d97e9e9169",name:"MetaDataText",icon:"data-type-text-icon.svg",designerIcon:p(97180),translateKey:`${g}.MetaDataText`}},$={DateTime:[o.DataValueType.Date,o.DataValueType.Time,o.DataValueType.DateTime],Text:[o.DataValueType.Text,o.DataValueType.SHORT_TEXT,o.DataValueType.MEDIUM_TEXT,o.DataValueType.LONG_TEXT,o.DataValueType.PHONE_TEXT,o.DataValueType.WEB_TEXT,o.DataValueType.EMAIL_TEXT,o.DataValueType.MAXSIZE_TEXT,o.DataValueType.LOCALIZABLE_STRING,o.DataValueType.RICH_TEXT],Number:[o.DataValueType.FLOAT1,o.DataValueType.FLOAT2,o.DataValueType.FLOAT3,o.DataValueType.FLOAT4,o.DataValueType.FLOAT8,o.DataValueType.Integer,o.DataValueType.Money,o.DataValueType.Float],Lookup:[o.DataValueType.Lookup,o.DataValueType.IMAGELOOKUP]};class po{static _getDefaultValue(e){if(!e)return null;if(e.source===o.DefaultValueSource.Sequence)return{valueSourceType:o.DefaultValueSource.Sequence,value:"Sequence",sequencePrefix:e.sequencePrefix,sequenceNumberOfChars:e.sequenceNumberOfChars};if(e.source===o.DefaultValueSource.Const){const t=e.value,n=typeof t=="string"?t:t.value;return{valueSourceType:o.DefaultValueSource.Const,value:n,valueSource:n,sequenceNumberOfChars:0}}return e.source===o.DefaultValueSource.Settings?{valueSourceType:o.DefaultValueSource.Settings,value:e.calculatedValue,valueSource:e.value,sequenceNumberOfChars:0}:e.source===o.DefaultValueSource.SystemValue?{valueSourceType:o.DefaultValueSource.SystemValue,value:e.calculatedValue,valueSource:e.sourceValue,sequenceNumberOfChars:0}:{valueSourceType:e.source,value:null,sequenceNumberOfChars:0}}static _getPrimaryDisplayColorColumnUId(e){if(!e.primaryColorColumnName)return null;const t=Object.values(e.columns).find(n=>n.name===e.primaryColorColumnName);if(!t)throw new Error(`Primary color column set in object ${e.name} but column ${e.primaryColorColumnName} does not exist`);return t?.uId}static map(e,t){const n={};return Object.entries(e.columns).forEach(([,s])=>{const a=s,c=a.dataValueTypeName==="Binary"?"Blob":a.dataValueTypeName,u=Object.entries(ie).find(([,T])=>T.name===c),d=u?Number(u[0]):a.dataValueType,f=this._getDefaultValue(a.defaultValue);n[a.uId]={uId:a.uId,name:a.name,caption:{[t]:a.caption},dataValueType:d,isInherited:!!a.isInherited,isRequired:!!a.isRequired,isValueCloneable:!!a.isValueCloneable,usageType:a.usageType,referenceSchemaName:a.referenceSchemaName,isMasked:!!a.isMasked,isFormatValidated:!!a.isFormatValidated,isSimpleLookup:!!a.isSimpleLookup,isSensitiveData:!!a.isSensitiveData,defValue:f}}),{administratedByOperations:e.administratedByOperations,administratedByRecords:e.administratedByRecords,useMasterRecordRights:e.useMasterRecordRights,masterRecordSchemaName:e.masterRecordSchemaName,primaryColumnUId:e.primaryColumn?.uId,primaryDisplayColumnUId:e.primaryDisplayColumn?.uId,primaryColorColumnUId:this._getPrimaryDisplayColorColumnUId(e),hierarchyColumnUId:e.hierarchyColumnUId,createdOnColumnUId:e.createdOnColumnUId,createdByColumnUId:e.createdByColumnUId,modifiedOnColumnUId:e.modifiedOnColumnUId,modifiedByColumnUId:e.modifiedByColumnUId,uId:e.uId,name:e.name,caption:{[t]:e.caption},columns:{Items:n},isVirtual:!!e.isVirtual,isDBView:!!e.isDBView,administratedByColumns:!!e.administratedByColumns,description:{[t]:e.description},parentUId:e.parentUId,isTrackChangesInDB:!!e.isTrackChangesInDB,extendParent:!!e.extendParent}}}class Lt{static getPathItemInfo(e){const n=/\[([\w-]+):([\w-]+):?([\w-]*)]$/g.exec(e);if(n){const s=n[1],a=n[2],c=n[3];return{isBackReference:!0,referenceSchemaName:s,referenceSchemaColumnName:a,columnName:c}}return{isBackReference:!1,columnName:e}}}let wr=class{constructor(e){this._window=e}_getItems(e,t=[]){var n=this;let s=[];const a=[...t];return new Promise(c=>{this._window.require(e,(0,I.A)(function*(...u){s=yield Promise.all(u.map(d=>n.map(d))),c({schemes:s,notFoundSchemes:a})}),u=>{const d=u.requireModules??[];a.push(...d),e=e.filter(f=>!d.includes(f)),e.length===0&&c({schemes:s,notFoundSchemes:a}),c(this._getItems(e,a))})})}map(e){return Promise.resolve(e)}get(e){var t=this;return new Promise(n=>{this._window.require([e],function(){var s=(0,I.A)(function*(a){const c=yield t.map(a);n(c)});return function(a){return s.apply(this,arguments)}}(),()=>{n(null)})})}getItems(e){return this._getItems(e,[])}};wr=(0,E.__decorate)([(0,E.__param)(0,(0,i.Inject)(m.WINDOW_TOKEN)),(0,E.__metadata)("design:paramtypes",[Object])],wr);const Mr=["SysSettings"];class $e extends wr{constructor(e,t,n){super(e),this._userInfo=t,this._entityHttpService=n}map(e){return Promise.resolve(po.map(e,this._userInfo.cultureInfo.sysCultureName))}_getLookupEntities(e){const t=e.flatMap(s=>Object.values(s.columns.Items).filter(a=>a.dataValueType===o.DataValueType.Lookup&&a.referenceSchemaName&&!e.find(c=>c.name===a.referenceSchemaName)).map(a=>a.referenceSchemaName)),n=[...new Set(t)];return this.getItems(n)}_getReferenceEntityNameFromBackReferencePath(e){return Lt.getPathItemInfo(e).referenceSchemaName}_getReferenceSchemaName(e,t){const n=this._getReferenceEntityNameFromBackReferencePath(e);let s;if(n)s=n;else{const a=Object.entries(t.columns.Items).find(([,u])=>u.name===e);if(!a)throw new Error(`Can't find column '${e}' in EntitySchema '${t.name}'`);const[,c]=a;s=c.referenceSchemaName}return s}_loadSchemasByPath(e,t,n){var s=this;return(0,I.A)(function*(){const a=n.find(v=>v.name===e);if(!a)return{schemas:[],notFoundSchemas:[e]};const c=[...t],u=c.shift(),d=s._getReferenceSchemaName(u,a);if(!d)return{schemas:[],notFoundSchemas:[]};let f=n.find(v=>v.name===d);if(!f)try{if(f=yield s.get(d),f)n.push(f);else return{schemas:[],notFoundSchemas:[d]}}catch{return{schemas:[],notFoundSchemas:[d]}}const T=c.length?yield s._loadSchemasByPath(f.name,c,n):{schemas:[],notFoundSchemas:[]};return{schemas:[f,...T.schemas],notFoundSchemas:T.notFoundSchemas}})()}_getForwardReferenceSchemas(e,t){var n=this;return(0,I.A)(function*(){const s=yield Promise.all(e.filter(a=>a.forwardReferencePaths).flatMap(a=>a.forwardReferencePaths.flatMap(c=>n._loadSchemasByPath(a.name,c.split("."),t))));return{schemes:s.flatMap(a=>a.schemas),notFoundSchemes:s.flatMap(a=>a.notFoundSchemas)}})()}_getEntitiesToLoadLookups(e,t){return t.schemes.filter(n=>e.requests.find(s=>s.loadLookupColumns===!0&&s.name===n.name))}get(e){var t=()=>super.get,n=this;return(0,I.A)(function*(){return Mr.includes(e)?(yield n._entityHttpService.getEntity(e)).schema:t().call(n,e)})()}getItems(e){var t=()=>super.getItems,n=this;return(0,I.A)(function*(){const s=e.filter(d=>Mr.includes(d)),a=e.filter(d=>!Mr.includes(d));let c={success:!0,schemes:[],notFoundSchemes:[]};if(s.length!==0){const d={requests:s.map(f=>({name:f,loadLookupColumns:!1}))};c=yield n._entityHttpService.getEntities(d)}const u=yield t().call(n,a);return{schemes:[...u.schemes,...c.schemes],notFoundSchemes:[...u.notFoundSchemes,...c.notFoundSchemes]}})()}getEntity(e){var t=this;return(0,I.A)(function*(){const n=yield t.get(e);return{success:!!n,schema:n}})()}getEntities(e){var t=this;return(0,I.A)(function*(){const n=e.requests.map(d=>d.name),s=yield t.getItems(n),a=t._getEntitiesToLoadLookups(e,s),c=yield t._getLookupEntities(a),u=yield t._getForwardReferenceSchemas(e.requests,[...s.schemes,...c.schemes]);return{success:!0,schemes:[...s.schemes,...c.schemes,...u.schemes],notFoundSchemes:[...s.notFoundSchemes,...c.notFoundSchemes,...u.notFoundSchemes]}})()}static#e=this.\u0275fac=function(t){return new(t||$e)(i.\u0275\u0275inject(m.WINDOW_TOKEN),i.\u0275\u0275inject(R),i.\u0275\u0275inject(se))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:$e,factory:$e.\u0275fac,providedIn:"root"})}var Dr;(function(r){r.Replace="replace",r.InsertAbove="insertAbove",r.InsertBelow="insertBelow"})(Dr||(Dr={}));class Nt{static#e=this.instance=new Nt;wait(e){return e()}}var qn;(function(r){r.SetHighlighting="setHighlighting",r.RemoveHighlighting="removeHighlighting"})(qn||(qn={}));class fo{}class mo{constructor(e,t,n){this.path=e,this.value=t,this.type=n}}class Ws{}class U extends Array{constructor(e){super(),Object.setPrototypeOf(this,Object.create(U.prototype)),Array.isArray(e)&&this._fillFromSource(e)}_fillFromSource(e){e.filter(t=>t?.cultureName!=null).forEach(t=>{this.setValueLocalizableString(t.cultureName,t.value)})}getValue(e){const t=this.getLocalizableString(e);return t?t.value:""}hasCultureValue(e,t=!1){const n=this.getLocalizableString(e);return t?(n?.value||null)!=null:n?.value!=null}getLocalizableString(e){return this.find(t=>t.cultureName===e)||null}setValueLocalizableString(e,t){const n=this.getLocalizableString(e);return n?n.value=t:this.push({cultureName:e,value:t}),this}setValues(e,t=!1){return e.forEach(n=>{this.hasCultureValue(n.cultureName)&&t||this.setValueLocalizableString(n.cultureName,n.value)}),this}clone(){return new U(this)}}var Fr;(function(r){r.OnDemand="OnDemand",r.OnInit="OnInit"})(Fr||(Fr={}));const go=new i.InjectionToken("navigation_handler_token"),yo=r=>r.replace(/\./g,"")+"_PropertiesBindingAttribute";var Xn;(function(r){r.string="Strings",r.image="Images"})(Xn||(Xn={}));const Zs="Resources";var Ge;(function(r){r[r.EntitySchema=3]="EntitySchema",r[r.ClientUnitSchema=4]="ClientUnitSchema"})(Ge||(Ge={}));function _o(r){return new class{execute(){r()}}}var _=p(28399),To=p.n(_);class Eo{constructor(e={preventAttributeChangeRequest:!1,preventRunBusinessRules:!1,preventStateChange:!1}){this._preventAttributeChangeRequest=!1,this._preventStateChange=!1,this._preventRunBusinessRules=!1,this._setOptions(e)}_setUsingSilent(e){this._preventStateChange=e,this._preventRunBusinessRules=e,this._preventAttributeChangeRequest=!1}_setOptions(e){this._preventAttributeChangeRequest=e?.preventAttributeChangeRequest??this._preventAttributeChangeRequest,this._preventStateChange=e?.preventStateChange??this._preventStateChange,this._preventRunBusinessRules=e?.preventRunBusinessRules??this._preventRunBusinessRules}getAsSilent(){return this._preventRunBusinessRules&&this._preventStateChange}setOptions(e){if((0,_.isUndefined)(e?.silent)){const t=(0,_.pick)(e,"preventAttributeChangeRequest","preventStateChange","preventRunBusinessRules");this._setOptions(t)}else this._setUsingSilent(e?.silent)}getOptions(){return{preventAttributeChangeRequest:this._preventAttributeChangeRequest,preventRunBusinessRules:this._preventRunBusinessRules,preventStateChange:this._preventStateChange}}reset(){this._preventAttributeChangeRequest=!1,this._preventRunBusinessRules=!1,this._preventStateChange=!1}}var Or;(function(r){r.EntityDataSource="crt.EntityDataSource",r.WebServiceDataSource="crt.WebServiceDataSource",r.PageParametersDataSource="crt.PageParametersDataSource"})(Or||(Or={}));const ze=new i.InjectionToken("FEATURE_VALUES",{factory:()=>({})});class Pt{constructor(e,t,n,s){this.httpClient=e,this._entityRequire=t,this._entityHttp=n,this._featureValues=s}_useRequire(){return this._featureValues?.UseRequireEntitySchema8x??!1}getEntity(e){var t=this;return(0,I.A)(function*(){return t._useRequire()?t._entityRequire.getEntity(e):t._entityHttp.getEntity(e)})()}getEntities(e){var t=this;return(0,I.A)(function*(){return t._useRequire()?t._entityRequire.getEntities(e):t._entityHttp.getEntities(e)})()}static#e=this.\u0275fac=function(t){return new(t||Pt)(i.\u0275\u0275inject(S.HttpClient),i.\u0275\u0275inject($e),i.\u0275\u0275inject(se),i.\u0275\u0275inject(ze,8))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}function So(r){return()=>(0,l.lastValueFrom)(r.loadCurrentUserInfo(),{defaultValue:null})}class Yn{static#e=this.\u0275fac=function(t){return new(t||Yn)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:Yn});static#n=this.\u0275inj=i.\u0275\u0275defineInjector({providers:[zs,{provide:i.APP_INITIALIZER,useFactory:So,deps:[X],multi:!0}]})}class ae{constructor(e,t,n,s){this.httpClient=e,this._userInfo=t,this._schemaLoader=n,this._entityHttp=s,this._entitySchemaServiceRequests=new Map,this._destroyed$=new l.Subject}_convertToEntitySchema(e){const t=new Us;return t.uId=e.uId,t.name=e.name,t.caption=this._getCaptionElement(e),t.extendParent=e.extendParent,t.packageUId=e.packageUId,t.administratedByColumns=e.administratedByColumns,t.administratedByOperations=e.administratedByOperations,t.administratedByRecords=e.administratedByRecords,t.description=e.description,t.isDBView=e.isDBView,t.isTrackChangesInDB=e.isTrackChangesInDB,t.isVirtual=e.isVirtual,t.masterRecordSchemaName=e.masterRecordSchemaName,t.primaryColumnUId=e.primaryColumnUId,t.primaryDisplayColumnUId=e.primaryDisplayColumnUId,t.primaryColorColumnUId=e.primaryColorColumnUId,t.hierarchyColumnUId=e.hierarchyColumnUId,t.createdOnColumnUId=e.createdOnColumnUId,t.createdByColumnUId=e.createdByColumnUId,t.modifiedOnColumnUId=e.modifiedOnColumnUId,t.modifiedByColumnUId=e.modifiedByColumnUId,t.useMasterRecordRights=e.useMasterRecordRights,t.parentUId=e.parentUId,t.columns=Object.values(e.columns.Items).map(n=>{const s=new Ar;return s.uId=n.uId,s.name=n.name,s.caption=this._getCaptionElement(n),s.dataValueType=n.dataValueType,s.usageType=n.usageType,s.referenceSchemaUId=n.referenceSchemaUId,s.referenceSchemaName=n.referenceSchemaName,s.isRequired=n.isRequired,s.isValueCloneable=n.isValueCloneable,s.isMasked=n.isMasked,s.isFormatValidated=n.isFormatValidated,s.isSensitiveData=n.isSensitiveData,s.defaultValueSchema=n.defValue,s.lookupMode=n.isSimpleLookup?Hs.LookupMode.List:Hs.LookupMode.SelectionWindow,s}),t}_getCaptionElement(e){return e.caption[this._userInfo.cultureInfo.sysCultureName]||e.caption[Rr]}_createEntitySchemaColumnFromInformationObject(e){const t=new Ar;return t.uId=e.columnUId,t.name=e.columnName,t.caption=e.columnCaption,t.dataValueType=e.columnDataValueType,t.usageType=e.columnUsageType,t.referenceSchemaUId=e.referenceSchemaUId,t.referenceSchemaName=e.referenceSchemaName,t.columnCaptionPath=e.columnCaptionPath,t}_getEntitySchemaFromEndpoint(e,t){return this.httpClient.post(e,t).pipe((0,h.mergeMap)(n=>n.schema?(0,l.of)({success:!0,entitySchema:this._convertToEntitySchema(n.schema)}):(0,l.throwError)({success:!1,entitySchema:null,errorInfo:n.errorInfo})))}_getEntitySchemaColumnByPath(e,t,n="."){const s=`${e}_${n}_${t}`;if(this._entitySchemaServiceRequests.has(s))return this._entitySchemaServiceRequests.get(s);const a=this.httpClient.post(this._entityHttp.getSchemaDesignerServiceEndpoint(),{getSchemaColumnInformation:{entitySchemaUId:e,schemaColumnPath:t,schemaColumnCaptionPathDelimiter:n}}).pipe((0,h.tap)(({success:c})=>{if(!c)throw new Error("SchemaDesignerService request has failed")}),(0,h.map)(({getSchemaColumnInformationResponse:c})=>this._createEntitySchemaColumnFromInformationObject(c)),(0,h.tap)(()=>this._entitySchemaServiceRequests.delete(s)),(0,h.share)());return this._entitySchemaServiceRequests.set(s,a),a}_combineEntitySchemaColumnInformationRequestsWithPaths(e,t){return t.reduce((n,s)=>({...n,[s]:this._getEntitySchemaColumnByPath(e,s)}),{})}getEntitySchemaByUId(e,t){const n=`${e}_${t}`;if(this._entitySchemaServiceRequests.has(n))return this._entitySchemaServiceRequests.get(n);const s=t?this._entityHttp.getEntitySchemaServiceEndpoint():this._entityHttp.getRuntimeEntitySchemaServiceEndpoint(),a={uId:e};t&&(a.packageUId=t);const c=this._getEntitySchemaFromEndpoint(s,a).pipe((0,h.tap)(()=>this._entitySchemaServiceRequests.delete(n)),(0,h.share)());return this._entitySchemaServiceRequests.set(n,c),c}getEntitySchemaByName(e){if(this._entitySchemaServiceRequests.has(e))return this._entitySchemaServiceRequests.get(e);const t=(0,l.from)(this._schemaLoader.getEntity(e)).pipe((0,h.map)(n=>({success:n.success,entitySchema:n.schema?this._convertToEntitySchema(n.schema):null,errorInfo:n.errorInfo})),(0,h.tap)(()=>this._entitySchemaServiceRequests.delete(e)),(0,h.share)(),(0,h.catchError)(n=>(this._entitySchemaServiceRequests.delete(e),(0,l.throwError)(()=>n))));return this._entitySchemaServiceRequests.set(e,t),t}getEntitySchemes(e){const t=JSON.stringify(e);if(this._entitySchemaServiceRequests.has(t))return this._entitySchemaServiceRequests.get(t);const n=(0,l.from)(this._schemaLoader.getEntities(e)).pipe((0,h.map)(s=>({success:s.success,schemes:s.schemes.map(a=>this._convertToEntitySchema(a)),notFoundSchemes:s.notFoundSchemes})),(0,h.tap)(()=>this._entitySchemaServiceRequests.delete(t)),(0,h.share)(),(0,h.catchError)(s=>(0,l.throwError)(()=>s)));return this._entitySchemaServiceRequests.set(t,n),n}getEntitySchemaColumnsInformationByMetaPath(e,t){const n={getSchemaColumnsInformation:{entitySchemaUId:e,schemaColumnMetaPaths:t}};return this.httpClient.post(this._entityHttp.getSchemaDesignerServiceEndpoint(),n).pipe((0,h.tap)(({success:s})=>{if(!s)throw new Error("SchemaDesignerService request is failed")}),(0,h.map)(({getSchemaColumnsInformationResponse:s})=>s.map(a=>({column:this._createEntitySchemaColumnFromInformationObject(a),columnMetaPath:a.columnMetaPath,columnPath:a.columnPath,columnCaptionPath:a.columnCaptionPath}))))}getEntitySchemaColumnsInformationByPath(e,t,n){return this._getEntitySchemaColumnByPath(e,t,n)}getEntitySchemaColumnsInformationByPathsArray(e,t){return(0,l.forkJoin)(this._combineEntitySchemaColumnInformationRequestsWithPaths(e,t))}getColumnCaptionPathByMetaPath(e){const t={getColumnCaptionPathByMetaPath:e};return this.httpClient.post(this._entityHttp.getSchemaDesignerServiceEndpoint(),t).pipe((0,h.tap)(({success:n})=>{if(!n)throw new Error("SchemaDesignerService request is failed")}),(0,h.map)(({columnCaptionPath:n})=>n))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static#e=this.\u0275fac=function(t){return new(t||ae)(i.\u0275\u0275inject(S.HttpClient),i.\u0275\u0275inject(R),i.\u0275\u0275inject(Pt),i.\u0275\u0275inject(se))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:ae,factory:ae.\u0275fac,providedIn:"root"})}var P=p(29957);const Ks=1048576;function qs(r,e,t){const n=t?Math.min(e,t):e,s=n*Ks,a=r.filter(d=>d.size<=s&&d.size>0),c=r.filter(d=>d.size>s),u=r.filter(d=>d.size===0);return{allowed:a,oversized:c,zerosized:u,maxFileSizeMB:n}}function Lr(r,e,t){return{file:r,error:e,message:t}}class Vt{constructor(e,t){this._translateService=e,this._sysSettingsService=t}_getMaxFileSizeExceededExceptionCode(){return"MaxFileSizeExceededException"}_getIsOversizedErrorExist(e){return e&&e.some(t=>t.error===this._getMaxFileSizeExceededExceptionCode())}_getOversizeErrorTipMessage(e){const t=this._getIsOversizedErrorExist(e),n=`{0}\r
\r
`;return t?P.String.format(n,this._translateService.instant("InfoDialog.FileUpload.ChangeFileSizeInfoMessage")):P.String.empty}_getFormattedFilesNames(e){return e.map(t=>"- "+t.file.name).join(`\r
`)}_getOversizedFilesLogs(e,t){const n=P.String.format(this._translateService.instant("InfoDialog.FileUpload.MaxFileSizeExceededExceptionMessage"),t);return e.map(s=>Lr(s,this._getMaxFileSizeExceededExceptionCode(),n))}_getZerosizedFilesLogs(e){return e.map(t=>Lr(t,"FileWithZeroSizeException",this._translateService.instant("InfoDialog.FileUpload.EmptyFileMessage")))}_buildMessage(e){const t=this._translateService.instant("InfoDialog.FileUpload.InvalidExtension.Deny"),n=`\r
\r
`,s=this._translateService.instant("InfoDialog.FileUpload.FileListHeader");let a="";for(const c in e)if(Object.prototype.hasOwnProperty.call(e,c)){const u=e[c];let d=(0,P.formatString)(t+n+s+`:\r
`,c);u.forEach(f=>{d+="- "+f.name+`\r
`}),a+=d+`\r
`}return a}isFileExtensionDeny(e){var t=this;return(0,I.A)(function*(){const n=e.name.split(".").pop().toLowerCase();return(yield t._sysSettingsService.getByCode("FileExtensionsDenyList"))?.value.toLowerCase().indexOf(n)>-1})()}createExtensionAttachmentsErrorMessage(e){const t=(0,_.groupBy)(e,n=>n.name.split(".").pop().toLowerCase());return this._buildMessage(t)}createFileErrorMessageForLogs(e){e=e.reverse();const t=`\r
\r
`,n=this._translateService.instant("InfoDialog.FileUpload.FileListHeader"),s="{0}"+t+n+`:\r
{1}`,a=To().groupBy(e,"message");let c="";for(const[u,d]of Object.entries(a)){const f=this._getFormattedFilesNames(d);c+=P.String.format(s,u,f),c+=t}return c+=this._getOversizeErrorTipMessage(e),c.slice(0,c.length-t.length)}processSelectedFiles(e,t){var n=this;return(0,I.A)(function*(){const s=[...e],c=(yield n._sysSettingsService.getByCode("MaxFileSize"))?.value||0,{allowed:u,oversized:d,zerosized:f,maxFileSizeMB:T}=qs(s,c,t),v=n._getOversizedFilesLogs(d,T).concat(n._getZerosizedFilesLogs(f));return{files:u,errors:v}})()}static#e=this.\u0275fac=function(t){return new(t||Vt)(i.\u0275\u0275inject(b.TranslateService),i.\u0275\u0275inject(o.SysSettingsService))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Vt,factory:Vt.\u0275fac,providedIn:"root"})}var A=p(40297);class me{constructor(e){this._document=e}_getDownloadFileUrl(e){const t=new Blob([e],{type:"octet/stream"});return window.URL.createObjectURL(t)}_getDownloadFileName(e){const t=e.headers.get("Content-Disposition");return t?t.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/)[1]:null}download(e,t){const n=this._getDownloadFileUrl(e);this.downloadFromUrl(n,t)}downloadFromResponse(e,t){t=t||this._getDownloadFileName(e),this.download(e.body,t)}downloadFromUrl(e,t){const n=this._document,s=n.createElement("a");s.href=e,s.download=t,n.body.appendChild(s),s.click(),n.body.removeChild(s)}static#e=this.\u0275fac=function(t){return new(t||me)(i.\u0275\u0275inject(A.DOCUMENT))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:me,factory:me.\u0275fac})}class xt{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}class We{constructor(e,t,n){this.http=e,this._fileDownloadService=t,this._userInfo=n,this._baseEndpoint="rest/FileApiService/",this._uploadFileMethodName="UploadFile",this._uploadAndAttachMethodName="UploadAndAttachFile",this._getFileSchemasMethodName="GetAllFileSchemas",this._chunkSize=5e5}_getEndpoint(e){return(this._userInfo.isSSP?"ssp/":"")+`${this._baseEndpoint}${e}`}_prepareError(e,t){const n={...e,file:t.file};return(0,l.throwError)(()=>n)}_sendWithChunks(e,t,n,s=this._chunkSize){const a=new Uint8Array(e.content),c=new Array;for(let d=0;d<a.length;d+=s){const f=Math.min(d+s,a.length),T=new Blob([a.subarray(d,f)]),v={start:d,end:f,content:T};c.push(v)}let u=0;return(0,l.from)(c).pipe((0,h.concatMap)(d=>(u++,e.progress=Math.floor(u/c.length*100),this.http.post(n,d.content,{headers:new S.HttpHeaders({"Content-Range":`bytes ${d.start}-${d.end-1}/${e.file.size}`,"Content-Type":e.file.type,"Content-Disposition":`attachment; filename=${encodeURIComponent(e.file.name)}`}),params:t}).pipe((0,h.retry)(2),(0,h.switchMap)(f=>!f||!f.success?(0,l.throwError)(()=>f.errorInfo):(0,l.of)(f)),(0,h.catchError)(f=>this._prepareError(f,e))))),(0,h.toArray)())}upload(e){let t=new S.HttpParams({encoder:new xt}).set("fileId",e.id).set("totalFileLength",e.file.size).set("mimeType",e.file.type).set("fileName",e.file.name).set("columnName","Data").set("entitySchemaName",e.fileEntitySchemaName).set("parentColumnName",e.recordColumnName).set("parentColumnValue",e.recordId);const n={...e.fileGroup&&{FileGroupId:e.fileGroup},...e.tag&&{Tag:e.tag},...e.recordEntitySchemaName&&{RecordSchemaName:e.recordEntitySchemaName}};Object.keys(n).length&&(t=t.append("AdditionalParams",JSON.stringify(n)));const s=this._getEndpoint(this._uploadFileMethodName);return this._sendWithChunks(e,t,s)}uploadAsColumn(e){const t=new S.HttpParams({encoder:new xt}).set("fileId",e.id).set("totalFileLength",e.file.size).set("mimeType",e.file.type).set("columnName","Data").set("fileName",e.file.name).set("entitySchemaName",e.fileEntitySchemaName),n=this._getEndpoint(this._uploadFileMethodName);return this._sendWithChunks(e,t,n)}uploadAndAttach(e){const t=new S.HttpParams({encoder:new xt}).set("fileId",e.id).set("totalFileLength",e.file.size).set("mimeType",e.file.type).set("columnName","Data").set("fileName",e.file.name).set("parentEntitySchemaName",e.recordEntitySchemaName).set("entitySchemaName",e.fileEntitySchemaName).set("parentColumnValue",e.recordId),n=this._getEndpoint(this._uploadAndAttachMethodName);return this._sendWithChunks(e,t,n)}uploadToCustomEndpoint(e,t,n){const s=new S.HttpParams({encoder:new xt}).set("totalFileLength",e.file.size).set("mimeType",e.file.type).set("fileName",e.file.name);return this._sendWithChunks(e,s,t,n)}download(e,t){this._fileDownloadService.downloadFromUrl(e,t)}getAllFileSchemas(){const e=this._getEndpoint(this._getFileSchemasMethodName);return this.http.get(e)}static#e=this.\u0275fac=function(t){return new(t||We)(i.\u0275\u0275inject(S.HttpClient),i.\u0275\u0275inject(me),i.\u0275\u0275inject(R))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:We,factory:We.\u0275fac})}class kt{read(e){return new l.Observable(t=>{const n=new FileReader;n.onloadend=function(){var s=(0,I.A)(function*(a){t.next({content:a.target?.result,file:e}),t.complete()});return function(a){return s.apply(this,arguments)}}(),n.readAsArrayBuffer(e)})}static#e=this.\u0275fac=function(t){return new(t||kt)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:kt,factory:kt.\u0275fac})}class jt{constructor(e,t){this._httpClient=e,this._translateService=t}_generateFileDestinationUrl(e,t){return`ImageAPIService/upload?fileapi${t.lastModified}&totalFileLength=${t.size}&fileId=${e}&mimeType=${encodeURIComponent(t.type)}`}upload(e,t){const n=this._generateFileDestinationUrl(e,t);return this._httpClient.post(n,t,{headers:{"Content-Range":`bytes 0-${t.size}/${t.size}`,"Content-Type":t.type,"Content-Disposition":`attachment; filename=${encodeURIComponent(t.name)}`}}).pipe((0,h.catchError)(s=>(0,l.of)({error:s.error?.error||this._translateService.instant("InfoDialog.FileUpload.UnknownServerError")})))}static#e=this.\u0275fac=function(t){return new(t||jt)(i.\u0275\u0275inject(S.HttpClient),i.\u0275\u0275inject(b.TranslateService))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:jt,factory:jt.\u0275fac,providedIn:"root"})}class Bt{constructor(e,t){this._translateService=e,this._userInfo=t,this._defaultCulture="en-US"}initialize(){const e=this._userInfo?.cultureInfo?.sysCultureName??this._defaultCulture;this._translateService.setDefaultLang(this._defaultCulture),this._translateService.currentLang=e,this._translateService.getTranslation(e)}static#e=this.\u0275fac=function(t){return new(t||Bt)(i.\u0275\u0275inject(b.TranslateService),i.\u0275\u0275inject(R))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}const Xs=new i.InjectionToken("Custom event name for get translations");class Ut extends b.TranslateLoader{constructor(e,t,n){super(),this.customEventService=e,this._store=t,this._getTranslationsEventName=n,this._destroyed$=new l.Subject}getTranslation(e){return new l.Observable(t=>{this.customEventService.subscribe(this._getTranslationsEventName).pipe((0,h.takeUntil)(this._destroyed$),(0,h.tap)(n=>{this._store.langs.forEach(s=>{const a=this._store.translations[s];this._store.translations[s]=_.merge(a,n)})})).subscribe(n=>{t.next(n)},l.noop,()=>{t.complete()}),this.customEventService.createOutboundChannel(this._getTranslationsEventName).next()})}ngOnDestroy(){this._destroyed$.next()}static#e=this.\u0275fac=function(t){return new(t||Ut)(i.\u0275\u0275inject(m.CustomEventService),i.\u0275\u0275inject(b.TranslateStore),i.\u0275\u0275inject(Xs))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ut,factory:Ut.\u0275fac})}class Ht{constructor(e){this._httpClient=e,this._serviceEndpoint="rest/MainMenuService/"}logout(){const e=this._serviceEndpoint+"Logout";return this._httpClient.post(e,{}).pipe((0,h.map)(t=>({redirectLocation:t.RedirectLocation})))}static#e=this.\u0275fac=function(t){return new(t||Ht)(i.\u0275\u0275inject(S.HttpClient))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ht,factory:Ht.\u0275fac,providedIn:"root"})}var Io=p(52874),Ys=p(66736);class $t{constructor(e){this._zone=e,this._message$=new l.Subject}init(e){return this._zone.runOutsideAngular(()=>(this._connection=new Ys.HubConnectionBuilder().withUrl(e).withAutomaticReconnect().withHubProtocol(new Ys.JsonHubProtocol).build(),this._connection.on("ServerMessage",t=>this._zone.run(()=>this._message$.next(t))),(0,l.from)(this._connection.start())))}sendMessage(e){return(0,l.from)(this._connection.send("SendMessage",e))}subscribe(){return this._message$}ngOnDestroy(){this._connection.off("ServerMessage"),this._message$.complete(),this._connection.stop().then()}static#e=this.\u0275fac=function(t){return new(t||$t)(i.\u0275\u0275inject(i.NgZone))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:$t,factory:$t.\u0275fac,providedIn:"root"})}var vo=p(5766);const Js=2e3,Qs=1e3,Nr=3e4,Pr=1e4,ei="ping",Jn="pong";class Ze{constructor(e){this._ngZone=e}_createHeartbeatRequestMessage(){return{Id:(0,o.generateGuid)(),Header:{Sender:"ConsoleCommand",BodyTypeName:"System.String"},Body:ei}}_isHeartbeatResponseMessage(e){const t=e.Header?.Sender==="CommandService",n=e.Body===Jn;return t&&n}_startHeartbeat(){this._stopHeartbeat(),this._ngZone.runOutsideAngular(()=>{console.log(`WS-Heartbeat: connection ping scheduled for every [${Nr/1e3}] sec`);const e=(0,l.timer)(Qs,Nr).pipe((0,l.tap)(()=>{this._webSocket$.next(this._createHeartbeatRequestMessage())}),(0,l.concatMap)(()=>(0,l.race)(this._webSocket$.pipe((0,l.filter)(t=>this._isHeartbeatResponseMessage(t)),(0,l.map)(t=>t.Body),(0,l.catchError)(()=>(0,l.of)("error"))),(0,l.of)("timeout").pipe((0,l.delay)(Pr)))));this._heartbeatSubscription=e.subscribe(t=>{switch(t){case Jn:console.log(`WS-Heartbeat: Server responded with: ${Jn}`);break;case"timeout":console.error(`WS-Heartbeat: Server failed to respond in ${Pr/1e3} seconds`);break;case"error":console.error("WS-Heartbeat: Server errored out");break}})})}_stopHeartbeat(){this._heartbeatSubscription&&this._heartbeatSubscription.unsubscribe()}init(e){return new l.Observable(t=>{this._webSocket$=(0,vo.webSocket)({url:e,openObserver:{next:()=>{console.log(`Websocket channel opened for url: ${e}`),this._startHeartbeat(),t.complete()}}}),this._subscription=this._webSocket$.subscribe()})}sendMessage(e){return new l.Observable(t=>{this._webSocket$.next(e),t.next(),t.complete()})}subscribe(){const e={delay:Js};return this._webSocket$.pipe((0,l.retry)(e),(0,l.filter)(t=>!this._isHeartbeatResponseMessage(t)))}ngOnDestroy(){this._stopHeartbeat(),this._webSocket$.complete(),this._subscription.unsubscribe()}static#e=this.\u0275fac=function(t){return new(t||Ze)(i.\u0275\u0275inject(i.NgZone))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ze,factory:Ze.\u0275fac,providedIn:"root"})}let Ke=class Cr{constructor(e,t,n){this.applicationInfo=e,this.injector=t,this.applicationInfoService=n,this._destroyed$=new l.Subject,this.init$=new l.ReplaySubject(1),this.messageEvent$=new l.Subject,!e.clientConnectionClassName||e.clientConnectionClassName===""?this.applicationInfoService.loadApplicationInfo().subscribe(s=>{this._initialize(s.applicationInfo)}):this._initialize(e)}_initialize(e){this.msgChannel=this._getChannel(e.clientConnectionClassName),this._initChannel(e.serviceUrl)}_getChannel(e){switch(e){case"Terrasoft.WebSocketChannel":return this.injector.get(Ze);case"Terrasoft.SignalRChannel":return this.injector.get($t)}}_buildMessageEvent(e){let t;if(e.Body&&typeof e.Body=="string")try{t=JSON.parse(e.Body)}catch(n){return(0,i.isDevMode)()&&console.warn(`MessageChannelService. Parse error: ${n}`),null}else e.Body&&typeof e.Body=="object"&&(t=e.Body);return{header:{sender:e?.Header?.Sender,bodyTypeName:e?.Header?.BodyTypeName},body:t,id:e.Id}}_subscribeToMsgChannel(){this.msgChannel.subscribe().pipe((0,h.takeUntil)(this._destroyed$)).subscribe(e=>{const t=this._buildMessageEvent(e);t&&this.messageEvent$.next(t)})}_initChannel(e){this.msgChannel.init(e).subscribe({complete:()=>{this.init$.next(this.msgChannel),this._subscribeToMsgChannel()}})}_sendMessageInternal(e,t,n){const s={Id:Io.Guid.create().toString(),Header:{Sender:e,BodyTypeName:"System.String",ChannelType:t},Body:JSON.stringify(n)};return this.init$.pipe((0,l.take)(1),(0,h.switchMap)(()=>this.msgChannel.sendMessage(s)))}getMessages(e){return o.ValidationUtilities.checkArgumentEmpty("sender",e),this.messageEvent$.pipe((0,h.filter)(t=>t.header.sender===e))}subscribe(e,t){o.ValidationUtilities.checkArgumentEmpty("sender",e),o.ValidationUtilities.checkArgumentEmpty("callback",t);const n=this.getMessages(e).subscribe(t);return Promise.resolve(new o.Subscription(()=>n.unsubscribe()))}sendMessage(e,t,n){let s,a;const c=!!n;c?(s=e,a=t,o.ValidationUtilities.checkStringIsNotEmpty("sender",s),o.ValidationUtilities.checkEnumOutOfRange("channelType",n,o.MessageChannelType)):(a=e,s=t,o.ValidationUtilities.checkArgumentEmpty("channelType",s),o.ValidationUtilities.checkEnumOutOfRange("channelType",s,o.MessageChannelType));const u=this._sendMessageInternal(s,n,a);return c?(0,l.firstValueFrom)(u):u}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),this.init$.complete(),this.messageEvent$.complete()}static#e=this.\u0275fac=function(t){return new(t||Cr)(i.\u0275\u0275inject(O),i.\u0275\u0275inject(i.Injector),i.\u0275\u0275inject(He))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Cr,factory:Cr.\u0275fac,providedIn:"root"})};Ke=(0,E.__decorate)([(0,m.CrtHandlerChainAdapter)({requestType:"crt.MessageChannelService"}),(0,E.__metadata)("design:paramtypes",[O,i.Injector,He])],Ke);var Y;(function(r){r[r.General=0]="General",r[r.Advanced=1]="Advanced",r[r.None=2]="None"})(Y||(Y={}));const Co={[Y.General]:{type:Y.General,name:"General"},[Y.Advanced]:{type:Y.Advanced,name:"Advanced"},[Y.None]:{type:Y.None,name:"None"}};var Vr;(function(r){r[r.Error=1]="Error",r[r.Warning=2]="Warning",r[r.Information=4]="Information"})(Vr||(Vr={}));var ge;(function(r){r.Contains="contains",r.StartsWith="starts-with",r.Equals="equals"})(ge||(ge={}));var xr;(function(r){r[r.Asc=0]="Asc",r[r.Desc=1]="Desc"})(xr||(xr={}));var kr;(function(r){r.METADATA_INIT="METADATA_INIT",r.MODEL_INIT="MODEL_INIT",r.VIEW_MODEL_INIT="VIEW_MODEL_INIT"})(kr||(kr={}));var Qn;(function(r){r.Blank="_blank",r.Self="_self"})(Qn||(Qn={}));var jr;(function(r){r.BusinessRule="BusinessRule",r.RelatedPage="RelatedPage",r.TimelineEntity="TimelineEntity",r.AppearanceSettings="AppearanceSettings",r.Sidebar="Sidebar",r.UCTestAddon="UCTestAddon"})(jr||(jr={}));var Br;(function(r){r[r.None=0]="None",r[r.Module=1]="Module",r[r.EditViewModelSchema=2]="EditViewModelSchema",r[r.ModuleViewModelSchema=3]="ModuleViewModelSchema",r[r.DetailViewModelSchema=4]="DetailViewModelSchema",r[r.GridDetailViewModelSchema=5]="GridDetailViewModelSchema",r[r.EditControlsDetailViewModelSchema=6]="EditControlsDetailViewModelSchema",r[r.UnitTestModule=7]="UnitTestModule",r[r.GridEditDetailViewModelSchema=8]="GridEditDetailViewModelSchema",r[r.AngularSchema=9]="AngularSchema"})(Br||(Br={}));var Ur;(function(r){r.Byte="Byte",r.Kilobyte="Kilobyte",r.Megabyte="Megabyte",r.Gigabyte="Gigabyte"})(Ur||(Ur={}));var Hr;(function(r){r.Const="Const",r.SysValue="SysValue",r.SysSetting="SysSetting",r.AttributeValue="AttributeValue",r.AttributeProperty="AttributeProperty",r.Formula="Formula"})(Hr||(Hr={}));var $r;(function(r){r[r.IsNull=0]="IsNull",r[r.IsNotNull=1]="IsNotNull",r[r.Equal=2]="Equal",r[r.NotEqual=3]="NotEqual",r[r.Contain=11]="Contain",r[r.NotContain=12]="NotContain"})($r||($r={}));var Gr;(function(r){r[r.None=0]="None",r[r.And=1]="And",r[r.Or=2]="Or"})(Gr||(Gr={}));var zr;(function(r){r.ChangeAttributeValue="ChangeAttributeValue",r.ChangeAttributeProperty="ChangeAttributeProperty",r.DataLoaded="DataLoaded",r.ContextReady="ContextReady"})(zr||(zr={}));var Wr;(function(r){r[r.General=0]="General",r[r.External=1]="External"})(Wr||(Wr={}));var C;(function(r){r.LightGreen="#A6DE00",r.Green="#20A959",r.DarkGreen="#22AC14",r.Orange="#FFAC07",r.OrangeRed="#FF8800",r.Coral="#F9307F",r.BrightRed="#FF602E",r.Red="#FF4013",r.Purple="#B87CCF",r.Violet="#7848EE",r.CelestialBlue="#247EE5",r.Blue="#0058EF",r.LightBlue="#009DE3",r.NavyBlue="#4F43C2",r.DarkTurquoise="#08857E",r.Turquoise="#00BFA5",r.BurntCoral="#BE1B5A",r.CadmiumRed="#E00022",r.ForestGreen="#0B6A32",r.SteelBlue="#1566B9",r.VividPurple="#9641A9",r.RustyOrange="#F86700",r.DarkBlue="#0D2E4E"})(C||(C={}));var Zr;(function(r){r.LightGreen="#7DA112",r.Green="#008537",r.DarkGreen="#0B8500",r.Orange="#EF6F00",r.OrangeRed="#DB3C00",r.Coral="#C2185B",r.BrightRed="#DC3A00",r.Red="#DB2D00",r.Purple="#A400AA",r.Violet="#512DA8",r.CelestialBlue="#0058EF",r.Blue="#014BCB",r.LightBlue="#0073EA",r.NavyBlue="#28216B",r.DarkTurquoise="#00665C",r.Turquoise="#118574",r.BurntCoral="#A10E47",r.CadmiumRed="#B8001C",r.ForestGreen="#0A592A",r.SteelBlue="#145597",r.VividPurple="#7B2D8D",r.RustyOrange="#9C3305",r.DarkBlue="#071D35"})(Zr||(Zr={}));const bo={LightGreen:C.LightGreen,Green:C.Green,DarkGreen:C.DarkGreen,Orange:C.Orange,OrangeRed:C.OrangeRed,Coral:C.Coral,BrightRed:C.BrightRed,Red:C.Red,Purple:C.Purple,Violet:C.Violet,CelestialBlue:C.CelestialBlue,Blue:C.Blue,LightBlue:C.LightBlue,NavyBlue:C.NavyBlue,DarkTurquoise:C.DarkTurquoise,Turquoise:C.Turquoise},Ao={LightGreen:"#71CD1A",Green:"#00C853",BrightRed:"#D32F2F",CelestialBlue:"#0091EA",LightBlue:"#1F97DB",DarkTurquoise:"#009688"};class Gt{constructor(e){this.window=e}navigate(e,t,n=Qn.Blank){this.window.open(e,t||n)}static#e=this.\u0275fac=function(t){return new(t||Gt)(i.\u0275\u0275inject(m.WINDOW_TOKEN))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Gt,factory:Gt.\u0275fac,providedIn:"root"})}class zt{}const er=new i.InjectionToken("CRT_REQUIRE_JS"),ti="#GenerateGUID#",Kr=[o.DataValueType.DateTime,o.DataValueType.Date,o.DataValueType.Time],qr=new Map([[o.DataValueType.Integer,0],[o.DataValueType.Float,2],[o.DataValueType.Money,2],[o.DataValueType.FLOAT1,1],[o.DataValueType.FLOAT2,2],[o.DataValueType.FLOAT3,3],[o.DataValueType.FLOAT4,4],[o.DataValueType.FLOAT8,8]]),tr=[o.DataValueType.Float,o.DataValueType.FLOAT1,o.DataValueType.FLOAT2,o.DataValueType.FLOAT3,o.DataValueType.FLOAT4,o.DataValueType.FLOAT8,o.DataValueType.Integer,o.DataValueType.Money],Ro="^[a-zA-Z]+[a-zA-Z0-9_]*$",ni="/img/entity/hash/SysImage/Data/",ri="/DataService/json/SyncReply",wo="ec5fd902-66ce-4139-a241-10ebd8addc40",Mo="0c5cfb7a-1ed9-41b8-905e-9a38c6915550",Do="ecdcc8ff-272c-4957-9381-7d74ce17e140",Fo="b11e72c4-3787-407e-9415-9d499413d5b8",Oo="eb4d4a67-25d8-fcfa-7851-c4c91efb7b9c",Lo="C449D832-A4CC-4B01-B9D5-8A12C42A9F89",No="Activity",Po="E2831DEC-CFC0-DF11-B00F-001D60E938C6",Vo="fbe0acdc-cfc0-df11-b00f-001d60e938c6",xo="42c74c49-58e6-df11-971b-001d60e938c6",ko="f51c4643-58e6-df11-971b-001d60e938c6",jo="8038A396-7825-E011-8165-00155D043204",si="DataService/json/SyncReply",ii="DataService/ssp/json/SyncReply",Bo="ComposerEvent",Uo="WorkplaceNavigationPanelVisibleAttribute";function Ho(r){return r.endsWith("/")||(r+="/"),r}function $o(r){return r.replace(/(^([/\\])+)|(([/\\])+$)/,"")}function ai(r){return r=r.replace(location.hash,""),r.replace(location.search,"")}function oi(r){return`${Xr()}/Navigation/Navigation.aspx?schemaName=${r}`}function Go(){return"/"}function x(){let r=location.pathname;const e=r.match(/.*?\/\d\/?/);return e&&e.length===1?r=Ho(e[0]):r="",Yr(location.origin,r)}function ci(){let r=location.href.replace(x(),"");return r=ai(r),r||"/"}function zo(){let r=location.href;return r=ai(r),r||"/"}function Wt(){let e=x().replace(location.origin,"");return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e}function Xr(){return x().replace(/\/0\/?$|\/+$/,"")}function Yr(...r){return r.map(e=>$o(e)).join("/")}function Wo(r,e){return`${oi(r)}&recordId=${e}`}function Zo(r,e){function t(c,u){return c.toLowerCase().replace(u,"").split("/").filter(d=>d).join("/")}const n=x().toLowerCase(),s=t(r,n),a=t(e,n);return s===a}function Ko(r){return r?Wt()+ni+r:null}function qo(){return Wt()+ri}function Xo(r){const{uId:e,name:t,packageUId:n}=r;if(!e&&!t)throw new Error("uId or name is required");const s=x(),a=ci();let c=`${s}${a}#/InterfaceDesigner/${e||t}`;return n&&(c+=`?packageUId=${n}`),c}class ye extends zt{constructor(e,t){super(),this._requireJs=e,this._httpClient=t,this._serviceEndpoint="ServiceModel/ClientUnitSchemaPathService.svc/",this.paths=new Map}_loadPartOfSchema(e){const t=this._serviceEndpoint+"GetPathsBySchemaName/"+e;return this._httpClient.post(t,null).pipe((0,h.map)(n=>n?.paths??[]))}register(e){return this.paths.has(e)?(0,l.of)(void 0):this._loadPartOfSchema(e).pipe((0,h.map)(t=>{const n=Object.fromEntries(t.map(s=>[s.name,A.Location.joinWithSlash(x(),s.path)]));this._requireJs.config({paths:n});for(const{name:s,path:a}of t)this.paths.set(s,a)}))}registerDescriptors(e){const t=Object.fromEntries(e.map(n=>[n.schemaName,A.Location.joinWithSlash(A.Location.joinWithSlash(x(),n.path),n.schemaName)]));this._requireJs.config({paths:t})}static#e=this.\u0275fac=function(t){return new(t||ye)(i.\u0275\u0275inject(er),i.\u0275\u0275inject(S.HttpClient))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:ye,factory:ye.\u0275fac})}class _e extends zt{constructor(e,t){super(),this._requireJs=e,this._appInfo=t,this._hashParamName="hash",this._workspaceBaseUrl=x(),this._emptyResourcesModulePath="Terrasoft/configuration/resources/empty-resources.js"}_getSchemaRuntimePath(e){return A.Location.joinWithSlash(this._workspaceBaseUrl,e.staticFileContent.schemasRuntimePath)}_getResourceRuntimePath(e){return A.Location.joinWithSlash(this._workspaceBaseUrl,e.staticFileContent.resourcesRuntimePath)}_getEmptyResourcesPath(e){const t=A.Location.joinWithSlash(this._workspaceBaseUrl,e.coreModulesPath),n=new URL(A.Location.joinWithSlash(t,this._emptyResourcesModulePath));return n.searchParams.set(this._hashParamName,e.configurationContentHash),n.toString()}_getSchemaPath(e,t){const n=new URL(A.Location.joinWithSlash(this._getSchemaRuntimePath(t),`${e}.js`));return n.searchParams.set(this._hashParamName,t.configurationContentHash),n.toString()}_getResourcePath(e,t){const n=new URL(A.Location.joinWithSlash(this._getResourceRuntimePath(t),`${e}Resources.js`));return n.searchParams.set(this._hashParamName,t.configurationContentHash),n.toString()}register(e){return this._requireJs.config({paths:{[e]:this._getSchemaPath(e,this._appInfo),[`${e}Resources`]:[this._getResourcePath(e,this._appInfo),this._getEmptyResourcesPath(this._appInfo)]}}),(0,l.of)(void 0)}registerDescriptors(e,t){e.forEach(n=>{const s=n.schemaName;this._requireJs.config({paths:{[s]:this._getSchemaPath(s,t),[`${s}Resources`]:[this._getResourcePath(s,t),this._getEmptyResourcesPath(t)]}})})}static#e=this.\u0275fac=function(t){return new(t||_e)(i.\u0275\u0275inject(er),i.\u0275\u0275inject(O))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac})}const Yo={provide:zt,useFactory:(r,e)=>r.useStaticFileContent?e.get(_e):e.get(ye),deps:[O,i.Injector]};class Te extends zt{register(){return(0,l.of)(void 0)}registerDescriptors(e){}static#e=this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Te)))(n||Te)}})();static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Te,factory:Te.\u0275fac})}class Ee{constructor(e){this._window=e}get(){return this._window.requirejs}static#e=this.\u0275fac=function(t){return new(t||Ee)(i.\u0275\u0275inject(m.WINDOW_TOKEN))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ee,factory:Ee.\u0275fac})}class oe{constructor(e){this.userInfo=e,this._resourceMacrosRegExpPattern="(?<macrosBody>#ResourceString\\((?<macrosArgs>[^)]*)\\)#)",this._viewModelAttributeRegExpPattern=`\\$${Zs}.${Xn.string}.(?<macrosArgs>[\\S\\s]*)`,this._sysCultureName=this.userInfo.cultureInfo.sysCultureName,this._defCultureName=this.userInfo.defCultureInfo.sysCultureName}_getLczResource(e){const t={};return e.forEach(n=>t[n.cultureName]=n.value),t}_getResourceValueMatches(e){const t=new RegExp(this._resourceMacrosRegExpPattern,"g"),n=new RegExp(this._viewModelAttributeRegExpPattern,"g");let s=[...(e??"").matchAll(n)];return s.length||(s=[...(e??"").matchAll(t)]),s}_findStringPropertyResource(e,t){const{resourceName:n,useMacrosTemplate:s}=this.findResourcesName(e);if(n)return{path:t,resourceName:n,useMacrosTemplate:s}}_findArrayPropertyResources(e,t=""){return e.flatMap((n,s)=>this.findPropertyResources(n,t?`${t}.${s}`:`${s}`))}_findObjectPropertyResources(e,t=""){return Object.entries(e).flatMap(([n,s])=>this.findPropertyResources(s,t?`${t}.${n}`:n))}findLocalizableValue(e){if(typeof e=="string")return e;if(!e||typeof e!="object")return null;let t;return Array.isArray(e)?t=e?.filter(n=>n.value).reduce((n,s)=>Object.assign(n,{[s.cultureName]:s.value}),{}):t=e,(t[this._sysCultureName]??t[this._defCultureName])?.toString()??null}findResourcesName(e){const n=this._getResourceValueMatches(e)[0]?.groups.macrosArgs,s=e?.startsWith("#MacrosTemplateString");return{resourceName:n,useMacrosTemplate:s}}findLocalizationFromResourceString(e,t){const{resourceName:n}=this.findResourcesName(e),s=n!==void 0&&t.strings[n];if(s){const u=Object.entries(s).map(([d,f])=>({cultureName:d,value:f}));return new U(u)}const a=n===void 0&&e||"",c=this._sysCultureName||this._defCultureName;return new U([{cultureName:c,value:a}])}findValueFromResource(e,t){const n=this.findLocalizationFromResourceString(e,t),s=this._getLczResource(n);return this.findLocalizableValue(s)}findViewModelResourceValue(e,t,n){var s=this;return(0,I.A)(function*(){const{resourceName:a}=s.findResourcesName(e);let c;return a&&(c=yield t.Strings[a]),c||n||e})()}findPropertyResources(e,t=""){return e?Array.isArray(e)?this._findArrayPropertyResources(e,t):typeof e=="object"?this._findObjectPropertyResources(e,t):typeof e=="string"?[this._findStringPropertyResource(e,t)].filter(Boolean):[]:[]}static#e=this.\u0275fac=function(t){return new(t||oe)(i.\u0275\u0275inject(R))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:oe,factory:oe.\u0275fac,providedIn:"root"})}const Jr=new i.InjectionToken("Represents a list of schema change message predicates"),Qr=new i.InjectionToken("Represents a list of schema remove message predicates");class Se{constructor(e,t,n){this._messageChannelService=e,this._changePredicates=t,this._removePredicates=n,this._destroyed$=new l.Subject,this.schemaChanged$=new l.Subject,this.schemaRemoved$=new l.Subject,this._subscribeMessageChannelEvent()}_getSchemaType(e){let t;switch(e){case"ClientUnitSchemaManager":t=Ge.ClientUnitSchema;break;case"EntitySchemaManager":t=Ge.EntitySchema;break}return t}_processMessage(e,t){const n=e.body,s=this._getSchemaType(n.ManagerName);s&&t.next({name:n.Name,uId:n.UId,schemaType:s})}_subscribeMessageChannelEvent(){this._messageChannelService.messageEvent$.pipe((0,h.filter)(e=>this._changePredicates?.some(t=>t(e))),(0,h.takeUntil)(this._destroyed$)).subscribe(e=>this._processMessage(e,this.schemaChanged$)),this._messageChannelService.messageEvent$.pipe((0,h.filter)(e=>this._removePredicates?.some(t=>t(e))),(0,h.takeUntil)(this._destroyed$)).subscribe(e=>this._processMessage(e,this.schemaRemoved$))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),this.schemaChanged$.complete()}static#e=this.\u0275fac=function(t){return new(t||Se)(i.\u0275\u0275inject(Ke),i.\u0275\u0275inject(Jr,8),i.\u0275\u0275inject(Qr,8))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Se,factory:Se.\u0275fac,providedIn:"root"})}class Zt{constructor(e){this.schemaChangeListener=e,this._repository=new Map,this._uIdMap=new Map,this._destroyed$=new l.Subject,this.schemaChangeListener.schemaChanged$.pipe((0,h.filter)(t=>t.schemaType===this.provider.schemaType),(0,h.takeUntil)(this._destroyed$)).subscribe(t=>this.clearSchemaCacheByUId(t.uId))}add(e){this._repository.set(e.name,e),this._uIdMap.set(e.uId,e.name)}getCachedSchema(e){return this._repository.get(e)}getIsSchemaCached(e){return this._repository.has(e)}getCachedSchemesNames(){return[...this._repository.keys()]}getSchemaByName(e){const t=this.getCachedSchema(e);return t?(0,l.of)(t):this.provider.getSchemaByName(e).pipe((0,h.tap)(n=>this.add(n)))}getSchemaByUId(e){const t=this._uIdMap.get(e),n=t&&this.getCachedSchema(t);return n?(0,l.of)(n):this.provider.getSchemaByUId(e).pipe((0,h.tap)(s=>this.add(s)))}clearSchemaCacheByName(e){const t=this.getCachedSchema(e);t&&this._uIdMap.delete(t.uId),this._repository.delete(e)}clearSchemaCacheByUId(e){const t=this._uIdMap.get(e);t&&this._repository.delete(t),this._uIdMap.delete(e)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static#e=this.\u0275fac=function(t){return new(t||Zt)(i.\u0275\u0275inject(Se))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Zt,factory:Zt.\u0275fac})}class qe{constructor(e){this._entitySchemaService=e,this.schemaType=Ge.EntitySchema}_getSchema(e){return e.pipe((0,h.switchMap)(t=>t.success===!0?(0,l.of)(t):(0,l.throwError)(()=>new Error(t.errorInfo.message))),(0,h.map)(t=>t.entitySchema))}_getScheme(e){return e.pipe((0,h.switchMap)(t=>t.success===!0?(0,l.of)(t):(0,l.throwError)(()=>new Error(t.errorInfo.message))),(0,h.map)(t=>t.schemes))}getSchemaByUId(e){const t=this._entitySchemaService.getEntitySchemaByUId(e);return this._getSchema(t)}getSchemaByName(e){const t=this._entitySchemaService.getEntitySchemaByName(e);return this._getSchema(t)}getSchemes(e){const t=this._entitySchemaService.getEntitySchemes(e);return this._getScheme(t)}static#e=this.\u0275fac=function(t){return new(t||qe)(i.\u0275\u0275inject(ae))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:qe,factory:qe.\u0275fac,providedIn:"root"})}const es=new i.InjectionToken("DataServiceUri"),Jo={provide:es,useFactory:r=>r?.isSSP?ii:si,deps:[[new i.Optional,R]]};class Kt extends Zt{constructor(e,t){super(t),this.provider=e,this.schemaChangeListener=t}_checkPath(e){if(!e||e.length===0)throw new Error("Path is null or empty")}_checkLookupColumn(e,t){if(!e.isLookupType)throw new Error(`Column '${e.name}' for schema '${t.name}' is not lookup`)}_getEntitySchemaColumn(e,t){const n=e.columns.find(s=>s.name===t);if(!n)throw new Error(`Can not find column '${t}' in schema '${e.name}'`);return n}_findEntitySchemesByPath(e,t){this._checkPath(t);const n=[...t],s=this.getCachedSchema(e);if(!s)return null;const a=n.shift(),c=Lt.getPathItemInfo(a);let u=[];if(c.isBackReference)u=this._findEntitySchemesByPath(c.referenceSchemaName,n);else{const f=this._getEntitySchemaColumn(s,c.columnName);if(n.length===0)return[s];this._checkLookupColumn(f,s),u=this._findEntitySchemesByPath(f.referenceSchemaName,n)}if(!u)return null;const d=u.filter(f=>f.name!==s.name);return[s,...d]}_getAreSchemesCached(e){for(const t of e){const n=this.getCachedSchema(t.name);if(!n)return!1;const s=n.columns.filter(c=>c.isLookupType).every(c=>this.getIsSchemaCached(c.referenceSchemaName));if(t.loadLookupColumns&&!s)return!1;const a=t.forwardReferencePaths??[];for(const c of a){const u=c.split(".");if(!this.findEntitySchemaColumnByPath(t.name,u))return!1}}return!0}_addSchemaIfNotExists(e,t){e.has(t.name)||e.set(t.name,t)}_addSchemesIfNotExists(e,t){t.forEach(n=>{this._addSchemaIfNotExists(e,n)})}_getCachedSchemes(e){const t=new Map;return e.forEach(n=>{const s=this.getCachedSchema(n.name);if(!s)return;if(this._addSchemaIfNotExists(t,s),n.loadLookupColumns){const c=s.columns.filter(u=>u.isLookupType).map(u=>this.getCachedSchema(u.referenceSchemaName)).filter(u=>u!=null);this._addSchemesIfNotExists(t,c)}(n.forwardReferencePaths??[]).forEach(c=>{const u=c.split("."),d=this._findEntitySchemesByPath(n.name,u);d&&this._addSchemesIfNotExists(t,d)})}),[...t.values()]}getSchemes(e){if(this._getAreSchemesCached(e))return(0,l.of)(this._getCachedSchemes(e));const t={requests:e,cachedSchemesNames:this.getCachedSchemesNames()};return this.provider.getSchemes(t).pipe((0,h.tap)(n=>n.forEach(s=>this.add(s))),(0,h.map)(()=>this._getCachedSchemes(e)))}findEntitySchemaByPath(e,t){this._checkPath(t);const n=this.getCachedSchema(e);if(!n)return null;const s=[...t],a=s.shift(),c=Lt.getPathItemInfo(a);if(c.isBackReference)return this.findEntitySchemaByPath(c.referenceSchemaName,s);const u=this._getEntitySchemaColumn(n,c.columnName);return s.length===0?n:(this._checkLookupColumn(u,n),this.findEntitySchemaByPath(u.referenceSchemaName,s))}findEntitySchemaColumnByPath(e,t){const n=this.findEntitySchemaByPath(e,t);if(!n)return null;const s=[...t].pop(),a=Lt.getPathItemInfo(s);return this._getEntitySchemaColumn(n,a.columnName)}static#e=this.\u0275fac=function(t){return new(t||Kt)(i.\u0275\u0275inject(qe),i.\u0275\u0275inject(Se))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Kt,factory:Kt.\u0275fac,providedIn:"root"})}class Xe{constructor(e){this.translateService=e}_getTranslations(e){const t=this.translateService.translations[e];return t?(0,l.of)({translation:t,cultureName:e}):this.translateService.currentLoader.getTranslation(e).pipe((0,h.map)(n=>({translation:n,cultureName:e})))}getAllCultureValues(e,t){return(0,l.forkJoin)(e.map(n=>this._getTranslations(n))).pipe((0,h.map)(n=>{const s=new U;for(const{translation:a,cultureName:c}of n){const u=(0,_.get)(a,t);s.setValueLocalizableString(c,u)}return s}))}isTranslateKey(e){return/^\S+\.\S+$/.test(e)}static#e=this.\u0275fac=function(t){return new(t||Xe)(i.\u0275\u0275inject(b.TranslateService))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Xe,factory:Xe.\u0275fac})}class qt{constructor(e){this._window=e}get(e){return this._window.localStorage.getItem(e)}set(e,t){this._window.localStorage.setItem(e,t)}remove(e){this._window.localStorage.removeItem(e)}static#e=this.\u0275fac=function(t){return new(t||qt)(i.\u0275\u0275inject(m.WINDOW_TOKEN))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:qt,factory:qt.\u0275fac})}class Xt{get availableColors(){return["linear-gradient(226.56deg, #E92170 2.58%, #9C1548 100%)","linear-gradient(223.63deg, #E23911 0%, #A11818 102.51%)","linear-gradient(265.43deg, #118F45 0.43%, #085C2B 92.69%)","linear-gradient(226.04deg, #078A7E 3.14%, #084C45 94.22%)","linear-gradient(224.97deg, #057ADD 5.35%, #274D8F 100%)","linear-gradient(220.79deg, #A758C5 2.27%, #841189 95.92%)","linear-gradient(143.25deg, #7848EE 1.25%, #512DA8 101.21%)","linear-gradient(223.46deg, #0058EF -4.85%, #0042B5 103.03%)","linear-gradient(143.8deg, #4F43C2 6.59%, #282261 95.27%)","linear-gradient(223.63deg, #06427C 0%, #0D2E4E 102.51%)"]}constructor(e){this.window=e,this.STORAGE_KEY="freedomContactColor",this._currentIndex=0,this._currentIndex=this._getIndexFromStorage()}_getIndexStorageKey(){return`${this.STORAGE_KEY}_index`}_getStorageKey(e){return`${this.STORAGE_KEY}_${e}`}_saveIndexToStorage(){this.window.localStorage.setItem(this._getIndexStorageKey(),this._currentIndex.toString())}_saveToStorage(e,t){this.window.localStorage.setItem(this._getStorageKey(e),t)}_removeFromStorage(e){this.window.localStorage.removeItem(this._getStorageKey(e))}_getIndexFromStorage(){const e=this.window.localStorage?.getItem(this._getIndexStorageKey());return e?Number(e):0}_getFromStorage(e){let t=this.window.localStorage.getItem(this._getStorageKey(e));return t&&!this.availableColors.some(n=>n===t)&&(this._removeFromStorage(e),t=""),t}getNextColor(e){let t=this._getFromStorage(e)||"";return t.indexOf("#")===-1&&(this._currentIndex>=this.availableColors.length&&(this._currentIndex=0),t=this.availableColors[this._currentIndex],this._currentIndex++,this._saveIndexToStorage(),this._saveToStorage(e,t)),t}static#e=this.\u0275fac=function(t){return new(t||Xt)(i.\u0275\u0275inject(m.WINDOW_TOKEN))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Xt,factory:Xt.\u0275fac,providedIn:"root"})}class nr{}class J extends nr{toDataSourceAttribute(e,t){const{path:n,aggregationConfig:s}=t??{};return!e||!n||!s?null:{type:"aggregation",name:e,path:n,aggregationConfig:s}}toEntityDataSourceAttribute(e){const{path:t,aggregationConfig:n}=e??{};if(!t||!n)return null;const s=n.filter?.items?Object.keys(n.filter?.items)[0].slice(0,8):n.aggregationFunction;return e.name+=s,{type:"Aggregation",path:t,aggregationConfig:n}}static#e=this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(J)))(n||J)}})();static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:J,factory:J.\u0275fac})}class ce extends nr{toDataSourceAttribute(e,t){const{path:n}=t??{};return!e||!n?null:{type:"default",path:n,name:e}}toEntityDataSourceAttribute(e){const{path:t}=e??{};return t?{type:/\./.test(t)?"ForwardReference":"Own",path:t}:null}static#e=this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(ce)))(n||ce)}})();static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:ce,factory:ce.\u0275fac})}class Q extends nr{toDataSourceAttribute(e,t){const{path:n,functionConfig:s}=t??{};return!e||!n||!s?null:{type:"function",name:e,path:n,functionConfig:s}}toEntityDataSourceAttribute(e){const{path:t,functionConfig:n}=e??{};return!t||!n?null:{type:"Function",path:t,functionConfig:n}}static#e=this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Q)))(n||Q)}})();static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Q,factory:Q.\u0275fac})}const ui=new i.InjectionToken("Represents a factory of entity data source attribute config converters");function Qo(){return m.FactoryProvider.create({token:ui,mappings:[{predicate:"aggregation",injectable:J},{predicate:"Aggregation",injectable:J},{predicate:"function",injectable:Q},{predicate:"Function",injectable:Q}],default:{injectable:ce}})}class rr{static#e=this.\u0275fac=function(t){return new(t||rr)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:rr});static#n=this.\u0275inj=i.\u0275\u0275defineInjector({providers:[J,ce,Q,Qo()]})}class Yt{getInitials(e,t){if(!e||e==="")return"";const n=t||(s=>s.substr(0,1).toUpperCase());return e.trim().split(" ",2).map(n).join("")}static#e=this.\u0275fac=function(t){return new(t||Yt)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Yt,factory:Yt.\u0275fac,providedIn:"root"})}class Ye{constructor(e){this._httpClient=e,this._serviceEndpoint="rest/MacrosHelperService"}static isMacros(e){return typeof e!="string"?!1:e?.startsWith("#")??!1}getTemplate(e,t){return this.getTemplateByEntity({textTemplate:e},t)}getTemplateByEntity(e,t){const n=`${this._serviceEndpoint}/GetTemplate`;return this._httpClient.post(n,{request:e}).pipe((0,h.map)(s=>{const a=s?.GetTemplateResult;return a?.success?t?a.textTemplate:a.textTemplate.replace(/\s?<.+?>(.+?)<(.+?)\/?(.+?)>/g,""):e.textTemplate}))}getMultiLanguageTemplate(e,t,n){const s=`${this._serviceEndpoint}/GetMultiLanguageTextTemplate`;return this._httpClient.post(s,{request:{entityId:e,entityName:t,templateId:n}}).pipe((0,h.map)(a=>a?.GetMultiLanguageTextTemplateResult))}static#e=this.\u0275fac=function(t){return new(t||Ye)(i.\u0275\u0275inject(S.HttpClient))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})}class Je{constructor(e){this._elementRef=e,this._scrollPositions=new Map,this._saveScrollPosition=t=>{const n=t.target;if(n){const s=this._findRef(n)||new WeakRef(n);this._scrollPositions.set(s,{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop})}}}get scrollPositions(){return this._scrollPositions}set scrollPositions(e){this._scrollPositions=e}_findRef(e){for(const[t]of this._scrollPositions)if(t.deref()===e)return t;return null}_onScrollEnd(){const e=this._elementRef.nativeElement;return(0,l.fromEventPattern)(t=>e.addEventListener("scroll",t,!0),t=>e.removeEventListener("scroll",t,!0)).pipe((0,l.debounceTime)(200))}startScrollTracking(){this._subscription?.unsubscribe(),this._subscription=this._onScrollEnd().subscribe(e=>this._saveScrollPosition(e))}stopScrollTracking(){this._subscription?.unsubscribe()}restoreScrollPosition(){for(const[e,t]of this._scrollPositions){const n=e.deref();n?.isConnected?n.scroll(t.scrollLeft,t.scrollTop):this._scrollPositions.delete(e)}}ngOnDestroy(){this.stopScrollTracking(),this._scrollPositions.clear()}static#e=this.\u0275fac=function(t){return new(t||Je)(i.\u0275\u0275inject(i.ElementRef))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Je,factory:Je.\u0275fac})}const ts=new i.InjectionToken("CRT_METADATA_PREPROCESSOR");class li{constructor(e,t){this.id=e,this._baseHostInjector=t,this._hostModuleTypes=[],this._hostModuleRefs=[],this._lazyModulesBySource=new Map,this._hostInjector=this._baseHostInjector}_createDynamicNgModule(e){const n=this._hostInjector.get(ts,[]).map(c=>({provide:ts,useValue:c,multi:!0})),s=(0,i.NgModule)({providers:n})(class{}),a=(0,i.NgModule)({imports:[s,...e]})(class{});return(0,i.createNgModule)(a,this._hostInjector)}inject(e){return this._hostInjector.get(e)}addLazyModule(e){const t=o.bootstrappedCrtModules.get(e);if(!t)throw new Error("Module was not bootstrapped");const{source:n}=t;this._lazyModulesBySource.has(n)||this._lazyModulesBySource.set(n,new Set),this._lazyModulesBySource.get(n).add(e)}getLazyModules(e){return[...this._lazyModulesBySource.get(e)??[]]}connectHostLazyModules(){const e=this.getLazyModules("host");if((0,_.isEqual)(e,this._hostModuleTypes))return;const t=this._createDynamicNgModule(e);this._hostModuleTypes=e,this._hostModuleRefs.push(t),this._hostInjector=t.injector}destroy(){for(const e of this._hostModuleRefs)e.destroy();this._hostModuleRefs=[]}}class Qe extends Ot{constructor(){super(...arguments),this._injectionContextsMap=new Map}createContext(e,t){const n=new li(e,t);return this._injectionContextsMap.set(e,n),n}injectFromContext(e,t){return this._injectionContextsMap.get(e).inject(t)}removeContext(e){return this._injectionContextsMap.get(e)?.destroy(),this._injectionContextsMap.delete(e)}static#e=this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Qe)))(n||Qe)}})();static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Qe,factory:Qe.\u0275fac,providedIn:"root"})}var sr;(function(r){r.Insert="insert",r.Update="update",r.Delete="delete",r.ForceUpdate="forceUpdate"})(sr||(sr={}));class Jt{constructor(e,t){this._messageChannelService=e,this._userInfo=t,this._subscriptions=[],this.newMessageEvent=new i.EventEmitter,this.feedPostPublishedEvent=new i.EventEmitter,this._subscribeMessageChannelEvents()}_subscribeMessageChannelEvents(){this._subscriptions.push(this._messageChannelService.messageEvent$.pipe((0,l.filter)(e=>e.header.sender==="UpdateSocialMessage"),(0,l.map)(e=>{const t=e.body;return{MessageId:e.id.toString(),AuthorId:t.sysAdminUnitId,Operation:t.operation,EntityId:t.channelId,ParentId:t.parentId,EntityName:t.entityName}})).subscribe(e=>this.newMessageEvent.emit(e)))}onFeedPostPublished(e,t){const n={MessageId:e,Operation:sr.Insert,EntityId:t};this.feedPostPublishedEvent.emit(n)}ngOnDestroy(){this._subscriptions.forEach(e=>e?.unsubscribe())}static#e=this.\u0275fac=function(t){return new(t||Jt)(i.\u0275\u0275inject(Ke),i.\u0275\u0275inject(R))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Jt,factory:Jt.\u0275fac})}class Qt{constructor(e){this._httpClient=e,this._workplaceServiceUrl="/rest/WorkplaceService/"}resetWorkplaceScriptCache(){const e=this._workplaceServiceUrl+"ResetScriptCache";return this._httpClient.post(e,null)}static#e=this.\u0275fac=function(t){return new(t||Qt)(i.\u0275\u0275inject(S.HttpClient))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}class et{constructor(){this._customEventService=(0,i.inject)(m.CustomEventService),this._listeners=new Map,this.destroyed$=new l.Subject,this.addDefaultListeners(),this.initChannels(),this._startListening()}_startListening(){this.inboundChannel$.pipe((0,l.takeUntil)(this.destroyed$)).subscribe(e=>{if(!this._listeners.has(e.type))throw new Error(`No listener for "${e.type}" request`);const t=this._listeners.get(e.type),n=a=>{const c={body:a,requestId:e.id,requestType:e.type};this.outboundChannel$.next(c)},s=t(e);s instanceof Promise?s.then(n):n(s)})}addDefaultListeners(){this.addListener("ping",()=>"pong")}initChannels(){this.inboundChannel$=this._customEventService.subscribe("CreatioBrowserExtensionRequest"),this.outboundChannel$=this._customEventService.createOutboundChannel("CreatioBrowserExtensionResponse")}addListener(e,t){this._listeners.set(e,t)}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}static#e=this.\u0275fac=function(t){return new(t||et)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:et,factory:et.\u0275fac,providedIn:"root"})}class tt extends et{initChannels(){this.inboundChannel$=new l.Subject,this.outboundChannel$=new l.Subject}simulateBrowserExtensionRequest(e){const t=(0,l.firstValueFrom)(this.outboundChannel$.pipe((0,l.first)(n=>n.requestId===e.id)));return this.inboundChannel$.next(e),t}static#e=this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(tt)))(n||tt)}})();static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:tt,factory:tt.\u0275fac})}class en{constructor(e){this._environment=e}getUrl(){const e=this._environment.runtimeApplicationUrl||this._environment.defaultApplicationUrl;return A.Location.joinWithSlash(this._environment.workspaceBaseUrl,e)}static#e=this.\u0275fac=function(t){return new(t||en)(i.\u0275\u0275inject("environment"))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:en,factory:en.\u0275fac,providedIn:"root"})}var ns;(function(r){r.Reload="reload",r.Merge="merge"})(ns||(ns={}));var rs;(function(r){r.Init="init",r.Create="create",r.Update="update",r.Copy="copy",r.Delete="delete",r.Unknown="unknown"})(rs||(rs={}));const ec="crt.EntityDataSource",tc="crt.PageParametersDataSource",nc="PageParameters";var ee;(function(r){r[r.None=0]="None",r[r.Small=1]="Small",r[r.Medium=2]="Medium",r[r.Large=3]="Large",r[r.ExtraLarge=4]="ExtraLarge",r[r.Custom=5]="Custom"})(ee||(ee={}));const di=new i.InjectionToken("sessionEndNotifier"),hi=new i.InjectionToken("APPEARANCE_SETTINGS_DEFAULT_LOADER"),pi=new i.InjectionToken("APPEARANCE_SETTINGS_LOADER"),ss=new Map([[ee.Small,"modal-size-small"],[ee.Medium,"modal-size-medium"],[ee.Large,"modal-size-large"],[ee.ExtraLarge,"modal-size-extra-large"]]);class tn{constructor(){this._appearanceSettingsLoader=(0,i.inject)(pi,{optional:!0}),this._appearanceSettingsDefaultLoader=(0,i.inject)(hi,{optional:!0})}_getEmptyAppearanceSettings(){const e={modalSettings:{size:ee.None}};return Promise.resolve(e)}_getAppearanceSettings(e){return this._appearanceSettingsLoader?(0,l.lastValueFrom)(this._appearanceSettingsLoader.getAppearanceSettings(e)):this._getEmptyAppearanceSettings()}_getDefaultAppearanceSettings(e){return this._appearanceSettingsDefaultLoader?(0,l.lastValueFrom)(this._appearanceSettingsDefaultLoader.getDefaultAppearanceSettings(e)):this._getEmptyAppearanceSettings()}getSchemaModalClasses(e){var t=this;return(0,I.A)(function*(){let n;const s=yield t._getAppearanceSettings(e),a=yield t._getEmptyAppearanceSettings(),c=s?.modalSettings??a.modalSettings;if(c?.size!==ee.None)n=ss.get(c.size);else{const d=(yield t._getDefaultAppearanceSettings(e)).modalSettings;n=ss.get(d.size)}return[n]})()}static#e=this.\u0275fac=function(t){return new(t||tn)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:tn,factory:tn.\u0275fac,providedIn:"root"})}class is{}const rc="/",ir="#DATE_SEPARATOR#",fi=`--${ir}--${ir}----`,mi="00:00",sc=`${fi} ${mi}`,ic={[o.DataValueType.Date]:fi,[o.DataValueType.Time]:mi,[o.DataValueType.DateTime]:sc};class Ie extends is{constructor(e){super(),this._dateTimeFormat=e?.cultureInfo?.dateTimeFormat}create(e){const t=ic[e];return t?(0,m.replaceSubstring)(t,[{searchValue:ir,replaceMacros:ir,replaceValue:this._dateTimeFormat?.dateSeparator??rc}]):""}static#e=this.\u0275fac=function(t){return new(t||Ie)(i.\u0275\u0275inject(R))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac})}class ve extends is{constructor(e){super(),this._decimalSeparator=e?.cultureInfo?.decimalSeparator}create(e){const t=qr.get(e);return t?"0"+(this._decimalSeparator??".")+"0".repeat(t):"0"}static#e=this.\u0275fac=function(t){return new(t||ve)(i.\u0275\u0275inject(R))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:ve,factory:ve.\u0275fac})}const as=new i.InjectionToken("A factory of empty placeholder creators"),gi=m.FactoryProvider.create({token:as,mappings:[{predicate:r=>Kr.includes(r),injectable:Ie},{predicate:r=>tr.includes(r),injectable:ve}]});var ar;(function(r){r.PDS="Page PDS",r.SectionAccess="Section access",r.PageAccess="Object page settings rule"})(ar||(ar={}));class or extends Error{constructor(e,t,n){super(),this._schemaName=e,this._userName=t,this._rule=n}get message(){return this._schemaName?`${this._schemaName} is not allowed due to ACL setup for ${this._userName}. Failed rules: - ${this._rule}.`:"Page is not allowed due to ACL setup. Check application logs for more details."}}class yi{}var nn;(function(r){r[r.Error=0]="Error",r[r.Debugger=1]="Debugger",r[r.Info=2]="Info"})(nn||(nn={}));class ac{}class Ce{get dataServiceUri(){return this._dataServiceUri||(this._dataServiceUri=this._injector.get(es)),this._dataServiceUri}constructor(e,t){this._httpClient=e,this._injector=t}_createClientLogMessage(e,t){return{message:e,messageType:t,loggerName:"Client"}}_sendData(e){return this._httpClient.post(this.dataServiceUri+"/PostClientLog",{LogItems:[e]})}logError(e){const t=this._createClientLogMessage(e.message,nn.Error);return this._sendData(t)}logMessage(e,t,n){const s={message:e,messageType:t,loggerName:n};return this._sendData(s)}static#e=this.\u0275fac=function(t){return new(t||Ce)(i.\u0275\u0275inject(S.HttpClient),i.\u0275\u0275inject(i.Injector))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}class rn{constructor(e){this._injector=e,this._userInfo=this._injector.get(R),this._rightsService=this._injector.get(yi),this._featureService=this._injector.get(o.FeatureService),this._clientLogService=this._injector.get(Ce)}checkAccess(e){var t=this;return(0,I.A)(function*(){if(!(yield t._featureService.getFeatureState("EnablePageOpeningRestrictions"))||(yield(0,l.firstValueFrom)(t._rightsService.getCanExecuteOperation("CanBypassPageOpeningRestrictions"))))return;if(!(yield t._rightsService.getAclGranted(e.name)))throw console.error(new or().message),t._clientLogService.logError(new or(e.name,t._userInfo.contactName,ar.PDS)).subscribe(),new or})()}static#e=this.\u0275fac=function(t){return new(t||rn)(i.\u0275\u0275inject(i.Injector))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:rn,factory:rn.\u0275fac,providedIn:"root"})}class sn{constructor(e){this._featureValues=e,this._consequentMeasureStartTimeCorrection=.001,this.rendering$=new l.BehaviorSubject(null),this._lastNowStartTime=0,this._useMeasurePerformanceTools=this._featureValues?.UseMeasurePerformanceTools}_getNowStartTimeWithCorrection(){const e=performance.now(),t=e<=this._lastNowStartTime?this._lastNowStartTime+this._consequentMeasureStartTimeCorrection:e;return this._lastNowStartTime=t,t}measure(e,t,n){if(!this._useMeasurePerformanceTools)return t();const s=n||this._getNowStartTimeWithCorrection(),a=t();return performance.measure(e,{start:s}),a}measureCallback(e,t){var n=this;return(0,I.A)(function*(){if(!n._useMeasurePerformanceTools)return t();const s=n._getNowStartTimeWithCorrection(),a=yield t();return performance.measure(e,{start:s}),a})()}measure$(e){if(!this._useMeasurePerformanceTools)return n=>n;let t;return n=>(0,l.of)(null).pipe((0,h.tap)(()=>t=this._getNowStartTimeWithCorrection()),(0,l.switchMap)(()=>n),(0,h.tap)(()=>{const s=typeof e=="string"?e:e();performance.measure(s,{start:t})}))}static#e=this.\u0275fac=function(t){return new(t||sn)(i.\u0275\u0275inject(ze,8))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:sn,factory:sn.\u0275fac,providedIn:"root"})}class an{constructor(e,t,n){this._messageChannelService=e,this._httpClient=t,this._injector=n,this._onSessionEnding=new l.Subject,this._subscription=new l.Subscription}get window(){return this._window??(this._window=this._injector.get(m.WINDOW_TOKEN))}get isSessionExpired(){return(this.window.Terrasoft??{}).SessionEndUserNotification?.sessionExpired??!1}get sessionEndNotifier(){return this._sessionEndNotifier??(this._sessionEndNotifier=this._injector.get(di))}get onSessionEnding$(){return this._onSessionEnding.asObservable()}setUpSessionExpired(){const e=this.window.Terrasoft??{};this.isSessionExpired||(e.SessionEndUserNotification.sessionExpired=!0)}_processSessionEndMessage(e){return this.sessionEndNotifier.notify(e).pipe((0,h.tap)(()=>{this.setUpSessionExpired(),this.window.location.reload()}))}_processSessionEndSoonMessage(e){return this.sessionEndNotifier.notifyGently(e).pipe((0,h.switchMap)(t=>t===m.NotifyGentlyDialogResult.StayLoggedIn?this._httpClient.post("api/ShellSession/KeepAlive",{}).pipe((0,h.map)(()=>{})):t===m.NotifyGentlyDialogResult.Exit?(this.setUpSessionExpired(),this._httpClient.post("rest/MainMenuService/Logout",{}).pipe((0,h.map)(()=>this.window.location.reload()))):(0,l.of)(void 0)),(0,h.catchError)(()=>this._httpClient.post("rest/MainMenuService/Logout",{}).pipe((0,h.map)(()=>this.window.location.reload()))))}_getIsMessageValid(e,t){return e?.header.sender==="WebApp"&&e.header.bodyTypeName===t&&e.body.SessionId===this._getSessionId()}_getSessionId(){return(this.window.Terrasoft??{}).sessionId}handleSessionEnd(){this._subscription.add(this._messageChannelService.getMessages("WebApp").pipe((0,h.filter)(e=>this._getIsMessageValid(e,"SessionEnd")),(0,h.switchMap)(e=>(this._onSessionEnding.next(),this._processSessionEndMessage(e.body.Message)))).subscribe())}handleSessionEndSoon(){this._subscription.add(this._messageChannelService.getMessages("WebApp").pipe((0,h.filter)(e=>this._getIsMessageValid(e,"SessionEndSoon")),(0,h.switchMap)(e=>this._processSessionEndSoonMessage(e.body.Message))).subscribe())}ngOnDestroy(){this._onSessionEnding.complete(),this._subscription.unsubscribe()}static#e=this.\u0275fac=function(t){return new(t||an)(i.\u0275\u0275inject(Ke),i.\u0275\u0275inject(S.HttpClient),i.\u0275\u0275inject(i.Injector))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:an,factory:an.\u0275fac})}class on{constructor(){this._requireJsProvider=(0,i.inject)(Ee),this._requireJs=this._requireJsProvider.get(),this._destroy$=new l.Subject,this._cachedModuleMap=new Map([])}deleteCachedModule(e){this._isAllowToCacheCalls&&this._cachedModuleMap.delete(e)}set allowToCacheCalls(e){this._isAllowToCacheCalls=e}get allowToCacheCalls(){return this._isAllowToCacheCalls}load(e,t){if(!this.allowToCacheCalls){this._requireJs(e,(...a)=>{t(...a)});return}const n=[],s=[];for(const a of e)if(this._cachedModuleMap.has(a)){const c=this._cachedModuleMap.get(a);n.push(c)}else s.push(a);n.length&&t(...n),s.length&&this._requireJs(s,(...a)=>{s.forEach((c,u)=>this._cachedModuleMap.set(c,a[u])),t(...a)})}ngOnDestroy(){this._cachedModuleMap.clear(),this._destroy$.next(),this._destroy$.complete()}static#e=this.\u0275fac=function(t){return new(t||on)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:on,factory:on.\u0275fac,providedIn:"root"})}class cn{constructor(e){this._entitySchemaService=e}_loadPrimaryColumns(e){return this._entitySchemaService.getEntitySchemaByName(e).pipe((0,h.map)(t=>{const n=t.entitySchema.getPrimaryColumn(),s=t.entitySchema.getPrimaryDisplayColumn();if((0,_.isEmpty)(s))throw new Error(`Entity ${e} should have primary display column`);return{primaryColumnName:n.name,primaryDisplayColumnName:s?.name}}))}getColumnLookupValues(e){if((0,_.isEmpty)(e))return(0,l.of)(null);const t=this._loadPrimaryColumns(e),n=(0,l.from)(o.Model.create(e));return(0,l.forkJoin)([t,n]).pipe((0,h.switchMap)(([s,a])=>(0,l.from)(a.load({attributes:[s.primaryColumnName,s.primaryDisplayColumnName]})).pipe((0,h.map)(u=>u.map(d=>({value:d[s.primaryColumnName],displayValue:d[s.primaryDisplayColumnName]}))))))}static#e=this.\u0275fac=function(t){return new(t||cn)(i.\u0275\u0275inject(ae))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:cn,factory:cn.\u0275fac,providedIn:"root"})}const oc=new i.InjectionToken("Flag indicating that allow open designer page using design button");class cc{}const uc=new i.InjectionToken("ContextService"),lc=new i.InjectionToken("CrtNavigationLock"),dc=new i.InjectionToken("Default item property values"),hc=new i.InjectionToken("CRT_DESIGN_TIME_METADATA_PREPROCESSOR"),pc=new i.InjectionToken("DEVKIT_MASK_SERVICE",{providedIn:"root",factory:()=>new o.MaskService}),fc=new i.InjectionToken("Represents the static height for the header."),os=new i.InjectionToken("IS_DESIGN_TIME"),mc=new i.InjectionToken("Use UI optimization - simple animations, glassmorphism, etc",{providedIn:"root",factory:()=>{try{const r=new l.BehaviorSubject(void 0),e=(0,i.inject)(X),t=(0,i.inject)(i.Injector),n=e.loadCurrentUserInfo().pipe((0,h.map)(()=>t.get(o.SysSettingsService)),(0,l.switchMap)(s=>s.getByCode("DisableAdvancedVisualEffects")),(0,h.map)(s=>!!s?.value),(0,l.take)(1));return r.pipe((0,l.switchMap)(s=>typeof s=="boolean"?(0,l.of)(s):n))}catch(r){return console.error(r),new l.BehaviorSubject(!1)}}}),cs=new i.InjectionToken("Window payload values"),gc=new i.InjectionToken("USE_SAVE_SCROLL_POSITION_SERVICE"),_i=new i.InjectionToken("Save entity schema message identifier for entity object designer web token"),yc={provide:_i,useFactory:()=>(0,o.generateGuid)()},nt=new i.InjectionToken("Terrasoft global object",{providedIn:"root",factory:()=>(0,_.get)((0,i.inject)(m.WINDOW_TOKEN),["Terrasoft"])||{}}),Ti=new i.InjectionToken("Flag indicating that this is an angular host",{providedIn:"root",factory:()=>(0,_.get)((0,i.inject)(nt),["isAngularHost"])}),_c=new i.InjectionToken("Entity structure from Terrasoft.configuration",{providedIn:"root",factory:()=>{const r=(0,i.inject)(nt);return new Ei((0,_.get)(r,["configuration","EntityStructure"]))}});class Ei{constructor(e){this.items=e}}const Tc=new i.InjectionToken("Module structure from Terrasoft.configuration",{providedIn:"root",factory:()=>{const r=(0,i.inject)(nt);return new Si((0,_.get)(r,["configuration","ModuleStructure"]))}});class Si{constructor(e){this.items=e}}const Ec=new i.InjectionToken("Module utils from Terrasoft",{providedIn:"root",factory:()=>(0,_.get)((0,i.inject)(nt),["ModuleUtils"])}),Sc=new i.InjectionToken("Root schema descriptors from Terrasoft.configuration",{providedIn:"root",factory:()=>{const r=(0,i.inject)(nt);return new Ii((0,_.get)(r,["configuration","RootSchemaDescriptors"]))}});class Ii{constructor(e){this.items=e}}const Ic=new i.InjectionToken("Structures from Terrasoft.configuration",{providedIn:"root",factory:()=>{const r=(0,i.inject)(nt);return new vi((0,_.get)(r,["configuration","Structures"]))}});class vi{constructor(e){this.items=e}}const Ci=new i.InjectionToken("File content descriptor from Terrasoft.configuration",{providedIn:"root",factory:()=>{const r=(0,i.inject)(m.WINDOW_TOKEN);return new bi(r)}});class bi{get descriptors(){return(0,_.get)(this._window,"Terrasoft.configuration.FileContentDescriptors")??{}}constructor(e){this._window=e}}const vc=new i.InjectionToken("AC whitelist"),Ai=new i.InjectionToken("PERFORMANCE_LOGGERS"),Cc=new i.InjectionToken("CkeditorUrl"),Ri=100;class be extends Ot{constructor(){super(...arguments),this._window=(0,i.inject)(m.WINDOW_TOKEN),this._requestBuffer=[],this._requestIter=0,this._cachedRequestIter=0,this._compressedRequestIter=0}_onRequest(e){const t=e.getEntries();for(const n of t){if(!n.name.startsWith(this._window.location.origin))return;this._requestIter++,n.transferSize||this._cachedRequestIter++,n.encodedBodySize!==n.decodedBodySize&&this._compressedRequestIter++,n.fetchStart&&n.responseStart&&n.responseEnd&&this._requestBuffer.push({name:n.name,initiatorType:n.initiatorType,transferSize:n.transferSize,responseStart:n.responseStart,responseEnd:n.responseEnd,fetchStart:n.fetchStart})}}_calculateLatency(e,t){return e/(t/1e3)/1e3/1e3||0}_normalizeUrl(e,t){try{return(e+new URL(t)?.pathname.replace("/0/","/")).slice(0,Ri)}catch{return t?.slice(0,Ri)}}_reset(){this._resourcePerformanceObserver?.disconnect(),this._markPerformanceObserver?.disconnect(),this._requestBuffer=[],this._compressedRequestIter=0,this._cachedRequestIter=0,this._requestIter=0}_downlink(){let e=0,t=0;return this._requestBuffer.forEach(s=>{s.initiatorType==="xmlhttprequest"&&(e+=s.transferSize,t+=s.responseEnd-s.responseStart)}),+this._calculateLatency(e,t).toFixed(1)}_withCache(){return Math.round(this._cachedRequestIter/this._requestIter*100)||0}_withCompression(){return Math.round(this._compressedRequestIter/this._requestIter*100)||0}_topRequests(e){const t=[];for(let n=this._requestBuffer.length-1;n>=0;n--){const s=this._requestBuffer[n],a=Math.round(s.responseEnd-s.fetchStart);if(a>=e.topRequestThreshold&&t.length<e.topRequestCount){const c=this._normalizeUrl(a,s.name);if(t.push(c),t.length===e.topRequestThreshold)return t}}return t}start(){this._reset(),this._resourcePerformanceObserver=this._resourcePerformanceObserver??new PerformanceObserver(this._onRequest.bind(this)),this._resourcePerformanceObserver.observe({type:"resource",buffered:!this._firstStart}),this._firstStart=!0}measure(e={topRequestThreshold:400,topRequestCount:5}){const t={transferred:0};return this._requestBuffer.sort((n,s)=>n.fetchStart-s.fetchStart),t.duration=this._calculateDuration(),t.transferred=this._calculateTransferred(),t.downlink=this._downlink(),t.cache=this._withCache(),t.compression=this._withCompression(),t.topRequests=this._topRequests(e),this._reset(),t}_calculateDuration(){let e=this._requestBuffer[0]?.responseEnd,t=this._requestBuffer[0]?.responseEnd-this._requestBuffer[0]?.fetchStart;return this._requestBuffer.forEach(n=>{e<n.fetchStart?t+=n.responseEnd-n.fetchStart:e<n.responseEnd&&(t+=n.responseEnd-e),e=Math.max(e,n.responseEnd)}),Math.round(t)||0}_calculateTransferred(){let e=this._requestBuffer.reduce((t,n)=>t+n.transferSize,0);return e=Math.round(e/1e3)||0,e}ngOnDestroy(){this._reset()}static#e=this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(be)))(n||be)}})();static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:be,factory:be.\u0275fac,providedIn:"root"})}var G;(function(r){r.PageStartLoading="PageStartLoading",r.PageFinishLoading="PageFinishLoading"})(G||(G={}));class un extends Ot{constructor(){super(),this._ngZone=(0,i.inject)(i.NgZone),this._window=(0,i.inject)(m.WINDOW_TOKEN),this._featureValues=(0,i.inject)(ze,{optional:!0}),this._isAngularHost=(0,i.inject)(Ti,{optional:!0}),this._performanceNetworkObserver=(0,i.inject)(be),this._measureName="PageLoadDuration",this._debounceTime=100,this._subscriptions=new l.Subscription,this._measurements=[],this._tasks=new Set,this._loadingStarted=!1,this._loadingStartedCount=new Set,this._loadingFinishedCount=new Set,this._tasksQueueSubject=new l.Subject,this._pageLoadLifeCycleSubject=new l.Subject,this._iterationCounter=0,this.pageLoadDuration$=new l.Subject,this._enableMeasurement=!!this._isAngularHost&&!this._featureValues?.DisablePerformancePageLoadMeasurement,this._initSubscriptions(),(0,_.set)(this._window,"creatio.performance.measurePerformancePageLoadService",this)}_initSubscriptions(){this._enableMeasurement&&(this._subscriptions.add(this._tasksQueueSubject.pipe((0,l.debounceTime)(this._debounceTime),(0,h.filter)(e=>this._loadingStartedCount.size===this._loadingFinishedCount.size&&this._loadingStarted&&e.size===1&&e.has(G.PageStartLoading))).subscribe({next:()=>this._pageLoadLifeCycleSubject.next(G.PageFinishLoading)})),this._subscriptions.add(this._pageLoadLifeCycleSubject.subscribe({next:e=>{this._ngZone.runOutsideAngular(()=>{e===G.PageStartLoading&&this._onStartPageLoadMeasure(),e===G.PageFinishLoading&&this._onEndPageLoadMeasure()})}})))}_onStartPageLoadMeasure(){this.addTask(G.PageStartLoading)}getMeasureDataOnTimeout$(){const e={start:this._startTime,end:this._window.performance.now(),detail:this._getMeasurementDetail(),timeout:!0};return this._measurements.push(()=>this._window.performance.measure(this._measureName,e)),this._reset(),(0,l.of)(e)}_getLocationInfo(){const e=this._window.location.hash,[t,n]=e.slice(1).split("/");return{moduleName:t,schemaName:n,hash:e}}_getMeasurementDetail(){const t=((0,_.get)(this._window,"creatio.performance")??{}).focusLossDuringLoad,n={iteration:this._iterationCounter++,location:this._getLocationInfo(),isReuse:!!this._isReuseMode,focusLossDuringLoad:!!t};return this._featureValues.DisablePerformancePageNetworkMeasurement||(n.network=this._performanceNetworkObserver.measure()),n}_onEndPageLoadMeasure(){this.removeTask(G.PageFinishLoading),this.removeTask(G.PageStartLoading);const e={start:this._startTime,detail:this._getMeasurementDetail(),end:this._window.performance.now()};this._measurements.push(()=>this._window.performance.measure(this._measureName,e)),this.pageLoadDuration$.next(e),this._reset()}_reset(){const e=(0,_.get)(this._window,"creatio.performance");e.initialLoad?e.initialLoad=!1:e.focusLossDuringLoad=null,this._startTime=null,this._tasks.clear(),this._loadingStarted=!1,this._loadingStartedCount.clear(),this._loadingFinishedCount.clear(),this._isReuseMode=null}setReuseMode(e){this._enableMeasurement&&this._isReuseMode===null&&(this._isReuseMode=e)}startPageLoadMeasure(e=performance.now()){this._enableMeasurement&&this._ngZone.runOutsideAngular(()=>{this._reset(),this._startTime=e,this._pageLoadLifeCycleSubject.next(G.PageStartLoading),this._featureValues.DisablePerformancePageNetworkMeasurement||this._performanceNetworkObserver.start()})}addTask(e,t={}){this._enableMeasurement&&this._ngZone.runOutsideAngular(()=>{t.targetTask&&(this._loadingStartedCount.add(e),this._loadingStarted=!0),this._tasks.add(e),this._tasksQueueSubject.next(this._tasks)})}removeTask(e,t={}){this._enableMeasurement&&this._ngZone.runOutsideAngular(()=>{t.targetTask&&this._loadingFinishedCount.add(e),this._tasks.delete(e),this._tasksQueueSubject.next(this._tasks)})}getMeasurements(){const e=this._measurements.map(t=>t());return this._measurements=[],e}ngOnDestroy(){this._reset(),this._subscriptions.unsubscribe(),this._tasksQueueSubject.complete(),this._pageLoadLifeCycleSubject.complete(),this.pageLoadDuration$.complete()}static#e=this.\u0275fac=function(t){return new(t||un)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:un,factory:un.\u0275fac,providedIn:"root"})}class wi{}var cr;(function(r){r.Passed="Passed",r.InvalidSecondFactor="InvalidSecondFactor",r.Logout="Logout",r.SecondFactorCodeRequired="SecondFactorCodeRequired"})(cr||(cr={}));class Mi{}class ln{constructor(e,t){this._dialogService=e,this._twoFaReferrerService=t}intercept(e,t){return e.headers.has("X-Second-Factor-Resend-Request")?t.handle(e):t.handle(e).pipe((0,h.switchMap)(n=>{if(n instanceof S.HttpResponse&&n.status===200){const a=n.headers.get("X-Second-Factor-Validation-Status");if(a&&a===cr.SecondFactorCodeRequired)return this._handleTwoFaFlow(e,this._twoFaReferrerService.getReferrer())}return(0,l.of)(n)}))}_handleTwoFaFlow(e,t){return(0,l.from)(this._dialogService.resendRequestWithTwoFactor(e,t,this._twoFaReferrerService.getIsFullPage())).pipe((0,h.switchMap)(n=>{if(n.resultCode===2){const s=new S.HttpErrorResponse({error:"Request canceled by interceptor",status:499,statusText:"Client Closed Request"});return(0,l.throwError)(()=>s)}return(0,l.of)(n.response)}))}static#e=this.\u0275fac=function(t){return new(t||ln)(i.\u0275\u0275inject(wi),i.\u0275\u0275inject(Mi))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:ln,factory:ln.\u0275fac})}class dn{getReferrer(){return"interceptor"}getIsFullPage(){return!1}static#e=this.\u0275fac=function(t){return new(t||dn)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:dn,factory:dn.\u0275fac})}class hn{getBaseUrl(){let e=window.location.pathname;e=e.replace("/0","");const t=e.toLowerCase().indexOf("/shell");if(t!==-1)return e.substring(0,t);const n=e.toLowerCase().indexOf("/nui/viewmodule.aspx");if(n!==-1)return e.substring(0,n);const s=e.toLowerCase().indexOf("/login/");return s!==-1?e.substring(0,s):e==="/"?"":e}setupTotpShow(e){const t="/Login/app#totp-setup",n=this.getBaseUrl(),s=new URLSearchParams(window.location.search);s.has("referrer")?s.set("referrer",e):s.append("referrer",e),window.location.assign(`${n}${t}?${s.toString()}`)}static#e=this.\u0275fac=function(t){return new(t||hn)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:hn,factory:hn.\u0275fac,providedIn:"root"})}class bc{}class pn{logSplashScreenTime(e){return console.log("Performance ::","splashScreenTime:",e.splashScreenTime,"ms, module:",`${e.location.moduleName},`,"schema:",e.location.schemaName),Promise.resolve()}logMeasureData(e){const t=e?.detail,n=t?.focusLossDuringLoad?["focus lost"]:[],s=n.length===0?"":` (${n.join(", ")})`;return console.log(`Performance${s} ::`,"reuse:",+t?.isReuse,", page:",Math.round(e?.end-e?.start),", startTime:",e?.start,", moduleName:",t?.location?.moduleName,", schemaName:",t?.location?.schemaName,"ms, network:",t?.network?.duration,"ms, trf:",t?.network?.transferred,"kB, spd:",t?.network?.downlink,"mb/s, cache:",t?.network?.cache,"%, zip:",t?.network?.compression,"%,",t?.location?.hash),Promise.resolve()}static#e=this.\u0275fac=function(t){return new(t||pn)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:pn,factory:pn.\u0275fac,providedIn:"root"})}class fn{constructor(e,t){this._clientLogService=e,this._applicationInfoService=t}_getLogMeasureMessage(e){var t=this;return(0,I.A)(function*(){const n=e?.detail;return(yield t._getUserInfo())+`startTime: ${e?.start};focusLossDuringLoad: ${n?.focusLossDuringLoad};reuse: ${n?.isReuse};page: ${Math.round(e?.end-e?.start)};moduleName: ${n?.location?.moduleName};schemaName: ${n?.location?.schemaName};network: ${n?.network?.duration};trf: ${n?.network?.transferred};kB spd mb/s: ${n?.network?.downlink};cache%: ${n?.network?.cache};zip%: ${n?.network?.compression};hash: ${n?.location?.hash};`})()}_getUserInfo(){var e=this;return(0,I.A)(function*(){const n=(yield(0,l.lastValueFrom)(e._applicationInfoService.loadSysValues())).user;return`userId: '${n.value}';userName: '${n.displayValue}';`})()}_logMessage(e){return(0,l.lastValueFrom)(this._clientLogService.logMessage(e,nn.Info,"ClientMeasure"))}logSplashScreenTime(e){var t=this;return(0,I.A)(function*(){const s=(yield t._getUserInfo())+`splashScreenTime: ${e.splashScreenTime};module: '${e.location.moduleName}';schema: '${e.location.schemaName}';`;return t._logMessage(s)})()}logMeasureData(e){var t=this;return(0,I.A)(function*(){const n=yield t._getLogMeasureMessage(e);return t._logMessage(n)})()}static#e=this.\u0275fac=function(t){return new(t||fn)(i.\u0275\u0275inject(Ce),i.\u0275\u0275inject(He))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:fn,factory:fn.\u0275fac,providedIn:"root"})}class mn{constructor(e){this._services=e}logSplashScreenTime(e){const t=this._services.map(n=>n.logSplashScreenTime(e));return Promise.all(t).then(()=>Promise.resolve())}logMeasureData(e){const t=this._services.map(n=>n.logMeasureData(e));return Promise.all(t).then(()=>Promise.resolve())}static#e=this.\u0275fac=function(t){return new(t||mn)(i.\u0275\u0275inject(Ai))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:mn,factory:mn.\u0275fac,providedIn:"root"})}class gn{_buildResourcePath(e){const t=`terrasoft.axd?${e}`;return Yr(x(),"img",t)}getSysSettingUrl(e){return this._buildResourcePath(`s=nui-binary-syssetting&r=${e}`)}getSourceCodeSchemaUrl(e,t){return this._buildResourcePath(`s=scs&sn=${e}&r=${t}`)}static#e=this.\u0275fac=function(t){return new(t||gn)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:gn,factory:gn.\u0275fac,providedIn:"root"})}class yn{constructor(){this._currentSubscriptionIdentifier=null,this._currentSubscription=null,this._replaceSelectionSubject=new l.Subject}_unsubscribeLastEditor(){if(this._currentSubscription){const e={editorAction:qn.RemoveHighlighting};this._replaceSelectionSubject?.next(e),this._currentSubscriptionIdentifier=null,this._currentSubscription.unsubscribe()}}subscribeToNotifications(e,t){this._currentSubscriptionIdentifier!==e&&(this._unsubscribeLastEditor(),this._currentSubscriptionIdentifier=e,this._currentSubscription=this._replaceSelectionSubject.subscribe(t))}notify(e){this._replaceSelectionSubject?.next(e)}static#e=this.\u0275fac=function(t){return new(t||yn)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:yn,factory:yn.\u0275fac,providedIn:"root"})}class _n{constructor(){this._descriptorService=(0,i.inject)(Ci)}getUrl(e,t,n){let s=x()+["Terrasoft.Configuration/Pkg",e,"Files",t].join("/");const a=this._descriptorService.descriptors[e+"/"+t];return s+="?hash="+(a?.Hash||n||"empty"),s}static#e=this.\u0275fac=function(t){return new(t||_n)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:_n,factory:_n.\u0275fac,providedIn:"root"})}class rt{constructor(){this._enabled=(0,i.signal)(!1),this._detached=new l.Subject}set enabled(e){this._enabled.set(e)}get enabled(){return this._enabled.asReadonly()}get detached$(){return this._detached.asObservable()}detach(){this._detached.next()}static#e=this.\u0275fac=function(t){return new(t||rt)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:rt,factory:rt.\u0275fac})}let us=class extends o.BaseRequest{};us=(0,E.__decorate)([(0,o.CrtRequest)({type:"crt.CopyClipboardRequest"})],us);var Di=p(59564);let ur=class extends o.BaseRequestHandler{constructor(e,t){super(),this._copyClipboardService=e,this._notifyService=t}handle(e){var t=this;return(0,I.A)(function*(){yield t._copyClipboardService.copyTextToBuffer(e.value),yield t._notifyService.show({message:"CopyClipboard.Copied"}),yield t.next?.handle(e)})()}};ur=(0,E.__decorate)([(0,o.CrtRequestHandler)({type:"crt.CopyClipboardRequestHandler",requestType:"crt.CopyClipboardRequest"}),(0,E.__metadata)("design:paramtypes",[Di.CopyClipboard,Di.NotifyService])],ur);function Ac(r){return o.InterfaceDesignerItemRegistry.get(r)?.collectionPropertyNames||["items"]}function Rc(r){const e=[];return o.ViewElementRegistry.viewElements.get(r)?.contentSlots?.forEach(n=>{if(typeof n=="string")e.push(n);else{const s=n?.name;e.push(s)}}),e}function st(r){const e=Rc(r),t=Ac(r);return[...new Set([...e,...t])]}function Fi(r){const e=r;return e?!!e?.modelConfig||!!e?.embeddedModel||!!e?.value:!1}function wc(r){const e=r;return e?!!e.from||!!e.triggers:!1}class L{static _getViewConfigInfo(e,t,n,s,a){const c=[];if(Array.isArray(n))for(let u=0;u<n.length;u++){const d=n[u];t.includes(d[e])&&c.push({viewConfig:d,parentName:s,index:u,parentPropertyName:a}),st(d.type)?.forEach(T=>{const v=d[T];if(v){const q=this._getViewConfigInfo(e,t,v,d.name,T);c.push(...q)}})}return c}static _getViewConfigInfoByFilter(e,t,n,s){const a=[];if(Array.isArray(t))for(let c=0;c<t.length;c++){const u=t[c];e(u)&&a.push({viewConfig:u,parentName:n,index:c,parentPropertyName:s}),st(u.type)?.forEach(f=>{const T=u[f];if(T){const v=this._getViewConfigInfoByFilter(e,T,u.name,f);a.push(...v)}})}return a}static _isViewModelAttributeBound(e,t){if(!t)return!1;const n=e.viewConfig,s=`\\W\\$${t}\\W`;return L._isAttributeUseInConfig(n,s)}static _isViewModelAttributeBoundInViewModel(e,t){if(!t)return!1;const n=(0,_.cloneDeep)(L.getViewModelConfig(e));n.attributes=n.attributes||{},delete n?.attributes[t];const s=`\\W${t}\\W`;return this._isAttributeUseInConfig(n,s)}static _isAttributeUseInConfig(e,t){const n=JSON.stringify(e);return new RegExp(t).test(n)}static _findViewConfigItem(e,t,n){if(n(t))return e.push(t),!0;const s=st(t.type);for(const a of s){const c=t[a];if(c){for(const u of c)if(this._findViewConfigItem(e,u,n))return e.push(t),!0}}}static _getViewConfigArray(e){return e?Array.isArray(e)?e:[e]:[]}static _getPossibleResourceValues(e){return[`#ResourceString(${e})#`]}static getViewConfigPathByPropertyValue(e,t,n){const s=[],a=this._getViewConfigArray(n);for(const c of a)if(this._findViewConfigItem(s,c,u=>u[e]===t))break;return s}static getViewConfigInfoByPropertyForValues(e,t,n){const s=[],a=this._getViewConfigArray(n);for(let c=0;c<a.length;c++){const u=a[c];t.includes(u[e])&&s.push({viewConfig:u,index:c}),st(u.type)?.forEach(f=>{const T=u[f];if(T){const v=L._getViewConfigInfo(e,t,T,u.name,f);s.push(...v)}})}return s}static getViewConfigInfoByProperty(e,t,n){return L.getViewConfigInfoByPropertyForValues(e,[t],n)}static getViewConfigInfoByFilter(e,t){const n=[],s=t??[];for(let a=0;a<s.length;a++){const c=s[a];e(c)&&n.push({viewConfig:c,index:a}),st(c.type)?.forEach(d=>{const f=c[d];if(f){const T=L._getViewConfigInfoByFilter(e,f,c.name,d);n.push(...T)}})}return n}static getViewModelAttribute(e,t){return L.getViewModelConfig(e)?.attributes?.[t]}static getViewConfigInfoByName(e,t){return L.getViewConfigInfoByProperty("name",t,e?.viewConfig)[0]||{}}static getViewModelConfig(e,t=!1){return!e.viewModelConfig&&t&&(e.viewModelConfig={}),e.viewModelConfig||{}}static isViewModelAttributeBound(e,t){return t?L._isViewModelAttributeBound(e,t)||L._isViewModelAttributeBoundInViewModel(e,t):!1}static addViewModelAttributeChangeRequest(e,t){const{attributeName:n,requests:s,options:a}=t??{};if(!n||!s?.length)return;const c=!!a?.createAttributeIfEmpty,u=L.getViewModelConfig(e,c);if(!u?.attributes&&!c)return;const d=u.attributes??={};if(!d[n]&&!c)return;const f=d[n]??={};f.change??=[],Array.isArray(f.change)||(f.change=[f.change]),f.change.push(...s)}static findResourceDependencies(e,t){const n=L._getPossibleResourceValues(e),s={viewElements:[],attributes:[]},a=(c,u)=>{c&&(typeof c=="string"?n.forEach(d=>{c.includes(d)&&s.viewElements.push(u)}):Array.isArray(c)?c.forEach(d=>a(d,u)):typeof c=="object"&&Object.values(c).forEach(d=>a(d,u)))};return Object.entries(t).forEach(([c,u])=>a(u,c)),s}static getDependentModelsNames(e,t,n){return Object.entries(e||{}).filter(([,a])=>{let c=t;return n&&(c=`${t}.${n}`),a.some(u=>u.relationPath.startsWith(c))}).map(([a])=>a)}static getDataSourceModelName(e,t){return e?.dataSources?.[t]?.config?.entitySchemaName}static findAllAttributesByDataSourceAttributePath(e,t){const n=L.getViewModelConfig(e,!0).attributes??{},s=Object.keys(n).filter(c=>{const u=n[c]??{};return Fi(u)&&u.modelConfig?.path===t});if(s.length>0)return s;const a=t.split(".");if(a.length>2){const c=a[0],d=e?.modelConfig?.dataSources?.[c]?.config?.attributes;if(d){const f=a.slice(1).join("."),T=Object.keys(d).find(v=>d[v].path===f);if(T)return this.findAllAttributesByDataSourceAttributePath(e,`${c}.${T}`)}}return[]}}class ls{static _isRTL(){return Terrasoft.utils.common.getIsRtlMode()}static getPageDirection(){return ls._isRTL()?"rtl":"ltr"}}const Oi="BPMCSRF";class Tn{constructor(e){this.tokenService=e}intercept(e,t){const n=e.url.toLowerCase();if(e.method==="GET"||e.method==="HEAD"||(n.startsWith("http://")||n.startsWith("https://"))&&!n.startsWith(Xr().toLowerCase()))return t.handle(e);const s=this.tokenService.getToken();return s!==null&&!e.headers.has(Oi)&&(e=e.clone({headers:e.headers.set(Oi,s)})),t.handle(e)}static#e=this.\u0275fac=function(t){return new(t||Tn)(i.\u0275\u0275inject(S.HttpXsrfTokenExtractor))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Tn,factory:Tn.\u0275fac,providedIn:"root"})}const Li=(r,e)=>{let t;if(typeof r>"u"||r===null||r==="")t=-1;else{let n;if(typeof r=="string"?n=[r]:Array.isArray(r)&&r.length&&(n=r),!Array.isArray(n)||!n.length)t=-1;else if(e===0)t=n.map(s=>s.length).reduce((s,a)=>s+a);else if(e>0){const s=n.map(c=>c.length).reduce((c,u)=>c+(u>e?e:u)),a=n.length*e;t=a>s?s:a}else t=n.length}return t},Ni=(r,e)=>{let t=r.lastIndexOf(" ",e);return t===-1&&(t=e),(t>r.length||e>=r.length)&&(t=r.length),t},Mc=(r,e,t)=>{let n=Ni(r,e);for(;n>0&&e<Li(r.slice(0,n),t);)n=n-1;return n=Ni(r,n),(n>-2&&n<1||r[n]===" ")&&(n=n+1),(n>r.length||n<0||n===0&&r.length===1)&&(n=r.length),n};function Dc(r,e){const n=[];let s=r.split("");for(;Li(s,-1)>0;){const a=Mc(s,e,-1),c=s.slice(0,a).join("").trim();c!==""&&c!==null&&n.push(c),s=s.slice(a)}return n}class Fc{static#e=this._codeCharactersRegex=new RegExp("^[A-Za-z0-9\\s_]*$");static#t=this._wordsMatchRegex=new RegExp(/\w+/g);static generateCode(e,t=-1){const s=(e.match(this._wordsMatchRegex)||[]).filter(a=>a.length!==0).map(a=>a[0].toUpperCase()+a.substring(1)).join("");return t>=0?s.slice(0,t):s}static isTextUsableForCodeGeneration(e){return this._codeCharactersRegex.test(e)}}function Pi(r){const e=document.cookie.match(new RegExp("(^| )"+r+"=([^;]+)"));return e?e[2]:null}var Ae=p(47726);function Oc(r){let e;switch(r){case o.DataValueType.SHORT_TEXT:e=Ae.dataValueTypeTextSize.ShortTextCaption;break;case o.DataValueType.PHONE_TEXT:case o.DataValueType.MEDIUM_TEXT:e=Ae.dataValueTypeTextSize.MediumTextCaption;break;case o.DataValueType.LONG_TEXT:case o.DataValueType.EMAIL_TEXT:e=Ae.dataValueTypeTextSize.LongTextCaption;break;default:return}return{maxLength:e}}function Lc(r){if([o.DataValueType.Float,o.DataValueType.FLOAT1,o.DataValueType.FLOAT2,o.DataValueType.FLOAT3,o.DataValueType.FLOAT4,o.DataValueType.FLOAT8,o.DataValueType.Money].includes(r))return{minValue:Ae.dataValueTypeNumberSize.Float.min,maxValue:Ae.dataValueTypeNumberSize.Float.max};if(r===o.DataValueType.Integer)return{minValue:Ae.dataValueTypeNumberSize.Integer.min,maxValue:Ae.dataValueTypeNumberSize.Integer.max}}var Vi=p(52989),lr=p(71252);class En{constructor(e,t){this.iconRegistry=e,this.domSanitizer=t,Object.keys(ie).forEach(n=>{const s=ie[n],a=s.name.toLowerCase();this.iconRegistry.addSvgIconLiteral(`page-designer-${a}`,this.domSanitizer.bypassSecurityTrustHtml(s.designerIcon)),s.designerAutonumberIcon&&this.iconRegistry.addSvgIconLiteral(`page-designer-${a}-autonumber`,this.domSanitizer.bypassSecurityTrustHtml(s.designerAutonumberIcon))})}getDesignerDataValueTypeIcon(e,t=!1){const n=ie[e];if(!n)throw new Error(`Data value type "${e}" not exists`);const s=n.name.toLowerCase();return t?`page-designer-${s}-autonumber`:`page-designer-${s}`}static#e=this.\u0275fac=function(t){return new(t||En)(i.\u0275\u0275inject(Vi.MatIconRegistry),i.\u0275\u0275inject(lr.DomSanitizer))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:En,factory:En.\u0275fac,providedIn:"root"})}function Nc(r){const e=Object.keys($).find(t=>$[t].includes(r));return $[e]}function Pc(r){return r===o.DataValueType.Lookup||r===o.DataValueType.Guid}function Vc(r){return ie[r]?.icon||null}function xc(r){return Object.values(ie).find(e=>e.name===r)?.type}function kc(r){return!(r&&!r?.value)}function jc(r){return r=r||new Date,new Date(r.getFullYear(),r.getMonth(),r.getDate())}function Bc(r){return r=r||new Date,new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59,999)}function ds(r){if(!r)return null;function e(){throw new Error(`String "${r}" is not a valid serialized date.`)}typeof r!="string"&&e();const[t,n]=r.split("T");if(n&&(n[n.length-1]==="Z"||n.indexOf("+")!==-1||n.indexOf("-")!==-1)){const a=Date.parse(r);return isNaN(a)&&e(),new Date(a)}try{const[a,c,u]=t.split("-"),[d,f,T]=n.split(":"),[v,q]=T.split(".");return new Date(parseInt(a),parseInt(c)-1,parseInt(u),parseInt(d),parseInt(f),parseInt(v),parseInt(q))}catch{e()}}function Uc(r,e){e==null&&(e=0),r.setSeconds(r.getSeconds()+e*3600)}function Hc(r,e,t){const n=t||{hour:"2-digit",minute:"2-digit"};return new Intl.DateTimeFormat(e.sysCultureName,n).format(r)}function $c(r){const e=[`[?\\/:*"'<>|+s.%@&()#][;,]`,"[^0-9a-z\xC0-\u017E\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC\u0430-\u044F\u0456\u0457\u0491\u0454]"],t=new RegExp(e.join("|"),"gi");return r=r.replace(t,"_"),r=r.replace(/_{2,}/g,"_"),r.toLowerCase()}function Gc(r){return r.replace(/\.+/g,"").replace(/\[+/g,"").replace(/\]+/g,"").replace(/:+/g,"")}function zc(r,e,t){return r.post(e,t,{headers:new S.HttpHeaders({"Content-Type":"application/json"})})}function xi(r,e,t){return!r||!e||!t}function ki(r,e){return`/img/entity/hash/${r}/${e}/`}function Wc(r,e="SysImage",t="Data"){if(xi(r,e,t))return"";const n=ki(e,t);return`${Wt()}${n}${r}`}function Zc(r,e="SysImage",t="Data"){return xi(r,e,t)?"":`${ki(e,t)}${r}`}function ji(r){let e="";if(typeof r=="string"){const n=new TextEncoder().encode(r);e=String.fromCharCode(...n)}else if(r instanceof ArrayBuffer){const t=new Uint8Array(r);for(let n=0;n<t?.byteLength;n++)e+=String.fromCharCode(t[n])}return window.btoa(e)}function Kc(r){const e=new DOMParser().parseFromString(r,"text/html"),t=e?.querySelectorAll("svg");return t.length>0&&t.forEach(n=>{const s=e.createElement("img"),a=ji(n.outerHTML);s.src=`data:image/svg+xml;base64,${a}`,n?.parentNode.replaceChild(s,n)}),e?.body.innerHTML||r}function Bi(r,e){switch(o.ValidationUtilities.checkArgumentEmpty("dataValueType",e),e){case o.DataValueType.Date:case o.DataValueType.Time:case o.DataValueType.DateTime:return ds(r);default:return r}}function Ui(r,e){if(o.ValidationUtilities.checkArgumentEmpty("columnValueTypes",e),!r)return r;const t={};return Object.keys(r).forEach(n=>{const s=r[n];t[n]=e[n]?Bi(s,e[n]):s}),t}function qc(r,e){return o.ValidationUtilities.checkArgumentEmpty("columnValueTypes",e),r&&r.map(t=>t&&Ui(t,e))}function Xc(r,e,t=!1){return r==null&&e==null&&t===!0?!0:r?.cultureName===e?.cultureName&&r?.value===e?.value}const Hi=/#ResourceString\((.*)\)#/;function Yc(r){return r?`#ResourceString(${r})#`:null}function $i(r){return Hi.test(r)}function Jc(r){return $i(r)?r?.replace(Hi,"$1")??null:""}function Qc(r,e){const t=Gi(r,e);return Object.fromEntries(Object.entries(t).map(([n,s])=>[n,s?.[e]]))}function Gi(r,e){return!r||!e?{}:Object.fromEntries(Object.entries(r).map(([t,n])=>[t,n?.[e]]).filter(([,t])=>t!==void 0).map(([t,n])=>[t,{[e]:n}]))}function eu(r){if(!r)return r;const e=JSON.parse(JSON.stringify(r));return Object.fromEntries(Object.entries(e).filter(([,t])=>!(0,_.isEmpty)(t)))}function tu(r,e){const t=new U;if(!e)return t;const n=r?.[e];return n&&Object.keys(n).forEach(s=>{t.setValueLocalizableString(s,n[s])}),t}function nu(r,e){const t={};return!e||!r?{}:(r.filter(n=>n?.cultureName!=null).forEach(({cultureName:n,value:s})=>t[n]=s),{[e]:t})}function ru(r,e,t=!1){if(r==null&&e==null)return t===!0;const n=new U(r),s=new U(e);return n.length!==s.length?!1:n.every(a=>{const c=s.getLocalizableString(a.cultureName);return Xc(a,c,t)})}class zi{constructor(e){this.precision=2,Object.assign(this,e)}}class Wi{constructor(e={}){this.decimalSeparator=e.decimalSeparator||"",this.thousandSeparator=e.thousandSeparator||""}}class it{constructor(e){this._userInfo=e,this._digitsInRank=3}_collapseRepeatedChar(e,t){return e.replace(new RegExp(`[\\${t}]{1,}`,"g"),t)}_insertThousandSeparators(e,t){const n=e.split("");for(let s=n.length-this._digitsInRank;s>0;s-=this._digitsInRank)n.splice(s,0,t);return n.join("")}formatNumberValue(e,t=null){if(e=parseFloat(e&&e.toString()),!e||isNaN(e))return"0";let n="";e<0&&(n="-"),t=t||new zi;const s=this.getNumberFormatInfo(),{decimalSeparator:a,thousandSeparator:c}=s,u=e.toFixed(t.precision).split(".");let d=u[0].replace("-","");t.ignoreThousandSeparator||(d=this._insertThousandSeparators(d,c));const f=u.length>1?u[1].replace(/0{1,}$/,""):"";return f!==""?`${n}${d}${a}${f}`:`${n}${d}`}removeFractionalPart(e){const t=".",[n]=e.toString().split(t);return n}getNumberFormatInfo(){const e=this._userInfo.cultureInfo;return new Wi({decimalSeparator:e.decimalSeparator,thousandSeparator:e.thousandSeparator})}parseStringToNumber(e,t=2){if(!e)return NaN;typeof e!="string"&&(e=String(e));const n=this.getNumberFormatInfo().decimalSeparator;let s=this.formatStringValue(e);s=s.replace(n,".");const a=parseFloat(s);return Number(a.toFixed(t))}formatStringValue(e){typeof e!="string"&&(e=String(e));const t=e.match(/^-/)||"",n=this.getNumberFormatInfo().decimalSeparator,s=this._collapseRepeatedChar(e,n),a=new RegExp(`[^0-9\\${n}]+`,"g");return t+s.replace(a,"")}convertNumericStringToExponentialFormat(e,t=2){if(e&&e!==""){const n=parseFloat(e);if(!isNaN(n))return n.toExponential(t)}return""}static#e=this.\u0275fac=function(t){return new(t||it)(i.\u0275\u0275inject(R))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:it,factory:it.\u0275fac,providedIn:"root"})}function hs(r,e){return Object.keys(r).every(t=>Object.prototype.hasOwnProperty.call(e,t)?typeof r[t]=="object"?Zi(r[t],e[t]):!0:!1)}function Zi(r,e){return hs(r,e)&&hs(e,r)}function Ki(r,e){const t=Array.isArray(e)?e:e.split(".");let n=r;for(const s of t)if(n instanceof Map)n=n.get(s);else if(n&&typeof n=="object")n=n[s];else return;return n}function su(r){const e=JSON.stringify(r);let t=5381;for(let n=0;n<e.length;n++)t=(t<<5)+t+e.charCodeAt(n);return t.toString(16)}const qi="ssp",Xi=r=>A.Location.joinWithSlash(qi,r);class iu{constructor(e){this._userInfoService=e}_getSkipProcessUrl(e){const t=e.includes("GetCurrentUserInfo"),n=e.includes("GetFeatureStates"),s=/^https?:\/\//i.test(e),a=/ssp\//i.test(e),c=/rest\//i.test(e);return t||n||s||a||!c}intercept(e,t){const n=e.url;return this._getSkipProcessUrl(n)?t.handle(e):this._userInfoService.loadCurrentUserInfo().pipe((0,h.map)(s=>s?.userInfo?.isSSP||!1),(0,l.switchMap)(s=>{if(!s)return t.handle(e);const a=e.clone({url:Xi(n)});return t.handle(a)}))}}function Yi(r){return typeof r=="string"}function au(r){const e=r.substring(1,r.length-1);return parseInt(e,10)}function Ji(r,e){return r.replace(/{[0-9]}/g,t=>{const n=au(t);return e[n]?e[n].toString():""})}function ou(r){return r.charAt(0).toUpperCase()+r.slice(1)}function cu(r){return r.charAt(0).toLowerCase()+r.slice(1)}function Qi(r){let e=0;if(!Yi(r)||r.length===0)return e;for(let t=0;t<r.length;t++)e=r.charCodeAt(t)+(e<<5)-e,e=e&e;return e}function uu(r){const e=new l.Subscription;for(const t of r)e.add(t);return e}function lu(r,e,t){const n=r.toLowerCase();switch(t){case ge.Contains:return n.includes(e);case ge.StartsWith:return n.indexOf(e)===0;case ge.Equals:return n===e}}function du(r,e=ge.Contains){return o.ValidationUtilities.checkArgumentEmpty("columnSelectors",r),(t,n)=>n?r.some(s=>{const a=typeof s=="string"?t[s]:s(t);return!a||typeof a!="string"?!1:lu(a,n,e)}):!0}function hu(r,e=[],t=[]){const n=new Set(t);return[...new Set([...r,...e])].filter(s=>!n.has(s))}class at{_buildRequestUrl(e){return this._isAbsoluteUrl(e)?e:A.Location.joinWithSlash(this.getUrl(),e)}_isAbsoluteUrl(e){return/^https?:\/\//i.test(e)}getUrl(){return Wt()}intercept(e,t){return e=e.clone({url:this._buildRequestUrl(e.url)}),t.handle(e).pipe((0,h.catchError)(n=>(console.log(n),(0,l.throwError)(n))))}static#e=this.\u0275fac=function(t){return new(t||at)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:at,factory:at.\u0275fac})}function pu(r){return`${r.typeCaption===r.caption?r.caption:`${r.typeCaption} ${r.caption}`.trim()} | ${r.name}`}class ot extends at{getUrl(){return x()}static#e=this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(ot)))(n||ot)}})();static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:ot,factory:ot.\u0275fac})}const fu=r=>r;function mu(r){const{altKey:e,code:t,ctrlKey:n,shiftKey:s,metaKey:a}=r;return t==="Escape"&&!n&&!s&&!e&&!a}function gu(r){const{altKey:e,code:t,ctrlKey:n,shiftKey:s,metaKey:a}=r;return t==="KeyS"&&(n||a)&&!s&&!e}function yu(r){const{altKey:e,code:t,ctrlKey:n,shiftKey:s,metaKey:a}=r;return t==="KeyZ"&&(n||a)&&s&&!e}function _u(r){const{altKey:e,code:t,ctrlKey:n,shiftKey:s,metaKey:a}=r;return t==="KeyZ"&&(n||a)&&!s&&!e}function Tu(){return Pi("UserType")==="SSP"?"ssp/":""}let ps=class{constructor(e){this._window=e}intercept(e,t){const n={beforeRequest:function(s){},afterRequest:function(s){},onErrorRequest:function(s,a){}};return Object.assign(n,this._window.RequestLogger||{}),n.beforeRequest(e),t.handle(e).pipe((0,h.catchError)(s=>{throw n.onErrorRequest(e,s),s}),(0,h.map)(s=>(n.afterRequest(e),s)))}};ps=(0,E.__decorate)([(0,E.__param)(0,(0,i.Inject)(m.WINDOW_TOKEN)),(0,E.__metadata)("design:paramtypes",[Window])],ps);let fs=class{constructor(e,t){this._featureValues=e,this._applicationInfo=t,this._dataServiceUrlRegex=new RegExp("DataService/(.+?)/(SelectQuery|InsertQuery|UpdateQuery|DeleteQuery)$")}_needAddParameters(e){return(this._applicationInfo.isDebugEnabled||this._featureValues.UseDataServiceQueryParams)&&!!e.url.match(this._dataServiceUrlRegex)}_addParameters(e){const t={s:e.body.rootSchemaName},n=e.body.rowCount;n&&(t.c=n);const s=new URLSearchParams(t);return`${e.url}?${s.toString()}`}intercept(e,t){try{if(!this._needAddParameters(e))return t.handle(e);const n=e.clone({url:this._addParameters(e)});return t.handle(n)}catch{return t.handle(e)}}};fs=(0,E.__decorate)([(0,E.__param)(0,(0,i.Inject)(ze)),(0,E.__metadata)("design:paramtypes",[Ws,O])],fs);let ms=class extends o.BaseRequest{constructor(){super(...arguments),this.throwErrors=!1}};ms=(0,E.__decorate)([(0,o.CrtRequest)({type:"crt.SoundNotificationRequest"})],ms);let dr=class extends o.BaseRequestHandler{constructor(e){super(),this._soundPlayerService=e}handle(e){var t=this;return(0,I.A)(function*(){yield t._soundPlayerService.playFromSource(e.source,e.throwErrors),yield t.next?.handle(e)})()}};dr=(0,E.__decorate)([(0,o.CrtRequestHandler)({type:"crt.SoundNotificationHandler",requestType:"crt.SoundNotificationRequest"}),(0,E.__metadata)("design:paramtypes",[m.SoundPlayerService])],dr);let gs=class extends o.BaseRequest{};gs=(0,E.__decorate)([(0,o.CrtRequest)({type:"crt.ShowDesktopNotification"})],gs);let hr=class extends o.BaseRequestHandler{constructor(e){super(),this.notificationSender=e}handle(e){var t=this;return(0,I.A)(function*(){yield t.notificationSender.notify(e.config),yield t.next?.handle(e)})()}};hr=(0,E.__decorate)([(0,o.CrtRequestHandler)({type:"crt.ShowDesktopNotificationHandler",requestType:"crt.ShowDesktopNotificationRequest"}),(0,E.__param)(0,(0,o.CrtInject)(m.DESKTOP_NOTIFICATION_SENDER_PROVIDER)),(0,E.__metadata)("design:paramtypes",[Object])],hr);var ys=p(47141);const Eu={name:"crt-shell-db",version:3,objectStoresMeta:[{store:"images",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"key",keypath:"key",options:{unique:!0}},{name:"dataUrl",keypath:"dataUrl",options:{unique:!1}}]},{store:"business-rules",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"key",keypath:"key",options:{unique:!0}},{name:"data",keypath:"data",options:{unique:!1}}]},{store:"common",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"key",keypath:"key",options:{unique:!0}},{name:"data",keypath:"data",options:{unique:!1}}]}],isDefault:!0};class ct{constructor(e){this.dbService=e,this._cache=new Map}_getLocalCache(e){return this._cache.has(e)||this._cache.set(e,new Map),this._cache.get(e)}_clearLocalCache(e){this._getLocalCache(e).clear()}_setItemToLocalCache(e,t,n){this._getLocalCache(e).set(t,n)}_getItemFromLocalCache(e,t){return this._getLocalCache(e).get(t)}_hasItemInLocalCache(e,t){return this._getLocalCache(e).has(t)}add(e,t){return this.dbService.add(e,t).pipe((0,l.tap)(n=>this._setItemToLocalCache(e,t.key,n)))}getByKey(e,t){return this._hasItemInLocalCache(e,t)?(0,l.of)(this._getItemFromLocalCache(e,t)):this.dbService.getByIndex(e,"key",t).pipe((0,l.tap)(n=>this._setItemToLocalCache(e,t,n)))}clear(e){return this.dbService.clear(e).pipe((0,l.tap)(()=>this._clearLocalCache(e)))}update(e,t){return this.dbService.update(e,t).pipe((0,l.tap)(n=>this._setItemToLocalCache(e,t.key,n)))}static#e=this.\u0275fac=function(t){return new(t||ct)(i.\u0275\u0275inject(ys.NgxIndexedDBService))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:ct,factory:ct.\u0275fac})}class Sn{static#e=this.\u0275fac=function(t){return new(t||Sn)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:Sn});static#n=this.\u0275inj=i.\u0275\u0275defineInjector({providers:[ct],imports:[ys.NgxIndexedDBModule.forRoot(Eu)]})}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(Sn,{imports:[ys.NgxIndexedDBModule]})})();let pr=class ks{static#e=this.\u0275fac=function(t){return new(t||ks)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:ks});static#n=this.\u0275inj=i.\u0275\u0275defineInjector({providers:[ae,We,me,it,Xe,oe,{provide:er,useFactory:e=>e.requirejs,deps:[m.WINDOW_TOKEN]},ye,Te,_e,Ee,{provide:Jr,useValue:e=>e?.header?.sender==="SchemaManagerItemEventNotifier"&&e?.header?.bodyTypeName==="ChangedSchema",multi:!0},{provide:Qr,useValue:e=>e?.header?.sender==="SchemaManagerItemEventNotifier"&&e?.header?.bodyTypeName==="RemovedSchema",multi:!0}],imports:[b.TranslateModule]})};pr=(0,E.__decorate)([(0,o.CrtModule)({requestHandlers:[ur,hr,dr]})],pr),function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(pr,{imports:[b.TranslateModule]})}();const Su="client_schema_saved",Iu="process-schema-saved",vu="Terrasoft.Core.RelatedPages.RelatedPage",Cu="save-entity";var ea=p(42828),bu=p(30046),ta=p.n(bu);class Au{}class ut{constructor(){this._defaultShortDatePattern="M/D/YYYY"}convert(e){if(e)return{...e,shortDatePattern:e?.shortDatePattern?.toUpperCase()??this._defaultShortDatePattern,shortTimePattern:e?.shortTimePattern?.replace("tt","A")}}static#e=this.\u0275fac=function(t){return new(t||ut)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:ut,factory:ut.\u0275fac,providedIn:"root"})}const lt=new i.InjectionToken("DateTimeFormatInfo",{providedIn:"root",factory:()=>{const r=(0,i.inject)(ut),e=(0,i.inject)(R);return r.convert(e?.cultureInfo?.dateTimeFormat)}});class dt extends ea.MomentDateAdapter{constructor(){super(...arguments),this._dateTimeFormatToken=(0,i.inject)(lt),this._userInfo=(0,i.inject)(R)}getFirstDayOfWeek(){return this._dateTimeFormatToken?.firstDayOfWeek??0}today(){return super.today().utcOffset(this._userInfo.timeZoneOffsetHours??ta()().utcOffset())}static#e=this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(dt)))(n||dt)}})();static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:dt,factory:dt.\u0275fac,providedIn:"root"})}const na=()=>{const r=(0,i.inject)(lt),e=(0,_.cloneDeep)(ea.MAT_MOMENT_DATE_FORMATS);if(r){const t=new RegExp((0,_.escapeRegExp)(r.dateSeparator),"g");e.parse.dateInput=r.shortDatePattern.replace(t,""),e.display.dateInput=r.shortDatePattern}return e};var ra=p(90824);class ht extends ra.MomentDatetimeAdapter{constructor(){super(...arguments),this._dateTimeFormatToken=(0,i.inject)(lt)}format(e,t){let n=super.format(e,t);if(this._dateTimeFormatToken&&t.includes("A")){const s=e.format("A");e.hour()<12?n=n.replace(s,this._dateTimeFormatToken.amDesignator):n=n.replace(s,this._dateTimeFormatToken.pmDesignator)}return n}static#e=this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(ht)))(n||ht)}})();static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:ht,factory:ht.\u0275fac})}const Ru=()=>{const r=(0,i.inject)(lt)?.shortTimePattern,e=na(),t=(0,_.cloneDeep)(ra.MAT_MOMENT_DATETIME_FORMATS);return r&&(t.parse.datetimeInput=`${e.parse.dateInput} ${r}`,t.parse.dateInput=e.parse.dateInput,t.parse.timeInput=r,t.display.datetimeInput=`${e.display.dateInput} ${r}`,t.display.dateInput=e.display.dateInput,t.display.timeInput=r),t};function wu(r){function e(n){n&&typeof n.unsubscribe=="function"&&n.unsubscribe()}const t=r.prototype.ngOnDestroy;r.prototype.ngOnDestroy=function(...n){for(const s in this)if(Object.prototype.hasOwnProperty.call(this,s)){const a=this[s];e(a),Array.isArray(a)&&a.forEach(c=>{e(c)})}t&&typeof t=="function"&&t.apply(this,n)}}var sa=p(31555),Mu=p(73969);class fr{constructor(e,t,n,s){this.overlay=e,this.overlayPositionBuilder=t,this.elementRef=n,this.ngZone=s,this.delayTime=500}_createIconHoveredStream(e){return this.ngZone.runOutsideAngular(()=>(0,l.fromEvent)(this.elementRef.nativeElement,"mouseenter").pipe((0,h.auditTime)(this.delayTime),(0,h.takeUntil)(e)))}_createIconMouseOutStream(){return this.ngZone.runOutsideAngular(()=>(0,l.fromEvent)(this.elementRef.nativeElement,"mouseleave"))}_createEventsStream(e,t){this.subscription=t.subscribe(),this.subscription.add(e.subscribe());const n=(0,l.merge)(e,t);n.pipe((0,h.takeUntil)(t));const s=n.subscribe(a=>{if(a.type==="mouseenter"&&this.show(),a.type==="mouseleave"){this.hide(),this.subscription.unsubscribe();const c=this._createIconMouseOutStream(),u=this._createIconHoveredStream(c);this._createEventsStream(u,c)}});this.subscription.add(s)}hide(){this.overlayRef.hasAttached()&&this.overlayRef.detach()}show(){this.hintConfig&&(this.overlayRef.hasAttached()||(this.tooltipRef=this.overlayRef.attach(new Mu.ComponentPortal(this.hintConfig.componentType))),this.tooltipRef.instance.hintConfig=this.hintConfig.hintConfig)}ngOnInit(){const e=this.overlayPositionBuilder.flexibleConnectedTo(this.elementRef).withPositions([{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:this.hintConfig.positionX?this.hintConfig.positionX:0,offsetY:this.hintConfig.positionY?this.hintConfig.positionY:0}]);this.overlayRef=this.overlay.create({scrollStrategy:this.overlay.scrollStrategies.close(),positionStrategy:e})}ngAfterViewInit(){const e=this._createIconMouseOutStream(),t=this._createIconHoveredStream(e);this._createEventsStream(t,e)}ngOnDestroy(){this.hide(),this.subscription.unsubscribe()}static#e=this.\u0275fac=function(t){return new(t||fr)(i.\u0275\u0275directiveInject(sa.Overlay),i.\u0275\u0275directiveInject(sa.OverlayPositionBuilder),i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.NgZone))};static#t=this.\u0275dir=i.\u0275\u0275defineDirective({type:fr,selectors:[["","libHintOverlay",""]],inputs:{hintConfig:[i.\u0275\u0275InputFlags.None,"libHintOverlay","hintConfig"]},exportAs:["libHintOverlay"]})}class Du{constructor(e){Object.assign(this,e)}}class pt{constructor(e){this._elementRef=e,this._debounceTime=300}_setTitleAttribute(){const e="title",t=this._elementRef.nativeElement;if(this._isElementOverflowed(t)){const n=t.value||t.innerText||"";t.setAttribute(e,n)}else t.removeAttribute(e)}_isElementOverflowed(e){return e.offsetWidth<e.scrollWidth||e.offsetHeight<e.scrollHeight}onMouseEnter(){(0,_.debounce)(()=>this._setTitleAttribute(),this._debounceTime,{leading:!0,trailing:!1})()}static#e=this.\u0275fac=function(t){return new(t||pt)(i.\u0275\u0275directiveInject(i.ElementRef))};static#t=this.\u0275dir=i.\u0275\u0275defineDirective({type:pt,selectors:[["","crtTextOverflowTitle",""]],hostBindings:function(t,n){t&1&&i.\u0275\u0275listener("mouseenter",function(){return n.onMouseEnter()})}})}class In{static#e=this.\u0275fac=function(t){return new(t||In)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:In});static#n=this.\u0275inj=i.\u0275\u0275defineInjector({})}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(In,{declarations:[pt],exports:[pt]})})();function Fu(r=class{}){return class extends r{constructor(){super(...arguments),this.maxAllowedContainerHeight=Number.MAX_VALUE,this.minAllowedContainerHeight=0,this.containerResize=new i.EventEmitter}onContainerVerticalResizing(e){if(e.edges.top){const n=e.rectangle.height;if(n<this.minAllowedContainerHeight||n>=this.maxAllowedContainerHeight)return;this.resizableContainerHeight=n,this.containerResize.emit()}}}}class ft{static#e=this.\u0275fac=function(t){return new(t||ft)};static#t=this.\u0275dir=i.\u0275\u0275defineDirective({type:ft,selectors:[["","crtSaveScrollPosition",""]],features:[i.\u0275\u0275ProvidersFeature([Je])]})}class vn{static#e=this.\u0275fac=function(t){return new(t||vn)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:vn});static#n=this.\u0275inj=i.\u0275\u0275defineInjector({})}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(vn,{declarations:[ft],exports:[ft]})})();var _s=p(93277),Ou=p(32483);class Cn extends _s.CdkTrapFocus{constructor(){super(...arguments),this._trapFocusService=(0,i.inject)(rt),this._injector=(0,i.inject)(i.Injector),this._destroyRef=(0,i.inject)(i.DestroyRef),this._toggleTrapFocusEffect=(0,i.effect)(()=>{this.enabled=this._trapFocusService.enabled()})}ngAfterContentInit(){super.ngAfterContentInit(),(0,i.runInInjectionContext)(this._injector,()=>this._toggleTrapFocusEffect),this._trapFocusService.detached$.pipe((0,Ou.takeUntilDestroyed)(this._destroyRef),(0,h.delay)(1)).subscribe(()=>this.focusTrap.destroy())}static#e=this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Cn)))(n||Cn)}})();static#t=this.\u0275dir=i.\u0275\u0275defineDirective({type:Cn,selectors:[["","crtTrapFocus",""]],exportAs:["crtTrapFocus"],standalone:!0,features:[i.\u0275\u0275ProvidersFeature([{provide:_s.FocusTrapFactory,useClass:_s.ConfigurableFocusTrapFactory}]),i.\u0275\u0275InheritDefinitionFeature]})}class bn{_getEntitySchemaColumnsDataValueTypesMap(e){return e.columns.reduce((t,n)=>(t[n.name]=n.dataValueType,t),{})}_getEntityColumnsDataValueTypesMap(e){return Object.keys(e).reduce((t,n)=>(t[n]=e[n].dataValueType,t),{})}_parseRawColumnValue(e,t){switch(t){case o.DataValueType.Date:case o.DataValueType.Time:case o.DataValueType.DateTime:return ds(e);default:return e}}_parseRawEntityObject(e,t){const n={};return Object.keys(e).forEach(s=>{const a=e[s];n[s]=t[s]?this._parseRawColumnValue(a,t[s]):a}),n}deserializeEntity(e,t){o.ValidationUtilities.checkArgumentEmpty("columnsConfig",e),o.ValidationUtilities.checkArgumentEmpty("rawEntity",t);const n=this._getEntityColumnsDataValueTypesMap(e);return this._parseRawEntityObject(t,n)}deserializeEntities(e,t){o.ValidationUtilities.checkArgumentEmpty("columnsConfig",e),o.ValidationUtilities.checkArgumentEmpty("rawEntities",t);const n=this._getEntityColumnsDataValueTypesMap(e);return t.map(s=>this._parseRawEntityObject(s,n))}deserializeEntitySchemaRecord(e,t){o.ValidationUtilities.checkArgumentEmpty("entitySchema",e),o.ValidationUtilities.checkArgumentEmpty("rawEntities",t);const n=this._getEntitySchemaColumnsDataValueTypesMap(e);return this._parseRawEntityObject(t,n)}deserializeEntitySchemaRecords(e,t){o.ValidationUtilities.checkArgumentEmpty("entitySchema",e),o.ValidationUtilities.checkArgumentEmpty("rawEntities",t);const n=this._getEntitySchemaColumnsDataValueTypesMap(e);return t.map(s=>this._parseRawEntityObject(s,n))}static#e=this.\u0275fac=function(t){return new(t||bn)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:bn,factory:bn.\u0275fac,providedIn:"root"})}function Lu(r){return{specificationFilterAttributeName:`${r}_SpecificationFilters`,filterAttributeName:`${r}_Filters`,selectedNodeAttributeName:`${r}_SelectedNode`,nodesConfigAttributeName:`${r}_NodesConfig`,filterConverter:"crt.ToHierarchyFiltersConverter",nodesAttributeName:`${r}_Nodes`,expandedNodesAttributeName:`${r}_ExpandedNodes`,specificationFiltersConfigurationAttributeName:`${r}_SpecificationFiltersConfiguration`,selectedTabIndexAttributeName:`${r}_SelectedTabInd`,predefinedFilterAttributeName:`${r}_PredefinedFilter`,selectedNodeIdAttributeName:`${r}_SelectedNodeId`,selectedNodeIdProfileAttributeName:`${r}_SelectedNodeId_Profile`}}class An{constructor(){this.subject$=new l.Subject}emit(e){this.subject$.next(e)}on(e,t,n){return this.subject$.pipe((0,h.filter)(s=>s.name===e),(0,h.map)(s=>s.value)).subscribe(s=>t.call(n,s))}static#e=this.\u0275fac=function(t){return new(t||An)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:An,factory:An.\u0275fac})}var H;(function(r){r[r.Operator=0]="Operator",r[r.Operand=1]="Operand",r[r.Function=2]="Function"})(H||(H={}));var k;(function(r){r[r.Const=0]="Const",r[r.Column=1]="Column",r[r.SysSetting=2]="SysSetting",r[r.SysVariable=3]="SysVariable"})(k||(k={}));var j;(function(r){r[r.Addition=0]="Addition",r[r.Subtraction=1]="Subtraction",r[r.Multiplication=2]="Multiplication",r[r.Division=3]="Division"})(j||(j={}));const Nu=r=>{switch(r){case"*":return j.Multiplication;case"/":return j.Division;case"+":return j.Addition;case"-":return j.Subtraction;default:throw new Error(`arithmetic operator: ${r} not supporting`)}},ia=r=>{switch(r){case j.Addition:return"+";case j.Subtraction:return"-";case j.Multiplication:return"*";case j.Division:return"/";default:throw new Error("Unsupported arithmetic operator type")}};var B;(function(r){r[r.Parentheses=0]="Parentheses",r[r.Arithmetic=1]="Arithmetic",r[r.Relation=2]="Relation",r[r.Ternary=3]="Ternary",r[r.Comma=4]="Comma",r[r.Point=5]="Point"})(B||(B={}));var z;(function(r){r[r.Equal=0]="Equal",r[r.NotEqual=1]="NotEqual",r[r.Less=2]="Less",r[r.LessOrEqual=3]="LessOrEqual",r[r.Greater=4]="Greater",r[r.GreaterOrEqual=5]="GreaterOrEqual"})(z||(z={}));const aa=r=>{switch(r){case z.Equal:return"==";case z.NotEqual:return"!=";case z.Greater:return">";case z.GreaterOrEqual:return">=";case z.Less:return"<";case z.LessOrEqual:return"<=";default:throw new Error("Unsupported relation operator type")}};var W;(function(r){r[r.SchemaColumn=0]="SchemaColumn",r[r.SubQuery=1]="SubQuery",r[r.Aggregation=2]="Aggregation"})(W||(W={}));class mr{}class Pu extends mr{registerFactory(e,t){throw new Error("Method not implemented.")}createExpression(e,t){throw new Error("Method not implemented.")}}class oa{static#e=this._supportedDataTypesPriority={[o.DataValueType.Integer]:0,[o.DataValueType.FLOAT1]:1,[o.DataValueType.Float]:2,[o.DataValueType.FLOAT2]:3,[o.DataValueType.Money]:4,[o.DataValueType.FLOAT3]:5,[o.DataValueType.FLOAT4]:6,[o.DataValueType.FLOAT8]:7};static _isSupportedResultDataType(e,t){if(e==null||t==null)return!1;const n=this._supportedDataTypesPriority[e]!=null,s=this._supportedDataTypesPriority[t]!=null;return n&&s}static _getSupportedResultDataType(e,t){const n=this._supportedDataTypesPriority[e],s=this._supportedDataTypesPriority[t];return n>=s?e:t}static getResultDataType(e,t){const n=e?.dataType,s=t?.dataType;return this._isSupportedResultDataType(n,s)?this._getSupportedResultDataType(n,s):null}}class ca{static#e=this.NUMBER_REGEX=/^\d+\.{0,1}\d*$/;static#t=this.DECIMAL_SEPARATOR=".";static _getNumericDataType(e){const t=e.indexOf(this.DECIMAL_SEPARATOR);if(t===-1)return o.DataValueType.Integer;const s=e.slice(t+1,e.length).length;return this._getNumericDataTypeByPrecision(s)}static _getNumericDataTypeByPrecision(e){return e>4?o.DataValueType.FLOAT8:e===4?o.DataValueType.FLOAT4:e===3?o.DataValueType.FLOAT3:e===2?o.DataValueType.Float:o.DataValueType.FLOAT1}static getResultDataType(e){return typeof e=="boolean"?o.DataValueType.Boolean:typeof e=="number"?this._getNumericDataType(e.toString()):typeof e=="string"?this.NUMBER_REGEX.test(e)?this._getNumericDataType(e):o.DataValueType.Text:null}}class Rn{constructor(e,t){this.type=e,this.dataType=t}}class ua extends Rn{constructor(e,t,n){super(H.Function,t),this.code=e,this.arguments=n}get definitionId(){return this.code}accept(e){return e&&e.visitFunctionExpression(this)}}class wn extends Rn{constructor(e,t){super(H.Operand,t),this.operandType=e}}function Ts(r){return r?.columnPath}class Es extends wn{constructor(e,t){super(k.Column,t),this.columnPath=e,this.columnOperandType=W.SchemaColumn}get definitionId(){return Ts(this)}accept(e){return e&&e.visitColumnOperandExpression(this)}}function Ss(r){const e=Ts(r),t=Qi(r?.subFilters);return`${e}_${t}`}class Is extends Es{constructor(e,t,n){super(e,t),this.subFilters=n,this.columnOperandType=W.SubQuery}get definitionId(){return Ss(this)}accept(e){return e&&e.visitSubQueryOperandExpression(this)}}function la(r){return`${Ss(r)}_${r?.aggregationType}`}class da extends Is{constructor(e,t,n,s){super(e,t,s),this.aggregationType=n,this.columnOperandType=W.Aggregation}get definitionId(){return la(this)}accept(e){return e&&e.visitAggregationSubQueryOperandExpression(this)}}class ha extends wn{constructor(e,t){super(k.Const,t??ca.getResultDataType(e)),this.value=e}get definitionId(){}accept(e){return e&&e.visitConstOperandExpression(this)}}class pa extends wn{constructor(e,t){super(k.SysSetting,t),this.code=e}get definitionId(){return this.code}accept(e){return e&&e.visitSysSettingOperandExpression(this)}}class fa extends wn{constructor(e,t){super(k.SysVariable,t),this.name=e}get definitionId(){return this.name}accept(e){return e&&e.visitSysVariableOperandExpression(this)}}class gr extends Rn{constructor(e,t){super(H.Operator,t),this.operatorType=e}}class vs extends gr{constructor(e,t,n,s){super(e,t),this.leftExpression=n,this.rightExpression=s}}class ma extends vs{constructor(e,t,n){super(B.Arithmetic,oa.getResultDataType(t,n),t,n),this.arithmeticOperatorType=e}get definitionId(){return ia(this.arithmeticOperatorType)}accept(e){return e&&e.visitArithmeticOperatorExpression(this)}}class ga extends gr{constructor(e,t){super(e,t?.dataType),this.expression=t}}class ya extends ga{constructor(e){super(B.Parentheses,e)}get definitionId(){}accept(e){return e&&e.visitParenthesesOperatorExpression(this)}}class _a extends vs{constructor(e,t,n){super(B.Relation,o.DataValueType.Boolean,t,n),this.relationOperatorType=e}get definitionId(){return aa(this.relationOperatorType)}accept(e){return e&&e.visitRelationOperatorExpression(this)}}class Ta extends gr{constructor(e,t,n){super(B.Ternary,t.dataType),this.condition=e,this.thenExpression=t,this.elseExpression=n}get definitionId(){return"ternary"}accept(e){return e&&e.visitTernaryOperatorExpression(this)}}class D{constructor(e){this.expressionFactoryMediator=e}getDataType(e){return this.getObjectField(e,"dataType")}getDefinitionId(e){return this.getObjectField(e,"definitionId")}getExpression(e,t,n){const s=this.getObjectField(e,t);return this.expressionFactoryMediator.createExpression(n||"expression",s)}getObjectField(e,t){return e[t]}getEnumValue(e,t){if(t==null||t==="")return null;const n=+t;if(!isNaN(n))return n;const s=Object.entries(e).find(([a])=>a.toLocaleLowerCase()===t.toString().toLocaleLowerCase()&&Object.prototype.hasOwnProperty.call(e,a));return s?s[1]:null}getEnumValueByObject(e,t,n){const s=this.getObjectField(t,n);return this.getEnumValue(e,s)}}class Ea extends D{constructor(e){super(e)}createExpression(e){const t=this.getObjectField(e,"code"),n=this.getDataType(e),a=this.getObjectField(e,"arguments").map(c=>this.expressionFactoryMediator.createExpression("expression",c));return new ua(t,n,a)}}class Sa extends D{constructor(e){super(e)}createExpression(e){const t=this.getDataType(e),n=this.getObjectField(e,"columnPath"),s=this.getObjectField(e,"subFilters"),a=this.getEnumValueByObject(o.AggregationType,e,"aggregationType");return new da(n,t,a,s)}}class Ia extends D{constructor(e){super(e)}createExpression(e){switch(this.getEnumValueByObject(W,e,"columnOperandType")){case W.Aggregation:return this.expressionFactoryMediator.createExpression("aggregationSubQueryOperandExpression",e);case W.SubQuery:return this.expressionFactoryMediator.createExpression("subQueryOperandExpression",e);case W.SchemaColumn:default:return this.expressionFactoryMediator.createExpression("schemaColumnOperandExpression",e)}}}class va extends D{constructor(e){super(e)}createExpression(e){const t=this.getObjectField(e,"value"),n=this.getDataType(e);return new ha(t,n)}}class Ca extends D{constructor(e){super(e)}createExpression(e){switch(this.getEnumValueByObject(k,e,"operandType")){case k.Column:return this.expressionFactoryMediator.createExpression("columnOperandExpression",e);case k.Const:return this.expressionFactoryMediator.createExpression("constantOperandExpression",e);case k.SysSetting:return this.expressionFactoryMediator.createExpression("sysSettingOperandExpression",e);case k.SysVariable:return this.expressionFactoryMediator.createExpression("sysVariableOperandExpression",e);default:{const n=this.getObjectField(e,"operandType");throw new Error(`The '${n}' operand type is not supported.`)}}}}class ba extends D{constructor(e){super(e)}createExpression(e){const t=this.getObjectField(e,"columnPath"),n=this.getDataType(e);return new Es(t,n)}}class Aa extends D{constructor(e){super(e)}createExpression(e){const t=this.getDataType(e),n=this.getObjectField(e,"columnPath"),s=this.getObjectField(e,"subFilters");return new Is(n,t,s)}}class Ra extends D{constructor(e){super(e)}createExpression(e){const t=this.getObjectField(e,"code"),n=this.getDataType(e);return new pa(t,n)}}class wa extends D{constructor(e){super(e)}createExpression(e){const t=this.getObjectField(e,"name"),n=this.getDataType(e);return new fa(t,n)}}class Ma extends D{constructor(e){super(e)}getLeftExpression(e){return this.getExpression(e,"leftExpression")}getRightExpression(e){return this.getExpression(e,"rightExpression")}}class Da extends Ma{constructor(e){super(e)}createExpression(e){const t=this.getEnumValueByObject(j,e,"arithmeticOperatorType"),n=this.getLeftExpression(e),s=this.getRightExpression(e);return new ma(t,n,s)}}class Fa extends D{constructor(e){super(e)}createExpression(e){switch(this.getEnumValueByObject(B,e,"operatorType")){case B.Arithmetic:return this.expressionFactoryMediator.createExpression("arithmeticOperatorExpression",e);case B.Parentheses:return this.expressionFactoryMediator.createExpression("parenthesesOperatorExpression",e);case B.Relation:return this.expressionFactoryMediator.createExpression("relationOperatorExpression",e);case B.Ternary:return this.expressionFactoryMediator.createExpression("ternaryOperatorExpression",e);default:{const n=this.getObjectField(e,"operatorType");throw new Error(`The '${n}' operator type is not supported.`)}}}}class Vu extends D{constructor(e){super(e)}getInnerExpression(e){return this.getExpression(e,"expression")}}class Oa extends Vu{constructor(e){super(e)}createExpression(e){const t=this.getInnerExpression(e);return new ya(t)}}class La extends Ma{constructor(e){super(e)}createExpression(e){const t=this.getEnumValueByObject(z,e,"relationOperatorType"),n=this.getLeftExpression(e),s=this.getRightExpression(e);return new _a(t,n,s)}}class Na extends D{constructor(e){super(e)}createExpression(e){const t=this.getExpression(e,"condition","relationOperatorExpression"),n=this.getExpression(e,"thenExpression"),s=this.getExpression(e,"elseExpression");return new Ta(t,n,s)}}class Pa extends D{constructor(e){super(e)}createExpression(e){switch(this.getEnumValueByObject(H,e,"type")){case H.Function:return this.expressionFactoryMediator.createExpression("functionExpression",e);case H.Operand:return this.expressionFactoryMediator.createExpression("operandExpression",e);case H.Operator:return this.expressionFactoryMediator.createExpression("operatorExpression",e);default:{const n=this.getObjectField(e,"type");throw new Error(`The '${n}' expression type is not supported.`)}}}}class mt extends mr{constructor(){super(),this._factories=new Map}registerFactory(e,t){this._factories.set(e,t)}createExpression(e,t){if(this._factories.has(e))return this._factories.get(e).createExpression(t);throw new Error(`Factory for the '${e}' expression is not registered.`)}static#e=this.\u0275fac=function(t){return new(t||mt)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:mt,factory:mt.\u0275fac,providedIn:"root"})}class yr{static#e=this.\u0275fac=function(t){return new(t||yr)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:yr});static#n=this.\u0275inj=i.\u0275\u0275defineInjector({providers:[{provide:mr,useFactory:()=>{const e=new mt;return e.registerFactory("expression",new Pa(e)),e.registerFactory("functionExpression",new Ea(e)),e.registerFactory("operandExpression",new Ca(e)),e.registerFactory("columnOperandExpression",new Ia(e)),e.registerFactory("aggregationSubQueryOperandExpression",new Sa(e)),e.registerFactory("schemaColumnOperandExpression",new ba(e)),e.registerFactory("subQueryOperandExpression",new Aa(e)),e.registerFactory("constantOperandExpression",new va(e)),e.registerFactory("sysSettingOperandExpression",new Ra(e)),e.registerFactory("sysSettingOperandExpression",new wa(e)),e.registerFactory("operatorExpression",new Fa(e)),e.registerFactory("arithmeticOperatorExpression",new Da(e)),e.registerFactory("parenthesesOperatorExpression",new Oa(e)),e.registerFactory("relationOperatorExpression",new La(e)),e.registerFactory("ternaryOperatorExpression",new Na(e)),e}}]})}class xu{}class ku extends D{constructor(e){super(e)}createExpression(e){throw new Error("Method not implemented.")}}class ju extends Rn{constructor(e,t=o.DataValueType.Integer){super(H.Operand,t),this.id=e}get definitionId(){return this.id}accept(e){throw new Error("Method not implemented.")}}const Bu={id:(0,o.generateGuid)()};class Uu{constructor(e){this.visitResultMock=e}visitFunctionExpression(e){return this.visitResultMock}visitAggregationSubQueryOperandExpression(e){return this.visitResultMock}visitColumnOperandExpression(e){return this.visitResultMock}visitConstOperandExpression(e){return this.visitResultMock}visitSubQueryOperandExpression(e){return this.visitResultMock}visitSysSettingOperandExpression(e){return this.visitResultMock}visitSysVariableOperandExpression(e){return this.visitResultMock}visitArithmeticOperatorExpression(e){return this.visitResultMock}visitParenthesesOperatorExpression(e){return this.visitResultMock}visitRelationOperatorExpression(e){return this.visitResultMock}visitTernaryOperatorExpression(e){return this.visitResultMock}}var gt;(function(r){r[r.Busy=0]="Busy",r[r.Idle=1]="Idle"})(gt||(gt={}));var Wl=p(74369),_r;(function(r){r.ReadyStateChange="readystatechange"})(_r||(_r={}));class Cs{constructor(e){this._trackedTasks=[],this._trackedEventTasks=[],this._enableDebugTracking=!1,this._disableWaits=!1,this._pendingFunctions=new Map,this.onStateChange$=new i.EventEmitter(!1),this._parentZone=Zone.current,this._rootZone=Zone.root,this._isBusy=!1,this._ignoredTaskSources=["setInterval","requestAnimationFrame"],this._eventTaskFilters=[t=>t.source.startsWith("XMLHttpRequest")&&t.source.endsWith(_r.ReadyStateChange)],this._zone=this._parentZone.fork({name:e,properties:{currentExecutionZone:this},onInvokeTask:this._onInvokeTask.bind(this),onCancelTask:this._onCancelTask.bind(this),onScheduleTask:this._onScheduleTask.bind(this),onHasTask:this._onHasTask.bind(this)})}wait(e){if(this._disableWaits)return e();this._isBusy||(this._isBusy=!0,this.onStateChange$.next(gt.Busy));const t=(0,o.generateGuid)();return this._pendingFunctions.set(t,this._enableDebugTracking?e:null),e().finally(()=>{this._pendingFunctions.delete(t),!this._pendingFunctions.size&&this._zone.run(()=>new Promise(n=>setTimeout(n)))}).catch(n=>{throw n})}_cancelXMLHttpRequestReadyStateChangeTaskOnRequestComplete(e,t){if(e.type==="eventTask"&&(e.state==="running"||e.state==="scheduled")){const n=e;n.eventName===_r.ReadyStateChange&&n.target.readyState===XMLHttpRequest.DONE&&t.cancelTask(n)}}_onInvokeTask(e,t,n,s,a,c){this._unTrackTask(s);let u;try{u=e.invokeTask(n,s,a,c),this._cancelXMLHttpRequestReadyStateChangeTaskOnRequestComplete(s,t)}catch(d){console.error(d),t.cancelTask(s)}return u}_onCancelTask(e,t,n,s){return this._unTrackTask(s),e.zone.runGuarded(()=>e.cancelTask(n,s))}_onScheduleTask(e,t,n,s){return this._getCanScheduleTask(s)?(this._trackTask(s),e.scheduleTask(n,s)):(s.cancelScheduleRequest(),this._parentZone.scheduleTask(s))}_onHasTask(e,t,n,s){e.hasTask(n,s);const a=s.eventTask||s.macroTask||s.microTask||this._pendingFunctions.size>0;this._isBusy!==a&&(this._rootZone.run(()=>this.onStateChange$.next(a?gt.Busy:gt.Idle)),this._isBusy=a)}_trackTask(e){this._enableDebugTracking&&(e.type==="eventTask"&&this._trackedEventTasks.push(e),this._trackedTasks.push(e))}_unTrackTask(e){if(!this._enableDebugTracking)return;const t=this._trackedTasks.indexOf(e);t>-1&&this._trackedTasks.splice(t,1)}_getCanScheduleTask(e){return e.type==="eventTask"?this._eventTaskFilters.some(t=>t(e)):this._ignoredTaskSources.indexOf(e.source)===-1}run(e,t,n){return this._zone.run(e,t,n)}}function Hu(r,e,t){if(t.DisableNavigationLockInShell)return Nt.instance;const n=e.get(r);return n instanceof Cs?n:Nt.instance}function Mn(r){const e=r?.items;switch(r?.filterType){case o.FilterType.Between:r.className="Terrasoft.BetweenFilter",w(r.leftExpression),w(r.rightLessExpression),w(r.rightGreaterExpression);break;case o.FilterType.Compare:r.className="Terrasoft.CompareFilter",w(r.leftExpression),w(r.rightExpression);break;case o.FilterType.Exists:r.className="Terrasoft.ExistsFilter",w(r.leftExpression),Mn(r.subFilters);break;case o.FilterType.FilterGroup:r.className="Terrasoft.FilterGroup";for(const[,t]of Object.entries(e||{}))Mn(t);break;case o.FilterType.In:r.className="Terrasoft.InFilter",w(r.leftExpression),r.rightExpressions.forEach(t=>w(t));break;case o.FilterType.IsNull:r.className="Terrasoft.IsNullFilter",w(r.leftExpression);break}}function w(r){switch(r?.expressionType){case o.ExpressionType.SchemaColumn:r.className="Terrasoft.ColumnExpression";break;case o.ExpressionType.Parameter:r.className="Terrasoft.ParameterExpression",r.parameter&&(r.parameter.className="Terrasoft.Parameter"),r.parentFilter&&Mn(r.parentFilter);break;case o.ExpressionType.ArithmeticOperation:r.className="Terrasoft.ArithmeticExpression",w(r.leftArithmeticOperand),w(r.rightArithmeticOperand);break;case o.ExpressionType.Function:$u(r);break;case o.ExpressionType.SubQuery:r.functionType===o.FunctionType.Aggregation&&(r.className="Terrasoft.AggregationQueryExpression"),r.functionType===o.FunctionType.None&&(r.className="Terrasoft.SubQueryExpression"),r.subFilters&&Mn(r.subFilters);break}}function $u(r){switch(r?.functionType){case o.FunctionType.DateAdd:r.className="Terrasoft.DateAddFunctionExpression",w(r?.numberExpression),w(r?.dateTimeExpression);break;case o.FunctionType.DateDiff:r.className="Terrasoft.DateDiffFunctionExpression",w(r?.startDateExpression),w(r?.endDateExpression);break;default:r.className="Terrasoft.FunctionExpression"}r.functionArgument&&w(r.functionArgument),r.functionArguments&&r.functionArguments.forEach(e=>w(e))}function Gu(r){const e={...r};return Mn(e),e}function Va(r,e,t){if(!r)return null;let n=r.find(s=>e(s));return n||(r.forEach(s=>{n||(n=Va(t(s),e,t))}),n)}function xa(r,e,t){if(!r)return null;let n=e(r);return n||(r.forEach(s=>{n||(n=xa(t(s),e,t))}),n)}function zu(r){return{activeFolderIdAttrName:`${r}_active_folder_id`,activeFolderFolderTreeIdAttrName:`${r}_active_folder_folder_tree_id`,activeFolderNameAttrName:`${r}_active_folder_name`,activeFolderFilterDataAttrName:`${r}_active_folder_filter_data`,activeFolderFilterAttrName:`${r}_active_folder_filter`,activeFolderFavoriteStateAttrName:`${r}_active_folder_favorite_state`,itemsAttrName:`${r}_items`,visibleAttrName:`${r}_visible`,showMaskAttrName:`${r}_show_mask`,itemsModelName:`${r}_items_DS`,itemsFilterAttrName:`${r}_items_DS_filter`,favoriteItemsAttrName:`${r}_favoriteItems`,expandedItemsAttrName:`${r}_expandedItems`,savedFolderIdAttrName:`${r}_savedFolderId`}}const Wu="M/D/YYYY";class ue extends m.AbstractHandler{constructor(e){super(),this._dateTimeFormat=e}_castToDateTimeFormat(e){const t=e.format;if(!t)return e;const n=t.split(" ").length>=2;return{type:e.type,date:{display:!0},time:{display:n}}}_getDateTimeFormatMoment(e){let t="";const{shortDatePattern:n,shortTimePattern:s}=this._dateTimeFormat??{};if(!n&&!s)return Wu;const{date:a,time:c}=e??{},{display:u=!1}=a??{},{display:d=!1}=c??{};return u&&(t+=n),d&&(t+=` ${s}`),t.trim()}handle(e){const{dateTimeFormat:t,handledMomentFormat:n}=e,s=this._castToDateTimeFormat(t),a=this._getDateTimeFormatMoment(s);this.format=s?.date?.format;let c=this.internalHandler(n??a);if(c!==a){const u=new RegExp(`^\\${this._dateTimeFormat.dateSeparator}+`),d=new RegExp(`\\${this._dateTimeFormat.dateSeparator}+$`),f=new RegExp(`\\${this._dateTimeFormat.dateSeparator}{2,}`,"g");c=c.replace(u,"").replace(d,"").replace(f,this._dateTimeFormat.dateSeparator)}return e.handledMomentFormat=c,super.handle(e)??c}static#e=this.\u0275fac=function(t){return new(t||ue)(i.\u0275\u0275inject(lt))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:ue,factory:ue.\u0275fac,providedIn:"root"})}class Re extends m.AbstractHandler{handle(e){return e?.dateTimeFormat?.time?.format==="hour"?"H":super.handle(e)}static#e=this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Re)))(n||Re)}})();static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Re,factory:Re.\u0275fac,providedIn:"root"})}class we extends m.AbstractHandler{handle(e){return e.dateTimeFormat?.date?.format==="week"?"W":super.handle(e)}static#e=this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(we)))(n||we)}})();static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:we,factory:we.\u0275fac,providedIn:"root"})}class Me extends ue{internalHandler(e){return this.format&&!this.format.has("days")?e.replace(/D/g,""):e}static#e=this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Me)))(n||Me)}})();static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Me,factory:Me.\u0275fac,providedIn:"root"})}class De extends ue{internalHandler(e){return this.format&&!this.format?.has("years")?e.replace(/Y/g,""):e}static#e=this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(De)))(n||De)}})();static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac,providedIn:"root"})}class Fe extends ue{internalHandler(e){return this.format&&!this.format?.has("months")?e.replace(/M/g,""):e}static#e=this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Fe)))(n||Fe)}})();static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}const bs=new i.InjectionToken("Represents the moment date time format",{factory:()=>{const r=(0,i.inject)(we),e=(0,i.inject)(Re),t=(0,i.inject)(Me),n=(0,i.inject)(Fe),s=(0,i.inject)(De);return{getFormat:a=>(r.setNext(e).setNext(t).setNext(n).setNext(s),r.handle({dateTimeFormat:a}))}},providedIn:"root"});class Dn{}class Oe extends Dn{constructor(e){super(),this._momentDateTimeFormatter=e}format(e,t){if(!e)return"";const n=new Date(e);if(isNaN(n))return"";const s=this._momentDateTimeFormatter.getFormat(t);return ta()(n).format(s)}static#e=this.\u0275fac=function(t){return new(t||Oe)(i.\u0275\u0275inject(bs))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}const Zu=new Map([["default",{ADD_TAGS:["#comment","signature"],FORCE_BODY:!0}],["textOnly",{ALLOWED_TAGS:["#text"],FORBID_CONTENTS:m.DOM_PURIFIER_DEFAULT_FORBID_CONTENTS}]]);class yt extends Dn{constructor(e){super(),this._domPurifier=e,this._defaultFormat={type:"sanitizeHtml",mode:"default"},this._sanitizationConfigsByMode=Zu}_sanitizeHtml(e,t){const n=t.mode??"default",s=this._sanitizationConfigsByMode.get(n);return this._domPurifier.sanitize(e,s).toString()}format(e,t){return e?this._sanitizeHtml(e,t??this._defaultFormat):""}static#e=this.\u0275fac=function(t){return new(t||yt)(i.\u0275\u0275inject(m.DOM_PURIFIER))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:yt,factory:yt.\u0275fac,providedIn:"root"})}var Ku=p(4166),qu=p.n(Ku);const Xu=0,Yu=20,Tr=".",ka="",Ju=1024;class _t{constructor(e){this._userInfo=e}_adjustDecimalPrecision(e){return e==null||(e=parseInt(`${e}`,10),isNaN(e))?null:(e=Math.min(e,Yu),e=Math.max(e,Xu),e)}_adjustDecimalSeparator(e){const t=this._userInfo?.cultureInfo?.decimalSeparator;return typeof t=="string"?t:e||Tr}_adjustThousandSeparator(e){const t=this._userInfo?.cultureInfo?.thousandSeparator;return typeof t=="string"?t:e||ka}adjust(e){const{decimalPrecision:t,decimalSeparator:n,thousandSeparator:s,thousandAbbreviation:a,trimTrailingZeros:c}=e||{};return{type:"number",decimalPrecision:this._adjustDecimalPrecision(t),decimalSeparator:this._adjustDecimalSeparator(n),trimTrailingZeros:c??!1,thousandSeparator:this._adjustThousandSeparator(s),thousandAbbreviation:{enabled:a?.enabled===!0}}}static#e=this.\u0275fac=function(t){return new(t||_t)(i.\u0275\u0275inject(R,8))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:_t,factory:_t.\u0275fac,providedIn:"root"})}const Qu=",",el="a",ja="#DECIMAL_SEPARATOR#",Ba="#THOUSAND_SEPARATOR#";class Le extends Dn{constructor(e){super(),this._formatAdjuster=e}_isNaN(e){const t=parseFloat(e);return isNaN(t)}_createNumeralFormat(e,t){const n="0,0",[s,a]=e.split(Tr),c=Math.abs(parseInt(s,10))>=1e3,u=!!t.thousandAbbreviation?.enabled;if(c&&u)return`${n}${el}.[0]`;const d=this._getFractionLength(a,t),f="0".repeat(d);return`${n}.${f}`}_getFractionLength(e,t){if(!t.trimTrailingZeros)return t.decimalPrecision??e?.length??0;const n=(0,_.trimEnd)(e,"0");return(0,_.isNil)(t.decimalPrecision)?n.length:Math.min(n.length,t.decimalPrecision)}_replaceSeparators(e,t){const{decimalSeparator:n,thousandSeparator:s}=t,a=[{searchValue:Tr,replaceMacros:ja,replaceValue:n},{searchValue:Qu,replaceMacros:Ba,replaceValue:s}];return(0,m.replaceSubstring)(e,a)}_undoReplaceSeparators(e,t){const{decimalSeparator:n,thousandSeparator:s}=t,a=[{searchValue:n,replaceMacros:ja,replaceValue:Tr},{searchValue:s,replaceMacros:Ba,replaceValue:ka}];return(0,m.replaceSubstring)(e,a)}format(e,t){if(this._isNaN(e))return"";t||(t={type:"number"});const n=this._formatAdjuster.adjust(t),s=this._createNumeralFormat(e,n),a=qu()(e).format(s);return this._isNaN(a)?"":this._replaceSeparators(a,n)}undoFormat(e,t){if(this._isNaN(e))return"";t||(t={type:"number"});const n=this._formatAdjuster.adjust(t);return this._undoReplaceSeparators(e,n)}static#e=this.\u0275fac=function(t){return new(t||Le)(i.\u0275\u0275inject(_t))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac,providedIn:"root"})}const tl="-",As="...",V=-1,Ua=2,nl=4,rl={type:"string",wordSeparator:" ",wordConnector:" ",maxLinesCount:V,maxLineLength:V};class te extends Dn{_fillInFormat(e){const{maxLinesCount:t,maxLineLength:n,wordSeparator:s,wordConnector:a}=rl;return{type:"string",maxLinesCount:e?.maxLinesCount??t,maxLineLength:e?.maxLineLength??n,wordSeparator:e?.wordSeparator??s,wordConnector:e?.wordConnector??a}}_splitTextToWords(e,t){return e.split(t).map(n=>n.trim()).filter(n=>n!=="")}_wrapWordsToLines(e,t){const n=[];for(;e.length>0;){const s=e.shift(),a=this._getLinesState(n,t);if(this._canAddWordIntoLine(s,a)){this._addWordToLine(s,n);continue}if(this._canAddWordIntoNextLine(s,e,a)){n.push([]),e.unshift(s);continue}const{remainderLineLength:c}=a;if(this._canBreakWordIntoSyllables(a)){const u=this._breakWordIntoSyllables(s,n,c);n.push([]),e.unshift(u);continue}this._canTruncateWordWithEllipsis(a)?this._truncateWordWithEllipsis(s,n,c):this._addWordToLine(As,n);break}return n}_getLinesState(e,t){let{maxLinesCount:n,maxLineLength:s}=t;n<V&&(n=V),s<V&&(s=V);const a=e.length,c=a>0?e[a-1]:[],u=this._getTotalWordsLength(c),d=n===V?V:n-a,f=s===V?V:s-u;return{maxLineLength:s,maxLinesCount:n,currentLinesCount:a,remainderLineLength:f,remainderLinesCount:d}}_getTotalWordsLength(e){return e.reduce((t,n)=>t+n.length,0)}_canAddWordIntoLine(e,t){const{remainderLineLength:n}=t;return e.length<=n||n===V}_canAddWordIntoNextLine(e,t,n){const{maxLineLength:s,remainderLineLength:a,remainderLinesCount:c}=n;if(c===0)return!1;if(c===V)return!0;const u=e.length;if(u<nl||a<Ua)return!0;if(u>s)return!1;const v=this._getTotalWordsLength(t),q=(c-1)*s;return v<=q}_canBreakWordIntoSyllables(e){const{remainderLinesCount:t,remainderLineLength:n}=e,s=t===V||t>0,a=n>=Ua;return s&&a}_canTruncateWordWithEllipsis(e){return e.remainderLineLength>0}_addWordToLine(e,t){const n=t.pop()??[];n.push(e),t.push(n)}_breakWordIntoSyllables(e,t,n){const s=e.length;s-n===1&&n--;const c=e.substring(0,n),u=e.substring(n,s);return this._addWordToLine(c+tl,t),u}_truncateWordWithEllipsis(e,t,n){const s=e.substring(0,n);s.length===1?this._addWordToLine(As,t):this._addWordToLine(s+As,t)}format(e,t){if(typeof e!="string")return[];t=this._fillInFormat(t);const n=this._splitTextToWords(e,t.wordSeparator);return this._wrapWordsToLines(n,t).map(a=>a.join(t.wordConnector))}static#e=this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(te)))(n||te)}})();static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:te,factory:te.\u0275fac,providedIn:"root"})}const Ha=new i.InjectionToken("Represents a datetime data formatter",{factory:()=>new Oe((0,i.inject)(bs)),providedIn:"root"}),Rs=new i.InjectionToken("Represents a default data formatter",{factory:()=>new te,providedIn:"root"}),$a=new i.InjectionToken("Represents a sanitize html formatter",{factory:()=>new yt((0,i.inject)(m.DOM_PURIFIER)),providedIn:"root"}),Ga=new i.InjectionToken("Represents a number data formatter",{factory:()=>(0,i.inject)(Le),providedIn:"root"}),ws=new i.InjectionToken("Represents a registration map of formatters",{factory:()=>new Map([["string",te],["number",Le],["datetime",Oe]]),providedIn:"root"});class Tt{constructor(e,t,n){this._injector=e,this._defaultFormatter=t,this._formattersMap=n}_getFormatterByType(e){const{type:t}=e;if(this._formattersMap.has(t)){const n=this._formattersMap.get(t);return this._injector.get(n)}}_getFormatterByPredicat(e){for(const[t,n]of this._formattersMap)if(typeof t=="function"&&t(e))return this._injector.get(n)}resolveFormatter(e){return e?this._getFormatterByType(e)??this._getFormatterByPredicat(e)??this._defaultFormatter:this._defaultFormatter}static#e=this.\u0275fac=function(t){return new(t||Tt)(i.\u0275\u0275inject(i.Injector),i.\u0275\u0275inject(Rs),i.\u0275\u0275inject(ws))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Tt,factory:Tt.\u0275fac,providedIn:"root"})}class Er{constructor(e){this._formatter=e}getValue(e){return e.toString()}getFormat(e){if(!e)return this.defaultFormat;const t=this.getFormatByDataType(e.dataType);return t?(0,_.merge)({},t,e):{type:this.defaultFormat?.type,...(0,_.omit)(e,"dataType")}}getFormatByDataType(e){return e&&this.formatsByDataTypeMap.get(e)}isSupportedValue(e){return typeof e=="string"}transform(e,t){if(!this.isSupportedValue(e))return"";const n=this.getValue(e),s=this.getFormat(t);return this._formatter.format(n,s)}}const sl=new Map([[o.DataValueType.Date,{type:"datetime",date:{display:!0}}],[o.DataValueType.DateTime,{type:"datetime",date:{display:!0},time:{display:!0}}],[o.DataValueType.Time,{type:"datetime",date:{display:!1},time:{display:!0}}]]);class Z extends Er{constructor(e){super(e),this.defaultFormat={type:"datetime",date:{display:!0}},this.formatsByDataTypeMap=sl}getValue(e){return typeof e=="number"&&(e=new Date(e)),e.toString()}isSupportedValue(e){return super.isSupportedValue(e)||typeof e=="number"||e instanceof Date}transform(e,t){return e===""?"":super.transform(e,t)}static#e=this.\u0275fac=function(t){return new(t||Z)(i.\u0275\u0275directiveInject(Ha,16))};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"dateTimeFormat",type:Z,pure:!0});static#n=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Z,factory:Z.\u0275fac,providedIn:"root"})}const il=new Map(tr.map(r=>[r,al(r)]));function al(r){return{type:"number",decimalPrecision:qr.get(r)}}class K extends Er{constructor(e){super(e),this.defaultFormat={type:"number"},this.formatsByDataTypeMap=il}isSupportedValue(e){return super.isSupportedValue(e)||typeof e=="number"}static#e=this.\u0275fac=function(t){return new(t||K)(i.\u0275\u0275directiveInject(Ga,16))};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"numberFormat",type:K,pure:!0});static#n=this.\u0275prov=i.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac,providedIn:"root"})}class le{constructor(e){this._injector=e,this._unitNames=["Byte","Kilobyte","Megabyte","Gigabyte"],this._thresh=Ju}_roundNumber(e,t=1){const n=10**t;return Math.round((e+Number.EPSILON)*n)/n}_evalLevel(e){return e<this._thresh?0:Math.floor(Math.log(e)/Math.log(this._thresh))}_getUnits(e,t){const n=t&&e===0&&[2,3,4].includes(t%10)&&![12,13,14].includes(t%100)?"s":"",s=this._unitNames[e]+n;return" "+this._injector.get(b.TranslateService).instant("FileSizeUnit."+s)}transform(e,t){if(typeof e!="number")return typeof e=="string"?e:"";let n=t?this._unitNames.indexOf(t):-1;if(n===-1&&(n=this._evalLevel(e)),e<=0)return 0+this._getUnits(n);const s=n>0?this._roundNumber(e/Math.pow(this._thresh,n)):e;return this._injector.get(K).transform(s)+this._getUnits(n,s)}static#e=this.\u0275fac=function(t){return new(t||le)(i.\u0275\u0275directiveInject(i.Injector,16))};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"memoryFormat",type:le,pure:!0});static#n=this.\u0275prov=i.\u0275\u0275defineInjectable({token:le,factory:le.\u0275fac,providedIn:"root"})}var za=p(23493);class Ne{transform(e){return(0,za.decode)(e)}static#e=this.\u0275fac=function(t){return new(t||Ne)};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"decodeHtml",type:Ne,pure:!0,standalone:!0});static#n=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}class Et{transform(e){return(0,za.encode)(e)}static#e=this.\u0275fac=function(t){return new(t||Et)};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"encodeHtml",type:Et,pure:!0,standalone:!0});static#n=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Et,factory:Et.\u0275fac,providedIn:"root"})}class Sr{transform(e,t){return Ji(e,t)}static#e=this.\u0275fac=function(t){return new(t||Sr)};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"stringFormat",type:Sr,pure:!0,standalone:!0})}class de{constructor(e){this._resourceFinderService=e}transform(e){return this._resourceFinderService.findLocalizableValue(e)}static#e=this.\u0275fac=function(t){return new(t||de)(i.\u0275\u0275directiveInject(oe,16))};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"lczToString",type:de,pure:!0});static#n=this.\u0275prov=i.\u0275\u0275defineInjectable({token:de,factory:de.\u0275fac,providedIn:"root"})}class Fn{static#e=this.\u0275fac=function(t){return new(t||Fn)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:Fn});static#n=this.\u0275inj=i.\u0275\u0275defineInjector({})}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(Fn,{declarations:[de],exports:[de]})})();class St{constructor(e){this._sanitizer=e}transform(e,t){switch(t){case"html":return this._sanitizer.bypassSecurityTrustHtml(e);case"style":return this._sanitizer.bypassSecurityTrustStyle(e);case"script":return this._sanitizer.bypassSecurityTrustScript(e);case"url":return this._sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this._sanitizer.bypassSecurityTrustResourceUrl(e);default:return this._sanitizer.bypassSecurityTrustHtml(e)}}static#e=this.\u0275fac=function(t){return new(t||St)(i.\u0275\u0275directiveInject(lr.DomSanitizer,16))};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"bypassSecurityTrust",type:St,pure:!0})}class On{static#e=this.\u0275fac=function(t){return new(t||On)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:On});static#n=this.\u0275inj=i.\u0275\u0275defineInjector({})}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(On,{declarations:[St],exports:[St]})})();const Wa={macrosName:"ResourceString",macrosHandler:function(r,e){if(!r)throw new Error("Context is not defined");if(!r.Resources?.Strings)throw new Error("Context does not contain property Resources.Strings");const t=r.Resources.Strings[e[0]];return t instanceof Promise?(0,l.from)(t):(0,l.of)(t)}};function Za(r){return{macrosName:"ResourceString",macrosHandler:function(e,t){if(e?.strings){for(const n of t){const s=e.strings[n];if(s)return(0,l.of)(r.findLocalizableValue(s))}throw new Error(`Localized resource string not found. ${t}`)}if(e?.Strings){for(const n of t){const s=e.Strings[n];if(s)return(0,l.from)(s)}throw new Error(`Localized string in ViewModel metadata not found. ${t}`)}return Wa.macrosHandler(e,t)}}}function Ka(r=!1){return{macrosName:"DataSourceEntityName",macrosHandler:(e,t)=>{if(!e)throw new Error("Context is not defined");let n=t[0],s;if(r)e.constructor.name==="BaseViewModel"?s=e.dataSchemas?.[n]?.dataSourceConfig?.config?.entitySchemaName:s=e.modelConfig?.dataSources?.[n]?.config?.entitySchemaName;else{n||(n=e.modelConfig.primaryDataSourceName);const a=e.modelConfig.dataSources?.[n];if(!a)throw new Error(`DataSource '${n}' is not defined`);s=a.config.entitySchemaName}return(0,l.of)(s)}}}function qa(r,e=!1){return{macrosName:"MacrosTemplateString",macrosHandler:(t,n)=>{const s=n.join(", "),a=/\[#([^\]]*)#\]/.test(s);return e||!a?(0,l.of)(s):r.getTemplate(s)}}}const Ln=new i.InjectionToken("MACROS_HANDLER");class Pe{constructor(e,t,n){this.handlers=e,this._featureValues=t,this._applicationInfo=n}get _includeProcessedHandlers(){return!!this._featureValues?.IncludeProcessedMacrosHandlers}_findClosingBracket(e,t){let n=t,s=1;for(;s>0&&n<e.length;){const a=e[++n];a==="("?s++:a===")"&&s--}return n}_getMacroses(e){const t=new Array;let n=e.indexOf("#");for(;n>=0;){const s=e.indexOf("(",n);if(s<0)return t;const a=this._findClosingBracket(e,s),c=e.indexOf("#",a);if(c<0)return t;t.push({macrosName:e.substring(n+1,s),macrosArgs:e.substring(s+1,a),macrosBody:e.substring(n,c+1)}),n=e.indexOf("#",c+1)}return t}_processMacroses({macroses:e,macrosNameFilter:t,context:n,options:s,value:a}){let c={...a};const u=d=>!!(t&&t!==d&&t.split(",").indexOf(d)===-1);return(0,l.forkJoin)({...e.map(({macrosName:d,macrosArgs:f,macrosBody:T})=>{if(u(d))return(0,l.of)(null);const v=this.getHandler(d);return v?this.internalHandle(f,n,t,s).pipe((0,h.switchMap)(q=>{const xs=v(n,`${q.value}`.split(",").map(Ue=>Ue.trim()));return(xs instanceof l.Observable?xs:(0,l.of)(xs)).pipe((0,h.catchError)(Ue=>(this._applicationInfo.isDebugEnabled&&console.warn(Ue),(0,l.of)(T))),(0,h.tap)(Ue=>{const zl=typeof Ue=="number"?Ue:Ue||"";c={isChanged:!0,value:c.value.replace(T,zl)}}))}),(0,h.catchError)(q=>(s&&s.errorHandler?s.errorHandler(q):this._applicationInfo.isDebugEnabled&&console.warn(q),(0,l.of)(T)))):(0,l.of)(null)}),default:(0,l.of)(null)}).pipe((0,h.map)(()=>c))}_forEachStringInObject(e,t,n=[],s=[]){if(!(e instanceof Object))return;const a=u=>!n.includes(u),c=(u,d)=>{typeof u=="string"?t(s.concat(d),u):typeof u=="object"&&u!==null&&(s.push(d),this._forEachStringInObject(u,t,n,s),s.pop())};if(e instanceof Map)for(const u of Array.from(e.keys()).filter(a))c(e.get(u),u);else Object.keys(e).filter(a).forEach(u=>{c(e[u],u)})}_set(e,t,n){const s=t.slice(),a=s.pop(),c=s.length===0?e:Ki(e,s);c&&(c[a]=n)}getHandler(e){return this.handlers.filter(t=>t.macrosName===e).pop()?.macrosHandler}internalHandle(e,t,n,s){const a={value:e,isChanged:!1};return(0,l.of)(a).pipe((0,h.switchMap)(u=>{if(typeof e!="string")return(0,l.of)(u);const d=this._getMacroses(e);return d.length?this._processMacroses({macroses:d,macrosNameFilter:n,context:t,options:s,value:a}):(0,l.of)(u)}))}handle(e,t){const n=(0,_.cloneDeep)(e);return(0,l.forkJoin)([...(0,o.objectDeepKeys)(n).map(s=>{const a=(0,_.get)(n,s);return this.internalHandle(a,t).pipe((0,h.tap)(({value:c})=>{(0,_.set)(n,s,c)}))}),(0,l.of)(null)]).pipe((0,h.map)(()=>n))}handleMarcos(...e){return this.handleMacros.call(this,...e)}handleResourceMacros(e,t,n){return this.handleMacros("MacrosTemplateString,ResourceString",(0,_.cloneDeep)(e),t,n)}handleMacros(e,t,n,s){const a=[(0,l.of)(null)];return this._forEachStringInObject(t,(c,u)=>{const d=this._getMacroses(u);if(!d.length)return;const f=this._processMacroses({macroses:d,context:n,options:s,macrosNameFilter:e,value:{isChanged:!1,value:u}}).pipe((0,h.tap)(T=>{T.isChanged!==!1&&(s?.setPropertyFn?s.setPropertyFn({source:t,keys:c,value:T.value}):this._set(t,c,T.value))}));a.push(f)},this._includeProcessedHandlers?[]:["__preprocessed"]),(0,l.forkJoin)(a).pipe((0,h.map)(()=>t))}static#e=this.\u0275fac=function(t){return new(t||Pe)(i.\u0275\u0275inject(Ln),i.\u0275\u0275inject(ze,8),i.\u0275\u0275inject(O))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Pe,factory:Pe.\u0275fac})}class Nn{static#e=this.\u0275fac=function(t){return new(t||Nn)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:Nn});static#n=this.\u0275inj=i.\u0275\u0275defineInjector({providers:[Pe,{provide:Ln,useFactory:Za,deps:[oe],multi:!0},{provide:Ln,useFactory:Ka,deps:[[new i.Optional,os]],multi:!0},{provide:Ln,useFactory:qa,deps:[Ye,[new i.Optional,os]],multi:!0}],imports:[A.CommonModule]})}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(Nn,{imports:[A.CommonModule]})})();var Ms=p(23710);class ol{_tryReplaceMacro(e,t){return t.indexOf(e)>-1?t.replace(e,Ms.generate()):t}_isAllowedStringProperty(e,t){return!t||t.length===0||t.includes(e)}_replaceGenerateNameMacro(e,t){Object.entries(e||{}).forEach(([n,s])=>{if(s instanceof Object){this._replaceGenerateNameMacro(s,t);return}if(Array.isArray(s)&&s.forEach(a=>{this._replaceGenerateNameMacro(a,t)}),typeof s=="string"&&this._isAllowedStringProperty(n,t)){const a=this._tryReplaceMacro(ti,s);e[n]=a}})}process(e,t){Ms.config({disableDefaultAlphabetLength:!0,disableDefaultIdLength:!0,idLength:7}),Ms.characters("0123456789abcdefghijklmnopqrstuvwxyz"),this._replaceGenerateNameMacro(e,t)}}class It{constructor(e){this._macrosHandlerService=e}transform(e,t,n){return t?this._macrosHandlerService.handleResourceMacros(e,t).pipe((0,h.map)(s=>s[n])):null}static#e=this.\u0275fac=function(t){return new(t||It)(i.\u0275\u0275directiveInject(Pe,16))};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"handleResourceMacros",type:It,pure:!0});static#n=this.\u0275prov=i.\u0275\u0275defineInjectable({token:It,factory:It.\u0275fac,providedIn:"root"})}class ne{constructor(e){this._emptyPlaceholderCreatorFactory=e}transform(e,t){return e==null||e===""?this._emptyPlaceholderCreatorFactory?.create(t)?.create(t)??"":e}static#e=this.\u0275fac=function(t){return new(t||ne)(i.\u0275\u0275directiveInject(as,16))};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"toEmptyPlaceholder",type:ne,pure:!0});static#n=this.\u0275prov=i.\u0275\u0275defineInjectable({token:ne,factory:ne.\u0275fac})}class Pn{static#e=this.\u0275fac=function(t){return new(t||Pn)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:Pn});static#n=this.\u0275inj=i.\u0275\u0275defineInjector({providers:[ne,ve,Ie,gi]})}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(Pn,{declarations:[ne],exports:[ne]})})();class vt{constructor(e){this._domSanitizer=e}transform(e){return this._domSanitizer.bypassSecurityTrustResourceUrl(e)}static#e=this.\u0275fac=function(t){return new(t||vt)(i.\u0275\u0275directiveInject(lr.DomSanitizer,16))};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"safeUrl",type:vt,pure:!0})}class Vn{static#e=this.\u0275fac=function(t){return new(t||Vn)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:Vn});static#n=this.\u0275inj=i.\u0275\u0275defineInjector({})}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(Vn,{declarations:[vt],exports:[vt]})})();class Ve{constructor(e){this._translate=e}transform(e){if(!e?.value)return null;const t=e?.displayValue||null;return e&&P.String.isNullOrWhiteSpace(t)?this._translate.instant("LookupFormat.EmptyDisplayValue"):t}static#e=this.\u0275fac=function(t){return new(t||Ve)(i.\u0275\u0275directiveInject(b.TranslateService,16))};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"lookupFormat",type:Ve,pure:!0});static#n=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}class re extends Er{constructor(e){super(e),this.defaultFormat={type:"sanitizeHtml"},this.formatsByDataTypeMap=new Map([])}isSupportedValue(e){return super.isSupportedValue(e)||typeof e=="number"||typeof e=="boolean"||typeof e=="bigint"||typeof e=="symbol"||e instanceof Date}static#e=this.\u0275fac=function(t){return new(t||re)(i.\u0275\u0275directiveInject($a,16))};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"sanitizeHtml",type:re,pure:!0});static#n=this.\u0275prov=i.\u0275\u0275defineInjectable({token:re,factory:re.\u0275fac,providedIn:"root"})}class Ct{constructor(e){this._injector=e}_sanitizeText(e,t){const n=this._injector.get(Ne),s=this._injector.get(re);return e=n.transform(e),e=s.transform(e,{mode:"textOnly",dataType:t}),e=n.transform(e),e}transform(e,t){const{dataType:n}=t??{};return tr.includes(n)?this._injector.get(K).transform(e,t):n===o.DataValueType.Lookup?this._injector.get(Ve).transform(e):Kr.includes(n)?this._injector.get(Z).transform(e,t):n===o.DataValueType.IMAGELOOKUP?"":typeof e=="string"?this._sanitizeText(e,n):e?.toString()}static#e=this.\u0275fac=function(t){return new(t||Ct)(i.\u0275\u0275directiveInject(i.Injector,16))};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"valueFormat",type:Ct,pure:!0});static#n=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ct,factory:Ct.\u0275fac,providedIn:"root"})}class he{constructor(e){this._injector=e,this._translationPrefix="SmartDateTimeFormat"}_getTranslationTemplate(e,t){const n=new Date;if(n.setDate(n.getDate()),n.toDateString()===e.toDateString())return t.instant(`${this._translationPrefix}.TodayAt`);const s=new Date;if(s.setDate(s.getDate()-1),s.toDateString()===e.toDateString())return t.instant(`${this._translationPrefix}.YesterdayAt`);const a=new Date;return a.setDate(a.getDate()-2),a.toDateString()===e.toDateString()?t.instant(`${this._translationPrefix}.DayBeforeYesterdayAt`):null}_canBeDate(e){return typeof e=="string"||typeof e=="number"||e instanceof Date}transform(e){if(this._canBeDate(e)){const t=new Date(e),n=this._injector.get(Z),s=this._injector.get(b.TranslateService),a=this._getTranslationTemplate(t,s),c={dataType:o.DataValueType.Time};if(a)return P.String.format(a,n.transform(t,c));{const u=s.instant(`${this._translationPrefix}.At`);return`${n.transform(t)} ${u} ${n.transform(t,c)}`}}return""}static#e=this.\u0275fac=function(t){return new(t||he)(i.\u0275\u0275directiveInject(i.Injector,16))};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"smartDateTimeFormat",type:he,pure:!0});static#n=this.\u0275prov=i.\u0275\u0275defineInjectable({token:he,factory:he.\u0275fac,providedIn:"root"})}class pe{constructor(e){this._translateService=e,this._minutesInHour=60,this._hoursInDay=24,this._daysInMonth=30,this._milisecondsInMinute=6e4,this._milisecondsInHour=this._milisecondsInMinute*this._minutesInHour,this._milisecondsInDay=this._milisecondsInHour*this._hoursInDay,this._milisecondsInMonth=this._milisecondsInDay*this._daysInMonth,this._translationPrefix="TimerDateTimeFormat",this._monthAbbreviation=this._translateService.instant(`${this._translationPrefix}.MonthAbbreviation`),this._daysAbbreviation=this._translateService.instant(`${this._translationPrefix}.DaysAbbreviation`),this._hoursAbbreviation=this._translateService.instant(`${this._translationPrefix}.HoursAbbreviation`),this._minutesAbbreviation=this._translateService.instant(`${this._translationPrefix}.MinutesAbbreviation`)}_getDisplayValue(e){const t=Math.floor(e/this._milisecondsInMinute),n=Math.floor(e/this._milisecondsInHour),s=Math.floor(e/this._milisecondsInDay),a=Math.floor(e/this._milisecondsInMonth),c="{0}{1} {2}{3}";if(a>0){const d=s%this._daysInMonth;return P.String.format(c,a,this._monthAbbreviation,d,this._daysAbbreviation)}if(s>0){const d=n%this._hoursInDay;return P.String.format(c,s,this._daysAbbreviation,d,this._hoursAbbreviation)}const u=t%this._minutesInHour;return P.String.format(c,n,this._hoursAbbreviation,u,this._minutesAbbreviation)}transform(e){return e?this._getDisplayValue(e):""}static#e=this.\u0275fac=function(t){return new(t||pe)(i.\u0275\u0275directiveInject(b.TranslateService,16))};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"timerDateTimeFormat",type:pe,pure:!0});static#n=this.\u0275prov=i.\u0275\u0275defineInjectable({token:pe,factory:pe.\u0275fac,providedIn:"root"})}var Zl=7,cl=365.2425,ul=Math.pow(10,8)*24*60*60*1e3,Xa=6e4,Kl=36e5,ll=1e3,ql=-ul,Xl=60,Yl=3,Jl=12,Ql=4,dl=3600,ed=60,Ya=dl*24,td=Ya*7,hl=Ya*cl,pl=hl/12,nd=pl*3;class bt{constructor(){this._maxMinutesValue=999,this._maxMinutesTemplate="...",this._maxValueForNormalization=10}_getDisplayValue(e){const t=Math.floor(e/Xa);if(t>this._maxMinutesValue)return this._maxMinutesTemplate;const n=Math.floor((e-t*Xa)/ll),s=[""];return this._addNormalizedTemplatePart(t,s),this._addTemplatePart(s,"{0}:"),this._addNormalizedTemplatePart(n,s),this._addTemplatePart(s,"{1}"),P.String.format(s.join(""),t,n)}_addTemplatePart(e,t){e.push(t)}_addNormalizedTemplatePart(e,t){e<this._maxValueForNormalization&&t.push("0")}transform(e){return e<0?"":this._getDisplayValue(e)}static#e=this.\u0275fac=function(t){return new(t||bt)};static#t=this.\u0275pipe=i.\u0275\u0275definePipe({name:"stopwatchDateTimeFormat",type:bt,pure:!0});static#n=this.\u0275prov=i.\u0275\u0275defineInjectable({token:bt,factory:bt.\u0275fac,providedIn:"root"})}class xn{static#e=this.\u0275fac=function(t){return new(t||xn)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:xn});static#n=this.\u0275inj=i.\u0275\u0275defineInjector({})}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(xn,{declarations:[Z,he,pe],exports:[Z,he,pe]})})();class kn{static#e=this.\u0275fac=function(t){return new(t||kn)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:kn});static#n=this.\u0275inj=i.\u0275\u0275defineInjector({})}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(kn,{declarations:[le],exports:[le]})})();class jn{static#e=this.\u0275fac=function(t){return new(t||jn)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:jn});static#n=this.\u0275inj=i.\u0275\u0275defineInjector({})}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(jn,{declarations:[re],exports:[re]})})();class Bn{static#e=this.\u0275fac=function(t){return new(t||Bn)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:Bn});static#n=this.\u0275inj=i.\u0275\u0275defineInjector({})}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(Bn,{declarations:[K],exports:[K]})})();var Ds;(function(r){r.Date="date",r.DateTime="datetime",r.Time="time"})(Ds||(Ds={}));class Un{static _createFormattersRegistrationMap(e){const t=new Map;return e=e??[],e.forEach(({predicat:n,formatter:s})=>{t.set(n,s)}),t}static forRoot(e){const t=e?.default??te,n=this._createFormattersRegistrationMap(e?.customs),s=n.values();return{ngModule:Un,providers:[t,...s,Tt,{provide:Rs,useClass:t},{provide:ws,useValue:n}]}}static#e=this.\u0275fac=function(t){return new(t||Un)};static#t=this.\u0275mod=i.\u0275\u0275defineNgModule({type:Un});static#n=this.\u0275inj=i.\u0275\u0275defineInjector({})}function fl(r){switch(r){case"asc":return o.OrderDirection.Asc;case"desc":return o.OrderDirection.Desc;default:return o.OrderDirection.None}}const ml=["asc","desc","none"];function gl(r){return ml.includes(r)}function yl(r,e,t){const n=r.find(a=>a.key===`${e.uId}.Caption`),s=new U;if(!n?.value||n.value.every(a=>!a.value)){const a={cultureName:t,value:e.name};s.push(a)}else n?.value.forEach(a=>{const c={cultureName:a.key,value:a.value};s.push(c)});return s}function _l(r){let e=!1;const t=[];return Object.keys(r).forEach(n=>{Ja(n,r)&&(e=!0,t.push(n))}),{hasCycles:e,cycledModelsNames:t}}function Ja(r,e,t=[]){if(!e[r])return!1;const n=Object.values(e[r]);return n.some(a=>t.includes(Qa(a)))?!0:(t.push(r),!n.every(a=>!Ja(Qa(a),e,t)))}function Qa(r){return r.relationPath.split(".")[0]}function Tl(r){return`${r}_List`}function El(r){return`${r}_BusinessRule_Filter`}const Sl=new i.InjectionToken("TRANSLATE_SERVICE_URI");class At{constructor(){this._document=(0,i.inject)(A.DOCUMENT),this._window=(0,i.inject)(m.WINDOW_TOKEN),this._availableMomentLocales=["af","ar-dz","ar-kw","ar-ly","ar-ma","ar-ps","ar-sa","ar-tn","ar","az","be","bg","bm","bn-bd","bn","bo","br","bs","ca","cs","cv","cy","da","de-at","de-ch","de","dv","el","en-au","en-ca","en-gb","en-ie","en-il","en-in","en-nz","en-sg","eo","es-do","es-mx","es-us","es","et","eu","fa","fi","fil","fo","fr-ca","fr-ch","fr","fy","ga","gd","gl","gom-deva","gom-latn","gu","he","hi","hr","hu","hy-am","id","is","it-ch","it","ja","jv","ka","kk","km","kn","ko","ku-kmr","ku","ky","lb","lo","lt","lv","me","mi","mk","ml","mn","mr","ms-my","ms","mt","my","nb","ne","nl-be","nl","nn","oc-lnc","pa-in","pl","pt-br","pt","ro","ru","sd","se","si","sk","sl","sq","sr-cyrl","sr","ss","sv","sw","ta","te","tet","tg","th","tk","tl-ph","tlh","tr","tzl","tzm-latn","tzm","ug-cn","uk","ur","uz-latn","uz","vi","x-pseudo","yo","zh-cn","zh-hk","zh-mo","zh-tw"]}_isDefaultLocale(e){return e==="en-us"||e==="en"}_normalizeLocales(e){const t=e.map(n=>this._normalizeLocale(n));return[...new Set(t)]}_normalizeLocale(e){return e.toLocaleLowerCase().replace("_","-")}_initializeGlobalMoment(){const e=this._window;e.moment=e.moment||p(30046)}_initializeLocalesFiles(e){return Promise.all(e.map(t=>this._initializeLocaleFile(t)))}_initializeLocaleFile(e){const t=this._getLocaleFileName(e);return t?this._loadLocaleFile(t):(console.error("Invalid moment locale: "+e),Promise.resolve())}_getLocaleFileName(e){let t;const n=e.split("-");for(let s=0,a=n.length;s<a;s++){const c=n.join("-");if(this._availableMomentLocales.indexOf(c)!==-1){t=c;break}n.pop()}return t}_loadLocaleFile(e){return new Promise(t=>{const n=this._document.createElement("script");n.src="./moment/locale/"+e+".js",n.type="text/javascript",n.onload=()=>t(),n.onerror=()=>{console.error("Error loading moment locale file: "+e),t()},this._document.head.appendChild(n)})}_getNormalizeAndNotDefaultLocales(e){return e=this._normalizeLocales(e),e.filter(t=>!this._isDefaultLocale(t))}initialize(e){var t=this;return(0,I.A)(function*(){if((0,_.isEmpty)(e)){console.warn("Moment locales are not specified");return}e=t._getNormalizeAndNotDefaultLocales(e),!(0,_.isEmpty)(e)&&(t._initializeGlobalMoment(),yield t._initializeLocalesFiles(e))})()}setCurrentMomentLocale(e){if(!e)return;this._initializeGlobalMoment(),this._window.moment.locale(e)}static#e=this.\u0275fac=function(t){return new(t||At)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:At,factory:At.\u0275fac,providedIn:"root"})}function Il(r){const e=r?.userInfo?.cultureInfo||{},t=e.sysCultureName,n=e.dateTimeFormat?.code;return{locales:[t,n].filter(Boolean),currentLocale:n??t}}function eo(r,e){return()=>(0,l.lastValueFrom)(e.loadCurrentUserInfo().pipe((0,l.map)(t=>Il(t)),(0,l.switchMap)(({locales:t,currentLocale:n})=>r.initialize(t).then(()=>n)),(0,l.tap)(t=>r.setCurrentMomentLocale(t))),{defaultValue:null})}const vl={provide:i.APP_INITIALIZER,useFactory:eo,deps:[At,X],multi:!0};class Fs{get permissions(){return this._permissions}constructor(e){this._permissions=e}hasNotConfiguredPermissionsItems(){return this._permissions.byOperations?.length>0||this._permissions.byRecords?.length>0}}class Hn{constructor(e){this._httpClient=e,this._serviceUrl="/rest/SectionService/"}getObjectsWithNotConfiguredPermissionsByEntityName(e){const t=this._serviceUrl+"GetNotAdministratedEntitiesByEntity";return this._httpClient.post(t,{entitySchemaName:e}).pipe((0,l.map)(n=>new Fs(n)))}getObjectsWithNotConfiguredPermissionsByPageSchemaUId(e){const t=this._serviceUrl+"GetNotAdministratedEntitiesByPage";return this._httpClient.post(t,{pageSchemaUId:e}).pipe((0,l.map)(n=>new Fs(n)))}setConnectedEntitiesAdministratedByEntity(e){const t=this._serviceUrl+"SetConnectedEntitiesAdministratedByEntity";return this._httpClient.post(t,{entitySchemaName:e})}setConnectedEntitiesRightsByPage(e){const t=this._serviceUrl+"SetConnectedEntitiesRightsByPage";return this._httpClient.post(t,{pageSchemaUId:e})}static#e=this.\u0275fac=function(t){return new(t||Hn)(i.\u0275\u0275inject(S.HttpClient))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Hn,factory:Hn.\u0275fac,providedIn:"root"})}const Cl={byOperations:["Account","Case"],byRecords:["Contact","Activity","Call","ServiceInServiceItem","Queue"]};class to{handleRequest(e,t={}){let n=e;return n=this.processResponse(t,n),n.pipe((0,h.catchError)(s=>{let a;return s instanceof Error?a=s.message:(typeof s.error?.errorInfo=="object"&&(a=s.error.errorInfo.message),typeof s.error=="string"&&(a=s.error)),a||(a=JSON.stringify(s.message)),this.processErrorMessage(a),(0,l.throwError)(()=>new Error(a))}))}processResponse(e,t){return e.skipUnsuccessfulResponse||(t=t.pipe((0,h.tap)(n=>this.processUnsuccessfulResponse(n)))),t}processUnsuccessfulResponse(e){const{success:t,errorInfo:n}=e||{};!t&&n&&this.processErrorMessage(n.message)}}class bl extends to{constructor(){super(...arguments),this._accumulatedErrorResponses=[]}_accumulateError(e){const t=(0,_.cloneDeep)(e);this._accumulatedErrorResponses.push(t)}_stopAccumulatingErrors(){this._accumulatedErrorResponses=[]}get accumulatedErrorResponses(){return this._accumulatedErrorResponses}processUnsuccessfulResponse(e){if(this._accumulateErrors&&this.canAccumulate(e)){this._accumulateError(e),this.processAccumulatedResponse(e);return}this.processSeparatedResponse(e)}handleRequestWithAccumulation(e,t){let n=!1;return this._accumulateErrors||(this._accumulateErrors=!0,n=!0),this.handleRequest(e,t).pipe((0,h.tap)(()=>{n&&(this.showAccumulatedErrors(),this._stopAccumulatingErrors())}),(0,h.catchError)(s=>{throw this._stopAccumulatingErrors(),s}))}}class Al{}class xe{static#e=this.dataValueTypeConvertRules={[o.DataValueType.DateTime]:{canConvertTo:[]},[o.DataValueType.Date]:{canConvertTo:[o.DataValueType.DateTime]},[o.DataValueType.Time]:{canConvertTo:[o.DataValueType.DateTime]},[o.DataValueType.SHORT_TEXT]:{canConvertTo:[o.DataValueType.PHONE_TEXT,o.DataValueType.WEB_TEXT,o.DataValueType.EMAIL_TEXT,o.DataValueType.MEDIUM_TEXT,o.DataValueType.LONG_TEXT,o.DataValueType.MAXSIZE_TEXT,o.DataValueType.RICH_TEXT]},[o.DataValueType.PHONE_TEXT]:{canConvertTo:[o.DataValueType.MEDIUM_TEXT,o.DataValueType.LONG_TEXT,o.DataValueType.MAXSIZE_TEXT,o.DataValueType.RICH_TEXT]},[o.DataValueType.WEB_TEXT]:{canConvertTo:[o.DataValueType.MEDIUM_TEXT,o.DataValueType.LONG_TEXT,o.DataValueType.MAXSIZE_TEXT,o.DataValueType.RICH_TEXT]},[o.DataValueType.EMAIL_TEXT]:{canConvertTo:[o.DataValueType.MEDIUM_TEXT,o.DataValueType.LONG_TEXT,o.DataValueType.MAXSIZE_TEXT,o.DataValueType.RICH_TEXT]},[o.DataValueType.MEDIUM_TEXT]:{canConvertTo:[o.DataValueType.LONG_TEXT,o.DataValueType.MAXSIZE_TEXT,o.DataValueType.RICH_TEXT]},[o.DataValueType.LONG_TEXT]:{canConvertTo:[o.DataValueType.MAXSIZE_TEXT,o.DataValueType.RICH_TEXT]},[o.DataValueType.MAXSIZE_TEXT]:{canConvertTo:[o.DataValueType.RICH_TEXT]},[o.DataValueType.Integer]:{canConvertTo:[o.DataValueType.FLOAT1,o.DataValueType.FLOAT2,o.DataValueType.FLOAT3,o.DataValueType.FLOAT4,o.DataValueType.FLOAT8,o.DataValueType.Money]},[o.DataValueType.FLOAT1]:{canConvertTo:[o.DataValueType.FLOAT2,o.DataValueType.FLOAT3,o.DataValueType.FLOAT4,o.DataValueType.FLOAT8,o.DataValueType.Money]},[o.DataValueType.FLOAT2]:{canConvertTo:[o.DataValueType.FLOAT3,o.DataValueType.FLOAT4,o.DataValueType.FLOAT8,o.DataValueType.Money]},[o.DataValueType.FLOAT3]:{canConvertTo:[o.DataValueType.FLOAT4,o.DataValueType.FLOAT8]},[o.DataValueType.FLOAT4]:{canConvertTo:[o.DataValueType.FLOAT8]},[o.DataValueType.FLOAT8]:{canConvertTo:[]},[o.DataValueType.Money]:{canConvertTo:[]}};static#t=this._changeColumnDataValueTypeGroup={DateTime:$.DateTime,Text:xe._removeItems($.Text,[o.DataValueType.Text,o.DataValueType.LOCALIZABLE_STRING]),Number:xe._removeItems($.Number,[o.DataValueType.Float]),RichText:[o.DataValueType.RICH_TEXT],PhoneText:xe._removeItems($.Text,[o.DataValueType.Text,o.DataValueType.SHORT_TEXT,o.DataValueType.LOCALIZABLE_STRING]),EmailText:xe._removeItems($.Text,[o.DataValueType.Text,o.DataValueType.SHORT_TEXT,o.DataValueType.LOCALIZABLE_STRING]),WebText:xe._removeItems($.Text,[o.DataValueType.Text,o.DataValueType.SHORT_TEXT,o.DataValueType.LOCALIZABLE_STRING])};static getDateTypeValueGroup(e){let t;switch(e){case o.DataValueType.Date:case o.DataValueType.Time:case o.DataValueType.DateTime:t=this._changeColumnDataValueTypeGroup.DateTime;break;case o.DataValueType.PHONE_TEXT:t=this._changeColumnDataValueTypeGroup.PhoneText;break;case o.DataValueType.WEB_TEXT:t=this._changeColumnDataValueTypeGroup.WebText;break;case o.DataValueType.EMAIL_TEXT:t=this._changeColumnDataValueTypeGroup.EmailText;break;case o.DataValueType.Text:case o.DataValueType.SHORT_TEXT:case o.DataValueType.MEDIUM_TEXT:case o.DataValueType.LONG_TEXT:case o.DataValueType.MAXSIZE_TEXT:t=this._changeColumnDataValueTypeGroup.Text;break;case o.DataValueType.RICH_TEXT:t=this._changeColumnDataValueTypeGroup.RichText;break;case o.DataValueType.Integer:case o.DataValueType.FLOAT1:case o.DataValueType.FLOAT2:case o.DataValueType.FLOAT3:case o.DataValueType.FLOAT4:case o.DataValueType.FLOAT8:case o.DataValueType.Money:t=this._changeColumnDataValueTypeGroup.Number;break;default:t=[]}return t.map(n=>ie[n])}static _removeItems(e,t){const n=[...e];return t.forEach(s=>{const a=n.indexOf(s);a>-1&&n.splice(a,1)}),n}static getAllowedChangeTypes(e){return this.getDateTypeValueGroup(e).filter(({type:n})=>n!==e)}static isPrecisionLost(e,t){return e===t?!1:!this.dataValueTypeConvertRules[e]?.canConvertTo.includes(t)}}class $n{createObserver(e,t,n){return new no(e,t,n)}static#e=this.\u0275fac=function(t){return new(t||$n)};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:$n,factory:$n.\u0275fac,providedIn:"root"})}class no{constructor(e,t,n){if(this._bottomBuffer=100,this._lastScrollMaxPosition=0,this._emitter=new i.EventEmitter,o.ValidationUtilities.checkArgumentEmpty("element",e),this._element=e,this._subscribeOnScroll(),n){if(n<=0)throw new Error(`Value of 'bottomBuffer' paramter must be positive, but actual value is ${n}.`);this._bottomBuffer=n}t&&this.subscribe(t)}_isWindowObserved(e){return!(this._element instanceof HTMLElement)}_scrolledToBottom(){const e=this._element,t=this._isWindowObserved(e)?e.document.documentElement.scrollTop:e.scrollTop,n=this._isWindowObserved(e)?e.document.body.scrollHeight:e.scrollHeight,s=this._isWindowObserved(e)?e.innerHeight:e.offsetHeight;if(!n||!s)return!1;const a=n-s-this._bottomBuffer;return this._lastScrollMaxPosition=t>this._lastScrollMaxPosition?t:this._lastScrollMaxPosition,this._lastScrollMaxPosition===t&&t>=a}_processScroll(){this._scrolledToBottom()&&this._emitter.emit()}_subscribeOnScroll(){this._eventListener=this._processScroll.bind(this),this._element.addEventListener("scroll",this._eventListener)}subscribe(e){this._emitter.subscribe(e)}resetScrollMaxPosition(){this._lastScrollMaxPosition=0}destroy(){this._element.removeEventListener("scroll",this._eventListener),this._element=null,this._emitter.unsubscribe()}}const ro=[o.DataValueType.Integer,o.DataValueType.Float,o.DataValueType.FLOAT1,o.DataValueType.FLOAT2,o.DataValueType.FLOAT3,o.DataValueType.FLOAT4,o.DataValueType.FLOAT8,o.DataValueType.Money],Rl=[...ro,o.DataValueType.Lookup,o.DataValueType.Text,o.DataValueType.LONG_TEXT,o.DataValueType.MAXSIZE_TEXT,o.DataValueType.MEDIUM_TEXT,o.DataValueType.SHORT_TEXT,o.DataValueType.PHONE_TEXT,o.DataValueType.WEB_TEXT,o.DataValueType.EMAIL_TEXT,o.DataValueType.RICH_TEXT];function wl(r){return r.attributeType!==o.DataSchemaAttributeType.AggregationAttribute&&r.usageType!==o.DataSchemaAttributeUsageType.None}function Ml(r){return!!r&&Rl.includes(r.dataValueType)&&wl(r)}function Dl(r){return ro.includes(r)}const Fl={},Ol={provide:cs,useFactory:()=>Fl};class Gn{constructor(e,t){this._window=e,this._windowPayloadValues=t,this._initializeEventType="initializeEvent",this._windowPayloadValuesEventType="windowPayloadValuesEvent"}_dispatchPayloadDataEvent(e,t){const n=new MessageEvent(this._windowPayloadValuesEventType,{data:e});t.dispatchEvent(n)}openWindowWithPayload(e,t,n){const s=this._window.open(e,n);s&&t&&s.addEventListener(this._initializeEventType,()=>this._dispatchPayloadDataEvent(t,s))}initializeWindowPayloadValues(){this._window.addEventListener(this._windowPayloadValuesEventType,e=>Object.assign(this._windowPayloadValues,e.data)),this._window.dispatchEvent(new Event(this._initializeEventType))}static#e=this.\u0275fac=function(t){return new(t||Gn)(i.\u0275\u0275inject(m.WINDOW_TOKEN),i.\u0275\u0275inject(cs))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Gn,factory:Gn.\u0275fac,providedIn:"root"})}const Ll="a29a3ba5-4b0d-de11-9a51-005056c00008",Nl="720b771c-e7a7-4f31-9cfb-52cd21c3739f";var Os;(function(r){r[r.Organization=0]="Organization",r[r.Division=1]="Division",r[r.Manager=2]="Manager",r[r.Team=3]="Team",r[r.User=4]="User",r[r.SelfServicePortalUser=5]="SelfServicePortalUser",r[r.FunctionalRole=6]="FunctionalRole",r[r.TechnicalUser=7]="TechnicalUser"})(Os||(Os={}));class Pl{}const Vl={DEFAULT:{id:"60abcb5d-bb5e-4e88-bdfa-79cfb7d17b06",caption:"Default",cssSelector:"default-theme",code:"default"},FREEDOM:{id:"b002bd94-d970-4637-bac2-54252e17a604",caption:"Freedom",cssSelector:"freedom-theme",code:"freedom"}},so={"group-of-people-tab-icon":"contact-group-icon","diagram-tab-icon":"diagram-icon","case-tab-icon":"message-warning-icon","empty-document-tab-icon":"document-new-icon","tiles-tab-icon":"tiles-icon","campaign-tab-icon":"horn-icon","task-tab-icon":"flag-icon","complete-document-tab-icon":"document-icon","calendar-tab-icon":"calendar-icon","home-tab-icon":"home-icon","support-tab-icon":"contact-call-center-icon","bell-tab-icon":"bell-icon","magnifying-glass-tab-icon":"magnifying-glass-icon","open-book-tab-icon":"book-open-icon","coins-tab-icon":"coins-icon","log-tab-icon":"log-icon","bag-tab-icon":"bag-icon","goal-tab-icon":"goal-icon","document-editing-tab-icon":"document-edit-icon","gift-tab-icon":"gift-icon","clock-tab-icon":"clock-icon","gantt-chart-tab-icon":"timeline-icon","problem-tab-icon":"problem-icon","checkbox-tab-icon":"checkbox-icon","chat-tab-icon":"feed-icon","flowchart-tab-icon":"flowchart-icon","phone-tab-icon":"phone-icon","star-tab-icon":"star-icon","star-outlined-icon":"star-icon","folder-tab-icon":"folder-icon","settings-tab-icon":"settings","lock-tab-icon":"lock","pen-tab-icon":"pen","email-tab-icon":"mail-icon","work-tab-icon":"work-icon","trolley-tab-icon":"trolley-icon","organizational-structure-tab-icon":"organizational-structure-icon","information-tab-icon":"info-icon","money-tab-icon":"money-icon","employee-tab-icon":"employee-icon","default-tab-icon":"contact-icon","feed-like":"like-icon","reload-button-icon":"reload-icon","clip-button-icon":"clip-icon","calculator-button-icon":"calculator-icon","sum-button-icon":"sum-icon","message-composer-checkmark":"checkmark-icon"};class io{}const ao=new i.InjectionToken("Represents a current application theme.",{factory:()=>{const r=(0,i.inject)(X),e=(0,i.inject)(i.Injector);return r.loadCurrentUserInfo().pipe((0,h.map)(()=>e.get(io)),(0,l.switchMap)(t=>t.getCurrentTheme()))}}),xl=new i.InjectionToken("Represents a default application theme.");function kl(r){return{provide:i.APP_INITIALIZER,useFactory:(e,t,n,s)=>(0,I.A)(function*(){const a=yield(0,l.firstValueFrom)(s);e.addSvgIconResolver(c=>{const u=so[c]??c;return t.bypassSecurityTrustResourceUrl(A.Location.joinWithSlash(n,`${r}/${a.code}/icons/${u}.svg`))})}),deps:[Vi.MatIconRegistry,lr.DomSanitizer,A.APP_BASE_HREF,ao],multi:!0}}class zn{static#e=this.rootLevel=0;constructor(e,t,n,s){this._id=e,this._value=t,this._level=n&&n.level+1||zn.rootLevel,this._parent=n,this._children=(s||new Array).map(a=>a&&new zn(a.id,a.value,this,a.children))}get id(){return this._id}get value(){return this._value}get level(){return this._level}get parent(){return this._parent}get children(){return this._children}findChild(e){return this.children.find(t=>t.id===e)}appendChild(e){this.children.push(e&&new zn(e.id,e.value,this,e.children))}removeChild(e){const t=this.children.findIndex(n=>n.id===e.id);this.children.splice(t,1)}toJSON(){return{id:this.id,value:this.value,level:this.level,parentId:this.parent?this.parent.id:null,children:this.children?this.children.map(e=>e.toJSON()):[]}}}function jl(r,e){return typeof r=="object"?r[e]:r}class Bl{constructor(){this.code=(0,o.generateGuid)(),this.message=(0,o.generateGuid)()}}const oo=new i.InjectionToken("Represents a string pattern of the translation key for validation error");class ke{constructor(e,t){this.translateService=e,this.errorTranslationKeyPattern=t}getLocalizableErrorMessage(e){const t=P.String.Format(this.errorTranslationKeyPattern,(0,_.upperFirst)(e.code)),n=this.translateService.instant(t),s=e.interpolateParams||[];return P.String.Format(n,...s)}translateErrorMessage(e){e.message=this.getLocalizableErrorMessage(e)}static#e=this.\u0275fac=function(t){return new(t||ke)(i.\u0275\u0275inject(b.TranslateService),i.\u0275\u0275inject(oo))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:ke,factory:ke.\u0275fac,providedIn:"root"})}class Ls{}class Rt{constructor(e=[]){this.errors=e}static createSuccess(){return new Rt}static createError(e){return new Rt(e)}static unionResults(...e){const t=e.map(n=>n?.errors||[]).reduce((n,s)=>n.concat(s),[]);return new Rt(t)}get success(){return!(this.errors&&this.errors.length>0)}}const Ns=new i.InjectionToken("Represents a collection of validators");class wt extends Ls{constructor(e){super(),this._validators=e}validate(e){const n=this._validators.map(s=>s.validate(e)).map(s=>s.errors).reduce((s,a)=>s.concat(a),[]);return new Rt(n)}static#e=this.\u0275fac=function(t){return new(t||wt)(i.\u0275\u0275inject(Ns))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:wt,factory:wt.\u0275fac})}class Wn extends wt{constructor(e,t){super(e),this._validationErrorTranslateService=t}validate(e){const t=super.validate(e);return t.errors.forEach(n=>{this._validationErrorTranslateService.translateErrorMessage(n)}),t}static#e=this.\u0275fac=function(t){return new(t||Wn)(i.\u0275\u0275inject(Ns),i.\u0275\u0275inject(ke))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Wn,factory:Wn.\u0275fac})}class Ul extends ke{constructor(){super(null,null),this.id=(0,o.generateGuid)()}}class Hl extends Ls{validate(e){throw new Error("Method not implemented.")}}var co=p(56711);class $l{static schemaNameValidator(){return co.Validators.pattern(/^[a-zA-Z]+[a-zA-Z0-9._]*$/)}static linkValidator(){return co.Validators.pattern(/^[A-Za-z][A-Za-z\d.+-]*:\/*(?:\w+(?::\w+)?@)?[^\s/]+(?::\d+)?(?:\/[\w#!:.?+=&%@\-/]*)?$/)}static debounceValidator(e){return t=>(0,l.timer)(400).pipe((0,h.switchMap)(()=>e(t.value)))}static requiredWithPrefix(e){return t=>{const n=t.value,s=n?.startsWith(e);return e&&s?n.replace(e,"")?null:{requiredWithPrefix:{prefix:e}}:null}}static prefix(e){return t=>e&&!t.value?.startsWith(e)?{prefix:{requiredPrefix:e}}:null}static duplicate(e){return t=>{if(e){const n=e.map(a=>a.toLowerCase()),s=t.value?.toLowerCase();if(n.some(a=>s===a))return{duplicate:!0}}return null}}static duplicateAsync(e){return t=>e.pipe((0,h.map)(n=>{if(n){const s=n.map(c=>c.toLowerCase()),a=t.value?.toLowerCase();if(s.some(c=>a===c))return{duplicate:!0}}return null}))}}var Ir;(function(r){r.Root="root",r.Angular="angular",r.ExecutionTracking="executionTracking"})(Ir||(Ir={}));var je;(function(r){r.Root="root",r.Angular="angular"})(je||(je={}));class uo{constructor(e){this.ngZone=e}run(e,t,n){return this.ngZone.runOutsideAngular(e)}}class Gl extends uo{constructor(e){super(e)}run(e,t,n){return this.ngZone.run(e,t,n)}}class Be{constructor(e){this._ngZone=e}createDefaultZones(){return{root:new uo(this._ngZone),angular:new Gl(this._ngZone)}}createZone(e,t){if(t===Ir.ExecutionTracking)return new Cs(e);throw new Error(`Zone ${e} with type ${t} is not supported`)}static#e=this.\u0275fac=function(t){return new(t||Be)(i.\u0275\u0275inject(i.NgZone))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:Be,factory:Be.\u0275fac,providedIn:"root"})}let Ps=class br{constructor(e){this._zoneProvider=e,this._zones=e.createDefaultZones()}init(e){var t=this;return(0,I.A)(function*(){t._disableExecutionTrackingZone=yield(0,l.lastValueFrom)(e("DisableExecutionTrackingZone"))})()}runInZone(e,t,n,s){return this._disableExecutionTrackingZone&&e!==je.Angular&&(e=je.Root),(this._zones[e]??this._zones[je.Root]).run(t,n,s)}register(e,t){if(this._zones[e])throw new Error(`Zone ${e} already registered`);const n=this._zoneProvider.createZone(e,t);return this._zones[e]=n,n}get(e){return this._zones[e]}runOutside(e){return this.runInZone(je.Root,e)}static#e=this.\u0275fac=function(t){return new(t||br)(i.\u0275\u0275inject(Be))};static#t=this.\u0275prov=i.\u0275\u0275defineInjectable({token:br,factory:br.\u0275fac,providedIn:"root"})};Ps=(0,E.__decorate)([(0,m.CrtHandlerChainAdapter)({requestType:"crt.ZoneService"}),(0,E.__metadata)("design:paramtypes",[Be])],Ps);var Vs;(function(r){r.User="User",r.Record="Record"})(Vs||(Vs={}))},78683:y=>{y.exports=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0 1.49845H0.783829V4.00128H2.48383V0.000488281H0V1.49845Z" fill="#FF4013"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M14 1.00089H5.08699V3.00089H14V1.00089ZM14 6.00052H5.08699V8.00052H14V6.00052ZM0 12.7274V13.9998H3.19044V9.99979H0V11.1761H1.5V11.5073H0.75V12.3962H1.5V12.7274H0ZM14 10.9998H5.08699V12.9998H14V10.9998Z" fill="#FF4013"/>
<path d="M2.14577e-05 7.56383V8.99972L3.15902 8.99977V7.56383L2.26167 7.56378L3.15902 6.86625L3.15902 5.00135L2.14577e-05 5.00128L0 6.43327H1.5L2.14577e-05 7.56383Z" fill="#FF4013"/>
</svg>
`},36659:y=>{y.exports=`<svg id="Boolean_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Rectangle_12" transform="translate(1 1)" fill="none" stroke="#ff4013" stroke-width="2"><rect width="14" height="14" stroke="none"/><rect x="1" y="1" width="12" height="12" fill="none"/></g><path id="Path_30" d="M10.5,4.5,5.912,9,4,7.162" transform="translate(1 0.5)" fill="rgba(0,0,0,0)" stroke="#ff4013" stroke-width="2"/></svg>
`},39078:y=>{y.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M8.183.779c2.084.007 2.813.35 4.468 1.861l-1.875 2.424-2.95-1.229Z" fill="#ff1c06"/><path d="M7.643 14.846c-2.083-.006-2.813-.35-4.467-1.861l1.875-2.424L8 11.79Z" fill="#ffc6b8"/><path d="M15.024 8.156c-.064 2.22-.431 3.006-2 4.809l-2.4-1.931 1.322-3.175Z" fill="#ff4013"/><path d="M13.074 3.143c1.5 1.443 1.8 2.195 1.949 4.431l-3.03.46-1.286-2.925Z" fill="#ff320e"/><path d="M3.224 12.86c-1.5-1.443-1.795-2.195-1.948-4.43l3.029-.46 1.287 2.925Z" fill="#ffe8e3"/><path d="M12.999 12.98c-1.578 1.562-2.386 1.878-4.769 2.1l-.4-3.055 3.149-1.384Z" fill="#ff795a"/><g transform="translate(-798.326 92.909)" fill="none"><path d="M798.326-92.909h16v16h-16z"/><circle cx="7" cy="7" r="7" transform="translate(799.326 -91.909)" stroke="#ff4013" stroke-width="2"/><circle cx="3" cy="3" r="3" transform="translate(803.326 -87.909)" stroke="#ff4013" stroke-width="2"/><g stroke="#ff4013" stroke-width="2"><path d="M806.326-81.454v3.686"/><path d="M806.326-88.519v-3.386"/><path d="M803.211-84.909h-3.685"/><path d="M812.826-84.909h-3.387"/><path d="M804.126-87.162c-.8-.8-2.306-2.252-3.1-3.05"/><path d="M811.628-79.605c-.729-.73-2.31-2.2-3.04-2.926"/><path d="m804.02-82.6-3 3"/><path d="m811.629-90.213-3.088 2.978"/></g></g></svg>
`},26861:y=>{y.exports=`<svg id="Date_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Rectangle_6448" transform="translate(1 3)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><rect width="14" height="12" stroke="none"/><rect x="1" y="1" width="12" height="10" fill="none"/></g><line id="Line_764" x2="12" transform="translate(2 7)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_11729" d="M176.171,1073.754v3" transform="translate(-171.171 -1072.754)" fill="none" stroke="#ff4013" stroke-width="2"/><path id="Path_11730" d="M176.171,1073.754v3" transform="translate(-165.171 -1072.754)" fill="none" stroke="#ff4013" stroke-width="2"/></svg>
`},55146:y=>{y.exports=`<svg id="Datetime_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g id="Icon_left_panel_date_time_16x16_heavy" transform="translate(0)"><rect id="Rectangle_6448" width="16" height="16" fill="none"/><path id="Path_6271" d="M1895.033,260.278h-4.149v-9h12v2" transform="translate(-1889.884 -248.278)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7772" d="M0,0H4.5" transform="translate(1 6)" fill="none" stroke="#ff4013" stroke-width="2"/><line id="Line_771" y2="4" transform="translate(4)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><line id="Line_772" y2="4" transform="translate(10)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><g id="Path_6272" transform="translate(-1889.764 -248.582)" fill="none" stroke-miterlimit="10"><path d="M1905.764,258.584a5,5,0,1,1-5-5A5,5,0,0,1,1905.764,258.584Z" stroke="none"/><path d="M 1900.7626953125 261.5840454101562 C 1902.417602539062 261.5840454101562 1903.763916015625 260.23828125 1903.763916015625 258.5840759277344 C 1903.763916015625 256.9292602539062 1902.417602539062 255.5829772949219 1900.7626953125 255.5829772949219 C 1899.109130859375 255.5829772949219 1897.763916015625 256.9292602539062 1897.763916015625 258.5840759277344 C 1897.763916015625 260.23828125 1899.109130859375 261.5840454101562 1900.7626953125 261.5840454101562 M 1900.7626953125 263.5840454101562 C 1898.000244140625 263.5840454101562 1895.763916015625 261.3454284667969 1895.763916015625 258.5840759277344 C 1895.763916015625 255.8215942382812 1898.000244140625 253.5829772949219 1900.7626953125 253.5829772949219 C 1903.524169921875 253.5829772949219 1905.763916015625 255.8215942382812 1905.763916015625 258.5840759277344 C 1905.763916015625 261.3454284667969 1903.524169921875 263.5840454101562 1900.7626953125 263.5840454101562 Z" stroke="none" fill="#ff4013"/></g><path id="Path_6273" d="M1900.1,255.194v4h2.5" transform="translate(-1889.098 -249.194)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></g></svg>
`},71011:y=>{y.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M2 3.5H14V12C14 12.1326 13.9473 12.2598 13.8536 12.3536C13.7598 12.4473 13.6326 12.5 13.5 12.5H2.5C2.36739 12.5 2.24021 12.4473 2.14645 12.3536C2.05268 12.2598 2 12.1326 2 12V3.5Z" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M14 3.5L8 9L2 3.5" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`},55039:y=>{y.exports=`<svg id="File_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Group_7055" transform="translate(-733.278 92.545)"><g id="Rectangle_6454" transform="translate(735.278 -91.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><rect width="12" height="14" stroke="none"/><rect x="1" y="1" width="10" height="12" fill="none"/></g><line id="Line_774" x2="6" transform="translate(738.278 -87.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><line id="Line_775" x2="6" transform="translate(738.278 -84.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><line id="Line_777" x2="4" transform="translate(738.278 -81.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></g></svg>
`},68877:y=>{y.exports=`<svg id="Float_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g id="Group_14515" transform="translate(-144 -422)"><rect id="Rectangle_39433" width="16" height="16" transform="translate(144 422)" fill="none"/></g><path id="Path_11302" d="M6.957-4.64a6.469,6.469,0,0,1-.8,3.6A2.764,2.764,0,0,1,3.707.127,2.732,2.732,0,0,1,1.285-1.079,6.377,6.377,0,0,1,.47-4.64a6.53,6.53,0,0,1,.793-3.621A2.752,2.752,0,0,1,3.707-9.426,2.739,2.739,0,0,1,6.135-8.208,6.39,6.39,0,0,1,6.957-4.64Zm-4.539,0a7.22,7.22,0,0,0,.3,2.447,1.022,1.022,0,0,0,.993.74A1.033,1.033,0,0,0,4.7-2.2,7.02,7.02,0,0,0,5-4.64a7,7,0,0,0-.308-2.453,1.034,1.034,0,0,0-.987-.746,1.025,1.025,0,0,0-.99.746A7.208,7.208,0,0,0,2.418-4.64ZM7.759-.908a1.064,1.064,0,0,1,.286-.806,1.158,1.158,0,0,1,.832-.273,1.125,1.125,0,0,1,.816.279,1.061,1.061,0,0,1,.289.8,1.061,1.061,0,0,1-.292.79,1.105,1.105,0,0,1-.812.289,1.138,1.138,0,0,1-.825-.282A1.057,1.057,0,0,1,7.759-.908ZM13.69,0H11.728V-5.37l.019-.882.032-.965q-.489.489-.679.641l-1.066.857L9.088-6.9l2.99-2.38H13.69Z" transform="translate(0.53 12.426)" fill="#ff4013"/></svg>
`},92458:y=>{y.exports=`<svg id="Guid_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_42308" width="16" height="16" fill="none"/><path id="Path_11737" d="M1.162,0H3.43V-9.8H1.162Zm9.926-10.388v3.654a2.894,2.894,0,0,0-2.254-.91A3.661,3.661,0,0,0,5.068-3.766,3.661,3.661,0,0,0,8.834.112a2.9,2.9,0,0,0,2.352-.98V0h2.086V-10.388ZM9.212-1.68A1.911,1.911,0,0,1,7.28-3.766,1.911,1.911,0,0,1,9.212-5.852,1.908,1.908,0,0,1,11.13-3.766,1.908,1.908,0,0,1,9.212-1.68Z" transform="translate(0.838 13)" fill="#ff4013" stroke="rgba(0,0,0,0)" stroke-width="1"/></svg>
`},65689:y=>{y.exports=`<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_1742_819)">
<path d="M10.913 8.99277L7.40833 13.0074H13.0074V11.2395L10.913 8.99277ZM10.8641 6.00745L15.0074 10.4519V15.0074H3.00745L10.8641 6.00745Z" fill="#ff4013"/>
<path d="M3.43597 9.72806C2.87697 10.2871 2.20496 9.92807 1.64496 9.37007C1.08596 8.81107 0.726988 8.13807 1.28699 7.57907L3.07794 5.78806C3.63694 5.22906 4.30898 5.58806 4.86798 6.14606C5.42798 6.70506 5.78595 7.37706 5.22595 7.93706L3.43597 9.72806Z" stroke="#ff4013" stroke-width="2" stroke-miterlimit="10"/>
<path d="M7.93689 5.22705C7.37689 5.78605 6.70591 5.42704 6.14691 4.86804C5.58691 4.30904 5.22894 3.63704 5.78894 3.07804L7.57892 1.28704C8.13892 0.728043 8.80993 1.08704 9.36993 1.64604C9.92993 2.20504 10.2879 2.87704 9.72888 3.43704L7.93689 5.22705Z" stroke="#ff4013" stroke-width="2" stroke-miterlimit="10"/>
<path d="M4.70691 6.51907L6.51791 4.70807" stroke="#ff4013" stroke-width="2"/>
<path d="M11.301 2.00702H14.0079V14.007H2.00793V11.581" stroke="#ff4013" stroke-width="2"/>
</g>
<defs>
<clipPath id="clip0_1742_819">
<rect width="16.007" height="16.007" fill="#ff4013"/>
</clipPath>
</defs>
</svg>
`},60521:y=>{y.exports=`<svg id="Integer_icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M8.99433 4.65198C9.48732 5.09802 9.74027 5.69781 9.74027 6.39946C9.74027 7.11039 9.46186 7.74386 8.95863 8.29085L8.95331 8.29664C8.68048 8.58037 8.17318 8.98047 7.44252 9.47417L7.44143 9.4749C7.00788 9.76552 6.67964 10.0338 6.4484 10.2773C6.39755 10.3308 6.35224 10.3822 6.31202 10.4316H9.03463C9.42976 10.4316 9.75009 10.7519 9.75009 11.1471C9.75009 11.5422 9.42976 11.8625 9.03463 11.8625H4.36201V11.5055C4.36201 10.774 4.62396 10.1113 5.14954 9.53003C5.45393 9.18287 5.98212 8.74216 6.73359 8.22779C7.28336 7.835 7.61754 7.57002 7.77738 7.40238C8.08169 7.07198 8.22096 6.73348 8.22096 6.38964C8.22096 6.03409 8.11952 5.81409 7.95289 5.66027C7.78277 5.50324 7.51683 5.40148 7.12478 5.40148C6.72877 5.40148 6.47218 5.52561 6.29884 5.75228L6.29169 5.76164L6.28392 5.77051C6.13055 5.94579 6.0142 6.20942 5.96505 6.5873C5.91679 6.95826 5.61042 7.29659 5.18377 7.29659C4.7751 7.29659 4.39395 6.95656 4.44447 6.49553C4.51728 5.83108 4.75991 5.26428 5.17392 4.82141C5.68203 4.26788 6.36125 4 7.15424 4C7.87626 4 8.49451 4.21025 8.99122 4.6492L8.99433 4.65198ZM14.8743 4.5961C15.3635 5.01371 15.6083 5.57814 15.6083 6.262C15.6083 6.71398 15.4974 7.12093 15.2526 7.45671C15.1531 7.59318 15.0352 7.71289 14.9008 7.81669C15.0605 7.92572 15.2015 8.0545 15.3211 8.20545C15.6165 8.55303 15.7556 8.98069 15.7556 9.46307C15.7556 10.1963 15.4914 10.8144 14.9713 11.2883C14.4419 11.7715 13.7612 12 12.9634 12C12.2299 12 11.6078 11.8045 11.1119 11.4124L11.1064 11.408C10.628 11.014 10.3332 10.4794 10.2052 9.83055C10.1107 9.35139 10.5042 8.97835 10.9288 8.97835C11.3492 8.97835 11.6378 9.30727 11.7079 9.64478C11.7693 9.94025 11.9002 10.158 12.0891 10.3154C12.3147 10.495 12.5969 10.5985 12.9634 10.5985C13.3872 10.5985 13.6961 10.4769 13.9229 10.2668C14.1282 10.0596 14.2363 9.80805 14.2363 9.49253C14.2363 9.15687 14.1319 8.93882 13.9486 8.7817C13.7609 8.62082 13.483 8.52399 13.0419 8.52399H12.7866C12.4159 8.52399 12.1154 8.22345 12.1154 7.85271C12.1154 7.48197 12.4159 7.18143 12.7866 7.18143H13.0125C13.4306 7.18143 13.6903 7.08609 13.85 6.9535C14.0037 6.81675 14.0989 6.61783 14.0989 6.31109C14.0989 6.00164 14.0017 5.79895 13.8513 5.66111L13.8504 5.66027C13.6842 5.50686 13.4217 5.4113 13.0223 5.4113C12.6106 5.4113 12.3484 5.51295 12.1702 5.68456L12.1656 5.68906C12.0215 5.82278 11.914 6.00455 11.8495 6.25293C11.766 6.57474 11.481 6.87436 11.0816 6.87436C10.6572 6.87436 10.2506 6.49494 10.3668 6.00508C10.4953 5.4634 10.7597 5.01133 11.1524 4.66211C11.6438 4.20736 12.2763 4 13.0125 4C13.739 4 14.3777 4.18225 14.8711 4.59337L14.8743 4.5961ZM3.41307 4.92822V11.1029C3.41307 11.5224 3.07297 11.8625 2.65342 11.8625C2.23388 11.8625 1.89377 11.5224 1.89377 11.1029V6.23307C1.68552 6.37174 1.46266 6.49124 1.22573 6.59268C0.723506 6.80771 0.244141 6.40276 0.244141 5.92406C0.244141 5.5872 0.467589 5.3135 0.755873 5.2089C0.963927 5.13341 1.17934 5.03405 1.39555 4.90741C1.64533 4.74519 1.85627 4.57307 2.04007 4.3863C2.18718 4.23681 2.39336 4.13748 2.62233 4.13748C3.05905 4.13748 3.41307 4.4915 3.41307 4.92822Z" fill="#ff4013"/>
</svg>
`},61631:y=>{y.exports=`<svg id="Lookup_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g id="Group_6916" transform="translate(2.277 2)"><g id="Group_6915" transform="translate(-0.277)"><circle id="Ellipse_237" cx="4.5" cy="4.5" r="4.5" fill="none" stroke="#ff4013" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path id="Path_6243" d="M.344.344,4.123,4.123" transform="translate(7.877 7.876)" fill="none" stroke="#ff4013" stroke-width="2"/></g></g><rect id="Rectangle_24756" width="16" height="16" fill="none"/></svg>
`},32643:y=>{y.exports=`<svg id="Money_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><path id="Path_7070" d="M-318.645,863.293h-6v-8h14v4" transform="translate(325.645 -852.293)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7071" d="M-322.646,855.292a2,2,0,0,1-2,2" transform="translate(326.646 -851.292)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7072" d="M-312.246,857.292a2,2,0,0,1-2-2" transform="translate(326.246 -851.292)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7073" d="M-324.646,861.692a2,2,0,0,1,2,2" transform="translate(326.646 -853.692)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><g id="Ellipse_1363" transform="translate(6 5)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><circle cx="2" cy="2" r="2" stroke="none"/><circle cx="2" cy="2" r="1" fill="none"/></g><path id="Path_7074" d="M-310.846,861.425c0,.737-1.12,1.333-2.5,1.333s-2.5-.6-2.5-1.333,1.12-1.333,2.5-1.333S-310.846,860.69-310.846,861.425Z" transform="translate(325.846 -851.092)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7075" d="M-310.846,863.292c0,.589-1.12,1.333-2.5,1.333s-2.5-.744-2.5-1.333" transform="translate(325.846 -850.292)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></svg>
`},59155:y=>{y.exports=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5.3353 1.83815L6.26378 1.46676L6.26378 1.46676L5.3353 1.83815ZM6.03813 3.59524L5.10965 3.96663L5.10965 3.96663L6.03813 3.59524ZM5.82454 4.94398L5.05632 4.3038L5.0563 4.30383L5.82454 4.94398ZM5.44629 5.39792L6.21451 6.03811L6.21453 6.03808L5.44629 5.39792ZM5.52758 7.19434L4.82047 7.90144L4.8205 7.90147L5.52758 7.19434ZM6.8057 8.47236L7.5128 7.76526L7.51278 7.76523L6.8057 8.47236ZM8.60205 8.55382L7.96198 7.7855L7.96187 7.78559L8.60205 8.55382ZM9.05613 8.17554L9.69619 8.94386L9.69631 8.94376L9.05613 8.17554ZM10.4048 7.96192L10.7762 7.03345L10.7761 7.03344L10.4048 7.96192ZM12.1617 8.66476L11.7903 9.59322L11.7903 9.59323L12.1617 8.66476ZM12.9999 9.90268H11.9999V9.90272L12.9999 9.90268ZM13 11.7369H14V11.7368L13 11.7369ZM4.09733 2C4.23363 2 4.3562 2.08298 4.40682 2.20954L6.26378 1.46676C5.90943 0.580885 5.05144 0 4.09733 0V2ZM4.40682 2.20953L5.10965 3.96663L6.96661 3.22386L6.26378 1.46676L4.40682 2.20953ZM5.10965 3.96663C5.15517 4.08044 5.13462 4.20985 5.05632 4.3038L6.59277 5.58417C7.14152 4.92566 7.28485 4.01947 6.96661 3.22385L5.10965 3.96663ZM5.0563 4.30383L4.67804 4.75777L6.21453 6.03808L6.59279 5.58414L5.0563 4.30383ZM4.67807 4.75774C3.90567 5.68462 3.96693 7.0479 4.82047 7.90144L6.23468 6.48723C6.11298 6.36552 6.10396 6.17076 6.21451 6.03811L4.67807 4.75774ZM4.8205 7.90147L6.09862 9.17949L7.51278 7.76523L6.23466 6.4872L4.8205 7.90147ZM6.09859 9.17947C6.95196 10.0328 8.31517 10.0946 9.24224 9.32204L7.96187 7.78559C7.82939 7.89599 7.63468 7.88713 7.5128 7.76526L6.09859 9.17947ZM9.24212 9.32213L9.69619 8.94386L8.41606 7.40722L7.96198 7.7855L9.24212 9.32213ZM9.69631 8.94376C9.79033 8.86541 9.91963 8.8449 10.0334 8.8904L10.7761 7.03344C9.98045 6.71516 9.07438 6.85861 8.41594 7.40732L9.69631 8.94376ZM10.0333 8.89039L11.7903 9.59322L12.5331 7.73629L10.7762 7.03345L10.0333 8.89039ZM11.7903 9.59323C11.917 9.64389 11.9999 9.76649 11.9999 9.90268H13.9999C13.9999 8.94847 13.4189 8.09059 12.5331 7.73628L11.7903 9.59323ZM11.9999 9.90272L12 11.7369L14 11.7368L13.9999 9.90264L11.9999 9.90272ZM12 11.7369C12 11.8823 11.8822 12 11.737 12V14C12.987 14 14 12.9867 14 11.7369H12ZM11.737 12C6.35945 12 2 7.64067 2 2.26318H0C0 8.74528 5.25492 14 11.737 14V12ZM2 2.26318C2 2.11782 2.11785 2 2.26316 2V0C1.01322 0 0 1.0133 0 2.26318H2ZM2.26316 2H4.09733V0H2.26316V2Z" fill="#FF4013"/>
</svg>
`},67021:y=>{y.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13 1H3C1.89543 1 1 1.89543 1 3V13C1 14.1046 1.89543 15 3 15H13C14.1046 15 15 14.1046 15 13V3C15 1.89543 14.1046 1 13 1Z" stroke="#FF4013" stroke-width="2" stroke-miterlimit="10"/>
<path d="M9 12H7V6H4V4H12V6H9V12Z" fill="#FF4013"/>
</svg>
`},28010:y=>{y.exports=`<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.14 6.90901C5.13775 7.50618 5.25259 8.098 5.478 8.65101L1.5 12.629V15.229H4.1V13.669H5.66V12.109H7.22L8.078 11.251C8.631 11.4764 9.22282 11.5912 9.82 11.589C10.7456 11.589 11.6504 11.3145 12.4201 10.8003C13.1897 10.286 13.7895 9.55512 14.1438 8.69996C14.498 7.84481 14.5907 6.90381 14.4101 5.99598C14.2295 5.08815 13.7838 4.25426 13.1293 3.59975C12.4747 2.94524 11.6409 2.49951 10.733 2.31893C9.82519 2.13835 8.8842 2.23103 8.02904 2.58525C7.17388 2.93947 6.44297 3.53932 5.92872 4.30894C5.41448 5.07856 5.14 5.98339 5.14 6.90901ZM12.4832 5.95178C12.4832 6.84671 11.7577 7.57221 10.8628 7.57221C9.96785 7.57221 9.24236 6.84671 9.24236 5.95178C9.24236 5.05684 9.96785 4.33135 10.8628 4.33135C11.7577 4.33135 12.4832 5.05684 12.4832 5.95178Z" fill="#FF4013"/>
</svg>
`},97180:y=>{y.exports=`<svg id="Text_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_39432" width="16" height="16" fill="none"/><path id="Path_11304" d="M5.113,0H2.994V-8.23H.28V-9.994H7.827V-8.23H5.113Z" transform="translate(4 13)" fill="#ff4013"/></svg>
`},8510:y=>{y.exports=`<svg id="Time_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Ellipse_1346" transform="translate(1 1)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><circle cx="7" cy="7" r="7" stroke="none"/><circle cx="7" cy="7" r="6" fill="none"/></g><path id="Path_6908" d="M1824.814,31.345v6h3" transform="translate(-1816.814 -29.345)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></svg>
`},64337:y=>{y.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14Z" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M2 8H14" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M8 13.8375C9.38071 13.8375 10.5 11.2239 10.5 7.99998C10.5 4.77601 9.38071 2.16248 8 2.16248C6.61929 2.16248 5.5 4.77601 5.5 7.99998C5.5 11.2239 6.61929 13.8375 8 13.8375Z" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`},73308:(y,Zn,p)=>{p.d(Zn,{A:()=>F});function Kn(Mt,Dt,fe,E,o,b,m){try{var S=Mt[b](m),i=S.value}catch(l){fe(l);return}S.done?Dt(i):Promise.resolve(i).then(E,o)}function F(Mt){return function(){var Dt=this,fe=arguments;return new Promise(function(E,o){var b=Mt.apply(Dt,fe);function m(i){Kn(b,E,o,m,S,"next",i)}function S(i){Kn(b,E,o,m,S,"throw",i)}m(void 0)})}}}}]);
