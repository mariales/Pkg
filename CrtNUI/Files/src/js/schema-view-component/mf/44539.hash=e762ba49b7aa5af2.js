(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[44539],{44539:(Ke,fe,h)=>{h.r(fe),h.d(fe,{CopilotChatService:()=>S,CopilotModule:()=>j,CopilotService:()=>I});var s=h(5960),n=h(38495),E=h(96590),D=h(85638),Ce=h(72214),A=h(95868),r=h(73308),l=h(62278);let O=class{constructor(e){this._intentSchemaManager=e}convert(e,t,i){var o=this;return(0,r.A)(function*(){const a=e.map(function(){var u=(0,r.A)(function*(m){return yield m[i]});return function(m){return u.apply(this,arguments)}}()),d=yield Promise.all(a);return(0,l.lastValueFrom)(o._intentSchemaManager.generateActionCode(d))})()}};O=(0,s.__decorate)([(0,n.CrtConverter)({type:"crt.GenerateCopilotActionCode"}),(0,s.__metadata)("design:paramtypes",[A.CopilotIntentManagerService])],O);var b=h(79772),Ve=h(20822),H=h(10710),g=h(21018),C=h(28399);let ye=class extends n.BaseRequest{};ye=(0,s.__decorate)([(0,n.CrtRequest)({type:"crt.CopilotSayRequest"})],ye);var v;(function(c){c.Assistant="assistant",c.User="user"})(v||(v={}));let Se=class extends n.BaseRequest{};Se=(0,s.__decorate)([(0,n.CrtRequest)({type:"crt.CopilotRestartSessionRequest"})],Se);class ve{static get photo(){return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9Ikljb24gfCBBSSBDb3BpbG90IC0gMTZ4MTYgfCBoZWF2eSI+CjxwYXRoIGlkPSJVbmlvbiIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xIDhDMSA3LjQxNTk2IDEuMDcxNTMgNi44NDg2MiAxLjIwNjMgNi4zMDYyN0wyLjY0ODM2IDcuMTEwNUMyLjYwMDYyIDcuMzk5OTIgMi41NzU3OCA3LjY5NzA2IDIuNTc1NzggOEMyLjU3NTc4IDEwLjk5NTcgNS4wMDQyOSAxMy40MjQyIDggMTMuNDI0MkM5LjY2MTgyIDEzLjQyNDIgMTEuMTQ5MSAxMi42NzY5IDEyLjE0NDEgMTEuNUgxNC4wNjM1QzEyLjg1MzIgMTMuNTkyMyAxMC41OTEgMTUgOCAxNUM0LjEzNDAxIDE1IDEgMTEuODY2IDEgOFpNOCAyLjU3NTc4QzkuNjYxODIgMi41NzU3OCAxMS4xNDkxIDMuMzIzMSAxMi4xNDQxIDQuNUgxNC4wNjM1QzEyLjg1MzIgMi40MDc3IDEwLjU5MSAxIDggMUM2LjU1MDc3IDEgNS4yMDQ0IDEuNDQwNDEgNC4wODc0MyAyLjE5NDY4TDYuMzMzNzggMi44MzY1QzYuODU4NzcgMi42NjcyMiA3LjQxODcgMi41NzU3OCA4IDIuNTc1NzhaTTcuMTI1IDExLjA2MjVMMTUgOEwxIDIuNzVMOC40Mzc1IDhMNy4xMjUgMTEuMDYyNVoiIGZpbGw9IiMwRDJFNEUiLz4KPC9nPgo8L3N2Zz4K"}static get title(){return"Creatio.ai"}static get contact(){return{photo:this.photo,name:this.title}}}let Ie=class extends n.BaseRequest{};Ie=(0,s.__decorate)([(0,n.CrtRequest)({type:"crt.CopilotExecuteIntentRequest"})],Ie);let Re=class extends n.BaseRequest{};Re=(0,s.__decorate)([(0,n.CrtRequest)({type:"crt.CopilotGetAvailableIntentsRequest"})],Re);var Ae;(function(c){c.ExecutedSuccessfully="ExecutedSuccessfully",c.CantGenerateGoodResponse="CantGenerateGoodResponse",c.FailedToExecute="FailedToExecute",c.ResponseParsingFailed="ResponseParsingFailed",c.IntentNotFound="IntentNotFound",c.InactiveIntent="InactiveIntent",c.WrongIntentMode="WrongIntentMode",c.InsufficientPermissions="InsufficientPermissions"})(Ae||(Ae={}));var N;(function(c){c.WaitingForUserMessage="WaitingForUserMessage",c.UserMessageQueued="UserMessageQueued",c.ExecutingAction="ExecutingAction",c.WaitingForAssistantMessage="WaitingForAssistantMessage"})(N||(N={}));var p=h(59131);class x{constructor(e,t){this._featureValues=e,this._translateService=t}_getAuthorByRole(e,t){return e===v.Assistant?ve.contact:null}_getIsBotMessage(e){return e===v.Assistant}_getMessageDirection(e){return e===v.User?H.MessageDirection.Outcoming:H.MessageDirection.Incoming}_addCopilotMessageActions(e){e.actions=[{caption:this._translateService.instant("Conversation.Copilot.Action.Replace"),type:g.ChatMessageActionType.Replace,icon:"reload-icon"},{caption:this._translateService.instant("Conversation.Copilot.Action.InsertAbove"),type:g.ChatMessageActionType.InsertAbove,icon:"export-data-button-icon"},{caption:this._translateService.instant("Conversation.Copilot.Action.InsertBelow"),type:g.ChatMessageActionType.InsertBelow,icon:"import-data-button-icon"}]}convertMessages(e,t){return e.filter(i=>(i.role===v.Assistant||i.role===v.User)&&!(0,C.isEmpty)(i.content)).map(i=>{const o=i.createdOnTicks*1e-4,a={text:i.content,type:Ve.ChatMessageTypeEnum.Text,date:new Date(o),isBotMessage:!0,id:i.id};return a.author=this._getAuthorByRole(i.role,t),a.isBotMessage=this._getIsBotMessage(i.role),a.direction=this._getMessageDirection(i.role),this._featureValues.SelectionRewriteActions&&a.direction===H.MessageDirection.Incoming&&a.isBotMessage&&this._addCopilotMessageActions(a),a})}static{this.\u0275fac=function(t){return new(t||x)(p.\u0275\u0275inject(g.FEATURE_VALUES),p.\u0275\u0275inject(b.TranslateService))}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac})}}let be=class extends n.BaseRequest{};be=(0,s.__decorate)([(0,n.CrtRequest)({type:"crt.GenerateCopilotActionCodeValueRequest"})],be);let V=class extends n.BaseRequestHandler{constructor(e){super(),this.injector=e,this._cacheAttributeName="_ActionCodes_Cache",this._initialCodeValueAttributeName="_InitialCodeValue",this._intentManager=this.injector.get(A.CopilotIntentManagerService)}_getActionCodes(e,t){var i=this;return(0,r.A)(function*(){const o=yield e[i._cacheAttributeName];if(o?.length>0)return(0,l.of)(o);const a=yield e[t];return i._intentManager.getIntent(a?.value).pipe((0,l.map)(d=>d.Actions.map(u=>u.Code)),(0,l.tap)(d=>e[i._cacheAttributeName]=d))})()}handle(e){var t=this;return(0,r.A)(function*(){const i=e.$context;if(i.PrimaryModelMode!==g.ModelMode.Create){yield t.next?.handle(e);return}let o=yield i[t._initialCodeValueAttributeName];o||(o=yield i[e.codeAttributeName],i[t._initialCodeValueAttributeName]=o);const a=yield i[e.valueAttributeName];if(!a){i[e.codeAttributeName]=o;return}const d=(yield t._getActionCodes(i,e.intentAttributeName)).pipe((0,l.switchMap)(u=>t._intentManager.generateActionCode(u,a)));i[e.codeAttributeName]=(yield(0,l.lastValueFrom)(d))??(yield i[t._initialCodeValueAttributeName]),yield t.next?.handle(e)})()}};V=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.GenerateCopilotActionCodeValueHandler",requestType:"crt.GenerateCopilotActionCodeValueRequest"}),(0,s.__metadata)("design:paramtypes",[p.Injector])],V);const y={process:"ProcessSchemaUId",params:"PDS_Params"},F="CopilotChatInitMessagesSubscriptions",xe="NavigationStateIsLoading",U="CurrentPageSchemaName",we="CopilotIntents",Pe="CopilotIntentPageQuickLinks",Fe="CopilotQuickActions";let z=class extends n.BaseRequestHandler{constructor(e){super(),this._customEventService=e}_getIsAddAction(e){return(0,r.A)(function*(){const t=e.modelInitConfigs,i=yield e.getPrimaryModelName();return t?.find(a=>a.name===i)?.action===n.ModelInPageAction.Add})()}handle(e){var t=this;return(0,r.A)(function*(){const i=e.$context;i[y.process]=null;const o=yield t.next?.handle(e);if(yield t._getIsAddAction(i))return o;const a=yield i.ProcessDesignerInstanceId;return yield new Promise(d=>{const u={designerInstanceId:a,callback:d};t._customEventService.createOutboundChannel("cancelProcessSchemaChanges").next(u)}),o})()}};z=(0,s.__decorate)([(0,n.CrtRequestHandler)({requestType:"crt.CancelRecordChangesRequest",type:"crt.CopilotProcessActionsCancelRecordHandler",scopes:["AIProcessActions_FormPage"]}),(0,s.__metadata)("design:paramtypes",[E.CustomEventService])],z);let $=class extends n.BaseRequestHandler{constructor(e,t){super(),this._customEventService=e,this._translateService=t}_performDesignerSave(e,t){var i=this;return(0,r.A)(function*(){const o=yield e.ProcessDesignerInstanceId;return new Promise(a=>{const d={designerInstanceId:o,needSaveNewVersion:t,saveCallback:a};i._customEventService.createOutboundChannel("saveProcessSchema").next(d)})})()}_showDesignerValidationErrorNotification(e){var t=this;return(0,r.A)(function*(){const i={type:"crt.NotificationRequest",$context:e,message:"Dialog.ProcessSchemaSavedWithValidationError"};yield t.handlerChain.process(i)})()}handle(e){var t=this;return(0,r.A)(function*(){const i=e.$context,o=e.config,a=o?o.needSaveNewVersion:!1;if(!(yield i.isValid()))return yield t.next?.handle(e);const u=yield t._performDesignerSave(i,a);return u.isCanceled?!1:(u.isValid||(yield t._showDesignerValidationErrorNotification(i)),yield t.next?.handle(e))})()}};$=(0,s.__decorate)([(0,n.CrtRequestHandler)({requestType:"crt.SaveRecordRequest",type:"crt.CopilotProcessActionsPageSaveHandler",scopes:["AIProcessActions_FormPage"]}),(0,s.__metadata)("design:paramtypes",[E.CustomEventService,b.TranslateService])],$);function Ne(c){return L.apply(this,arguments)}function L(){return L=(0,r.A)(function*(c){const e="ProcessDesignerInstanceId";let t=yield c[e];t||(t=(0,n.generateGuid)(),c[e]=t)}),L.apply(this,arguments)}let B=class extends n.BaseRequestHandler{_subscribeParamsLoaded(e){const t=new l.Subscription;t.add(e.events$.pipe((0,l.filter)(({type:i})=>i==="finish-load-model-attributes"),(0,l.filter)(({payload:i})=>i[y.params]),(0,l.switchMap)(()=>e[y.params]),(0,l.filter)(i=>!!i)).subscribe({next:function(){var i=(0,r.A)(function*(o){let a;try{a=JSON.parse(o).processSchemaUId}catch(m){console.error(`params = ${o}
${m?.message}`)}const d={silent:!0},u={[y.process]:a};e.setValue(u,d),yield Ne(e)});return function(a){return i.apply(this,arguments)}}(),complete:()=>{t.unsubscribe()}}))}handle(e){var t=this;return(0,r.A)(function*(){yield t.next?.handle(e),t._subscribeParamsLoaded(e.$context)})()}};B=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotProcessActionsPageInitHandler",requestType:"crt.HandleViewModelInitRequest",scopes:["AIProcessActions_FormPage"]})],B);var w=h(10850);let G=class extends n.BaseRequestHandler{constructor(){super(...arguments),this._statusFlags=["ProcessSchemaIsChanged","HasUnsavedData",w.IS_CHANGED_SYSTEM_ATTRIBUTE_NAME,y.process]}_handleProcessChange(e){if(e.attributeName===y.process&&!e.silent){const t={processSchemaUId:e.value};e.$context[y.params]=JSON.stringify(t)}}_handleCreateModel(e){return(0,r.A)(function*(){e.attributeName===w.PRIMARY_MODEL_MODE_SYSTEM_ATTRIBUTE_NAME&&e.value===g.ModelMode.Create&&(e.$context[y.process]=n.EMPTY_GUID,yield Ne(e.$context))})()}handle(e){var t=this;return(0,r.A)(function*(){if(t._handleProcessChange(e),yield t._handleCreateModel(e),e.attributeName==="ProcessSchemaIsLoaded"&&e.value){const i=yield e.$context.getPrimaryModelName();e.$context.getModelByName(i).setLoadedState()}else if(t._statusFlags.includes(e.attributeName)){const i=yield e.$context[y.process],o=yield e.$context.ProcessSchemaIsLoaded,a=yield e.$context.ProcessSchemaIsChanged,d=yield e.$context.HasUnsavedData,u=yield e.$context.IsChanged;e.$context.ProcessActionHasUnsavedData=o&&i!==n.EMPTY_GUID&&(d||u||a)}return t.next?.handle(e)})()}};G=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotProcessActionsPageAttributeChangeHandler",requestType:"crt.HandleViewModelAttributeChangeRequest",scopes:["AIProcessActions_FormPage"]})],G);var Ue=h(23958),Me=h(63721),Ee=h(22438),T=h(36486);const De="CopilotMsgChannelSender",ze="CopilotChatPart",$e="CopilotSessionProgress";class S{constructor(e,t,i,o){this._httpClient=e,this._messageChannelService=t,this._contextSchemaService=i,this._featureValues=o,this._apiUrl="/rest/CopilotService",this._copilotSession=null,this._copilotSessionProgress$=new l.Subject;const a=this._featureValues??{};this._isNeedToAddConsoleLog=!!a.ShowSystemMessagesFromCopilot}getInitialMessages$(){return this._loadInitialMessages()}copilotMessageEvent$(){return this._messageChannelService.messageEvent$.pipe((0,l.filter)(e=>e.header.sender===De&&e.header.bodyTypeName===ze),(0,l.map)(e=>e.body.messages),(0,l.tap)(e=>this._logCopilot(e)))}copilotSessionProgressEvent$(){return(0,l.merge)(this._copilotSessionProgressEvent$(),this._copilotSessionProgress$.asObservable()).pipe((0,l.tap)(e=>this._logCopilot(e)))}_copilotSessionProgressEvent$(){return this._messageChannelService.messageEvent$.pipe((0,l.filter)(e=>e.header.sender===De&&e.header.bodyTypeName===$e),(0,l.map)(e=>e.body))}_logCopilot(e){this._isNeedToAddConsoleLog&&(console.group("Copilot"),console.log(e),console.groupEnd())}_loadInitialMessages(){return this._getActiveCopilotSessions().pipe((0,l.mergeMap)(e=>this._handleActiveCopilotSessions(e).pipe((0,T.catchError)(t=>(console.log(t),(0,l.of)([]))))))}_handleActiveCopilotSessions(e){return e.length>0?(this._copilotSession=e[0],this._getCopilotSessionMessages(this._copilotSession.id)):(0,l.throwError)(()=>new Error("No active copilot sessions found"))}_getActiveCopilotSessions(){return this._httpClient.post(`${this._apiUrl}/GetActiveCopilotSessions`,{}).pipe((0,l.map)(e=>e.copilotSessions))}_getCopilotSessionMessages(e){return this._httpClient.post(`${this._apiUrl}/GetCopilotSessionMessage`,{copilotSessionId:e}).pipe((0,l.map)(t=>t.copilotMessages))}_notifyCopilotSessionProgress(e){this._copilotSessionProgress$.next({copilotSessionId:this._copilotSession?.id,state:e})}_sendUserMessage(e){return(0,l.of)(N.UserMessageQueued).pipe((0,l.tap)(t=>this._notifyCopilotSessionProgress(t)),(0,l.switchMap)(()=>this._contextSchemaService.getContext()),(0,l.switchMap)(t=>this._httpClient.post(`${this._apiUrl}/SendUserMessage`,{content:e,copilotContext:{parts:t||[]},copilotSessionId:this._copilotSession?.id})),(0,l.map)(t=>t?.copilotChatPart),(0,T.catchError)(t=>(0,l.of)({errorCode:"unknown",errorMessage:`${t}`,copilotSession:this._copilotSession,messages:[]})),(0,l.tap)(t=>{(0,C.isEmpty)(t?.errorMessage)||this._notifyCopilotSessionProgress(N.WaitingForUserMessage)}))}_closeCopilotSession(){return this._httpClient.post(`${this._apiUrl}/CloseSession`,{copilotSessionId:this._copilotSession?.id}).pipe((0,T.catchError)(e=>(0,l.throwError)(()=>new Error(`Server return status: ${e.status}`))))}sayWithResponse(e){var t=this;return(0,r.A)(function*(){const i=yield(0,l.firstValueFrom)(t._sendUserMessage(e));return i&&(0,C.isEmpty)(i.errorCode)&&(0,C.isEmpty)(i.errorMessage)&&(t._copilotSession=i.copilotSession),i})()}closeSession(){var e=this;return(0,r.A)(function*(){if(!e._copilotSession?.id)return Promise.reject("No active session");try{yield(0,l.firstValueFrom)(e._closeCopilotSession()),e._copilotSession=null}catch(t){return Promise.reject(`Server return status: ${t.status}`)}})()}static{this.\u0275fac=function(t){return new(t||S)(p.\u0275\u0275inject(Me.HttpClient),p.\u0275\u0275inject(g.MessageChannelService),p.\u0275\u0275inject(Ee.ContextSchemaService),p.\u0275\u0275inject(g.FEATURE_VALUES,8))}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"})}}class I{constructor(e){this._httpClient=e,this._executeIntentUrl="/rest/CopilotService/ExecuteIntent",this._getAvailableIntentsUrl="/rest/CopilotService/GetAvailableIntents"}_transformInputParameters(e){return e?Object.entries(e).map(([t,i])=>({Key:t,Value:i||""})):[]}_transformOutputParameters(e){return e?e.reduce((t,i)=>(t[i.Key]=i.Value,t),{}):null}_executeIntent(e,t,i){const o=this._transformInputParameters(i),a={intentName:e,additionalPromptText:t,parameters:o};return this._httpClient.post(this._executeIntentUrl,a).pipe((0,l.map)(d=>(d.isSuccess&&(d.resultParameters=this._transformOutputParameters(d.resultParameters)),d)),(0,T.catchError)(d=>(0,l.throwError)(()=>new Error(`Server return status: ${d.status}`))))}_getAvailableIntents(e,t){const i={names:e},o=this._getAvailableIntentsUrl+`/?mode=${t}`;return this._httpClient.post(o,i).pipe((0,T.catchError)(a=>(0,l.throwError)(()=>new Error(`Server return status: ${a.status}`))))}executeIntent(e,t,i){var o=this;return(0,r.A)(function*(){try{return yield(0,l.firstValueFrom)(o._executeIntent(e,t,i))}catch(a){const d=a.status?`Server return status: ${a.status}`:`${a}`;return Promise.reject(d)}})()}getAvailableIntents(e,t){var i=this;return(0,r.A)(function*(){t||(t="API");try{return yield(0,l.firstValueFrom)(i._getAvailableIntents(e,t))}catch(o){const a=o.status?`Server return status: ${o.status}`:`${o}`;return Promise.reject(a)}})()}static{this.\u0275fac=function(t){return new(t||I)(p.\u0275\u0275inject(Me.HttpClient))}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac,providedIn:"root"})}}let q=class extends n.BaseRequestHandler{constructor(e,t,i,o){super(),this._copilotChatService=e,this._crtRouter=t,this._userInfo=i,this._injector=o,this.userConsentService=o.get(D.UserConsentService),this._copilotToChatConvertor=o.get(x)}_getConvertedMessages(e){return this._copilotToChatConvertor.convertMessages(e,{id:this._userInfo.contactId,name:this._userInfo.contactName,photoId:this._userInfo.photoId})}_initUserConsentData(e){this.userConsentService.getConsent("CopilotLegalNotice").subscribe(t=>{t&&(e.CopilotDisclaimer=t.consentText,this.userConsentService.getUserConsent(t.id).subscribe(i=>{e.IsCopilotChatVisible=i!==null,e.IsCopilotDisclaimerVisible=i===null}))})}_initWatchNavigation(e){var t=this;return(0,r.A)(function*(){const i=t._crtRouter.navigateStart$.pipe((0,l.tap)(()=>e[xe]=!0)).subscribe(),o=t._crtRouter.navigateEnd$.pipe((0,l.tap)((0,r.A)(function*(){e[xe]=!1;const a=yield(0,l.firstValueFrom)(t._crtRouter.crtRoute$);e[U]=a?.state?.schemaName}))).subscribe();yield t._addToSubscriptions(e,[i,o])})()}_onSessionProgressEvent(e,t){const i=e?.state;i in N&&(t.IsTyping=i!==N.WaitingForUserMessage)}_addToSubscriptions(e,t){return(0,r.A)(function*(){const i=(yield e[F])??[];e[F]=i,i.push(...t)})()}handle(e){var t=this;return(0,r.A)(function*(){yield t.next?.handle(e);const i=e.$context;e.$context.ChatMessages=t._getConvertedMessages(yield(0,l.lastValueFrom)(t._copilotChatService.getInitialMessages$()));const o=t._copilotChatService.copilotSessionProgressEvent$().subscribe(d=>t._onSessionProgressEvent(d,e.$context)),a=t._copilotChatService.copilotMessageEvent$().subscribe(d=>{e.$context.ChatMessages=t._getConvertedMessages(d)});yield t._addToSubscriptions(i,[o,a]),e.$context.CopilotContact=ve.contact,t._initUserConsentData(e.$context),yield t._initWatchNavigation(i)})()}};q=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotChatInitHandler",requestType:"crt.HandleViewModelInitRequest",scopes:["CopilotPanel"]}),(0,s.__metadata)("design:paramtypes",[S,Ue.CrtRouter,g.UserInfo,p.Injector])],q);let Te=class extends n.BaseRequestHandler{constructor(){super()}handle(e){var t=this;return(0,r.A)(function*(){const o=yield e.$context[F];if(Array.isArray(o))for(const a of o)a?.unsubscribe();yield t.next?.handle(e)})()}};Te=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotChatDestroyHandler",requestType:"crt.HandleViewModelDestroyRequest",scopes:["CopilotPanel"]}),(0,s.__metadata)("design:paramtypes",[])],Te);let J=class extends n.BaseRequestHandler{constructor(e){super(),this._userConsentService=e.get(D.UserConsentService)}handle(e){var t=this;return(0,r.A)(function*(){t._userConsentService.giveUserConsent(e.consentCode).subscribe(()=>{e.$context.IsCopilotChatVisible=!0,e.$context.IsCopilotDisclaimerVisible=!1}),yield t.next?.handle(e)})()}};J=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotDisclaimerAcceptHandler",requestType:"crt.CopilotDisclaimerAcceptRequest",scopes:["CopilotPanel"]}),(0,s.__metadata)("design:paramtypes",[p.Injector])],J);let Y=class extends n.BaseRequestHandler{constructor(e){super(),this._watchAttributes=[U,we,Pe],this._runMode="Chat",this._copilotService=e.get(I)}_actualizeCopilotQuickActions(e){var t=this;return(0,r.A)(function*(){const i=yield e[Fe],o=(yield e[we])??[],a=yield e[Pe];if(!Array.isArray(o)||o.length===0||!Array.isArray(a)||a.length===0)return;yield i.clear();const d=yield e[U];let m=(yield Promise.all(a.map(function(){var _=(0,r.A)(function*(R){return{pageName:yield R.PageName,intentCode:yield R.IntentCode}});return function(R){return _.apply(this,arguments)}}()))).filter(_=>t._isPatternMatch(_.pageName,d)).map(_=>_.intentCode);m.length>0&&(m=(yield t._copilotService.getAvailableIntents(m,t._runMode))?.availableIntentNames??[]);const f=[];for(const _ of o){const R=yield _.Code;t._hasMatchingPattern(m,R)&&f.push(_)}yield i.reload(f)})()}_hasMatchingPattern(e,t){return e.some(i=>this._isPatternMatch(i,t))}_isPatternMatch(e,t){t=`${t}`.trim().toLowerCase(),e=`${e}`.trim().toLowerCase();const[i]=e.split("*").filter(Boolean);return e==="*"?!0:e.startsWith("*")?t.endsWith(i):e.endsWith("*")?t.startsWith(i):e===t}handle(e){var t=this;return(0,r.A)(function*(){const i=e.$context;if(t._watchAttributes.includes(e.attributeName))return yield t._actualizeCopilotQuickActions(i),t.next?.handle(e)})()}};Y=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotActualizeIntentQuickLinksHandler",requestType:"crt.HandleViewModelAttributeChangeRequest",scopes:["CopilotPanel"]}),(0,s.__metadata)("design:paramtypes",[p.Injector])],Y);var k=h(59564);let ke=class extends n.BaseRequest{};ke=(0,s.__decorate)([(0,n.CrtRequest)({type:"crt.CopilotShowDebugInfoRequest",scopes:["CopilotPanel"]})],ke);let W=class extends n.BaseRequestHandler{constructor(e){super(),this._copilotChatService=e.get(S),this._translateService=e.get(b.TranslateService),this._dialogService=e.get(k.DialogService),this._maskService=e.get(n.MaskService),this._featureService=e.get(D.FeatureService)}_openDebugInfoPage(e,t,i){var o=this;return(0,r.A)(function*(){const a={schemaName:"AIDebugInfo",type:"crt.OpenPageRequest",$context:e.$context,skipUnsavedData:!0,parameters:{PlainInfo:i,DebugInfo:t}};yield o.handlerChain.process(a)})()}_useSyntaxHighlight(e){const t={strings:"#181818",booleans:"#219",numbers:"#164",keys:"#757575"};return e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.replace(/("(\\u[[:alnum:]]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,i=>{let o=t.numbers;return i.startsWith('"')?o=i.endsWith(":")?t.keys:t.strings:["null","true","false"].includes(i)&&(o=t.booleans),`<span style="color:${o}">${i}</span>`})}_useIndentation(e){return e.replaceAll("\u2003","&emsp;").replaceAll("\\n","\\a").replaceAll(`
`,"<br>").replaceAll("\\a","\\n")}handle(e){var t=this;return(0,r.A)(function*(){const i=yield(0,l.lastValueFrom)(t._featureService.getFeatureState("ShowSystemMessagesFromCopilot"));yield t._maskService.showBodyMask(),yield(0,l.firstValueFrom)(t._copilotChatService.getInitialMessages$().pipe((0,l.map)(o=>i?o:o.slice(1)),(0,l.tap)(function(){var o=(0,r.A)(function*(a){if(!a||a.length===0){const m=t._translateService.instant("Copilot.DebugInfo.NoDebugInfo");yield t._maskService.hideBodyMask(),t._dialogService.openInfoDialog(m);return}const d=JSON.stringify(a,null,"\u2003");let u=t._useSyntaxHighlight(d);u=t._useIndentation(u),yield t._openDebugInfoPage(e,u,d),yield t._maskService.hideBodyMask()});return function(a){return o.apply(this,arguments)}}())))})()}};W=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotShowDebugInfoHandler",requestType:"crt.CopilotShowDebugInfoRequest",scopes:["CopilotPanel"]}),(0,s.__metadata)("design:paramtypes",[p.Injector])],W);class P{static{this.errorCodeGroups={AuthorizationError:["MissingApiKey","InvalidApiKey","Unauthorized","UnauthorizedClient","InvalidScope","InvalidGrantType"],FormatError:["InvalidRequest","InvalidJson","NoEntities"],LimitError:["RateLimitReached","InsufficientQuota","QuotaExceeded","InternalQuotaExceeded","LimitExceeded"],ServiceAvailabilityError:["ServiceUnavailable","ServerNotAvailable","EngineOverloaded","ServerError","RequestTimeout","NetworkError"],ExecutionError:["ActionExecutionFailed","InvalidResponse"],ConfigurationError:["InvalidUri","ModelNotFound","ModelError","IncorrectConfiguration"],UnknownError:["Unknown","UnknownError"]}}static{this.errorCodeToGroup=P._populateErrorCodeToGroupMap()}static getErrorMessageKey(e){return`MessageEditor.ErrorCode.${P.errorCodeToGroup[e]||"UnknownError"}`}static _populateErrorCodeToGroupMap(){const e={};return Object.keys(P.errorCodeGroups).forEach(t=>{for(const i of P.errorCodeGroups[t])e[i]=t}),e}}class M{constructor(e,t,i){this._copilotChatService=e,this._notifyService=t,this._translateService=i}getInitialMessages$(){return this._copilotChatService.getInitialMessages$()}copilotMessageEvent$(){return this._copilotChatService.copilotMessageEvent$()}copilotSessionProgressEvent$(){return this._copilotChatService.copilotSessionProgressEvent$()}closeSession(){return this._copilotChatService.closeSession()}_getCurrentUserTime(){return new Date().getTime()*1e4+621355968e9}_sendErrorMessageToChat(e,t){var i=this;return(0,r.A)(function*(){if(!e)return;const o=P.getErrorMessageKey(t??""),a={id:(0,n.generateGuid)(),createdOnTicks:i._getCurrentUserTime(),content:i._translateService.instant(o),role:v.Assistant,isSaved:!0};e?.messages?.push(a)})()}_notifyUser(e){var t=this;return(0,r.A)(function*(){const i=P.getErrorMessageKey(e??"");yield t._notifyService.error({message:i})})()}sayWithResponse(e){var t=this;return(0,r.A)(function*(){let i;try{i=yield t._copilotChatService.sayWithResponse(e);const o=i?.errorCode;return o&&(yield t._sendErrorMessageToChat(i,o),yield t._notifyUser(o)),i}catch(o){yield t._notifyUser(),console.error(o)}})()}static{this.\u0275fac=function(t){return new(t||M)(p.\u0275\u0275inject(S),p.\u0275\u0275inject(k.NotifyService),p.\u0275\u0275inject(b.TranslateService))}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac,providedIn:"root"})}}class je extends n.BaseRequestHandler{constructor(e){super(),this._copilotChatService=e.get(M)}handle(e){var t=this;return(0,r.A)(function*(){const i=e;return yield t._copilotChatService.sayWithResponse(i.prompt)})()}}let Q=class extends je{constructor(e){super(e),this._userInfo=e.get(g.UserInfo),this._copilotToChatConvertor=e.get(x)}_getConvertedMessages(e){return this._copilotToChatConvertor.convertMessages(e,{id:this._userInfo.contactId,name:this._userInfo.contactName,photoId:this._userInfo.photoId})}_addMessageToConversation(e,t,i){e.$context[i]=this._getConvertedMessages(t)}handle(e){var t=()=>super.handle,i=this;return(0,r.A)(function*(){const o=e.attributesMapping,a=o?.chatInput;if(!(0,C.isEmpty)(a)){const d=yield e.$context[a];e.$context[a]="";const u=yield t().call(i,Object.assign(e,{prompt:d}));if(!u)e.$context[a]=d;else if(u?.messages.length){const m=o?.chatMessages;(0,C.isEmpty)(m)||i._addMessageToConversation(e,u.messages,m)}}yield i.next?.handle(e)})()}};Q=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotMessageEditorSendHandler",requestType:"crt.MessageEditorSendRequest",scopes:["CopilotPanel"]}),(0,s.__metadata)("design:paramtypes",[p.Injector])],Q);var Le=h(98005);let K=class extends n.BaseRequestHandler{constructor(e){super(),this._copilotChatService=e.get(S),this._copilotToEditorCommunicationService=e.get(g.CopilotToEditorCommunicationService)}handle(e){var t=this;return(0,r.A)(function*(){yield t._copilotChatService.closeSession();const i=e.chatMessagesAttributeName,o=e.conversationEventAttributeName;!(0,C.isEmpty)(i)&&!(0,C.isEmpty)(o)&&(e.$context[i]=[],e.$context[o]=[{name:Le.CONVERSATION_RESET_EVENT}]),t._copilotToEditorCommunicationService.notify({editorAction:g.EditorActionType.RemoveHighlighting}),yield t.next?.handle(e)})()}};K=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotRestartSessionHandler",requestType:"crt.CopilotRestartSessionRequest",scopes:["CopilotPanel"]}),(0,s.__metadata)("design:paramtypes",[p.Injector])],K);let Z=class extends n.BaseRequestHandler{constructor(e){super(),this.injector=e,this._intentManager=this.injector.get(A.CopilotIntentManagerService)}_getModelInitConfig(e){return(0,r.A)(function*(){const t=e.modelInitConfigs,i=yield e.getPrimaryModelName();return t?.find(o=>o.name===i)})()}_getIntent(e,t){var i=this;return(0,r.A)(function*(){let o;const d=(yield e.getPrimaryDataSchema())?.name;return d==="CopilotIntent"?o=yield(0,l.firstValueFrom)(i._intentManager.getIntent(t)):d==="CopilotAction"&&(o=yield(0,l.firstValueFrom)(i._intentManager.getIntentByActionUId(t))),o})()}_disableCodeField(e){const t=e.getAttributeNameByViewItemName("Code");e.disableAttributeValidator(t,"CodePrefixValidator"),e.setAttributePropertyValue(t,"readonly",!0)}handle(e){var t=this;return(0,r.A)(function*(){yield t.next?.handle(e);const i=e.$context,o=yield t._getModelInitConfig(i);if(!(o?.action===n.ModelInPageAction.Edit))return;(yield t._getIntent(i,o?.recordId))?.ExtendParent&&t._disableCodeField(i)})()}};Z=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotPageDisableCodeFieldHandler",requestType:"crt.HandleViewModelInitRequest",scopes:["AISkills_FormPage","AIProcessActions_FormPage"]}),(0,s.__metadata)("design:paramtypes",[p.Injector])],Z);let X=class extends je{constructor(e){super(e)}handle(e){var t=()=>super.handle,i=this;return(0,r.A)(function*(){yield i.handlerChain.process({type:"crt.OpenSidebarRequest",sidebarCode:"Copilot",$context:e.$context}),yield t().call(i,e),yield i.next?.handle(e)})()}};X=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotActionRequestHandler",requestType:"crt.CopilotActionRequest"}),(0,s.__metadata)("design:paramtypes",[p.Injector])],X);var Be=h(68198);const Ge=["InputParametersDetail","OutputParametersDetail"];let ee=class extends n.BaseRequestHandler{constructor(e,t,i,o){super(),this._broadcastChannelFactory=e,this._baseViewModelProcessValidationResultService=t,this._notifyService=i,this._maskService=o,this._init()}_init(){this._workspaceReloadBroadcastService=this._broadcastChannelFactory.createInstance(Be.WORKSPACE_EXPLORER_RELOAD_CHANNEL_NAME)}_saveDataSafely(e){return e().catch(t=>[this._createFailedSaveResult(t?.message)])}_createFailedSaveResult(e){return{success:!1,rowsAffected:0,errorInfo:e}}_saveInnerViewModelCollection(e,t,i){var o=this;return(0,r.A)(function*(){const a={type:"crt.SaveCollectionPrimaryDataRequest",$context:e,collectionAttributeName:t,scopes:i};return yield o.handlerChain.process(a)})()}_validatePrimaryModel(e){var t=this;return(0,r.A)(function*(){const i=yield e.getPrimaryModelName();if(!(yield e.isValid(i))){const a=yield e.validate(i),d=yield t._baseViewModelProcessValidationResultService.getValidationErrorMessage(e,a);throw new Error(d)}})()}_showErrorDialog(e){var t=this;return(0,r.A)(function*(){const i=e?.message;i&&(yield t._notifyService.show({message:i}))})()}_aggregateDataSourceSaveResults(e){const t=e.map(i=>i?.errorInfo).filter(Boolean);return{success:e.length===0||e.every(i=>i?.success),errors:t.length===0?void 0:t.join(`
`)}}_handleApiModeSave(e,t){var i=this;return(0,r.A)(function*(){const o="RECORD_SAVING";yield i._maskService.showMask(o,e);try{yield i._validatePrimaryModel(e);const a=Ge.map(m=>i._saveDataSafely(()=>i._saveInnerViewModelCollection(e,m,t))),d=yield Promise.all(a),u=i._aggregateDataSourceSaveResults(d.flat());if(!u.success)throw new Error(u.errors)}catch(a){return yield i._showErrorDialog(a),!1}finally{yield i._maskService.hideMask(o,e)}return!0})()}handle(e){var t=this;return(0,r.A)(function*(){const i=e.$context;if((yield i.IsApiMode)&&!(yield t._handleApiModeSave(i,e.scopes)))return!1;const o=yield t.next?.handle(e);return t._workspaceReloadBroadcastService.publish(),o})()}};ee=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotIntentSaveHandler",requestType:"crt.SaveRecordRequest",scopes:["AISkills_FormPage"]}),(0,s.__param)(3,(0,n.CrtInject)(g.DEVKIT_MASK_SERVICE)),(0,s.__metadata)("design:paramtypes",[E.BroadcastChannelFactory,w.BaseViewModelProcessValidationResultService,k.NotifyService,n.MaskService])],ee);let te=class extends n.BaseRequestHandler{constructor(e){super(),this._copilotService=e.get(I)}handle(e){var t=this;return(0,r.A)(function*(){const i=yield t._copilotService.executeIntent(e.intentName,e.additionalPromptText,e.parameters);return yield t.next?.handle(e),i})()}};te=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotExecuteIntentHandler",requestType:"crt.CopilotExecuteIntentRequest"}),(0,s.__metadata)("design:paramtypes",[p.Injector])],te);let ie=class extends n.BaseRequestHandler{constructor(){super(...arguments),this._apiMode=w.INTENT_MODES_REFERENCE_MAP.get(w.INTENT_MODES.Api)}handle(e){var t=this;return(0,r.A)(function*(){if(e.attributeName==="PDS_Mode"){const i=e.value?e.value:yield e.$context.PDS_Mode;e.$context.IsApiMode=i?i.value===t._apiMode:!1}return t.next?.handle(e)})()}};ie=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotIntentModeChangeHandler",requestType:"crt.HandleViewModelAttributeChangeRequest",scopes:["AISkills_FormPage"]})],ie);var qe=h(42946);let oe=class extends n.BaseRequestHandler{constructor(e){super(),this._copilotPanelCode="Copilot",this._sidebarStateService=e.get(qe.SidebarStateService),this._copilotChatService=e.get(M),this._translateService=e.get(b.TranslateService),this._copilotToEditorCommunicationService=e.get(g.CopilotToEditorCommunicationService)}_getPrompt(e,t){return["Friendly","Formal","Shorten","Extend","Rephrase","AskCopilot"].includes(t)?`${this._translateService.instant(`Copilot.RewriteActionsPrompt.${t}`)}: ${e}`:e}handle(e){var t=this;return(0,r.A)(function*(){const i=yield e.$context[e.selectionAttributeName];if(!(0,C.isEmpty)(i)){t._copilotToEditorCommunicationService.notify({editorAction:g.EditorActionType.SetHighlighting,selection:i});const o=t._getPrompt(i,e.rewriteAction);yield t._sidebarStateService.openRootSidebar(t._copilotPanelCode),yield t._copilotChatService.sayWithResponse(o)}yield t.next?.handle(e)})()}};oe=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotRewriteTextHandler",requestType:"crt.SelectionActionRequest",scopes:[w.Scopes.AllCards,"BasePageFreedomTemplate","BaseSidebarTemplate",w.Scopes.AllSections]}),(0,s.__metadata)("design:paramtypes",[p.Injector])],oe);let ne=class extends n.BaseRequestHandler{constructor(e){super(),this._copilotService=e.get(I)}_isObjectResponse(e){return!!e&&e===Object(e)&&!Array.isArray(e)}handle(e){var t=this;return(0,r.A)(function*(){const i=yield t._copilotService.getAvailableIntents(e.intentNames,e.mode),o=yield t.next?.handle(e);return t._isObjectResponse(o)?{...i,...o}:i})()}};ne=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotGetAvailableIntentsHandler",requestType:"crt.CopilotGetAvailableIntentsRequest"}),(0,s.__metadata)("design:paramtypes",[p.Injector])],ne);var Je=h(29957);let ae=class extends n.BaseRequestHandler{constructor(e){super(),this._copilotPanelCode="Copilot",this._copilotToEditorCommunicationService=e.get(g.CopilotToEditorCommunicationService)}handle(e){var t=this;return(0,r.A)(function*(){e.sidebarCode===t._copilotPanelCode&&t._copilotToEditorCommunicationService.notify({editorAction:g.EditorActionType.RemoveHighlighting,selection:Je.String.empty}),yield t.next?.handle(e)})()}};ae=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotClosePanelHandler",requestType:"crt.HandleSidebarCloseRequest"}),(0,s.__metadata)("design:paramtypes",[p.Injector])],ae);let re=class extends n.BaseRequestHandler{constructor(e){super(),this._copilotToEditorCommunicationService=e.get(g.CopilotToEditorCommunicationService)}handle(e){var t=this;return(0,r.A)(function*(){t._copilotToEditorCommunicationService?.notify({editorAction:g.EditorActionType.RemoveHighlighting}),yield t.next?.handle(e)})()}};re=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotViewModelPauseHandler",requestType:"crt.HandleViewModelPauseRequest"}),(0,s.__metadata)("design:paramtypes",[p.Injector])],re);let Oe=class extends n.BaseRequest{};Oe=(0,s.__decorate)([(0,n.CrtRequest)({type:"crt.CopilotSelectExistingProcessRequest",scopes:["AISkills_FormPage"]})],Oe);let se=class extends n.BaseRequestHandler{_saveIntent(e){var t=this;return(0,r.A)(function*(){const i=e.$context,o={type:"crt.SaveRecordRequest",preventCardClose:!0,preventCardStateChange:!0,$context:i,scopes:e.scopes},a=yield t.handlerChain.process(o);if(a){const d=yield i.getPrimaryModelName(),u=yield i.getPrimaryDataSchema(),m={type:"crt.LoadDataRequest",dataSourceName:d,parameters:[{type:"primaryColumnValue",value:u.primaryAttributeName}],$context:i,scopes:e.scopes};yield t.handlerChain.process(m)}return a})()}_getOpenLookupPageRequestConfig(e){var t=this;const{$context:i,scopes:o,caption:a,actionCode:d,intentId:u,packageUId:m}=e;return{type:"crt.OpenSelectionWindowRequest",$context:i,scopes:[...o],entitySchemaName:"VwProcessLib",caption:a,schemaName:"CopilotSelectExistingProcessForActionPage",afterClosed:function(){var f=(0,r.A)(function*(_){if(_.canceled)return;const R=yield _.getLookupValues(),[me]=R;if(me){const We=me.value,Qe={type:"crt.CreateRecordRequest",$context:i,entityName:"CopilotAction",defaultValues:[{attributeName:"Intent",value:u},{attributeName:"Code",value:d},{attributeName:"PackageUId",value:m},{attributeName:"Params",value:JSON.stringify({processSchemaUId:We})}]};yield t.handlerChain.process(Qe)}});return function(R){return f.apply(this,arguments)}}(),filtersConfig:{filterAttributes:[{name:"processEnabledFilter",loadOnChange:!1}],attributesConfig:{processEnabledFilter:{value:{items:{"a1dbfcfe-84e1-4bba-ac51-a83194bf2f6a":{filterType:1,comparisonType:3,isEnabled:!0,trimDateTimeParameterToDate:!1,leftExpression:{expressionType:0,columnPath:"Enabled"},isAggregative:!1,dataValueType:12,rightExpression:{expressionType:2,parameter:{dataValueType:12,value:!0}}}},logicalOperation:0,isEnabled:!0,filterType:6,rootSchemaName:"VwProcessLib"}}}}}}handle(e){var t=this;return(0,r.A)(function*(){if((yield e.$context.HasUnsavedData)&&!(yield t._saveIntent(e)))return;const o=t._getOpenLookupPageRequestConfig(e);return yield t.handlerChain.process(o),t.next?.handle(e)})()}};se=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotSelectExistingProcessHandler",requestType:"crt.CopilotSelectExistingProcessRequest",scopes:["AISkills_FormPage"]})],se);let le=class extends n.BaseRequestHandler{constructor(e){super(),this.injector=e,this._intentManager=this.injector.get(A.CopilotIntentManagerService),this._dialogService=this.injector.get(k.DialogService),this._translateService=this.injector.get(b.TranslateService)}_refreshGrid(e){var t=this;return(0,r.A)(function*(){const i=e.$context,a={type:"crt.LoadDataRequest",scopes:e.scopes,config:{loadType:n.DataSourceLoadType.Reload,useLastLoadParameters:!0},$context:i,dataSourceName:"ActionsDetailDS"};yield t.handlerChain.process(a)})()}handle(e){var t=this;return(0,r.A)(function*(){const i=t._translateService.instant("BaseSection.DeleteRecordConfirmation");if((yield(0,l.firstValueFrom)(t._dialogService.openConfirmationDialog(i)))===k.YesButton.result){const a=yield(0,l.firstValueFrom)(t._intentManager.deleteAction(e.intentId,e.recordId));if(!a.success)throw new Error(a.errorInfo?.message);yield t._refreshGrid(e)}})()}};le=(0,s.__decorate)([(0,n.CrtRequestHandler)({requestType:"crt.DeleteActionFromIntentRequest",type:"crt.CopilotDeleteIntentActionHandler",scopes:["AISkills_FormPage"]}),(0,s.__metadata)("design:paramtypes",[p.Injector])],le);let ce=class extends n.BaseRequestHandler{constructor(e){super(),this._schemaService=e,this._defValueHandlers=new Map([["CopilotIntentParameter",this._handleCopilotIntentParameterDefValues],["SysSchemaOperationRight",this._handleSysSchemaOperationRightDefValues]])}_handleCopilotIntentParameterDefValues(e,t){const i=e.dataGridName.replace("Detail","");return t.push({attributeName:"SourceCollection",value:i}),t.push({attributeName:"DataValueTypeUId",value:g.DataValueTypeItems[n.DataValueType.MAXSIZE_TEXT].id}),Promise.resolve()}_handleSysSchemaOperationRightDefValues(e,t){return(0,r.A)(function*(){const i=yield e.$context.Id;t.push({attributeName:"SysSchemaUId",value:i}),t.push({attributeName:"Operation",value:7})})()}_getDataGridViewConfig(e){return this._schemaService.getViewConfigInfoByProperty("type","crt.DataGrid")?.map(t=>t?.viewConfig)?.find(t=>t?.name===e)??null}_getIsSupportedEntitySchemaName(e){return this._defValueHandlers.has(e)}handle(e){var t=this;return(0,r.A)(function*(){const{dataGridName:i,defaultValues:o}=e,a=e.$context,u=t._getDataGridViewConfig(i)?.items?.toString().slice(1);if(u){const f=a.getBoundDataSchemaByAttributePath(u).dataSourceConfig.config.entitySchemaName;if(!t._getIsSupportedEntitySchemaName(f))return t.next?.handle(e);yield t._defValueHandlers.get(f)(e,o)}return t.next?.handle(e)})()}};ce=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotIntentDetailCreateItemHandler",requestType:"crt.DataGridCreateItemRequest",scopes:["AISkills_FormPage"]}),(0,s.__metadata)("design:paramtypes",[Ee.SchemaService])],ce);let de=class extends n.BaseRequestHandler{handle(e){var t=this;return(0,r.A)(function*(){const i=e.$context,o=yield t.next.handle(e);if(o){const d=(e.recordIds??[]).map(u=>(0,l.lastValueFrom)(i.delete(e.dataSourceName,[{type:n.ModelParameterType.PrimaryColumnValue,value:u}])));yield Promise.all(d)}return o})()}};de=(0,s.__decorate)([(0,n.CrtRequestHandler)({requestType:"crt.DeleteRecordsRequest",type:"crt.CopilotIntentParameterDeleteItemHandler",scopes:["AISkills_FormPage"]})],de);let He=class extends n.BaseRequest{};He=(0,s.__decorate)([(0,n.CrtRequest)({type:"crt.GenerateSkillCodeValueRequest"})],He);let ue=class extends n.BaseRequestHandler{constructor(e){super(),this.injector=e,this._cacheAttributeName="_SkillCodes_Cache",this._initialCodeValueAttributeName="_InitialCodeValue",this._intentManager=this.injector.get(A.CopilotIntentManagerService)}_getSkillCodes(e){var t=this;return(0,r.A)(function*(){const i=yield e[t._cacheAttributeName];return i?.length>0?(0,l.of)(i):t._intentManager.getAllSkills().pipe((0,l.tap)(o=>e[t._cacheAttributeName]=o))})()}handle(e){var t=this;return(0,r.A)(function*(){const i=e.$context;if(i.PrimaryModelMode!==g.ModelMode.Create){yield t.next?.handle(e);return}let o=yield i[t._initialCodeValueAttributeName];o||(o=yield(0,l.lastValueFrom)((yield t._getSkillCodes(i)).pipe((0,l.switchMap)(u=>t._intentManager.generateSkillCode(u,"")))),i[t._initialCodeValueAttributeName]=o);const a=yield i[e.valueAttributeName];if(!a){i[e.codeAttributeName]=o;return}const d=(yield t._getSkillCodes(i)).pipe((0,l.switchMap)(u=>t._intentManager.generateSkillCode(u,a)));i[e.codeAttributeName]=(yield(0,l.lastValueFrom)(d))??(yield i[t._initialCodeValueAttributeName]),yield t.next?.handle(e)})()}};ue=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.GenerateSkillCodeValueRequestHandler",requestType:"crt.GenerateSkillCodeValueRequest"}),(0,s.__metadata)("design:paramtypes",[p.Injector])],ue);let pe=class extends n.BaseRequestHandler{constructor(e,t){super(),this._translateService=e,this._featureService=t,this._availableDataValueTypes=[n.DataValueType.Date,n.DataValueType.Time,n.DataValueType.DateTime,n.DataValueType.Guid,n.DataValueType.Lookup,n.DataValueType.Boolean,n.DataValueType.LONG_TEXT,n.DataValueType.MAXSIZE_TEXT,n.DataValueType.Integer,n.DataValueType.FLOAT2,n.DataValueType.Money]}_getDataValueTypeLookupValues(){return Object.keys(g.DataValueTypeItems).filter(e=>{const t=g.DataValueTypeItems[e];return this._availableDataValueTypes.includes(t.type)}).map(e=>{const t=g.DataValueTypeItems[e];return{displayValue:this._translateService.instant(t.translateKey),value:t.id}}).sort((e,t)=>e.displayValue.localeCompare(t.displayValue))}_getEnableParametersUIValue(){var e=this;return(0,r.A)(function*(){return!(yield(0,l.lastValueFrom)(e._featureService.getFeatureState("GenAiFeatures.DisableSkillParametersUi")))})()}_getEnableRightsManagementUIValue(){return(0,l.lastValueFrom)(this._featureService.getFeatureState("GenAIFeatures.UseSkillSchemaOperationRights"))}_processAccessRightsDetailPredefinedFilter(e){return(0,r.A)(function*(){const t=yield e.AccessRightsDetail_PredefinedFilter,i=yield e.Id;if(t){const o=n.FilterParser.fromJson(t);o.filters.forEach(a=>{a instanceof n.CompareFilter&&a.leftExpression instanceof n.ColumnExpression&&a.leftExpression.columnPath==="SysSchemaUId"&&a.rightExpression instanceof n.ParameterExpression&&(a.rightExpression.parameter.value=i,e.AccessRightsDetail_PredefinedFilter=o.toJson())})}})()}handle(e){var t=this;return(0,r.A)(function*(){const i=e.$context;i.AvailableDataValueTypes=t._getDataValueTypeLookupValues(),i.EnableParametersUI=yield t._getEnableParametersUIValue(),i.EnableRightsManagementUI=yield t._getEnableRightsManagementUIValue(),yield t.next?.handle(e),yield t._processAccessRightsDetailPredefinedFilter(i)})()}};pe=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotIntentPageInitHandler",requestType:"crt.HandleViewModelInitRequest",scopes:["AISkills_FormPage"]}),(0,s.__metadata)("design:paramtypes",[b.TranslateService,D.FeatureService])],pe);let he=class extends n.BaseRequestHandler{handle(e){var t=this;return(0,r.A)(function*(){const a=yield(yield e.$context[e.collectionName])?.findByPrimaryAttribute(e.primaryColumnValue);a&&(a[e.attributeName]=e.attributeValue??g.DataValueTypeItems[n.DataValueType.MAXSIZE_TEXT].id),yield t.next?.handle(e)})()}};he=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotIntentParameterDataValueTypeChangeHandler",requestType:"crt.CopilotIntentParameterDataValueTypeChangeRequest",scopes:["AISkills_FormPage"]})],he);let ge=class extends n.BaseRequestHandler{_extractTemplateParameters(e){const t=/\[#\s*([a-zA-Z_][a-zA-Z0-9_.]*)\s*#]/g,i=new Set;let o;for(;(o=t.exec(e))!==null;)i.add(o[1]);return Array.from(i)}handle(e){var t=this;return(0,r.A)(function*(){if(e.attributeName==="PDS_Prompt"){const i=e.$context;i.Prompt_tooltip=null;const o=e.value?e.value:yield i.PDS_Prompt,a=t._extractTemplateParameters(o);if(a.length>0){const u=(yield i.InputParametersDetail).map(f=>f.attributes.InputParametersDS_Code),m=a.filter(f=>!u.includes(f));if(m.length>0){const f=yield i.Resources.Strings.MissingPromptParameterWarning;i.Prompt_tooltip=f.replace("{0}",m.join(", "))}}}return t.next?.handle(e)})()}};ge=(0,s.__decorate)([(0,n.CrtRequestHandler)({type:"crt.CopilotIntentPromptChangeHandler",requestType:"crt.HandleViewModelAttributeChangeRequest",scopes:["AISkills_FormPage"]})],ge);const Ye={"hr-HR":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"Pomo\u0107i \u0107ete u prepisivanju sljede\u0107eg teksta, daljnje upute bit \u0107e pru\u017Eene u dijalogu","Friendly":"Prepi\u0161i sljede\u0107i tekst i u\u010Dini ga prijateljskijim","Formal":"Preformulirajte sljede\u0107i tekst i u\u010Dinite ga formalnijim","Shorten":"Prepi\u0161ite sljede\u0107i tekst i skratite ga","Extend":"Prepi\u0161i sljede\u0107i tekst i produ\u017Ei ga","Rephrase":"Prepi\u0161i sljede\u0107i tekst i preformuliraj ga"},"DebugInfo":{"NoDebugInfo":"Nema dostupnih informacija za ispravljanje gre\u0161aka"}}}'),"bg-BG":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"\u0422\u0438 \u0449\u0435 \u043F\u043E\u043C\u043E\u0433\u043D\u0435\u0448 \u043F\u0440\u0438 \u043F\u0440\u0435\u043D\u0430\u043F\u0438\u0441\u0432\u0430\u043D\u0435\u0442\u043E \u043D\u0430 \u0441\u043B\u0435\u0434\u043D\u0438\u044F \u0442\u0435\u043A\u0441\u0442, \u0434\u043E\u043F\u044A\u043B\u043D\u0438\u0442\u0435\u043B\u043D\u0438 \u0438\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0438\u0438 \u0449\u0435 \u0431\u044A\u0434\u0430\u0442 \u0434\u0430\u0434\u0435\u043D\u0438 \u0432 \u0434\u0438\u0430\u043B\u043E\u0433\u0430","Friendly":"\u041F\u0440\u0435\u043D\u0430\u043F\u0438\u0448\u0438 \u0441\u043B\u0435\u0434\u043D\u0438\u044F \u0442\u0435\u043A\u0441\u0442 \u0438 \u0433\u043E \u043D\u0430\u043F\u0440\u0430\u0432\u0438 \u043F\u043E-\u043F\u0440\u0438\u044F\u0442\u0435\u043B\u0441\u043A\u0438","Formal":"\u041F\u0440\u0435\u043F\u0438\u0448\u0438 \u0441\u043B\u0435\u0434\u043D\u0438\u044F \u0442\u0435\u043A\u0441\u0442 \u0438 \u0433\u043E \u043D\u0430\u043F\u0440\u0430\u0432\u0438 \u043F\u043E-\u043E\u0444\u0438\u0446\u0438\u0430\u043B\u0435\u043D","Shorten":"\u041F\u0440\u0435\u043F\u0438\u0448\u0438 \u0441\u043B\u0435\u0434\u043D\u0438\u044F \u0442\u0435\u043A\u0441\u0442 \u0438 \u0433\u043E \u0441\u044A\u043A\u0440\u0430\u0442\u0438","Extend":"\u041F\u0440\u0435\u043D\u0430\u043F\u0438\u0448\u0438 \u0441\u043B\u0435\u0434\u043D\u0438\u044F \u0442\u0435\u043A\u0441\u0442 \u0438 \u0433\u043E \u0440\u0430\u0437\u0448\u0438\u0440\u0438","Rephrase":"\u041F\u0440\u0435\u043F\u0438\u0448\u0438 \u0441\u043B\u0435\u0434\u043D\u0438\u044F \u0442\u0435\u043A\u0441\u0442 \u0438 \u0433\u043E \u043F\u0435\u0440\u0438\u0444\u0440\u0430\u0437\u0438\u0440\u0430\u0439"},"DebugInfo":{"NoDebugInfo":"\u041D\u044F\u043C\u0430 \u043D\u0430\u043B\u0438\u0447\u043D\u0430 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u0437\u0430 \u043E\u0442\u0441\u0442\u0440\u0430\u043D\u044F\u0432\u0430\u043D\u0435 \u043D\u0430 \u0433\u0440\u0435\u0448\u043A\u0438"}}}'),"hu-HU":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"You will assist with rewriting the following text, further instructions will be provided in the dialog","Friendly":"Rewrite the following text and make it more friendly","Formal":"Rewrite the following text and make it more formal","Shorten":"Rewrite the following text and shorten it","Extend":"Rewrite the following text and extend it","Rephrase":"Rewrite the following text and rephrase it"},"DebugInfo":{"NoDebugInfo":"No debug information available"}}}'),"zh-CN":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"You will assist with rewriting the following text, further instructions will be provided in the dialog","Friendly":"Rewrite the following text and make it more friendly","Formal":"Rewrite the following text and make it more formal","Shorten":"Rewrite the following text and shorten it","Extend":"Rewrite the following text and extend it","Rephrase":"Rewrite the following text and rephrase it"},"DebugInfo":{"NoDebugInfo":"No debug information available"}}}'),"uk-UA":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"\u0412\u0438 \u0434\u043E\u043F\u043E\u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u0435\u0440\u0435\u043F\u0438\u0441\u0430\u0442\u0438 \u043D\u0430\u0441\u0442\u0443\u043F\u043D\u0438\u0439 \u0442\u0435\u043A\u0441\u0442, \u0434\u043E\u0434\u0430\u0442\u043A\u043E\u0432\u0456 \u0456\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0456\u0457 \u0431\u0443\u0434\u0443\u0442\u044C \u043D\u0430\u0434\u0430\u043D\u0456 \u0432 \u0434\u0456\u0430\u043B\u043E\u0437\u0456","Friendly":"\u041F\u0435\u0440\u0435\u043F\u0438\u0448\u0456\u0442\u044C \u043D\u0430\u0441\u0442\u0443\u043F\u043D\u0438\u0439 \u0442\u0435\u043A\u0441\u0442 \u0456 \u0437\u0440\u043E\u0431\u0456\u0442\u044C \u0439\u043E\u0433\u043E \u0431\u0456\u043B\u044C\u0448 \u0434\u0440\u0443\u0436\u043D\u0456\u043C","Formal":"\u041F\u0435\u0440\u0435\u043F\u0438\u0448\u0456\u0442\u044C \u043D\u0430\u0441\u0442\u0443\u043F\u043D\u0438\u0439 \u0442\u0435\u043A\u0441\u0442 \u0456 \u0437\u0440\u043E\u0431\u0456\u0442\u044C \u0439\u043E\u0433\u043E \u0431\u0456\u043B\u044C\u0448 \u0444\u043E\u0440\u043C\u0430\u043B\u044C\u043D\u0438\u043C","Shorten":"\u041F\u0435\u0440\u0435\u043F\u0438\u0448\u0456\u0442\u044C \u043D\u0430\u0441\u0442\u0443\u043F\u043D\u0438\u0439 \u0442\u0435\u043A\u0441\u0442 \u0456 \u0441\u043A\u043E\u0440\u043E\u0442\u0456\u0442\u044C \u0439\u043E\u0433\u043E","Extend":"\u041F\u0435\u0440\u0435\u043F\u0438\u0448\u0456\u0442\u044C \u043D\u0430\u0441\u0442\u0443\u043F\u043D\u0438\u0439 \u0442\u0435\u043A\u0441\u0442 \u0456 \u0440\u043E\u0437\u0448\u0438\u0440\u0442\u0435 \u0439\u043E\u0433\u043E","Rephrase":"\u041F\u0435\u0440\u0435\u043F\u0438\u0448\u0456\u0442\u044C \u043D\u0430\u0441\u0442\u0443\u043F\u043D\u0438\u0439 \u0442\u0435\u043A\u0441\u0442 \u0456 \u043F\u0435\u0440\u0435\u0444\u0440\u0430\u0437\u0443\u0439\u0442\u0435 \u0439\u043E\u0433\u043E"},"DebugInfo":{"NoDebugInfo":"\u041D\u0435\u043C\u0430\u0454 \u0456\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0456\u0457 \u0434\u043B\u044F \u043D\u0430\u043B\u0430\u0433\u043E\u0434\u0436\u0435\u043D\u043D\u044F"}}}'),"sq-AL":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"You will assist with rewriting the following text, further instructions will be provided in the dialog","Friendly":"Rewrite the following text and make it more friendly","Formal":"Rewrite the following text and make it more formal","Shorten":"Rewrite the following text and shorten it","Extend":"Rewrite the following text and extend it","Rephrase":"Rewrite the following text and rephrase it"},"DebugInfo":{"NoDebugInfo":"No debug information available"}}}'),"zh-TW":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"You will assist with rewriting the following text, further instructions will be provided in the dialog","Friendly":"Rewrite the following text and make it more friendly","Formal":"Rewrite the following text and make it more formal","Shorten":"Rewrite the following text and shorten it","Extend":"Rewrite the following text and extend it","Rephrase":"Rewrite the following text and rephrase it"},"DebugInfo":{"NoDebugInfo":"No debug information available"}}}'),"no-NO":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{}}}'),zh:JSON.parse('{"Copilot":{"RewriteActionsPrompt":{}}}'),"vi-VN":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"You will assist with rewriting the following text, further instructions will be provided in the dialog","Friendly":"Rewrite the following text and make it more friendly","Formal":"Rewrite the following text and make it more formal","Shorten":"Rewrite the following text and shorten it","Extend":"Rewrite the following text and extend it","Rephrase":"Rewrite the following text and rephrase it"},"DebugInfo":{"NoDebugInfo":"No debug information available"}}}'),"tr-TR":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"A\u015Fa\u011F\u0131daki metni yeniden yazmaya yard\u0131mc\u0131 olacaks\u0131n\u0131z, ileti\u015Fim kutusunda daha fazla talimat verilecektir.","Friendly":"A\u015Fa\u011F\u0131daki metni yeniden yaz\u0131n ve daha dost\xE7a hale getirin","Formal":"A\u015Fa\u011F\u0131daki metni yeniden yaz\u0131n ve daha resmi hale getirin","Shorten":"A\u015Fa\u011F\u0131daki metni yeniden yaz\u0131n ve k\u0131salt\u0131n","Extend":"A\u015Fa\u011F\u0131daki metni yeniden yaz\u0131n ve geni\u015Fletin","Rephrase":"A\u015Fa\u011F\u0131daki metni yeniden yaz\u0131n ve yeniden ifade edin"},"DebugInfo":{"NoDebugInfo":"Hata ay\u0131klama bilgisi yok"}}}'),"th-TH":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"You will assist with rewriting the following text, further instructions will be provided in the dialog","Friendly":"Rewrite the following text and make it more friendly","Formal":"Rewrite the following text and make it more formal","Shorten":"Rewrite the following text and shorten it","Extend":"Rewrite the following text and extend it","Rephrase":"Rewrite the following text and rephrase it"},"DebugInfo":{"NoDebugInfo":"No debug information available"}}}'),"sv-SE":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"You will assist with rewriting the following text, further instructions will be provided in the dialog","Friendly":"Rewrite the following text and make it more friendly","Formal":"Rewrite the following text and make it more formal","Shorten":"Rewrite the following text and shorten it","Extend":"Rewrite the following text and extend it","Rephrase":"Rewrite the following text and rephrase it"},"DebugInfo":{"NoDebugInfo":"No debug information available"}}}'),"ro-RO":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"Ve\u0163i ajuta la rescrierea textului urm\u0103tor, instruc\u0163iuni suplimentare vor fi furnizate \xEEn dialog","Friendly":"Rescrie\u021Bi urm\u0103torul text \u0219i face\u021Bi-l mai prietenos","Formal":"Rescrie\u021Bi urm\u0103torul text \u0219i face\u021Bi-l mai formal","Shorten":"Rescrie\u021Bi urm\u0103torul text \u0219i scurta\u021Bi-l","Extend":"Rescrie\u021Bi urm\u0103torul text \u0219i extinde-l","Rephrase":"Rescrie\u021Bi urm\u0103torul text \u0219i reformula\u021Bi-l"},"DebugInfo":{"NoDebugInfo":"Nu sunt disponibile informa\u021Bii de depanare"}}}'),"pt-PT":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"You will assist with rewriting the following text, further instructions will be provided in the dialog","Friendly":"Rewrite the following text and make it more friendly","Formal":"Rewrite the following text and make it more formal","Shorten":"Rewrite the following text and shorten it","Extend":"Rewrite the following text and extend it","Rephrase":"Rewrite the following text and rephrase it"},"DebugInfo":{"NoDebugInfo":"No debug information available"}}}'),"pt-BR":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"Pedimos ajudar a reescrever o seguinte texto, mais instru\xE7\xF5es ser\xE3o fornecidas no di\xE1logo","Friendly":"Reescrever o texto a seguir e torn\xE1-lo mais amig\xE1vel","Formal":"Reescrever o texto a seguir e torn\xE1-lo mais formal","Shorten":"Reescrever o texto a seguir e encurt\xE1-lo","Extend":"Reescrever o texto a seguir e estend\xEA-lo","Rephrase":"Reescrever o texto a seguir e refrase\xE1-lo"},"DebugInfo":{"NoDebugInfo":"Nenhuma informa\xE7\xE3o de depura\xE7\xE3o dispon\xEDvel"}}}'),"pl-PL":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"B\u0119dziesz pomaga\u0107 w przepisaniu nast\u0119puj\u0105cego tekstu, dalsze instrukcje zostan\u0105 podane w dialogu","Friendly":"Przepisz poni\u017Cszy tekst i spraw, aby by\u0142 bardziej przyjazny","Formal":"Przekszta\u0142\u0107 poni\u017Cszy tekst i nadaj mu bardziej formalny charakter","Shorten":"Przepisz nast\u0119puj\u0105cy tekst i skr\xF3\u0107 go","Extend":"Przepisz poni\u017Cszy tekst i go rozszerz","Rephrase":"Przepisz nast\u0119puj\u0105cy tekst i przeredaguj"},"DebugInfo":{"NoDebugInfo":"Brak dost\u0119pnych informacji o debugowaniu"}}}'),no:JSON.parse('{"Copilot":{"RewriteActionsPrompt":{}}}'),"nl-NL":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"U zult helpen met het herschrijven van de volgende tekst, verdere instructies zullen in de dialoog worden gegeven","Friendly":"Herschrijf de volgende tekst en maak het vriendelijker","Formal":"Herschrijf de volgende tekst en maak deze formeler","Shorten":"Herschrijf de volgende tekst en verkort deze","Extend":"Herschrijf de volgende tekst en breid deze uit","Rephrase":"Herschrijf de volgende tekst en herformuleer deze"},"DebugInfo":{"NoDebugInfo":"No debug information available"}}}'),"lv-LV":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"J\u016Bs pal\u012Bdz\u0113siet p\u0101rrakst\u012Bt sekojo\u0161o tekstu, t\u0101l\u0101kie nor\u0101d\u012Bjumi tiks sniegti dialog\u0101","Friendly":"P\u0101rrakstiet \u0161o tekstu un padariet to draudz\u012Bg\u0101ku","Formal":"P\u0101rrakstiet sekojo\u0161o tekstu un padariet to form\u0101l\u0101ku","Shorten":"P\u0101rrakstiet un sa\u012Bsiniet sekojo\u0161o tekstu","Extend":"P\u0101rrakstiet \u0161o tekstu un papla\u0161iniet to","Rephrase":"P\u0101rlakiet sekojo\u0161o tekstu un p\u0101rfr\u0101z\u0113jiet to"},"DebugInfo":{"NoDebugInfo":"Nav pieejama atk\u013C\u016Bdo\u0161anas inform\u0101cija"}}}'),"ko-KR":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"You will assist with rewriting the following text, further instructions will be provided in the dialog","Friendly":"Rewrite the following text and make it more friendly","Formal":"Rewrite the following text and make it more formal","Shorten":"Rewrite the following text and shorten it","Extend":"Rewrite the following text and extend it","Rephrase":"Rewrite the following text and rephrase it"},"DebugInfo":{"NoDebugInfo":"No debug information available"}}}'),"kk-KZ":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{}}}'),"ja-JP":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"You will assist with rewriting the following text, further instructions will be provided in the dialog","Friendly":"Rewrite the following text and make it more friendly","Formal":"Rewrite the following text and make it more formal","Shorten":"Rewrite the following text and shorten it","Extend":"Rewrite the following text and extend it","Rephrase":"Rewrite the following text and rephrase it"},"DebugInfo":{"NoDebugInfo":"No debug information available"}}}'),"it-IT":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"Aiuterai a riscrivere il seguente testo, ulteriori istruzioni saranno fornite nella finestra di dialogo","Friendly":"Riscrivi il seguente testo e rendilo pi\xF9 amichevole","Formal":"Riscrivi il seguente testo e rendilo pi\xF9 formale","Shorten":"Riscrivi il seguente testo e accorcialo","Extend":"Riscrivi il seguente testo e amplialo","Rephrase":"Riscrivi il seguente testo e riformulalo"},"DebugInfo":{"NoDebugInfo":"Nessuna informazione di debug disponibile"}}}'),"id-ID":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"You will assist with rewriting the following text, further instructions will be provided in the dialog","Friendly":"Rewrite the following text and make it more friendly","Formal":"Rewrite the following text and make it more formal","Shorten":"Rewrite the following text and shorten it","Extend":"Rewrite the following text and extend it","Rephrase":"Rewrite the following text and rephrase it"},"DebugInfo":{"NoDebugInfo":"No debug information available"}}}'),"he-IL":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"\u05D0\u05EA\u05D4 \u05EA\u05E1\u05D9\u05D9\u05E2 \u05D1\u05E9\u05DB\u05EA\u05D5\u05D1 \u05D4\u05D8\u05E7\u05E1\u05D8 \u05D4\u05D1\u05D0, \u05D4\u05D5\u05E8\u05D0\u05D5\u05EA \u05E0\u05D5\u05E1\u05E4\u05D5\u05EA \u05D9\u05D5\u05E2\u05D1\u05E8\u05D5 \u05D1\u05D3\u05D9\u05D0\u05DC\u05D5\u05D2","Friendly":"\u05DB\u05EA\u05D5\u05D1 \u05DE\u05D7\u05D3\u05E9 \u05D0\u05EA \u05D4\u05D8\u05E7\u05E1\u05D8 \u05D4\u05D1\u05D0 \u05D5\u05E2\u05E9\u05D4 \u05D0\u05D5\u05EA\u05D5 \u05D9\u05D5\u05EA\u05E8 \u05D9\u05D3\u05D9\u05D3\u05D5\u05EA\u05D9","Formal":"\u05DB\u05EA\u05D5\u05D1 \u05DE\u05D7\u05D3\u05E9 \u05D0\u05EA \u05D4\u05D8\u05E7\u05E1\u05D8 \u05D4\u05D1\u05D0 \u05D5\u05E2\u05E9\u05D4 \u05D0\u05D5\u05EA\u05D5 \u05D9\u05D5\u05EA\u05E8 \u05E4\u05D5\u05E8\u05DE\u05DC\u05D9","Shorten":"\u05DB\u05EA\u05D5\u05D1 \u05DE\u05D7\u05D3\u05E9 \u05D0\u05EA \u05D4\u05D8\u05E7\u05E1\u05D8 \u05D4\u05D1\u05D0 \u05D5\u05E7\u05E6\u05E8 \u05D0\u05D5\u05EA\u05D5","Extend":"\u05DB\u05EA\u05D5\u05D1 \u05DE\u05D7\u05D3\u05E9 \u05D0\u05EA \u05D4\u05D8\u05E7\u05E1\u05D8 \u05D4\u05D1\u05D0 \u05D5\u05D4\u05E8\u05D7\u05D9\u05D1 \u05D0\u05D5\u05EA\u05D5","Rephrase":"\u05DB\u05EA\u05D5\u05D1 \u05DE\u05D7\u05D3\u05E9 \u05D0\u05EA \u05D4\u05D8\u05E7\u05E1\u05D8 \u05D4\u05D1\u05D0 \u05D5\u05E0\u05D9\u05E1\u05D7 \u05D0\u05D5\u05EA\u05D5 \u05DE\u05D7\u05D3\u05E9"},"DebugInfo":{"NoDebugInfo":"\u05D0\u05D9\u05DF \u05DE\u05D9\u05D3\u05E2 \u05DC\u05E0\u05D9\u05E4\u05D5\u05D9 \u05D1\u05E2\u05D9\u05D5\u05EA \u05D6\u05DE\u05D9\u05DF"}}}'),"fr-FR":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"Vous aiderez \xE0 r\xE9\xE9crire le texte suivant, des instructions suppl\xE9mentaires seront fournies dans le dialogue","Friendly":"R\xE9\xE9crivez le texte suivant et rendez-le plus amical","Formal":"R\xE9\xE9crivez le texte suivant et rendez-le plus formel","Shorten":"R\xE9\xE9crivez le texte suivant et raccourcissez-le","Extend":"R\xE9\xE9crivez le texte suivant et prolongez-le","Rephrase":"R\xE9\xE9crivez le texte suivant et reformulez-le"},"DebugInfo":{"NoDebugInfo":"Aucune information de d\xE9bogage disponible"}}}'),"fr-CA":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{}}}'),"fa-IR":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{}}}'),"es-ES":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"Asistir\xE1s con reescribir el siguiente texto, se proporcionar\xE1n m\xE1s instrucciones en el di\xE1logo","Friendly":"Reescribe el siguiente texto y hazlo m\xE1s amigable","Formal":"Reescriba el siguiente texto y h\xE1galo m\xE1s formal","Shorten":"Reescribe el siguiente texto y ac\xF3rtalo","Extend":"Reescribe el siguiente texto y ampl\xEDalo","Rephrase":"Reescriba el siguiente texto y refras\xE9elo"},"DebugInfo":{"NoDebugInfo":"No hay informaci\xF3n de depuraci\xF3n disponible"}}}'),"de-DE":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"You will assist with rewriting the following text, further instructions will be provided in the dialog","Friendly":"Rewrite the following text and make it more friendly","Formal":"Rewrite the following text and make it more formal","Shorten":"Rewrite the following text and shorten it","Extend":"Rewrite the following text and extend it","Rephrase":"Rewrite the following text and rephrase it"},"DebugInfo":{"NoDebugInfo":"No debug information available"}}}'),"cs-CZ":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"You will assist with rewriting the following text, further instructions will be provided in the dialog","Friendly":"Rewrite the following text and make it more friendly","Formal":"Rewrite the following text and make it more formal","Shorten":"Rewrite the following text and shorten it","Extend":"Rewrite the following text and extend it","Rephrase":"Rewrite the following text and rephrase it"},"DebugInfo":{"NoDebugInfo":"No debug information available"}}}'),"ar-SA":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"You will assist with rewriting the following text, further instructions will be provided in the dialog","Friendly":"Rewrite the following text and make it more friendly","Formal":"Rewrite the following text and make it more formal","Shorten":"Rewrite the following text and shorten it","Extend":"Rewrite the following text and extend it","Rephrase":"Rewrite the following text and rephrase it"},"DebugInfo":{"NoDebugInfo":"No debug information available"}}}'),"en-US":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"You will assist with rewriting the following text, further instructions will be provided in the dialog","Friendly":"Rewrite the following text and make it more friendly","Formal":"Rewrite the following text and make it more formal","Shorten":"Rewrite the following text and shorten it","Extend":"Rewrite the following text and extend it","Rephrase":"Rewrite the following text and rephrase it"},"DebugInfo":{"NoDebugInfo":"No debug information available"}}}'),"ru-RU":JSON.parse('{"Copilot":{"RewriteActionsPrompt":{"AskCopilot":"\u0422\u044B \u0431\u0443\u0434\u0435\u0448\u044C \u043F\u043E\u043C\u043E\u0433\u0430\u0442\u044C \u043F\u0435\u0440\u0435\u043F\u0438\u0441\u044B\u0432\u0430\u0442\u044C \u0442\u0435\u043A\u0441\u0442, \u043F\u0440\u0438\u0432\u0435\u0434\u0435\u043D\u043D\u044B\u0439 \u043D\u0438\u0436\u0435, \u0434\u0430\u043B\u044C\u043D\u0435\u0439\u0448\u0438\u0435 \u0438\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0438\u0438 \u0431\u0443\u0434\u0443\u0442 \u0432 \u0434\u0438\u0430\u043B\u043E\u0433\u0435","Friendly":"\u041F\u0435\u0440\u0435\u043F\u0438\u0448\u0438 \u0442\u0435\u043A\u0441\u0442 \u043D\u0438\u0436\u0435 \u0438 \u0441\u0434\u0435\u043B\u0430\u0439 \u0435\u0433\u043E \u0431\u043E\u043B\u0435\u0435 \u0434\u0440\u0443\u0436\u0435\u043B\u044E\u0431\u043D\u044B\u043C","Formal":"\u041F\u0435\u0440\u0435\u043F\u0438\u0448\u0438 \u0442\u0435\u043A\u0441\u0442 \u043D\u0438\u0436\u0435 \u0438 \u0441\u0434\u0435\u043B\u0430\u0439 \u0435\u0433\u043E \u0431\u043E\u043B\u0435\u0435 \u0444\u043E\u0440\u043C\u0430\u043B\u044C\u043D\u044B\u043C","Shorten":"\u041F\u0435\u0440\u0435\u043F\u0438\u0448\u0438 \u0442\u0435\u043A\u0441\u0442 \u043D\u0438\u0436\u0435 \u0438 \u0443\u043A\u043E\u0440\u043E\u0442\u0438 \u0435\u0433\u043E","Extend":"\u041F\u0435\u0440\u0435\u043F\u0438\u0448\u0438 \u0442\u0435\u043A\u0441\u0442 \u043D\u0438\u0436\u0435 \u0438 \u0443\u0434\u043B\u0438\u043D\u0438 \u0435\u0433\u043E","Rephrase":"\u041F\u0435\u0440\u0435\u043F\u0438\u0448\u0438 \u0442\u0435\u043A\u0441\u0442 \u043D\u0438\u0436\u0435 \u0438 \u043F\u0435\u0440\u0435\u0444\u0440\u0430\u0437\u0438\u0440\u0443\u0439 \u0435\u0433\u043E"},"DebugInfo":{"NoDebugInfo":"\u041D\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u043E\u0439 \u043E\u0442\u043B\u0430\u0434\u043E\u0447\u043D\u043E\u0439 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0438"}}}')};let j=class _e{static{this.\u0275fac=function(t){return new(t||_e)}}static{this.\u0275mod=p.\u0275\u0275defineNgModule({type:_e})}static{this.\u0275inj=p.\u0275\u0275defineInjector({providers:[D.UserConsentService,x],imports:[A.CopilotUtilsModule,Ce.CopilotIntentSchemaDesignerApiModule,E.CrtLibTranslateModule.forRoot({i18n:Ye})]})}};j=(0,s.__decorate)([(0,n.CrtModule)({viewElements:[],requestHandlers:[X,q,ae,re,J,ee,Q,Z,z,G,B,$,oe,K,V,te,ie,ge,ne,Y,le,se,ce,W,de,ue,pe,he],converters:[O]})],j),function(){(typeof ngJitMode>"u"||ngJitMode)&&p.\u0275\u0275setNgModuleScope(j,{imports:[A.CopilotUtilsModule,Ce.CopilotIntentSchemaDesignerApiModule,E.CrtLibTranslateModule]})}()}}]);
