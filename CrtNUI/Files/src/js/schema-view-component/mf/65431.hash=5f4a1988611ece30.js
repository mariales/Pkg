(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[65431,73308,50927,28546,6165,62832,40451,18070,95689,94260,71879,41421,63802,86183,8564,30945,53326,75707,98088,20469,42850,70422,48041,15184,92803,80898,58517,25660,3279,91374,68993,83231,5612,38469],{65431:(Dn,st,p)=>{p.r(st),p.d(st,{ACCESS_CONTROL_WHITELIST:()=>f.Vv,ACTIVITY_CATEGORY_EMAIL:()=>y.Aw,ACTIVITY_CATEGORY_MEETING:()=>y.Pe,ACTIVITY_CATEGORY_TODO:()=>y.er,ACTIVITY_SCHEME_NAME:()=>y.e_,ACTIVITY_SCHEME_UID:()=>y.LK,ACTIVITY_TYPE_EMAIL:()=>y.Iq,ACTIVITY_TYPE_TASK:()=>y.zY,ALLOW_PAGE_DESIGN:()=>f.pF,ALL_EMPLOYEES_SYSADMINUNIT_ID:()=>bs,ALL_PORTAL_USERS_SYSADMINUNIT_ID:()=>Rs,APPEARANCE_SETTINGS_DEFAULT_LOADER:()=>f.Ly,APPEARANCE_SETTINGS_LOADER:()=>f.N6,APPLICATION_INFO_PROVIDER:()=>c.Iw,AbstractEntityDataSourceAttributeConfigConverter:()=>c.To,AbstractExpressionFactory:()=>D,AbstractExpressionFactoryMediator:()=>ft,AbstractThemeProvider:()=>Sn,AbstractValidator:()=>zt,AclRightsException:()=>Ar.r,AclRules:()=>Ar.K,AddonName:()=>_.ub,AggregationSubQueryOperandExpression:()=>Or,AggregationSubQueryOperandExpressionFactory:()=>Br,AppBaseUrlCsrfInterceptor:()=>Ve,AppearanceSettingsMetadata:()=>at,AppearanceSettingsService:()=>c.Ng,ApplicationInfo:()=>c.zX,ApplicationInfoService:()=>c.my,ArithmeticOperatorDataTypeResolver:()=>br,ArithmeticOperatorExpression:()=>Pr,ArithmeticOperatorExpressionFactory:()=>Kr,ArithmeticOperatorType:()=>P,BACKWARD_COMPATIBILITY_COLORS_MAP:()=>_.Fm,BASE_DASHBOARD_TEMPLATE_ANGULAR:()=>y.zc,BASE_HOME_PAGE_TEMPLATE_ANGULAR:()=>y.k6,BASE_MODAL_PAGE_TEMPLATE_ANGULAR:()=>y.Ov,BASE_PAGE_TEMPLATE_ANGULAR:()=>y.s5,BASE_SIDEBAR_TEMPLATE_ANGULAR:()=>y.d9,BYTES_IN_MEGABYTE:()=>c.P4,BaseDateTimeHandler:()=>O.tT,BaseFileUploadProcessingService:()=>c.TQ,BaseFormatPipe:()=>Tt,BaseRequireJsPathRegisterService:()=>c.do,BaseRightsService:()=>c.kG,BaseSchema:()=>S.DQ,BaseSysSettingsService:()=>c.XA,BaseTwoFaReferrerService:()=>c.Rl,BaseTwoFactorDialogService:()=>c.gB,BinaryOperatorExpression:()=>Lt,BrowserExtensionsService:()=>c.Gi,BrowserExtensionsServiceMock:()=>c.cu,BusinessRuleExpressionComparisonType:()=>_.Uq,BusinessRuleExpressionType:()=>_.ZX,BusinessRuleTriggerType:()=>_.TE,BypassSecurityTrustModule:()=>$e,BypassSecurityTrustPipe:()=>Ae,CKEDITOR_URL:()=>f.i_,CLIENT_SCHEMA_SAVED_CHANNEL_NAME:()=>Ii,COMPOSER_EVENT_ATTRIBUTE_PREFIX:()=>y._6,CONTEXT_SERVICE_TOKEN:()=>f.om,CRT_DESIGN_TIME_METADATA_PREPROCESSOR:()=>f.Xo,CRT_METADATA_PREPROCESSOR:()=>f.m9,CRT_MOMENT_DATETIME_FORMATS:()=>Mi,CRT_MOMENT_DATE_FORMATS:()=>Sr,CRT_NAVIGATION_LOCK_TOKEN:()=>f.Vi,ChangeColumnTypeRules:()=>ae,ChatMessageActionType:()=>S.Uh,ClientLogMessage:()=>c.lv,ClientLogMessageType:()=>c.vc,ClientLogService:()=>c.$,ClientPerformanceLogger:()=>c.Ki,ClientUnitSchemaType:()=>_.tT,CollectionLoadType:()=>se.jj,ColumnLookupValuesService:()=>c.Ik,ColumnOperandExpression:()=>Pt,ColumnOperandExpressionFactory:()=>Hr,ColumnOperandType:()=>j,CommonModule:()=>dt,ConfigurationItemCodeGenerationUtils:()=>Cn,ConsolePerformanceLogger:()=>c.GS,ConstOperandExpression:()=>Cr,ConstantOperandDataTypeResolver:()=>Rr,ConstantOperandExpressionFactory:()=>Ur,ContactColorService:()=>c.dK,ContextService:()=>f.VT,CopilotToEditorCommunicationService:()=>c.iK,CopyClipboardRequest:()=>L,CopyClipboardRequestHandler:()=>ot,CrtAutoUnsubscribe:()=>Fi,CrtColor:()=>J,CrtDateAdapter:()=>ge,CrtDatetimeAdapter:()=>me,CrtIndexedDBService:()=>ye,CrtIndexedDbModule:()=>Ne,CrtInjectionContext:()=>c.oX,CrtInjectionContextsService:()=>c.K,CrtNoopNavigationLock:()=>S.V_,CrtStandaloneCdkTrapFocusDirective:()=>ke,CrtTextOverflowTitleDirective:()=>Te,CrtTextOverflowTitleModule:()=>we,CrtZoneProvider:()=>ue,CrtZoneService:()=>$t,CrtZoneState:()=>_e,CrtZoneType:()=>St,CultureInfo:()=>Ct.fX,CustomEventTranslateLoader:()=>c.ns,CustomValidators:()=>ws,DATA_SERVICE_URI:()=>f.ot,DATA_SERVICE_URI_PROVIDER:()=>yn.Y,DATE_TIME_DATA_VALUE_TYPES:()=>y.im,DATE_TIME_FORMATTER:()=>U.On,DATE_TIME_FORMAT_INFO:()=>te.Ql,DEFAULT_CULTURE_ID:()=>Ct.Jy,DEFAULT_CULTURE_NAME:()=>Ct.dJ,DEFAULT_DATA_SERVICE_URI:()=>y._h,DEFAULT_FORMATTER:()=>U.HI,DEFAULT_ITEM_PROPERTY_VALUES:()=>f.mT,DEFAULT_THEME:()=>Os,DEPRECATED_ICON_MAP:()=>En,DEVKIT_MASK_SERVICE:()=>f.VM,DataServiceLoggingInterceptor:()=>Rt,DataSourceLoadingType:()=>S.YJ,DataSourceType:()=>S.ol,DataValueTypeGroup:()=>A.P,DataValueTypeItems:()=>A.Q,DateTimeEmptyPlaceholderCreator:()=>c.sI,DateTimeFormatInfoConverter:()=>te.b1,DateTimeFormatPipe:()=>B,DateTimeFormatter:()=>O.kC,DateTimeFormattingModule:()=>Ye,DateTypes:()=>Bt,DaysHandler:()=>O.Kd,DecodeHtmlPipe:()=>re,DefaultColors:()=>_.WZ,DefaultColorsHover:()=>_.M7,DefaultZones:()=>ce,DesignerDataValueTypeIconsProvider:()=>Pe,EMPTY_PLACEHOLDER_CREATOR_FACTORY:()=>c.oY,EMPTY_PLACEHOLDER_CREATOR_FACTORY_PROVIDER:()=>c.iT,ENTITY_DATA_SOURCE_ATTRIBUTE_CONFIG_CONVERTER_FACTORY:()=>c.J3,ENTITY_STRUCTURE_TOKEN:()=>f.Uo,ERROR_TRANSLATION_KEY_PATTERN:()=>In,EditorActionType:()=>S.uB,EditorNotification:()=>S.XM,EmptyPlaceholderCreator:()=>c.BC,EncodeHtmlPipe:()=>Ie,EntityColumn:()=>S.a8,EntityDataSourceAggregationAttributeConfigConverter:()=>c.nb,EntityDataSourceAttributeConfigConvertersModule:()=>c.iN,EntityDataSourceDefaultAttributeConfigConverter:()=>c._G,EntityDataSourceFunctionAttributeConfigConverter:()=>c.fJ,EntityDataSourceTypeName:()=>se.M1,EntityDeserializer:()=>je,EntityHttpService:()=>c.vr,EntityPathHelper:()=>Si.h,EntityRequireService:()=>c.M5,EntitySchema:()=>c.t6,EntitySchemaColumn:()=>c.PY,EntitySchemaColumnUsageType:()=>_.K1,EntitySchemaColumnUsageTypeItems:()=>_.As,EntitySchemaProvider:()=>yn.Q,EntitySchemaRepository:()=>c.vp,EntitySchemaService:()=>c.eu,EntityStructureService:()=>f.ow,EventService:()=>Be,ExecutionTrackingZone:()=>kt,Expression:()=>He,ExpressionFactory:()=>en,ExpressionFactoryMediator:()=>Se,ExpressionFactoryMediatorMock:()=>wi,ExpressionFactoryMock:()=>ji,ExpressionFactoryModule:()=>gt,ExpressionMock:()=>Bi,ExpressionType:()=>w,ExpressionVisitor:()=>ki,ExpressionVisitorMock:()=>Ui,FEATURE_VALUES:()=>f.G2,FILE_CONTENT_DESCRIPTOR_TOKEN:()=>f.vp,FORMATTERS_REGISTRATION_MAP:()=>U.DK,FeatureValues:()=>S.xR,FeedNotificationOperation:()=>c.x$,FeedNotificationService:()=>c.Zg,FeedSourceType:()=>Xt,FileApiHttpParamEncoder:()=>c.Gf,FileApiService:()=>c.kz,FileContentDescriptorsService:()=>f.Vk,FileContentUrlBuilderService:()=>c.j8,FileDownloaderService:()=>c.DG,FileReaderService:()=>c.dh,Formatter:()=>O.ZA,FormatterFactory:()=>O.$7,FormattersModule:()=>ss.g,FunctionExpression:()=>Mr,FunctionExpressionFactory:()=>jr,GENERATE_GUID_MACRO:()=>y.NK,GET_TRANSLATIONS_EVENT_NAME:()=>c.Ts,GenerateNameMacroProcessor:()=>Ji,HEADER_FIXED_HEIGHT:()=>f.H3,HTML_SANITIZATION_FORMATTER:()=>U.hi,HintDirectiveConfig:()=>Ci,HintOverlayDirective:()=>ht,HourHandler:()=>O.XV,HtmlFormattingModule:()=>Je,HtmlSanitizationFormatter:()=>O.ZQ,ISOtoMomentDateTimeFormatInfoConverter:()=>te.dV,IS_ANGULAR_HOST:()=>f.xZ,IS_DESIGN_TIME:()=>f.w9,ImageApiService:()=>c.VO,InitialsService:()=>c.jG,LczToStringModule:()=>Ge,LczToStringPipe:()=>W,LocalizableStringArray:()=>S.hd,LogicalOperation:()=>_.Dp,LookupFormatPipe:()=>ie,MACROS_HANDLER:()=>Xe,MODAL_SIZE_CLASSES:()=>c.BE,MODULE_STRUCTURE_TOKEN:()=>f.N0,MODULE_UTILS:()=>f.jy,MOMENT_APP_INITIALIZER_PROVIDER:()=>ms,MOMENT_DATE_TIME_FORMATTER:()=>U.ZJ,MacrosHandlerService:()=>ne,MacrosHelperService:()=>c.$E,MacrosModule:()=>We,MainMenuService:()=>c.YU,MeasurePerformanceNetworkService:()=>c.oA,MeasurePerformancePageLoadService:()=>c.b2,MeasurePerformanceService:()=>c.gc,MemoryFormatPipe:()=>X,MemoryFormattingModule:()=>Qe,MemoryUnit:()=>_.cb,MessageChannelService:()=>c.Aw,MessageType:()=>_.Go,MetadataSchemaUtils:()=>M,ModalSize:()=>se.rI,ModelMode:()=>se.bt,ModuleStructureService:()=>f.tQ,MomentInitializer:()=>Me,MonthsHandler:()=>O.St,NAME_PATTERN:()=>y.Vh,NAVIGATION_HANDLER_TOKEN:()=>S.m3,NOT_CONFIGURED_PERMISSIONS:()=>Ts,NUMBER_FORMATTER:()=>U.TF,NUMBER_PRECISIONS_MAP:()=>y.p0,NUMERIC_DATA_VALUE_TYPES:()=>y.D5,NavigationService:()=>c.o_,NotConfiguredPermissionsModel:()=>Ht,NumberFormatAdjuster:()=>O.dv,NumberFormatConfig:()=>lr,NumberFormatInfo:()=>pr,NumberFormatPipe:()=>H,NumberFormatUtility:()=>de,NumberFormatter:()=>O.KD,NumberFormattingModule:()=>qe,NumericEmptyPlaceholderCreator:()=>c.aP,ObjectPermissionsService:()=>et,OperandExpression:()=>Ue,OperandExpressionFactory:()=>zr,OperandType:()=>V,OperatorExpression:()=>yt,OperatorExpressionFactory:()=>Yr,OperatorType:()=>N,OrderDirectionStrict:()=>_.JQ,PAGE_PARAMETERS_DATA_SOURCE_NAME:()=>se.cI,PAGE_PARAMETERS_DATA_SOURCE_TYPE_NAME:()=>se.zR,PERFORMANCE_LOGGERS:()=>f.rm,PROCESS_SCHEMA_SAVED_CHANNEL_NAME:()=>Ai,PROVIDE_THEMING_ICONS_RESOLVER_APP_INITIALIZER:()=>Cs,PackageLocalizableDataService:()=>c.WK,ParenthesesOperatorExpression:()=>wr,ParenthesesOperatorExpressionFactory:()=>Qr,PerformanceLoggerService:()=>c.e8,RELATED_PAGE_TYPE_NAME:()=>vi,REQUIRE_JS:()=>c.Qe,REQUIRE_JS_PATH_REGISTER_PROVIDER:()=>c.u_,ROOT_SCHEMA_DESCRIPTORS:()=>f.me,RTLUtils:()=>It,RelationOperatorExpression:()=>Lr,RelationOperatorExpressionFactory:()=>Jr,RelationOperatorType:()=>k,RequestLoggingInterceptor:()=>bt,RequireJsPathRegisterService:()=>c.qc,RequireJsProvider:()=>c.av,RequireJsService:()=>c.ur,ResourceFinderService:()=>c.Qh,ResourceMacrosHandlerPipe:()=>ve,ResourceStringMacrosHandler:()=>an,ResourceUrlBuilderService:()=>c.eQ,RestAccumulatingErrorHandler:()=>gn._,RestErrorHandler:()=>gn.x,RestHandler:()=>Es.D,RootInjectorGuard:()=>hs.S,RootSchemaDescriptorsService:()=>f.lr,RuntimeUrlProvider:()=>c.BG,SAVE_ENTITY_EVENT:()=>Di,SAVE_ENTITY_SCHEMA_MESSAGE_ID:()=>f.kN,SAVE_ENTITY_SCHEMA_MESSAGE_ID_PROVIDER:()=>f.sT,SCHEMA_CHANGE_LISTENER_MESSAGE_PREDICATE:()=>c.Ac,SCHEMA_REMOVE_LISTENER_MESSAGE_PREDICATE:()=>c.Oj,SESSION_END_NOTIFIER_TOKEN:()=>se.cQ,SSP_DATA_SERVICE_URI:()=>y.x1,SSP_URL_SEGMENT:()=>fr,STRUCTURES_TOKEN:()=>f.h8,SafeUrlModule:()=>Ke,SafeUrlPipe:()=>De,SanitizeHtmlPipe:()=>G,SaveScrollPositionDirective:()=>Ee,SaveScrollPositionModule:()=>Le,SaveScrollPositionService:()=>c.jr,SchemaAccessService:()=>c.LM,SchemaChangeListenerService:()=>c.l2,SchemaColumnOperandExpressionFactory:()=>Gr,SchemaProcessingLifecycleHooks:()=>_.pA,SchemaResourcesSuffix:()=>S.c2,SchemaTypes:()=>S.L8,ScrollToBottomObserver:()=>mn,ScrollToBottomObserverFactory:()=>tt,SearchStrategy:()=>_.y,SecondFactorValidationStatus:()=>c.Te,ShowDesktopNotificationHandler:()=>pt,ShowDesktopNotificationRequest:()=>Ft,SmartDateTimeFormatPipe:()=>K,SoundNotificationHandler:()=>lt,SoundNotificationRequest:()=>Mt,SspUrlPrefixInterceptor:()=>si,StaticFileContentRequireJsPathRegisterService:()=>c.rY,StopwatchDateTimeFormatPipe:()=>Re,StorageService:()=>c.n$,StringFormatPipe:()=>Et,StringFormatter:()=>O.yt,StructuresService:()=>f.a5,StubRequireJsPathRegisterService:()=>c.qQ,SubQueryOperandExpression:()=>wt,SubQueryOperandExpressionFactory:()=>$r,SysAdminUnit:()=>Ms,SysAdminUnitType:()=>Ut,SysSettingOperandExpression:()=>xr,SysSettingOperandExpressionFactory:()=>Xr,SysVariableOperandExpression:()=>Vr,SysVariableOperandExpressionFactory:()=>Wr,THEME:()=>_n,THEMES:()=>Fs,TRANSLATE_SERVICE_URI:()=>fs,TargetMode:()=>_.xx,TernaryOperatorExpression:()=>kr,TernaryOperatorExpressionFactory:()=>qr,ThemeColor:()=>b,TimerDateTimeFormatPipe:()=>Y,ToEmptyPlaceholderModule:()=>Ze,ToEmptyPlaceholderPipe:()=>z,TotpDialogService:()=>c.vo,TranslateUtilsService:()=>c.tc,TrapFocusService:()=>c.v7,TreeNode:()=>nt,TwoFaReferrerService:()=>c.KF,TwoFactorHandlingInterceptor:()=>c._T,TypeResources:()=>S.ck,USER_INFO_PROVIDER:()=>c.vn,USE_PERFORMANCE_OPTIMIZATION:()=>f.N5,USE_SAVE_SCROLL_POSITION_SERVICE:()=>f.Aw,UnaryOperatorExpression:()=>Nr,UrlBuilderHttpInterceptor:()=>he,UserConnectionType:()=>_.Uo,UserInfo:()=>c.oq,UserInfoInitializerModule:()=>c.sU,UserInfoService:()=>c.fv,UserSessionMonitorService:()=>c.j0,VALIDATORS:()=>Gt,ValidationErrorMock:()=>Vs,ValidationErrorTranslateService:()=>oe,ValidationErrorTranslateServiceMock:()=>Ps,ValidationResult:()=>Fe,Validator:()=>Oe,ValidatorMock:()=>Ns,ValidatorTranslateDecorator:()=>it,ValueFormatPipe:()=>be,VerticalResizingMixin:()=>xi,ViewModelAttributeChangeEventOptions:()=>S.fT,WEB_SOCKET_HEARTBEAT_INITIAL_DELAY:()=>c.Vz,WEB_SOCKET_HEARTBEAT_INTERVAL:()=>c.Zs,WEB_SOCKET_HEARTBEAT_REQUEST_MESSAGE:()=>c.ml,WEB_SOCKET_HEARTBEAT_RESPONSE_MESSAGE:()=>c.k0,WEB_SOCKET_HEARTBEAT_TIMEOUT_DELAY:()=>c.Si,WEB_SOCKET_RECONNECTION_DELAY:()=>c.Hf,WINDOW_PAYLOAD_VALUES:()=>f.v0,WINDOW_PAYLOAD_VALUES_PROVIDER:()=>Ds,WORKPLACE_NAVIGATION_PANEL_VISIBLE_ATTRIBUTE_NAME:()=>y.xQ,WebComponentHttpInterceptor:()=>fe,WebSocketMsgChannel:()=>c.gt,WeekHandler:()=>O.j0,WindowPayloadService:()=>rt,WorkplaceService:()=>c.sG,YearsHandler:()=>O.dD,addSppUrlSegment:()=>yr,appInitializerMomentFactory:()=>fn,areLocalizableStringsEqual:()=>ni,backgroundColors:()=>_.t0,buildFolderTreeAttributeNames:()=>Xi,buildHierarchyAttributeNames:()=>Pi,capitalizeFirstLetter:()=>oi,chunkText:()=>On,compareObjectsStructure:()=>dr,compareWorkspaceBaseUrls:()=>I.ab,convertArithmeticOperatorTypeToString:()=>vr,convertImageToBase64String:()=>ir,convertRelationOperatorTypeToString:()=>Dr,createFileErrorLogItem:()=>c.MH,createSearchLowerCasePredicate:()=>pi,ctrlSPressed:()=>gi,ctrlShiftZPressed:()=>mi,ctrlZPressed:()=>Ti,dataSourceEntityNameMacrosHandler:()=>cn,detectCircularDependencies:()=>ls,endOfDay:()=>Bn,escapePressed:()=>yi,esqServiceUrl:()=>y.K4,expressionVisitResultMock:()=>Hi,extractLocalization:()=>ur,extractResourcesKey:()=>Jn,findCollectionRecursive:()=>nn,findItemRecursive:()=>rn,format:()=>mr,generatePropertiesAttributeName:()=>S.Wd,getAbsoluteAppPath:()=>I.co,getAggregationSubQueryColumnDefinitionId:()=>Fr,getAppBaseUrl:()=>I.gd,getAppPath:()=>I.BK,getAppUrl:()=>I.Xq,getArithmeticOperatorTypeFromString:()=>Ni,getBaseAppLocation:()=>I.Wb,getBusinessRuleCaption:()=>us,getBusinessRuleFilterAttributeName:()=>ds,getColorByTheme:()=>xe,getColumnDefinitionId:()=>Vt,getCookie:()=>er,getDataValueTypeByName:()=>Ln,getDataValueTypeGroup:()=>Pn,getDataValueTypeIcon:()=>wn,getEntityUrl:()=>I.TX,getEsqServiceLocation:()=>I.i5,getFullViewElementCaption:()=>hi,getImageFullUrlById:()=>Xn,getImageServiceUrlById:()=>Wn,getImageUrlById:()=>I.zB,getInterfaceDesignerUrl:()=>I.Oi,getItemsAttributeName:()=>ps,getLocalizableStringValue:()=>xs,getLocalization:()=>qn,getNumberDataValueTypeValidatorParams:()=>Vn,getOpenSchemaNavigationUrl:()=>I.j_,getPropertyByPath:()=>hr,getServicePrefixByUserType:()=>Ei,getSubQueryColumnDefinitionId:()=>Nt,getTextDataValueTypeValidatorParams:()=>xn,getUserCultureTimeFormat:()=>Un,getViewElementContentSlots:()=>pe,getWorkspaceBaseUrl:()=>I.cI,hasObjectStructure:()=>Dt,hashCode:()=>Tr,imageServiceUrl:()=>y.M,isAllowedTypeSearchColumn:()=>Is,isCalculatedAttributeConfig:()=>Mn,isLookupDataValueType:()=>Nn,isModelAttributeConfig:()=>Yt,isNumberTypeSearchColumn:()=>As,isResourceMacros:()=>cr,isString:()=>gr,isValidLookupValue:()=>kn,isValidSortDirection:()=>cs,joinPath:()=>I.uJ,joinSubscriptions:()=>ui,macrosTemplateHandler:()=>un,nameof:()=>fi,navigationLockFactory:()=>zi,normalizeLocalizations:()=>ei,objectHash:()=>ii,parseDate:()=>vt,parseJsonObject:()=>ar,parseJsonObjects:()=>Kn,parseJsonValue:()=>sr,postJson:()=>$n,removeSpecialSymbols:()=>Gn,replaceSvgWithImgBase64:()=>Zn,resourceStringMacrosHandlerFactory:()=>on,separateFilesBySize:()=>c.pZ,setTimeZoneOffset:()=>Hn,simpleCommand:()=>S.s7,startOfDay:()=>jn,stripFileName:()=>zn,toExtFilters:()=>$i,toLocalizableStringsArray:()=>ti,toOrderDirection:()=>as,toResourceLocalizableStrings:()=>ri,toResourceMacros:()=>Qn,unCapitalizeFirstLetter:()=>ci,updateArrayUniqueElements:()=>di});class at{constructor(e){this.modalSettings=e.modalSettings}}var b;(function(r){r.Auto="auto",r.Transparent="transparent",r.PrimaryContrast500="primary-contrast-500",r.Foreground500="foreground-500",r.Label500="label-500",r.BrandSecondary500="brand-secondary-500",r.Warning500="warn-500",r.Brand500="brand-500",r.NavigationPrimary500="navigation-primary-500",r.Primary500="primary-500"})(b||(b={}));const Ce=new Map([[b.PrimaryContrast500,"var(--crt-palette-background-500)"],[b.Foreground500,"var(--crt-palette-foreground-500)"],[b.Label500,"var(--crt-palette-label-500)"],[b.BrandSecondary500,"var(--crt-palette-secondary-500)"],[b.Warning500,"var(--crt-palette-error-500)"],[b.Brand500,"var(--crt-palette-navigation-primary-500)"],[b.NavigationPrimary500,"var(--crt-palette-navigation-primary-500)"],[b.Primary500,"var(--crt-palette-primary-500)"]]);function xe(r){return Object.values(b).includes(r)&&r!==b.Transparent?Ce.get(r):r}var J;(function(r){r.LightGreen="crt-color-light-green",r.Green="crt-color-green",r.DarkGreen="crt-color-dark-green",r.Orange="crt-color-orange",r.OrangeRed="crt-color-orange-red",r.Coral="crt-color-coral",r.BrightRed="crt-color-bright-red",r.Red="crt-color-red",r.Purple="crt-color-purple",r.Violet="crt-color-violet",r.CelestialBlue="crt-color-celestial-blue",r.Blue="crt-color-blue",r.LightBlue="crt-color-light-blue",r.NavyBlue="crt-color-navy-blue",r.DarkTurquoise="crt-color-dark-turquoise",r.Turquoise="crt-color-turquoise",r.LightGreenPastel="crt-color-light-green-pastel",r.GreenPastel="crt-color-green-pastel",r.DarkGreenPastel="crt-color-dark-green-pastel",r.OrangePastel="crt-color-orange-pastel",r.OrangeRedPastel="crt-color-orange-red-pastel",r.CoralPastel="crt-color-coral-pastel",r.BrightRedPastel="crt-color-bright-red-pastel",r.RedPastel="crt-color-red-pastel",r.PurplePastel="crt-color-purple-pastel",r.VioletPastel="crt-color-violet-pastel",r.CelestialBluePastel="crt-color-celestial-blue-pastel",r.BluePastel="crt-color-blue-pastel",r.LightBluePastel="crt-color-light-blue-pastel",r.NavyBluePastel="crt-color-navy-blue-pastel",r.DarkTurquoisePastel="crt-color-dark-turquoise-pastel",r.TurquoisePastel="crt-color-turquoise-pastel",r.PrimaryBlue="crt-color-primary-blue",r.PrimaryOrange="crt-color-primary-orange",r.PrimaryGreen="crt-color-primary-green",r.PrimaryNavi="crt-color-primary-navi",r.PrimaryGrey="crt-color-primary-grey",r.PrimaryBlack="crt-color-primary-black",r.PrimaryWhite="crt-color-primary-white"})(J||(J={}));var m=p(5960),s=p(38495),x=p(79772),F=p(96590),c=p(83208);let L=class extends s.BaseRequest{};L=(0,m.__decorate)([(0,s.CrtRequest)({type:"crt.CopyClipboardRequest"})],L);var $=p(73308),Kt=p(59564);let ot=class extends s.BaseRequestHandler{constructor(e,t){super(),this._copyClipboardService=e,this._notifyService=t}handle(e){var t=this;return(0,$.A)(function*(){yield t._copyClipboardService.copyTextToBuffer(e.value),yield t._notifyService.show({message:"CopyClipboard.Copied"}),yield t.next?.handle(e)})()}};ot=(0,m.__decorate)([(0,s.CrtRequestHandler)({type:"crt.CopyClipboardRequestHandler",requestType:"crt.CopyClipboardRequest"}),(0,m.__metadata)("design:paramtypes",[Kt.CopyClipboard,Kt.NotifyService])],ot);var R=p(28399);function bn(r){return s.InterfaceDesignerItemRegistry.get(r)?.collectionPropertyNames||["items"]}function Rn(r){const e=[];return s.ViewElementRegistry.viewElements.get(r)?.contentSlots?.forEach(n=>{if(typeof n=="string")e.push(n);else{const i=n?.name;e.push(i)}}),e}function pe(r){const e=Rn(r),t=bn(r);return[...new Set([...e,...t])]}function Yt(r){const e=r;return e?!!e?.modelConfig||!!e?.embeddedModel||!!e?.value:!1}function Mn(r){const e=r;return e?!!e.from||!!e.triggers:!1}class M{static _getViewConfigInfo(e,t,n,i,a){const u=[];if(Array.isArray(n))for(let l=0;l<n.length;l++){const d=n[l];t.includes(d[e])&&u.push({viewConfig:d,parentName:i,index:l,parentPropertyName:a}),pe(d.type)?.forEach(E=>{const C=d[E];if(C){const Q=this._getViewConfigInfo(e,t,C,d.name,E);u.push(...Q)}})}return u}static _getViewConfigInfoByFilter(e,t,n,i){const a=[];if(Array.isArray(t))for(let u=0;u<t.length;u++){const l=t[u];e(l)&&a.push({viewConfig:l,parentName:n,index:u,parentPropertyName:i}),pe(l.type)?.forEach(g=>{const E=l[g];if(E){const C=this._getViewConfigInfoByFilter(e,E,l.name,g);a.push(...C)}})}return a}static _isViewModelAttributeBound(e,t){if(!t)return!1;const n=e.viewConfig,i=`\\W\\$${t}\\W`;return M._isAttributeUseInConfig(n,i)}static _isViewModelAttributeBoundInViewModel(e,t){if(!t)return!1;const n=(0,R.cloneDeep)(M.getViewModelConfig(e));n.attributes=n.attributes||{},delete n?.attributes[t];const i=`\\W${t}\\W`;return this._isAttributeUseInConfig(n,i)}static _isAttributeUseInConfig(e,t){const n=JSON.stringify(e);return new RegExp(t).test(n)}static _findViewConfigItem(e,t,n){if(n(t))return e.push(t),!0;const i=pe(t.type);for(const a of i){const u=t[a];if(u){for(const l of u)if(this._findViewConfigItem(e,l,n))return e.push(t),!0}}}static _getViewConfigArray(e){return e?Array.isArray(e)?e:[e]:[]}static _getPossibleResourceValues(e){return[`#ResourceString(${e})#`]}static getViewConfigPathByPropertyValue(e,t,n){const i=[],a=this._getViewConfigArray(n);for(const u of a)if(this._findViewConfigItem(i,u,l=>l[e]===t))break;return i}static getViewConfigInfoByPropertyForValues(e,t,n){const i=[],a=this._getViewConfigArray(n);for(let u=0;u<a.length;u++){const l=a[u];t.includes(l[e])&&i.push({viewConfig:l,index:u}),pe(l.type)?.forEach(g=>{const E=l[g];if(E){const C=M._getViewConfigInfo(e,t,E,l.name,g);i.push(...C)}})}return i}static getViewConfigInfoByProperty(e,t,n){return M.getViewConfigInfoByPropertyForValues(e,[t],n)}static getViewConfigInfoByFilter(e,t){const n=[],i=t??[];for(let a=0;a<i.length;a++){const u=i[a];e(u)&&n.push({viewConfig:u,index:a}),pe(u.type)?.forEach(d=>{const g=u[d];if(g){const E=M._getViewConfigInfoByFilter(e,g,u.name,d);n.push(...E)}})}return n}static getViewModelAttribute(e,t){return M.getViewModelConfig(e)?.attributes?.[t]}static getViewConfigInfoByName(e,t){return M.getViewConfigInfoByProperty("name",t,e?.viewConfig)[0]||{}}static getViewModelConfig(e,t=!1){return!e.viewModelConfig&&t&&(e.viewModelConfig={}),e.viewModelConfig||{}}static isViewModelAttributeBound(e,t){return t?M._isViewModelAttributeBound(e,t)||M._isViewModelAttributeBoundInViewModel(e,t):!1}static addViewModelAttributeChangeRequest(e,t){const{attributeName:n,requests:i,options:a}=t??{};if(!n||!i?.length)return;const u=!!a?.createAttributeIfEmpty,l=M.getViewModelConfig(e,u);if(!l?.attributes&&!u)return;const d=l.attributes??={};if(!d[n]&&!u)return;const g=d[n]??={};g.change??=[],Array.isArray(g.change)||(g.change=[g.change]),g.change.push(...i)}static findResourceDependencies(e,t){const n=M._getPossibleResourceValues(e),i={viewElements:[],attributes:[]},a=(u,l)=>{u&&(typeof u=="string"?n.forEach(d=>{u.includes(d)&&i.viewElements.push(l)}):Array.isArray(u)?u.forEach(d=>a(d,l)):typeof u=="object"&&Object.values(u).forEach(d=>a(d,l)))};return Object.entries(t).forEach(([u,l])=>a(l,u)),i}static getDependentModelsNames(e,t,n){return Object.entries(e||{}).filter(([,a])=>{let u=t;return n&&(u=`${t}.${n}`),a.some(l=>l.relationPath.startsWith(u))}).map(([a])=>a)}static getDataSourceModelName(e,t){return e?.dataSources?.[t]?.config?.entitySchemaName}static findAllAttributesByDataSourceAttributePath(e,t){const n=M.getViewModelConfig(e,!0).attributes??{},i=Object.keys(n).filter(u=>{const l=n[u]??{};return Yt(l)&&l.modelConfig?.path===t});if(i.length>0)return i;const a=t.split(".");if(a.length>2){const u=a[0],d=e?.modelConfig?.dataSources?.[u]?.config?.attributes;if(d){const g=a.slice(1).join("."),E=Object.keys(d).find(C=>d[C].path===g);if(E)return this.findAllAttributesByDataSourceAttributePath(e,`${u}.${E}`)}}return[]}}class It{static _isRTL(){return Terrasoft.utils.common.getIsRtlMode()}static getPageDirection(){return It._isRTL()?"rtl":"ltr"}}var At=p(63721),I=p(88920),o=p(59131);const Qt="BPMCSRF";class Ve{constructor(e){this.tokenService=e}intercept(e,t){const n=e.url.toLowerCase();if(e.method==="GET"||e.method==="HEAD"||(n.startsWith("http://")||n.startsWith("https://"))&&!n.startsWith((0,I.gd)().toLowerCase()))return t.handle(e);const i=this.tokenService.getToken();return i!==null&&!e.headers.has(Qt)&&(e=e.clone({headers:e.headers.set(Qt,i)})),t.handle(e)}static{this.\u0275fac=function(t){return new(t||Ve)(o.\u0275\u0275inject(At.HttpXsrfTokenExtractor))}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}}const Jt=(r,e)=>{let t;if(typeof r>"u"||r===null||r==="")t=-1;else{let n;if(typeof r=="string"?n=[r]:Array.isArray(r)&&r.length&&(n=r),!Array.isArray(n)||!n.length)t=-1;else if(e===0)t=n.map(i=>i.length).reduce((i,a)=>i+a);else if(e>0){const i=n.map(u=>u.length).reduce((u,l)=>u+(l>e?e:l)),a=n.length*e;t=a>i?i:a}else t=n.length}return t},qt=(r,e)=>{let t=r.lastIndexOf(" ",e);return t===-1&&(t=e),(t>r.length||e>=r.length)&&(t=r.length),t},Fn=(r,e,t)=>{let n=qt(r,e);for(;n>0&&e<Jt(r.slice(0,n),t);)n=n-1;return n=qt(r,n),(n>-2&&n<1||r[n]===" ")&&(n=n+1),(n>r.length||n<0||n===0&&r.length===1)&&(n=r.length),n};function On(r,e){const n=[];let i=r.split("");for(;Jt(i,-1)>0;){const a=Fn(i,e,-1),u=i.slice(0,a).join("").trim();u!==""&&u!==null&&n.push(u),i=i.slice(a)}return n}class Cn{static{this._codeCharactersRegex=new RegExp("^[A-Za-z0-9\\s_]*$")}static{this._wordsMatchRegex=new RegExp(/\w+/g)}static generateCode(e,t=-1){const i=(e.match(this._wordsMatchRegex)||[]).filter(a=>a.length!==0).map(a=>a[0].toUpperCase()+a.substring(1)).join("");return t>=0?i.slice(0,t):i}static isTextUsableForCodeGeneration(e){return this._codeCharactersRegex.test(e)}}function er(r){const e=document.cookie.match(new RegExp("(^| )"+r+"=([^;]+)"));return e?e[2]:null}var A=p(47149),q=p(47726);function xn(r){let e;switch(r){case s.DataValueType.SHORT_TEXT:e=q.dataValueTypeTextSize.ShortTextCaption;break;case s.DataValueType.PHONE_TEXT:case s.DataValueType.MEDIUM_TEXT:e=q.dataValueTypeTextSize.MediumTextCaption;break;case s.DataValueType.LONG_TEXT:case s.DataValueType.EMAIL_TEXT:e=q.dataValueTypeTextSize.LongTextCaption;break;default:return}return{maxLength:e}}function Vn(r){if([s.DataValueType.Float,s.DataValueType.FLOAT1,s.DataValueType.FLOAT2,s.DataValueType.FLOAT3,s.DataValueType.FLOAT4,s.DataValueType.FLOAT8,s.DataValueType.Money].includes(r))return{minValue:q.dataValueTypeNumberSize.Float.min,maxValue:q.dataValueTypeNumberSize.Float.max};if(r===s.DataValueType.Integer)return{minValue:q.dataValueTypeNumberSize.Integer.min,maxValue:q.dataValueTypeNumberSize.Integer.max}}var tr=p(52989),ct=p(71252);class Pe{constructor(e,t){this.iconRegistry=e,this.domSanitizer=t,Object.keys(A.Q).forEach(n=>{const i=A.Q[n],a=i.name.toLowerCase();this.iconRegistry.addSvgIconLiteral(`page-designer-${a}`,this.domSanitizer.bypassSecurityTrustHtml(i.designerIcon)),i.designerAutonumberIcon&&this.iconRegistry.addSvgIconLiteral(`page-designer-${a}-autonumber`,this.domSanitizer.bypassSecurityTrustHtml(i.designerAutonumberIcon))})}getDesignerDataValueTypeIcon(e,t=!1){const n=A.Q[e];if(!n)throw new Error(`Data value type "${e}" not exists`);const i=n.name.toLowerCase();return t?`page-designer-${i}-autonumber`:`page-designer-${i}`}static{this.\u0275fac=function(t){return new(t||Pe)(o.\u0275\u0275inject(tr.MatIconRegistry),o.\u0275\u0275inject(ct.DomSanitizer))}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}}function Pn(r){const e=Object.keys(A.P).find(t=>A.P[t].includes(r));return A.P[e]}function Nn(r){return r===s.DataValueType.Lookup||r===s.DataValueType.Guid}function wn(r){return A.Q[r]?.icon||null}function Ln(r){return Object.values(A.Q).find(e=>e.name===r)?.type}function kn(r){return!(r&&!r?.value)}function jn(r){return r=r||new Date,new Date(r.getFullYear(),r.getMonth(),r.getDate())}function Bn(r){return r=r||new Date,new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59,999)}function vt(r){if(!r)return null;function e(){throw new Error(`String "${r}" is not a valid serialized date.`)}typeof r!="string"&&e();const[t,n]=r.split("T");if(n&&(n[n.length-1]==="Z"||n.indexOf("+")!==-1||n.indexOf("-")!==-1)){const a=Date.parse(r);return isNaN(a)&&e(),new Date(a)}try{const[a,u,l]=t.split("-"),[d,g,E]=n.split(":"),[C,Q]=E.split(".");return new Date(parseInt(a),parseInt(u)-1,parseInt(l),parseInt(d),parseInt(g),parseInt(C),parseInt(Q))}catch{e()}}function Hn(r,e){e==null&&(e=0),r.setSeconds(r.getSeconds()+e*3600)}function Un(r,e,t){const n=t||{hour:"2-digit",minute:"2-digit"};return new Intl.DateTimeFormat(e.sysCultureName,n).format(r)}function zn(r){const e=[`[?\\/:*"'<>|+s.%@&()#][;,]`,"[^0-9a-z\xC0-\u017E\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC\u0430-\u044F\u0456\u0457\u0491\u0454]"],t=new RegExp(e.join("|"),"gi");return r=r.replace(t,"_"),r=r.replace(/_{2,}/g,"_"),r.toLowerCase()}function Gn(r){return r.replace(/\.+/g,"").replace(/\[+/g,"").replace(/\]+/g,"").replace(/:+/g,"")}function $n(r,e,t){return r.post(e,t,{headers:new At.HttpHeaders({"Content-Type":"application/json"})})}function rr(r,e,t){return!r||!e||!t}function nr(r,e){return`/img/entity/hash/${r}/${e}/`}function Xn(r,e="SysImage",t="Data"){if(rr(r,e,t))return"";const n=nr(e,t);return`${(0,I.Xq)()}${n}${r}`}function Wn(r,e="SysImage",t="Data"){return rr(r,e,t)?"":`${nr(e,t)}${r}`}function ir(r){let e="";if(typeof r=="string"){const n=new TextEncoder().encode(r);e=String.fromCharCode(...n)}else if(r instanceof ArrayBuffer){const t=new Uint8Array(r);for(let n=0;n<t?.byteLength;n++)e+=String.fromCharCode(t[n])}return window.btoa(e)}function Zn(r){const e=new DOMParser().parseFromString(r,"text/html"),t=e?.querySelectorAll("svg");return t.length>0&&t.forEach(n=>{const i=e.createElement("img"),a=ir(n.outerHTML);i.src=`data:image/svg+xml;base64,${a}`,n?.parentNode.replaceChild(i,n)}),e?.body.innerHTML||r}function sr(r,e){switch(s.ValidationUtilities.checkArgumentEmpty("dataValueType",e),e){case s.DataValueType.Date:case s.DataValueType.Time:case s.DataValueType.DateTime:return vt(r);default:return r}}function ar(r,e){if(s.ValidationUtilities.checkArgumentEmpty("columnValueTypes",e),!r)return r;const t={};return Object.keys(r).forEach(n=>{const i=r[n];t[n]=e[n]?sr(i,e[n]):i}),t}function Kn(r,e){return s.ValidationUtilities.checkArgumentEmpty("columnValueTypes",e),r&&r.map(t=>t&&ar(t,e))}var S=p(62299);function Yn(r,e,t=!1){return r==null&&e==null&&t===!0?!0:r?.cultureName===e?.cultureName&&r?.value===e?.value}const or=/#ResourceString\((.*)\)#/;function Qn(r){return r?`#ResourceString(${r})#`:null}function cr(r){return or.test(r)}function Jn(r){return cr(r)?r?.replace(or,"$1")??null:""}function qn(r,e){const t=ur(r,e);return Object.fromEntries(Object.entries(t).map(([n,i])=>[n,i?.[e]]))}function ur(r,e){return!r||!e?{}:Object.fromEntries(Object.entries(r).map(([t,n])=>[t,n?.[e]]).filter(([,t])=>t!==void 0).map(([t,n])=>[t,{[e]:n}]))}function ei(r){if(!r)return r;const e=JSON.parse(JSON.stringify(r));return Object.fromEntries(Object.entries(e).filter(([,t])=>!(0,R.isEmpty)(t)))}function ti(r,e){const t=new S.hd;if(!e)return t;const n=r?.[e];return n&&Object.keys(n).forEach(i=>{t.setValueLocalizableString(i,n[i])}),t}function ri(r,e){const t={};return!e||!r?{}:(r.filter(n=>n?.cultureName!=null).forEach(({cultureName:n,value:i})=>t[n]=i),{[e]:t})}function ni(r,e,t=!1){if(r==null&&e==null)return t===!0;const n=new S.hd(r),i=new S.hd(e);return n.length!==i.length?!1:n.every(a=>{const u=i.getLocalizableString(a.cultureName);return Yn(a,u,t)})}class lr{constructor(e){this.precision=2,Object.assign(this,e)}}class pr{constructor(e={}){this.decimalSeparator=e.decimalSeparator||"",this.thousandSeparator=e.thousandSeparator||""}}class de{constructor(e){this._userInfo=e,this._digitsInRank=3}_collapseRepeatedChar(e,t){return e.replace(new RegExp(`[\\${t}]{1,}`,"g"),t)}_insertThousandSeparators(e,t){const n=e.split("");for(let i=n.length-this._digitsInRank;i>0;i-=this._digitsInRank)n.splice(i,0,t);return n.join("")}formatNumberValue(e,t=null){if(e=parseFloat(e&&e.toString()),!e||isNaN(e))return"0";let n="";e<0&&(n="-"),t=t||new lr;const i=this.getNumberFormatInfo(),{decimalSeparator:a,thousandSeparator:u}=i,l=e.toFixed(t.precision).split(".");let d=l[0].replace("-","");t.ignoreThousandSeparator||(d=this._insertThousandSeparators(d,u));const g=l.length>1?l[1].replace(/0{1,}$/,""):"";return g!==""?`${n}${d}${a}${g}`:`${n}${d}`}removeFractionalPart(e){const t=".",[n]=e.toString().split(t);return n}getNumberFormatInfo(){const e=this._userInfo.cultureInfo;return new pr({decimalSeparator:e.decimalSeparator,thousandSeparator:e.thousandSeparator})}parseStringToNumber(e,t=2){if(!e)return NaN;typeof e!="string"&&(e=String(e));const n=this.getNumberFormatInfo().decimalSeparator;let i=this.formatStringValue(e);i=i.replace(n,".");const a=parseFloat(i);return Number(a.toFixed(t))}formatStringValue(e){typeof e!="string"&&(e=String(e));const t=e.match(/^-/)||"",n=this.getNumberFormatInfo().decimalSeparator,i=this._collapseRepeatedChar(e,n),a=new RegExp(`[^0-9\\${n}]+`,"g");return t+i.replace(a,"")}convertNumericStringToExponentialFormat(e,t=2){if(e&&e!==""){const n=parseFloat(e);if(!isNaN(n))return n.toExponential(t)}return""}static{this.\u0275fac=function(t){return new(t||de)(o.\u0275\u0275inject(c.oq))}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:de,factory:de.\u0275fac,providedIn:"root"})}}function Dt(r,e){return Object.keys(r).every(t=>Object.prototype.hasOwnProperty.call(e,t)?typeof r[t]=="object"?dr(r[t],e[t]):!0:!1)}function dr(r,e){return Dt(r,e)&&Dt(e,r)}function hr(r,e){const t=Array.isArray(e)?e:e.split(".");let n=r;for(const i of t)if(n instanceof Map)n=n.get(i);else if(n&&typeof n=="object")n=n[i];else return;return n}function ii(r){const e=JSON.stringify(r);let t=5381;for(let n=0;n<e.length;n++)t=(t<<5)+t+e.charCodeAt(n);return t.toString(16)}var ee=p(40297),h=p(62278),T=p(36486);const fr="ssp",yr=r=>ee.Location.joinWithSlash(fr,r);class si{constructor(e){this._userInfoService=e}_getSkipProcessUrl(e){const t=e.includes("GetCurrentUserInfo"),n=e.includes("GetFeatureStates"),i=/^https?:\/\//i.test(e),a=/ssp\//i.test(e),u=/rest\//i.test(e);return t||n||i||a||!u}intercept(e,t){const n=e.url;return this._getSkipProcessUrl(n)?t.handle(e):this._userInfoService.loadCurrentUserInfo().pipe((0,T.map)(i=>i?.userInfo?.isSSP||!1),(0,h.switchMap)(i=>{if(!i)return t.handle(e);const a=e.clone({url:yr(n)});return t.handle(a)}))}}function gr(r){return typeof r=="string"}function ai(r){const e=r.substring(1,r.length-1);return parseInt(e,10)}function mr(r,e){return r.replace(/{[0-9]}/g,t=>{const n=ai(t);return e[n]?e[n].toString():""})}function oi(r){return r.charAt(0).toUpperCase()+r.slice(1)}function ci(r){return r.charAt(0).toLowerCase()+r.slice(1)}function Tr(r){let e=0;if(!gr(r)||r.length===0)return e;for(let t=0;t<r.length;t++)e=r.charCodeAt(t)+(e<<5)-e,e=e&e;return e}function ui(r){const e=new h.Subscription;for(const t of r)e.add(t);return e}var ut=p(77794);function li(r,e,t){const n=r.toLowerCase();switch(t){case ut.y.Contains:return n.includes(e);case ut.y.StartsWith:return n.indexOf(e)===0;case ut.y.Equals:return n===e}}function pi(r,e=ut.y.Contains){return s.ValidationUtilities.checkArgumentEmpty("columnSelectors",r),(t,n)=>n?r.some(i=>{const a=typeof i=="string"?t[i]:i(t);return!a||typeof a!="string"?!1:li(a,n,e)}):!0}function di(r,e=[],t=[]){const n=new Set(t);return[...new Set([...r,...e])].filter(i=>!n.has(i))}class he{_buildRequestUrl(e){return this._isAbsoluteUrl(e)?e:ee.Location.joinWithSlash(this.getUrl(),e)}_isAbsoluteUrl(e){return/^https?:\/\//i.test(e)}getUrl(){return(0,I.Xq)()}intercept(e,t){return e=e.clone({url:this._buildRequestUrl(e.url)}),t.handle(e).pipe((0,T.catchError)(n=>(console.log(n),(0,h.throwError)(n))))}static{this.\u0275fac=function(t){return new(t||he)}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:he,factory:he.\u0275fac})}}function hi(r){return`${r.typeCaption===r.caption?r.caption:`${r.typeCaption} ${r.caption}`.trim()} | ${r.name}`}class fe extends he{getUrl(){return(0,I.cI)()}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=o.\u0275\u0275getInheritedFactory(fe)))(n||fe)}})()}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:fe,factory:fe.\u0275fac})}}const fi=r=>r;function yi(r){const{altKey:e,code:t,ctrlKey:n,shiftKey:i,metaKey:a}=r;return t==="Escape"&&!n&&!i&&!e&&!a}function gi(r){const{altKey:e,code:t,ctrlKey:n,shiftKey:i,metaKey:a}=r;return t==="KeyS"&&(n||a)&&!i&&!e}function mi(r){const{altKey:e,code:t,ctrlKey:n,shiftKey:i,metaKey:a}=r;return t==="KeyZ"&&(n||a)&&i&&!e}function Ti(r){const{altKey:e,code:t,ctrlKey:n,shiftKey:i,metaKey:a}=r;return t==="KeyZ"&&(n||a)&&!i&&!e}function Ei(){return er("UserType")==="SSP"?"ssp/":""}var Si=p(67847);let bt=class{constructor(e){this._window=e}intercept(e,t){const n={beforeRequest:function(i){},afterRequest:function(i){},onErrorRequest:function(i,a){}};return Object.assign(n,this._window.RequestLogger||{}),n.beforeRequest(e),t.handle(e).pipe((0,T.catchError)(i=>{throw n.onErrorRequest(e,i),i}),(0,T.map)(i=>(n.afterRequest(e),i)))}};bt=(0,m.__decorate)([(0,m.__param)(0,(0,o.Inject)(F.WINDOW_TOKEN)),(0,m.__metadata)("design:paramtypes",[Window])],bt);var f=p(75232);let Rt=class{constructor(e,t){this._featureValues=e,this._applicationInfo=t,this._dataServiceUrlRegex=new RegExp("DataService/(.+?)/(SelectQuery|InsertQuery|UpdateQuery|DeleteQuery)$")}_needAddParameters(e){return(this._applicationInfo.isDebugEnabled||this._featureValues.UseDataServiceQueryParams)&&!!e.url.match(this._dataServiceUrlRegex)}_addParameters(e){const t={s:e.body.rootSchemaName},n=e.body.rowCount;n&&(t.c=n);const i=new URLSearchParams(t);return`${e.url}?${i.toString()}`}intercept(e,t){try{if(!this._needAddParameters(e))return t.handle(e);const n=e.clone({url:this._addParameters(e)});return t.handle(n)}catch{return t.handle(e)}}};Rt=(0,m.__decorate)([(0,m.__param)(0,(0,o.Inject)(f.G2)),(0,m.__metadata)("design:paramtypes",[S.xR,c.zX])],Rt);let Mt=class extends s.BaseRequest{constructor(){super(...arguments),this.throwErrors=!1}};Mt=(0,m.__decorate)([(0,s.CrtRequest)({type:"crt.SoundNotificationRequest"})],Mt);let lt=class extends s.BaseRequestHandler{constructor(e){super(),this._soundPlayerService=e}handle(e){var t=this;return(0,$.A)(function*(){yield t._soundPlayerService.playFromSource(e.source,e.throwErrors),yield t.next?.handle(e)})()}};lt=(0,m.__decorate)([(0,s.CrtRequestHandler)({type:"crt.SoundNotificationHandler",requestType:"crt.SoundNotificationRequest"}),(0,m.__metadata)("design:paramtypes",[F.SoundPlayerService])],lt);let Ft=class extends s.BaseRequest{};Ft=(0,m.__decorate)([(0,s.CrtRequest)({type:"crt.ShowDesktopNotification"})],Ft);let pt=class extends s.BaseRequestHandler{constructor(e){super(),this.notificationSender=e}handle(e){var t=this;return(0,$.A)(function*(){yield t.notificationSender.notify(e.config),yield t.next?.handle(e)})()}};pt=(0,m.__decorate)([(0,s.CrtRequestHandler)({type:"crt.ShowDesktopNotificationHandler",requestType:"crt.ShowDesktopNotificationRequest"}),(0,m.__param)(0,(0,s.CrtInject)(F.DESKTOP_NOTIFICATION_SENDER_PROVIDER)),(0,m.__metadata)("design:paramtypes",[Object])],pt);var Ot=p(47141);const _i={name:"crt-shell-db",version:3,objectStoresMeta:[{store:"images",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"key",keypath:"key",options:{unique:!0}},{name:"dataUrl",keypath:"dataUrl",options:{unique:!1}}]},{store:"business-rules",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"key",keypath:"key",options:{unique:!0}},{name:"data",keypath:"data",options:{unique:!1}}]},{store:"common",storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"key",keypath:"key",options:{unique:!0}},{name:"data",keypath:"data",options:{unique:!1}}]}],isDefault:!0};class ye{constructor(e){this.dbService=e,this._cache=new Map}_getLocalCache(e){return this._cache.has(e)||this._cache.set(e,new Map),this._cache.get(e)}_clearLocalCache(e){this._getLocalCache(e).clear()}_setItemToLocalCache(e,t,n){this._getLocalCache(e).set(t,n)}_getItemFromLocalCache(e,t){return this._getLocalCache(e).get(t)}_hasItemInLocalCache(e,t){return this._getLocalCache(e).has(t)}add(e,t){return this.dbService.add(e,t).pipe((0,h.tap)(n=>this._setItemToLocalCache(e,t.key,n)))}getByKey(e,t){return this._hasItemInLocalCache(e,t)?(0,h.of)(this._getItemFromLocalCache(e,t)):this.dbService.getByIndex(e,"key",t).pipe((0,h.tap)(n=>this._setItemToLocalCache(e,t,n)))}clear(e){return this.dbService.clear(e).pipe((0,h.tap)(()=>this._clearLocalCache(e)))}update(e,t){return this.dbService.update(e,t).pipe((0,h.tap)(n=>this._setItemToLocalCache(e,t.key,n)))}static{this.\u0275fac=function(t){return new(t||ye)(o.\u0275\u0275inject(Ot.NgxIndexedDBService))}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:ye,factory:ye.\u0275fac})}}class Ne{static{this.\u0275fac=function(t){return new(t||Ne)}}static{this.\u0275mod=o.\u0275\u0275defineNgModule({type:Ne})}static{this.\u0275inj=o.\u0275\u0275defineInjector({providers:[ye],imports:[Ot.NgxIndexedDBModule.forRoot(_i)]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&o.\u0275\u0275setNgModuleScope(Ne,{imports:[Ot.NgxIndexedDBModule]})})();let dt=class Zt{static{this.\u0275fac=function(t){return new(t||Zt)}}static{this.\u0275mod=o.\u0275\u0275defineNgModule({type:Zt})}static{this.\u0275inj=o.\u0275\u0275defineInjector({providers:[c.eu,c.kz,c.DG,de,c.tc,c.Qh,{provide:c.Qe,useFactory:e=>e.requirejs,deps:[F.WINDOW_TOKEN]},c.qc,c.qQ,c.rY,c.av,{provide:c.Ac,useValue:e=>e?.header?.sender==="SchemaManagerItemEventNotifier"&&e?.header?.bodyTypeName==="ChangedSchema",multi:!0},{provide:c.Oj,useValue:e=>e?.header?.sender==="SchemaManagerItemEventNotifier"&&e?.header?.bodyTypeName==="RemovedSchema",multi:!0}],imports:[x.TranslateModule]})}};dt=(0,m.__decorate)([(0,s.CrtModule)({requestHandlers:[ot,pt,lt]})],dt),function(){(typeof ngJitMode>"u"||ngJitMode)&&o.\u0275\u0275setNgModuleScope(dt,{imports:[x.TranslateModule]})}();var y=p(28020);const Ii="client_schema_saved",Ai="process-schema-saved",vi="Terrasoft.Core.RelatedPages.RelatedPage",Di="save-entity";var Ct=p(61843),Er=p(42828),bi=p(30046),Ri=p.n(bi),te=p(47788);class ge extends Er.MomentDateAdapter{constructor(){super(...arguments),this._dateTimeFormatToken=(0,o.inject)(te.Ql),this._userInfo=(0,o.inject)(c.oq)}getFirstDayOfWeek(){return this._dateTimeFormatToken?.firstDayOfWeek??0}today(){return super.today().utcOffset(this._userInfo.timeZoneOffsetHours??Ri()().utcOffset())}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=o.\u0275\u0275getInheritedFactory(ge)))(n||ge)}})()}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:ge,factory:ge.\u0275fac,providedIn:"root"})}}const Sr=()=>{const r=(0,o.inject)(te.Ql),e=(0,R.cloneDeep)(Er.MAT_MOMENT_DATE_FORMATS);if(r){const t=new RegExp((0,R.escapeRegExp)(r.dateSeparator),"g");e.parse.dateInput=r.shortDatePattern.replace(t,""),e.display.dateInput=r.shortDatePattern}return e};var _r=p(90824);class me extends _r.MomentDatetimeAdapter{constructor(){super(...arguments),this._dateTimeFormatToken=(0,o.inject)(te.Ql)}format(e,t){let n=super.format(e,t);if(this._dateTimeFormatToken&&t.includes("A")){const i=e.format("A");e.hour()<12?n=n.replace(i,this._dateTimeFormatToken.amDesignator):n=n.replace(i,this._dateTimeFormatToken.pmDesignator)}return n}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=o.\u0275\u0275getInheritedFactory(me)))(n||me)}})()}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:me,factory:me.\u0275fac})}}const Mi=()=>{const r=(0,o.inject)(te.Ql)?.shortTimePattern,e=Sr(),t=(0,R.cloneDeep)(_r.MAT_MOMENT_DATETIME_FORMATS);return r&&(t.parse.datetimeInput=`${e.parse.dateInput} ${r}`,t.parse.dateInput=e.parse.dateInput,t.parse.timeInput=r,t.display.datetimeInput=`${e.display.dateInput} ${r}`,t.display.dateInput=e.display.dateInput,t.display.timeInput=r),t};function Fi(r){function e(n){n&&typeof n.unsubscribe=="function"&&n.unsubscribe()}const t=r.prototype.ngOnDestroy;r.prototype.ngOnDestroy=function(...n){for(const i in this)if(Object.prototype.hasOwnProperty.call(this,i)){const a=this[i];e(a),Array.isArray(a)&&a.forEach(u=>{e(u)})}t&&typeof t=="function"&&t.apply(this,n)}}var Ir=p(31555),Oi=p(73969);class ht{constructor(e,t,n,i){this.overlay=e,this.overlayPositionBuilder=t,this.elementRef=n,this.ngZone=i,this.delayTime=500}_createIconHoveredStream(e){return this.ngZone.runOutsideAngular(()=>(0,h.fromEvent)(this.elementRef.nativeElement,"mouseenter").pipe((0,T.auditTime)(this.delayTime),(0,T.takeUntil)(e)))}_createIconMouseOutStream(){return this.ngZone.runOutsideAngular(()=>(0,h.fromEvent)(this.elementRef.nativeElement,"mouseleave"))}_createEventsStream(e,t){this.subscription=t.subscribe(),this.subscription.add(e.subscribe());const n=(0,h.merge)(e,t);n.pipe((0,T.takeUntil)(t));const i=n.subscribe(a=>{if(a.type==="mouseenter"&&this.show(),a.type==="mouseleave"){this.hide(),this.subscription.unsubscribe();const u=this._createIconMouseOutStream(),l=this._createIconHoveredStream(u);this._createEventsStream(l,u)}});this.subscription.add(i)}hide(){this.overlayRef.hasAttached()&&this.overlayRef.detach()}show(){this.hintConfig&&(this.overlayRef.hasAttached()||(this.tooltipRef=this.overlayRef.attach(new Oi.ComponentPortal(this.hintConfig.componentType))),this.tooltipRef.instance.hintConfig=this.hintConfig.hintConfig)}ngOnInit(){const e=this.overlayPositionBuilder.flexibleConnectedTo(this.elementRef).withPositions([{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:this.hintConfig.positionX?this.hintConfig.positionX:0,offsetY:this.hintConfig.positionY?this.hintConfig.positionY:0}]);this.overlayRef=this.overlay.create({scrollStrategy:this.overlay.scrollStrategies.close(),positionStrategy:e})}ngAfterViewInit(){const e=this._createIconMouseOutStream(),t=this._createIconHoveredStream(e);this._createEventsStream(t,e)}ngOnDestroy(){this.hide(),this.subscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||ht)(o.\u0275\u0275directiveInject(Ir.Overlay),o.\u0275\u0275directiveInject(Ir.OverlayPositionBuilder),o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(o.NgZone))}}static{this.\u0275dir=o.\u0275\u0275defineDirective({type:ht,selectors:[["","libHintOverlay",""]],inputs:{hintConfig:[o.\u0275\u0275InputFlags.None,"libHintOverlay","hintConfig"]},exportAs:["libHintOverlay"]})}}class Ci{constructor(e){Object.assign(this,e)}}class Te{constructor(e){this._elementRef=e,this._debounceTime=300}_setTitleAttribute(){const e="title",t=this._elementRef.nativeElement;if(this._isElementOverflowed(t)){const n=t.value||t.innerText||"";t.setAttribute(e,n)}else t.removeAttribute(e)}_isElementOverflowed(e){return e.offsetWidth<e.scrollWidth||e.offsetHeight<e.scrollHeight}onMouseEnter(){(0,R.debounce)(()=>this._setTitleAttribute(),this._debounceTime,{leading:!0,trailing:!1})()}static{this.\u0275fac=function(t){return new(t||Te)(o.\u0275\u0275directiveInject(o.ElementRef))}}static{this.\u0275dir=o.\u0275\u0275defineDirective({type:Te,selectors:[["","crtTextOverflowTitle",""]],hostBindings:function(t,n){t&1&&o.\u0275\u0275listener("mouseenter",function(){return n.onMouseEnter()})}})}}class we{static{this.\u0275fac=function(t){return new(t||we)}}static{this.\u0275mod=o.\u0275\u0275defineNgModule({type:we})}static{this.\u0275inj=o.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&o.\u0275\u0275setNgModuleScope(we,{declarations:[Te],exports:[Te]})})();function xi(r=class{}){return class extends r{constructor(){super(...arguments),this.maxAllowedContainerHeight=Number.MAX_VALUE,this.minAllowedContainerHeight=0,this.containerResize=new o.EventEmitter}onContainerVerticalResizing(e){if(e.edges.top){const n=e.rectangle.height;if(n<this.minAllowedContainerHeight||n>=this.maxAllowedContainerHeight)return;this.resizableContainerHeight=n,this.containerResize.emit()}}}}class Ee{static{this.\u0275fac=function(t){return new(t||Ee)}}static{this.\u0275dir=o.\u0275\u0275defineDirective({type:Ee,selectors:[["","crtSaveScrollPosition",""]],features:[o.\u0275\u0275ProvidersFeature([c.jr])]})}}class Le{static{this.\u0275fac=function(t){return new(t||Le)}}static{this.\u0275mod=o.\u0275\u0275defineNgModule({type:Le})}static{this.\u0275inj=o.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&o.\u0275\u0275setNgModuleScope(Le,{declarations:[Ee],exports:[Ee]})})();var xt=p(93277),Vi=p(32483);class ke extends xt.CdkTrapFocus{constructor(){super(...arguments),this._trapFocusService=(0,o.inject)(c.v7),this._injector=(0,o.inject)(o.Injector),this._destroyRef=(0,o.inject)(o.DestroyRef),this._toggleTrapFocusEffect=(0,o.effect)(()=>{this.enabled=this._trapFocusService.enabled()})}ngAfterContentInit(){super.ngAfterContentInit(),(0,o.runInInjectionContext)(this._injector,()=>this._toggleTrapFocusEffect),this._trapFocusService.detached$.pipe((0,Vi.takeUntilDestroyed)(this._destroyRef),(0,T.delay)(1)).subscribe(()=>this.focusTrap.destroy())}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=o.\u0275\u0275getInheritedFactory(ke)))(n||ke)}})()}static{this.\u0275dir=o.\u0275\u0275defineDirective({type:ke,selectors:[["","crtTrapFocus",""]],exportAs:["crtTrapFocus"],standalone:!0,features:[o.\u0275\u0275ProvidersFeature([{provide:xt.FocusTrapFactory,useClass:xt.ConfigurableFocusTrapFactory}]),o.\u0275\u0275InheritDefinitionFeature]})}}class je{_getEntitySchemaColumnsDataValueTypesMap(e){return e.columns.reduce((t,n)=>(t[n.name]=n.dataValueType,t),{})}_getEntityColumnsDataValueTypesMap(e){return Object.keys(e).reduce((t,n)=>(t[n]=e[n].dataValueType,t),{})}_parseRawColumnValue(e,t){switch(t){case s.DataValueType.Date:case s.DataValueType.Time:case s.DataValueType.DateTime:return vt(e);default:return e}}_parseRawEntityObject(e,t){const n={};return Object.keys(e).forEach(i=>{const a=e[i];n[i]=t[i]?this._parseRawColumnValue(a,t[i]):a}),n}deserializeEntity(e,t){s.ValidationUtilities.checkArgumentEmpty("columnsConfig",e),s.ValidationUtilities.checkArgumentEmpty("rawEntity",t);const n=this._getEntityColumnsDataValueTypesMap(e);return this._parseRawEntityObject(t,n)}deserializeEntities(e,t){s.ValidationUtilities.checkArgumentEmpty("columnsConfig",e),s.ValidationUtilities.checkArgumentEmpty("rawEntities",t);const n=this._getEntityColumnsDataValueTypesMap(e);return t.map(i=>this._parseRawEntityObject(i,n))}deserializeEntitySchemaRecord(e,t){s.ValidationUtilities.checkArgumentEmpty("entitySchema",e),s.ValidationUtilities.checkArgumentEmpty("rawEntities",t);const n=this._getEntitySchemaColumnsDataValueTypesMap(e);return this._parseRawEntityObject(t,n)}deserializeEntitySchemaRecords(e,t){s.ValidationUtilities.checkArgumentEmpty("entitySchema",e),s.ValidationUtilities.checkArgumentEmpty("rawEntities",t);const n=this._getEntitySchemaColumnsDataValueTypesMap(e);return t.map(i=>this._parseRawEntityObject(i,n))}static{this.\u0275fac=function(t){return new(t||je)}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:je,factory:je.\u0275fac,providedIn:"root"})}}function Pi(r){return{specificationFilterAttributeName:`${r}_SpecificationFilters`,filterAttributeName:`${r}_Filters`,selectedNodeAttributeName:`${r}_SelectedNode`,nodesConfigAttributeName:`${r}_NodesConfig`,filterConverter:"crt.ToHierarchyFiltersConverter",nodesAttributeName:`${r}_Nodes`,expandedNodesAttributeName:`${r}_ExpandedNodes`,specificationFiltersConfigurationAttributeName:`${r}_SpecificationFiltersConfiguration`,selectedTabIndexAttributeName:`${r}_SelectedTabInd`,predefinedFilterAttributeName:`${r}_PredefinedFilter`,selectedNodeIdAttributeName:`${r}_SelectedNodeId`,selectedNodeIdProfileAttributeName:`${r}_SelectedNodeId_Profile`}}var _=p(10305);class Be{constructor(){this.subject$=new h.Subject}emit(e){this.subject$.next(e)}on(e,t,n){return this.subject$.pipe((0,T.filter)(i=>i.name===e),(0,T.map)(i=>i.value)).subscribe(i=>t.call(n,i))}static{this.\u0275fac=function(t){return new(t||Be)}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:Be,factory:Be.\u0275fac})}}var Ar=p(23529),w;(function(r){r[r.Operator=0]="Operator",r[r.Operand=1]="Operand",r[r.Function=2]="Function"})(w||(w={}));var V;(function(r){r[r.Const=0]="Const",r[r.Column=1]="Column",r[r.SysSetting=2]="SysSetting",r[r.SysVariable=3]="SysVariable"})(V||(V={}));var P;(function(r){r[r.Addition=0]="Addition",r[r.Subtraction=1]="Subtraction",r[r.Multiplication=2]="Multiplication",r[r.Division=3]="Division"})(P||(P={}));const Ni=r=>{switch(r){case"*":return P.Multiplication;case"/":return P.Division;case"+":return P.Addition;case"-":return P.Subtraction;default:throw new Error(`arithmetic operator: ${r} not supporting`)}},vr=r=>{switch(r){case P.Addition:return"+";case P.Subtraction:return"-";case P.Multiplication:return"*";case P.Division:return"/";default:throw new Error("Unsupported arithmetic operator type")}};var N;(function(r){r[r.Parentheses=0]="Parentheses",r[r.Arithmetic=1]="Arithmetic",r[r.Relation=2]="Relation",r[r.Ternary=3]="Ternary",r[r.Comma=4]="Comma",r[r.Point=5]="Point"})(N||(N={}));var k;(function(r){r[r.Equal=0]="Equal",r[r.NotEqual=1]="NotEqual",r[r.Less=2]="Less",r[r.LessOrEqual=3]="LessOrEqual",r[r.Greater=4]="Greater",r[r.GreaterOrEqual=5]="GreaterOrEqual"})(k||(k={}));const Dr=r=>{switch(r){case k.Equal:return"==";case k.NotEqual:return"!=";case k.Greater:return">";case k.GreaterOrEqual:return">=";case k.Less:return"<";case k.LessOrEqual:return"<=";default:throw new Error("Unsupported relation operator type")}};var j;(function(r){r[r.SchemaColumn=0]="SchemaColumn",r[r.SubQuery=1]="SubQuery",r[r.Aggregation=2]="Aggregation"})(j||(j={}));class ft{}class wi extends ft{registerFactory(e,t){throw new Error("Method not implemented.")}createExpression(e,t){throw new Error("Method not implemented.")}}class br{static{this._supportedDataTypesPriority={[s.DataValueType.Integer]:0,[s.DataValueType.FLOAT1]:1,[s.DataValueType.Float]:2,[s.DataValueType.FLOAT2]:3,[s.DataValueType.Money]:4,[s.DataValueType.FLOAT3]:5,[s.DataValueType.FLOAT4]:6,[s.DataValueType.FLOAT8]:7}}static _isSupportedResultDataType(e,t){if(e==null||t==null)return!1;const n=this._supportedDataTypesPriority[e]!=null,i=this._supportedDataTypesPriority[t]!=null;return n&&i}static _getSupportedResultDataType(e,t){const n=this._supportedDataTypesPriority[e],i=this._supportedDataTypesPriority[t];return n>=i?e:t}static getResultDataType(e,t){const n=e?.dataType,i=t?.dataType;return this._isSupportedResultDataType(n,i)?this._getSupportedResultDataType(n,i):null}}class Rr{static{this.NUMBER_REGEX=/^\d+\.{0,1}\d*$/}static{this.DECIMAL_SEPARATOR="."}static _getNumericDataType(e){const t=e.indexOf(this.DECIMAL_SEPARATOR);if(t===-1)return s.DataValueType.Integer;const i=e.slice(t+1,e.length).length;return this._getNumericDataTypeByPrecision(i)}static _getNumericDataTypeByPrecision(e){return e>4?s.DataValueType.FLOAT8:e===4?s.DataValueType.FLOAT4:e===3?s.DataValueType.FLOAT3:e===2?s.DataValueType.Float:s.DataValueType.FLOAT1}static getResultDataType(e){return typeof e=="boolean"?s.DataValueType.Boolean:typeof e=="number"?this._getNumericDataType(e.toString()):typeof e=="string"?this.NUMBER_REGEX.test(e)?this._getNumericDataType(e):s.DataValueType.Text:null}}class He{constructor(e,t){this.type=e,this.dataType=t}}class Mr extends He{constructor(e,t,n){super(w.Function,t),this.code=e,this.arguments=n}get definitionId(){return this.code}accept(e){return e&&e.visitFunctionExpression(this)}}class Ue extends He{constructor(e,t){super(w.Operand,t),this.operandType=e}}function Vt(r){return r?.columnPath}class Pt extends Ue{constructor(e,t){super(V.Column,t),this.columnPath=e,this.columnOperandType=j.SchemaColumn}get definitionId(){return Vt(this)}accept(e){return e&&e.visitColumnOperandExpression(this)}}function Nt(r){const e=Vt(r),t=Tr(r?.subFilters);return`${e}_${t}`}class wt extends Pt{constructor(e,t,n){super(e,t),this.subFilters=n,this.columnOperandType=j.SubQuery}get definitionId(){return Nt(this)}accept(e){return e&&e.visitSubQueryOperandExpression(this)}}function Fr(r){return`${Nt(r)}_${r?.aggregationType}`}class Or extends wt{constructor(e,t,n,i){super(e,t,i),this.aggregationType=n,this.columnOperandType=j.Aggregation}get definitionId(){return Fr(this)}accept(e){return e&&e.visitAggregationSubQueryOperandExpression(this)}}class Cr extends Ue{constructor(e,t){super(V.Const,t??Rr.getResultDataType(e)),this.value=e}get definitionId(){}accept(e){return e&&e.visitConstOperandExpression(this)}}class xr extends Ue{constructor(e,t){super(V.SysSetting,t),this.code=e}get definitionId(){return this.code}accept(e){return e&&e.visitSysSettingOperandExpression(this)}}class Vr extends Ue{constructor(e,t){super(V.SysVariable,t),this.name=e}get definitionId(){return this.name}accept(e){return e&&e.visitSysVariableOperandExpression(this)}}class yt extends He{constructor(e,t){super(w.Operator,t),this.operatorType=e}}class Lt extends yt{constructor(e,t,n,i){super(e,t),this.leftExpression=n,this.rightExpression=i}}class Pr extends Lt{constructor(e,t,n){super(N.Arithmetic,br.getResultDataType(t,n),t,n),this.arithmeticOperatorType=e}get definitionId(){return vr(this.arithmeticOperatorType)}accept(e){return e&&e.visitArithmeticOperatorExpression(this)}}class Nr extends yt{constructor(e,t){super(e,t?.dataType),this.expression=t}}class wr extends Nr{constructor(e){super(N.Parentheses,e)}get definitionId(){}accept(e){return e&&e.visitParenthesesOperatorExpression(this)}}class Lr extends Lt{constructor(e,t,n){super(N.Relation,s.DataValueType.Boolean,t,n),this.relationOperatorType=e}get definitionId(){return Dr(this.relationOperatorType)}accept(e){return e&&e.visitRelationOperatorExpression(this)}}class kr extends yt{constructor(e,t,n){super(N.Ternary,t.dataType),this.condition=e,this.thenExpression=t,this.elseExpression=n}get definitionId(){return"ternary"}accept(e){return e&&e.visitTernaryOperatorExpression(this)}}class D{constructor(e){this.expressionFactoryMediator=e}getDataType(e){return this.getObjectField(e,"dataType")}getDefinitionId(e){return this.getObjectField(e,"definitionId")}getExpression(e,t,n){const i=this.getObjectField(e,t);return this.expressionFactoryMediator.createExpression(n||"expression",i)}getObjectField(e,t){return e[t]}getEnumValue(e,t){if(t==null||t==="")return null;const n=+t;if(!isNaN(n))return n;const i=Object.entries(e).find(([a])=>a.toLocaleLowerCase()===t.toString().toLocaleLowerCase()&&Object.prototype.hasOwnProperty.call(e,a));return i?i[1]:null}getEnumValueByObject(e,t,n){const i=this.getObjectField(t,n);return this.getEnumValue(e,i)}}class jr extends D{constructor(e){super(e)}createExpression(e){const t=this.getObjectField(e,"code"),n=this.getDataType(e),a=this.getObjectField(e,"arguments").map(u=>this.expressionFactoryMediator.createExpression("expression",u));return new Mr(t,n,a)}}class Br extends D{constructor(e){super(e)}createExpression(e){const t=this.getDataType(e),n=this.getObjectField(e,"columnPath"),i=this.getObjectField(e,"subFilters"),a=this.getEnumValueByObject(s.AggregationType,e,"aggregationType");return new Or(n,t,a,i)}}class Hr extends D{constructor(e){super(e)}createExpression(e){switch(this.getEnumValueByObject(j,e,"columnOperandType")){case j.Aggregation:return this.expressionFactoryMediator.createExpression("aggregationSubQueryOperandExpression",e);case j.SubQuery:return this.expressionFactoryMediator.createExpression("subQueryOperandExpression",e);case j.SchemaColumn:default:return this.expressionFactoryMediator.createExpression("schemaColumnOperandExpression",e)}}}class Ur extends D{constructor(e){super(e)}createExpression(e){const t=this.getObjectField(e,"value"),n=this.getDataType(e);return new Cr(t,n)}}class zr extends D{constructor(e){super(e)}createExpression(e){switch(this.getEnumValueByObject(V,e,"operandType")){case V.Column:return this.expressionFactoryMediator.createExpression("columnOperandExpression",e);case V.Const:return this.expressionFactoryMediator.createExpression("constantOperandExpression",e);case V.SysSetting:return this.expressionFactoryMediator.createExpression("sysSettingOperandExpression",e);case V.SysVariable:return this.expressionFactoryMediator.createExpression("sysVariableOperandExpression",e);default:{const n=this.getObjectField(e,"operandType");throw new Error(`The '${n}' operand type is not supported.`)}}}}class Gr extends D{constructor(e){super(e)}createExpression(e){const t=this.getObjectField(e,"columnPath"),n=this.getDataType(e);return new Pt(t,n)}}class $r extends D{constructor(e){super(e)}createExpression(e){const t=this.getDataType(e),n=this.getObjectField(e,"columnPath"),i=this.getObjectField(e,"subFilters");return new wt(n,t,i)}}class Xr extends D{constructor(e){super(e)}createExpression(e){const t=this.getObjectField(e,"code"),n=this.getDataType(e);return new xr(t,n)}}class Wr extends D{constructor(e){super(e)}createExpression(e){const t=this.getObjectField(e,"name"),n=this.getDataType(e);return new Vr(t,n)}}class Zr extends D{constructor(e){super(e)}getLeftExpression(e){return this.getExpression(e,"leftExpression")}getRightExpression(e){return this.getExpression(e,"rightExpression")}}class Kr extends Zr{constructor(e){super(e)}createExpression(e){const t=this.getEnumValueByObject(P,e,"arithmeticOperatorType"),n=this.getLeftExpression(e),i=this.getRightExpression(e);return new Pr(t,n,i)}}class Yr extends D{constructor(e){super(e)}createExpression(e){switch(this.getEnumValueByObject(N,e,"operatorType")){case N.Arithmetic:return this.expressionFactoryMediator.createExpression("arithmeticOperatorExpression",e);case N.Parentheses:return this.expressionFactoryMediator.createExpression("parenthesesOperatorExpression",e);case N.Relation:return this.expressionFactoryMediator.createExpression("relationOperatorExpression",e);case N.Ternary:return this.expressionFactoryMediator.createExpression("ternaryOperatorExpression",e);default:{const n=this.getObjectField(e,"operatorType");throw new Error(`The '${n}' operator type is not supported.`)}}}}class Li extends D{constructor(e){super(e)}getInnerExpression(e){return this.getExpression(e,"expression")}}class Qr extends Li{constructor(e){super(e)}createExpression(e){const t=this.getInnerExpression(e);return new wr(t)}}class Jr extends Zr{constructor(e){super(e)}createExpression(e){const t=this.getEnumValueByObject(k,e,"relationOperatorType"),n=this.getLeftExpression(e),i=this.getRightExpression(e);return new Lr(t,n,i)}}class qr extends D{constructor(e){super(e)}createExpression(e){const t=this.getExpression(e,"condition","relationOperatorExpression"),n=this.getExpression(e,"thenExpression"),i=this.getExpression(e,"elseExpression");return new kr(t,n,i)}}class en extends D{constructor(e){super(e)}createExpression(e){switch(this.getEnumValueByObject(w,e,"type")){case w.Function:return this.expressionFactoryMediator.createExpression("functionExpression",e);case w.Operand:return this.expressionFactoryMediator.createExpression("operandExpression",e);case w.Operator:return this.expressionFactoryMediator.createExpression("operatorExpression",e);default:{const n=this.getObjectField(e,"type");throw new Error(`The '${n}' expression type is not supported.`)}}}}class Se extends ft{constructor(){super(),this._factories=new Map}registerFactory(e,t){this._factories.set(e,t)}createExpression(e,t){if(this._factories.has(e))return this._factories.get(e).createExpression(t);throw new Error(`Factory for the '${e}' expression is not registered.`)}static{this.\u0275fac=function(t){return new(t||Se)}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}class gt{static{this.\u0275fac=function(t){return new(t||gt)}}static{this.\u0275mod=o.\u0275\u0275defineNgModule({type:gt})}static{this.\u0275inj=o.\u0275\u0275defineInjector({providers:[{provide:ft,useFactory:()=>{const e=new Se;return e.registerFactory("expression",new en(e)),e.registerFactory("functionExpression",new jr(e)),e.registerFactory("operandExpression",new zr(e)),e.registerFactory("columnOperandExpression",new Hr(e)),e.registerFactory("aggregationSubQueryOperandExpression",new Br(e)),e.registerFactory("schemaColumnOperandExpression",new Gr(e)),e.registerFactory("subQueryOperandExpression",new $r(e)),e.registerFactory("constantOperandExpression",new Ur(e)),e.registerFactory("sysSettingOperandExpression",new Xr(e)),e.registerFactory("sysSettingOperandExpression",new Wr(e)),e.registerFactory("operatorExpression",new Yr(e)),e.registerFactory("arithmeticOperatorExpression",new Kr(e)),e.registerFactory("parenthesesOperatorExpression",new Qr(e)),e.registerFactory("relationOperatorExpression",new Jr(e)),e.registerFactory("ternaryOperatorExpression",new qr(e)),e}}]})}}class ki{}class ji extends D{constructor(e){super(e)}createExpression(e){throw new Error("Method not implemented.")}}class Bi extends He{constructor(e,t=s.DataValueType.Integer){super(w.Operand,t),this.id=e}get definitionId(){return this.id}accept(e){throw new Error("Method not implemented.")}}const Hi={id:(0,s.generateGuid)()};class Ui{constructor(e){this.visitResultMock=e}visitFunctionExpression(e){return this.visitResultMock}visitAggregationSubQueryOperandExpression(e){return this.visitResultMock}visitColumnOperandExpression(e){return this.visitResultMock}visitConstOperandExpression(e){return this.visitResultMock}visitSubQueryOperandExpression(e){return this.visitResultMock}visitSysSettingOperandExpression(e){return this.visitResultMock}visitSysVariableOperandExpression(e){return this.visitResultMock}visitArithmeticOperatorExpression(e){return this.visitResultMock}visitParenthesesOperatorExpression(e){return this.visitResultMock}visitRelationOperatorExpression(e){return this.visitResultMock}visitTernaryOperatorExpression(e){return this.visitResultMock}}var tn=p(4583),_e;(function(r){r[r.Busy=0]="Busy",r[r.Idle=1]="Idle"})(_e||(_e={}));var js=p(74369),mt;(function(r){r.ReadyStateChange="readystatechange"})(mt||(mt={}));class kt{constructor(e){this._trackedTasks=[],this._trackedEventTasks=[],this._enableDebugTracking=!1,this._disableWaits=!1,this._pendingFunctions=new Map,this.onStateChange$=new o.EventEmitter(!1),this._parentZone=Zone.current,this._rootZone=Zone.root,this._isBusy=!1,this._ignoredTaskSources=["setInterval","requestAnimationFrame"],this._eventTaskFilters=[t=>t.source.startsWith("XMLHttpRequest")&&t.source.endsWith(mt.ReadyStateChange)],this._zone=this._parentZone.fork({name:e,properties:{currentExecutionZone:this},onInvokeTask:this._onInvokeTask.bind(this),onCancelTask:this._onCancelTask.bind(this),onScheduleTask:this._onScheduleTask.bind(this),onHasTask:this._onHasTask.bind(this)})}wait(e){if(this._disableWaits)return e();this._isBusy||(this._isBusy=!0,this.onStateChange$.next(_e.Busy));const t=(0,s.generateGuid)();return this._pendingFunctions.set(t,this._enableDebugTracking?e:null),e().finally(()=>{this._pendingFunctions.delete(t),!this._pendingFunctions.size&&this._zone.run(()=>new Promise(n=>setTimeout(n)))}).catch(n=>{throw n})}_cancelXMLHttpRequestReadyStateChangeTaskOnRequestComplete(e,t){if(e.type==="eventTask"&&(e.state==="running"||e.state==="scheduled")){const n=e;n.eventName===mt.ReadyStateChange&&n.target.readyState===XMLHttpRequest.DONE&&t.cancelTask(n)}}_onInvokeTask(e,t,n,i,a,u){this._unTrackTask(i);let l;try{l=e.invokeTask(n,i,a,u),this._cancelXMLHttpRequestReadyStateChangeTaskOnRequestComplete(i,t)}catch(d){console.error(d),t.cancelTask(i)}return l}_onCancelTask(e,t,n,i){return this._unTrackTask(i),e.zone.runGuarded(()=>e.cancelTask(n,i))}_onScheduleTask(e,t,n,i){return this._getCanScheduleTask(i)?(this._trackTask(i),e.scheduleTask(n,i)):(i.cancelScheduleRequest(),this._parentZone.scheduleTask(i))}_onHasTask(e,t,n,i){e.hasTask(n,i);const a=i.eventTask||i.macroTask||i.microTask||this._pendingFunctions.size>0;this._isBusy!==a&&(this._rootZone.run(()=>this.onStateChange$.next(a?_e.Busy:_e.Idle)),this._isBusy=a)}_trackTask(e){this._enableDebugTracking&&(e.type==="eventTask"&&this._trackedEventTasks.push(e),this._trackedTasks.push(e))}_unTrackTask(e){if(!this._enableDebugTracking)return;const t=this._trackedTasks.indexOf(e);t>-1&&this._trackedTasks.splice(t,1)}_getCanScheduleTask(e){return e.type==="eventTask"?this._eventTaskFilters.some(t=>t(e)):this._ignoredTaskSources.indexOf(e.source)===-1}run(e,t,n){return this._zone.run(e,t,n)}}function zi(r,e,t){if(t.DisableNavigationLockInShell)return tn.V.instance;const n=e.get(r);return n instanceof kt?n:tn.V.instance}function ze(r){const e=r?.items;switch(r?.filterType){case s.FilterType.Between:r.className="Terrasoft.BetweenFilter",v(r.leftExpression),v(r.rightLessExpression),v(r.rightGreaterExpression);break;case s.FilterType.Compare:r.className="Terrasoft.CompareFilter",v(r.leftExpression),v(r.rightExpression);break;case s.FilterType.Exists:r.className="Terrasoft.ExistsFilter",v(r.leftExpression),ze(r.subFilters);break;case s.FilterType.FilterGroup:r.className="Terrasoft.FilterGroup";for(const[,t]of Object.entries(e||{}))ze(t);break;case s.FilterType.In:r.className="Terrasoft.InFilter",v(r.leftExpression),r.rightExpressions.forEach(t=>v(t));break;case s.FilterType.IsNull:r.className="Terrasoft.IsNullFilter",v(r.leftExpression);break}}function v(r){switch(r?.expressionType){case s.ExpressionType.SchemaColumn:r.className="Terrasoft.ColumnExpression";break;case s.ExpressionType.Parameter:r.className="Terrasoft.ParameterExpression",r.parameter&&(r.parameter.className="Terrasoft.Parameter"),r.parentFilter&&ze(r.parentFilter);break;case s.ExpressionType.ArithmeticOperation:r.className="Terrasoft.ArithmeticExpression",v(r.leftArithmeticOperand),v(r.rightArithmeticOperand);break;case s.ExpressionType.Function:Gi(r);break;case s.ExpressionType.SubQuery:r.functionType===s.FunctionType.Aggregation&&(r.className="Terrasoft.AggregationQueryExpression"),r.functionType===s.FunctionType.None&&(r.className="Terrasoft.SubQueryExpression"),r.subFilters&&ze(r.subFilters);break}}function Gi(r){switch(r?.functionType){case s.FunctionType.DateAdd:r.className="Terrasoft.DateAddFunctionExpression",v(r?.numberExpression),v(r?.dateTimeExpression);break;case s.FunctionType.DateDiff:r.className="Terrasoft.DateDiffFunctionExpression",v(r?.startDateExpression),v(r?.endDateExpression);break;default:r.className="Terrasoft.FunctionExpression"}r.functionArgument&&v(r.functionArgument),r.functionArguments&&r.functionArguments.forEach(e=>v(e))}function $i(r){const e={...r};return ze(e),e}function rn(r,e,t){if(!r)return null;let n=r.find(i=>e(i));return n||(r.forEach(i=>{n||(n=rn(t(i),e,t))}),n)}function nn(r,e,t){if(!r)return null;let n=e(r);return n||(r.forEach(i=>{n||(n=nn(t(i),e,t))}),n)}function Xi(r){return{activeFolderIdAttrName:`${r}_active_folder_id`,activeFolderFolderTreeIdAttrName:`${r}_active_folder_folder_tree_id`,activeFolderNameAttrName:`${r}_active_folder_name`,activeFolderFilterDataAttrName:`${r}_active_folder_filter_data`,activeFolderFilterAttrName:`${r}_active_folder_filter`,activeFolderFavoriteStateAttrName:`${r}_active_folder_favorite_state`,itemsAttrName:`${r}_items`,visibleAttrName:`${r}_visible`,showMaskAttrName:`${r}_show_mask`,itemsModelName:`${r}_items_DS`,itemsFilterAttrName:`${r}_items_DS_filter`,favoriteItemsAttrName:`${r}_favoriteItems`,expandedItemsAttrName:`${r}_expandedItems`,savedFolderIdAttrName:`${r}_savedFolderId`}}var O=p(20364),U=p(27708);class Tt{constructor(e){this._formatter=e}getValue(e){return e.toString()}getFormat(e){if(!e)return this.defaultFormat;const t=this.getFormatByDataType(e.dataType);return t?(0,R.merge)({},t,e):{type:this.defaultFormat?.type,...(0,R.omit)(e,"dataType")}}getFormatByDataType(e){return e&&this.formatsByDataTypeMap.get(e)}isSupportedValue(e){return typeof e=="string"}transform(e,t){if(!this.isSupportedValue(e))return"";const n=this.getValue(e),i=this.getFormat(t);return this._formatter.format(n,i)}}const Wi=new Map([[s.DataValueType.Date,{type:"datetime",date:{display:!0}}],[s.DataValueType.DateTime,{type:"datetime",date:{display:!0},time:{display:!0}}],[s.DataValueType.Time,{type:"datetime",date:{display:!1},time:{display:!0}}]]);class B extends Tt{constructor(e){super(e),this.defaultFormat={type:"datetime",date:{display:!0}},this.formatsByDataTypeMap=Wi}getValue(e){return typeof e=="number"&&(e=new Date(e)),e.toString()}isSupportedValue(e){return super.isSupportedValue(e)||typeof e=="number"||e instanceof Date}transform(e,t){return e===""?"":super.transform(e,t)}static{this.\u0275fac=function(t){return new(t||B)(o.\u0275\u0275directiveInject(U.On,16))}}static{this.\u0275pipe=o.\u0275\u0275definePipe({name:"dateTimeFormat",type:B,pure:!0})}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"})}}var Zi=p(30467);const Ki=new Map(y.D5.map(r=>[r,Yi(r)]));function Yi(r){return{type:"number",decimalPrecision:y.p0.get(r)}}class H extends Tt{constructor(e){super(e),this.defaultFormat={type:"number"},this.formatsByDataTypeMap=Ki}isSupportedValue(e){return super.isSupportedValue(e)||typeof e=="number"}static{this.\u0275fac=function(t){return new(t||H)(o.\u0275\u0275directiveInject(U.TF,16))}}static{this.\u0275pipe=o.\u0275\u0275definePipe({name:"numberFormat",type:H,pure:!0})}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:H,factory:H.\u0275fac,providedIn:"root"})}}class X{constructor(e){this._injector=e,this._unitNames=["Byte","Kilobyte","Megabyte","Gigabyte"],this._thresh=Zi.z}_roundNumber(e,t=1){const n=10**t;return Math.round((e+Number.EPSILON)*n)/n}_evalLevel(e){return e<this._thresh?0:Math.floor(Math.log(e)/Math.log(this._thresh))}_getUnits(e,t){const n=t&&e===0&&[2,3,4].includes(t%10)&&![12,13,14].includes(t%100)?"s":"",i=this._unitNames[e]+n;return" "+this._injector.get(x.TranslateService).instant("FileSizeUnit."+i)}transform(e,t){if(typeof e!="number")return typeof e=="string"?e:"";let n=t?this._unitNames.indexOf(t):-1;if(n===-1&&(n=this._evalLevel(e)),e<=0)return 0+this._getUnits(n);const i=n>0?this._roundNumber(e/Math.pow(this._thresh,n)):e;return this._injector.get(H).transform(i)+this._getUnits(n,i)}static{this.\u0275fac=function(t){return new(t||X)(o.\u0275\u0275directiveInject(o.Injector,16))}}static{this.\u0275pipe=o.\u0275\u0275definePipe({name:"memoryFormat",type:X,pure:!0})}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:X,factory:X.\u0275fac,providedIn:"root"})}}var sn=p(23493);class re{transform(e){return(0,sn.decode)(e)}static{this.\u0275fac=function(t){return new(t||re)}}static{this.\u0275pipe=o.\u0275\u0275definePipe({name:"decodeHtml",type:re,pure:!0,standalone:!0})}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:re,factory:re.\u0275fac,providedIn:"root"})}}class Ie{transform(e){return(0,sn.encode)(e)}static{this.\u0275fac=function(t){return new(t||Ie)}}static{this.\u0275pipe=o.\u0275\u0275definePipe({name:"encodeHtml",type:Ie,pure:!0,standalone:!0})}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}}class Et{transform(e,t){return mr(e,t)}static{this.\u0275fac=function(t){return new(t||Et)}}static{this.\u0275pipe=o.\u0275\u0275definePipe({name:"stringFormat",type:Et,pure:!0,standalone:!0})}}var Qi=p(57852);class W{constructor(e){this._resourceFinderService=e}transform(e){return this._resourceFinderService.findLocalizableValue(e)}static{this.\u0275fac=function(t){return new(t||W)(o.\u0275\u0275directiveInject(Qi.Q,16))}}static{this.\u0275pipe=o.\u0275\u0275definePipe({name:"lczToString",type:W,pure:!0})}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:W,factory:W.\u0275fac,providedIn:"root"})}}class Ge{static{this.\u0275fac=function(t){return new(t||Ge)}}static{this.\u0275mod=o.\u0275\u0275defineNgModule({type:Ge})}static{this.\u0275inj=o.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&o.\u0275\u0275setNgModuleScope(Ge,{declarations:[W],exports:[W]})})();class Ae{constructor(e){this._sanitizer=e}transform(e,t){switch(t){case"html":return this._sanitizer.bypassSecurityTrustHtml(e);case"style":return this._sanitizer.bypassSecurityTrustStyle(e);case"script":return this._sanitizer.bypassSecurityTrustScript(e);case"url":return this._sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this._sanitizer.bypassSecurityTrustResourceUrl(e);default:return this._sanitizer.bypassSecurityTrustHtml(e)}}static{this.\u0275fac=function(t){return new(t||Ae)(o.\u0275\u0275directiveInject(ct.DomSanitizer,16))}}static{this.\u0275pipe=o.\u0275\u0275definePipe({name:"bypassSecurityTrust",type:Ae,pure:!0})}}class $e{static{this.\u0275fac=function(t){return new(t||$e)}}static{this.\u0275mod=o.\u0275\u0275defineNgModule({type:$e})}static{this.\u0275inj=o.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&o.\u0275\u0275setNgModuleScope($e,{declarations:[Ae],exports:[Ae]})})();const an={macrosName:"ResourceString",macrosHandler:function(r,e){if(!r)throw new Error("Context is not defined");if(!r.Resources?.Strings)throw new Error("Context does not contain property Resources.Strings");const t=r.Resources.Strings[e[0]];return t instanceof Promise?(0,h.from)(t):(0,h.of)(t)}};function on(r){return{macrosName:"ResourceString",macrosHandler:function(e,t){if(e?.strings){for(const n of t){const i=e.strings[n];if(i)return(0,h.of)(r.findLocalizableValue(i))}throw new Error(`Localized resource string not found. ${t}`)}if(e?.Strings){for(const n of t){const i=e.Strings[n];if(i)return(0,h.from)(i)}throw new Error(`Localized string in ViewModel metadata not found. ${t}`)}return an.macrosHandler(e,t)}}}function cn(r=!1){return{macrosName:"DataSourceEntityName",macrosHandler:(e,t)=>{if(!e)throw new Error("Context is not defined");let n=t[0],i;if(r)e.constructor.name==="BaseViewModel"?i=e.dataSchemas?.[n]?.dataSourceConfig?.config?.entitySchemaName:i=e.modelConfig?.dataSources?.[n]?.config?.entitySchemaName;else{n||(n=e.modelConfig.primaryDataSourceName);const a=e.modelConfig.dataSources?.[n];if(!a)throw new Error(`DataSource '${n}' is not defined`);i=a.config.entitySchemaName}return(0,h.of)(i)}}}function un(r,e=!1){return{macrosName:"MacrosTemplateString",macrosHandler:(t,n)=>{const i=n.join(", "),a=/\[#([^\]]*)#\]/.test(i);return e||!a?(0,h.of)(i):r.getTemplate(i)}}}const Xe=new o.InjectionToken("MACROS_HANDLER");class ne{constructor(e,t,n){this.handlers=e,this._featureValues=t,this._applicationInfo=n}get _includeProcessedHandlers(){return!!this._featureValues?.IncludeProcessedMacrosHandlers}_findClosingBracket(e,t){let n=t,i=1;for(;i>0&&n<e.length;){const a=e[++n];a==="("?i++:a===")"&&i--}return n}_getMacroses(e){const t=new Array;let n=e.indexOf("#");for(;n>=0;){const i=e.indexOf("(",n);if(i<0)return t;const a=this._findClosingBracket(e,i),u=e.indexOf("#",a);if(u<0)return t;t.push({macrosName:e.substring(n+1,i),macrosArgs:e.substring(i+1,a),macrosBody:e.substring(n,u+1)}),n=e.indexOf("#",u+1)}return t}_processMacroses({macroses:e,macrosNameFilter:t,context:n,options:i,value:a}){let u={...a};const l=d=>!!(t&&t!==d&&t.split(",").indexOf(d)===-1);return(0,h.forkJoin)({...e.map(({macrosName:d,macrosArgs:g,macrosBody:E})=>{if(l(d))return(0,h.of)(null);const C=this.getHandler(d);return C?this.internalHandle(g,n,t,i).pipe((0,T.switchMap)(Q=>{const Wt=C(n,`${Q.value}`.split(",").map(le=>le.trim()));return(Wt instanceof h.Observable?Wt:(0,h.of)(Wt)).pipe((0,T.catchError)(le=>(this._applicationInfo.isDebugEnabled&&console.warn(le),(0,h.of)(E))),(0,T.tap)(le=>{const ks=typeof le=="number"?le:le||"";u={isChanged:!0,value:u.value.replace(E,ks)}}))}),(0,T.catchError)(Q=>(i&&i.errorHandler?i.errorHandler(Q):this._applicationInfo.isDebugEnabled&&console.warn(Q),(0,h.of)(E)))):(0,h.of)(null)}),default:(0,h.of)(null)}).pipe((0,T.map)(()=>u))}_forEachStringInObject(e,t,n=[],i=[]){if(!(e instanceof Object))return;const a=l=>!n.includes(l),u=(l,d)=>{typeof l=="string"?t(i.concat(d),l):typeof l=="object"&&l!==null&&(i.push(d),this._forEachStringInObject(l,t,n,i),i.pop())};if(e instanceof Map)for(const l of Array.from(e.keys()).filter(a))u(e.get(l),l);else Object.keys(e).filter(a).forEach(l=>{u(e[l],l)})}_set(e,t,n){const i=t.slice(),a=i.pop(),u=i.length===0?e:hr(e,i);u&&(u[a]=n)}getHandler(e){return this.handlers.filter(t=>t.macrosName===e).pop()?.macrosHandler}internalHandle(e,t,n,i){const a={value:e,isChanged:!1};return(0,h.of)(a).pipe((0,T.switchMap)(l=>{if(typeof e!="string")return(0,h.of)(l);const d=this._getMacroses(e);return d.length?this._processMacroses({macroses:d,macrosNameFilter:n,context:t,options:i,value:a}):(0,h.of)(l)}))}handle(e,t){const n=(0,R.cloneDeep)(e);return(0,h.forkJoin)([...(0,s.objectDeepKeys)(n).map(i=>{const a=(0,R.get)(n,i);return this.internalHandle(a,t).pipe((0,T.tap)(({value:u})=>{(0,R.set)(n,i,u)}))}),(0,h.of)(null)]).pipe((0,T.map)(()=>n))}handleMarcos(...e){return this.handleMacros.call(this,...e)}handleResourceMacros(e,t,n){return this.handleMacros("MacrosTemplateString,ResourceString",(0,R.cloneDeep)(e),t,n)}handleMacros(e,t,n,i){const a=[(0,h.of)(null)];return this._forEachStringInObject(t,(u,l)=>{const d=this._getMacroses(l);if(!d.length)return;const g=this._processMacroses({macroses:d,context:n,options:i,macrosNameFilter:e,value:{isChanged:!1,value:l}}).pipe((0,T.tap)(E=>{E.isChanged!==!1&&(i?.setPropertyFn?i.setPropertyFn({source:t,keys:u,value:E.value}):this._set(t,u,E.value))}));a.push(g)},this._includeProcessedHandlers?[]:["__preprocessed"]),(0,h.forkJoin)(a).pipe((0,T.map)(()=>t))}static{this.\u0275fac=function(t){return new(t||ne)(o.\u0275\u0275inject(Xe),o.\u0275\u0275inject(f.G2,8),o.\u0275\u0275inject(c.zX))}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:ne,factory:ne.\u0275fac})}}class We{static{this.\u0275fac=function(t){return new(t||We)}}static{this.\u0275mod=o.\u0275\u0275defineNgModule({type:We})}static{this.\u0275inj=o.\u0275\u0275defineInjector({providers:[ne,{provide:Xe,useFactory:on,deps:[c.Qh],multi:!0},{provide:Xe,useFactory:cn,deps:[[new o.Optional,f.w9]],multi:!0},{provide:Xe,useFactory:un,deps:[c.$E,[new o.Optional,f.w9]],multi:!0}],imports:[ee.CommonModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&o.\u0275\u0275setNgModuleScope(We,{imports:[ee.CommonModule]})})();var jt=p(23710);class Ji{_tryReplaceMacro(e,t){return t.indexOf(e)>-1?t.replace(e,jt.generate()):t}_isAllowedStringProperty(e,t){return!t||t.length===0||t.includes(e)}_replaceGenerateNameMacro(e,t){Object.entries(e||{}).forEach(([n,i])=>{if(i instanceof Object){this._replaceGenerateNameMacro(i,t);return}if(Array.isArray(i)&&i.forEach(a=>{this._replaceGenerateNameMacro(a,t)}),typeof i=="string"&&this._isAllowedStringProperty(n,t)){const a=this._tryReplaceMacro(y.NK,i);e[n]=a}})}process(e,t){jt.config({disableDefaultAlphabetLength:!0,disableDefaultIdLength:!0,idLength:7}),jt.characters("0123456789abcdefghijklmnopqrstuvwxyz"),this._replaceGenerateNameMacro(e,t)}}class ve{constructor(e){this._macrosHandlerService=e}transform(e,t,n){return t?this._macrosHandlerService.handleResourceMacros(e,t).pipe((0,T.map)(i=>i[n])):null}static{this.\u0275fac=function(t){return new(t||ve)(o.\u0275\u0275directiveInject(ne,16))}}static{this.\u0275pipe=o.\u0275\u0275definePipe({name:"handleResourceMacros",type:ve,pure:!0})}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:ve,factory:ve.\u0275fac,providedIn:"root"})}}class z{constructor(e){this._emptyPlaceholderCreatorFactory=e}transform(e,t){return e==null||e===""?this._emptyPlaceholderCreatorFactory?.create(t)?.create(t)??"":e}static{this.\u0275fac=function(t){return new(t||z)(o.\u0275\u0275directiveInject(c.oY,16))}}static{this.\u0275pipe=o.\u0275\u0275definePipe({name:"toEmptyPlaceholder",type:z,pure:!0})}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac})}}class Ze{static{this.\u0275fac=function(t){return new(t||Ze)}}static{this.\u0275mod=o.\u0275\u0275defineNgModule({type:Ze})}static{this.\u0275inj=o.\u0275\u0275defineInjector({providers:[z,c.aP,c.sI,c.iT]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&o.\u0275\u0275setNgModuleScope(Ze,{declarations:[z],exports:[z]})})();class De{constructor(e){this._domSanitizer=e}transform(e){return this._domSanitizer.bypassSecurityTrustResourceUrl(e)}static{this.\u0275fac=function(t){return new(t||De)(o.\u0275\u0275directiveInject(ct.DomSanitizer,16))}}static{this.\u0275pipe=o.\u0275\u0275definePipe({name:"safeUrl",type:De,pure:!0})}}class Ke{static{this.\u0275fac=function(t){return new(t||Ke)}}static{this.\u0275mod=o.\u0275\u0275defineNgModule({type:Ke})}static{this.\u0275inj=o.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&o.\u0275\u0275setNgModuleScope(Ke,{declarations:[De],exports:[De]})})();var Z=p(29957);class ie{constructor(e){this._translate=e}transform(e){if(!e?.value)return null;const t=e?.displayValue||null;return e&&Z.String.isNullOrWhiteSpace(t)?this._translate.instant("LookupFormat.EmptyDisplayValue"):t}static{this.\u0275fac=function(t){return new(t||ie)(o.\u0275\u0275directiveInject(x.TranslateService,16))}}static{this.\u0275pipe=o.\u0275\u0275definePipe({name:"lookupFormat",type:ie,pure:!0})}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:ie,factory:ie.\u0275fac,providedIn:"root"})}}class G extends Tt{constructor(e){super(e),this.defaultFormat={type:"sanitizeHtml"},this.formatsByDataTypeMap=new Map([])}isSupportedValue(e){return super.isSupportedValue(e)||typeof e=="number"||typeof e=="boolean"||typeof e=="bigint"||typeof e=="symbol"||e instanceof Date}static{this.\u0275fac=function(t){return new(t||G)(o.\u0275\u0275directiveInject(U.hi,16))}}static{this.\u0275pipe=o.\u0275\u0275definePipe({name:"sanitizeHtml",type:G,pure:!0})}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:G,factory:G.\u0275fac,providedIn:"root"})}}class be{constructor(e){this._injector=e}_sanitizeText(e,t){const n=this._injector.get(re),i=this._injector.get(G);return e=n.transform(e),e=i.transform(e,{mode:"textOnly",dataType:t}),e=n.transform(e),e}transform(e,t){const{dataType:n}=t??{};return y.D5.includes(n)?this._injector.get(H).transform(e,t):n===s.DataValueType.Lookup?this._injector.get(ie).transform(e):y.im.includes(n)?this._injector.get(B).transform(e,t):n===s.DataValueType.IMAGELOOKUP?"":typeof e=="string"?this._sanitizeText(e,n):e?.toString()}static{this.\u0275fac=function(t){return new(t||be)(o.\u0275\u0275directiveInject(o.Injector,16))}}static{this.\u0275pipe=o.\u0275\u0275definePipe({name:"valueFormat",type:be,pure:!0})}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:be,factory:be.\u0275fac,providedIn:"root"})}}class K{constructor(e){this._injector=e,this._translationPrefix="SmartDateTimeFormat"}_getTranslationTemplate(e,t){const n=new Date;if(n.setDate(n.getDate()),n.toDateString()===e.toDateString())return t.instant(`${this._translationPrefix}.TodayAt`);const i=new Date;if(i.setDate(i.getDate()-1),i.toDateString()===e.toDateString())return t.instant(`${this._translationPrefix}.YesterdayAt`);const a=new Date;return a.setDate(a.getDate()-2),a.toDateString()===e.toDateString()?t.instant(`${this._translationPrefix}.DayBeforeYesterdayAt`):null}_canBeDate(e){return typeof e=="string"||typeof e=="number"||e instanceof Date}transform(e){if(this._canBeDate(e)){const t=new Date(e),n=this._injector.get(B),i=this._injector.get(x.TranslateService),a=this._getTranslationTemplate(t,i),u={dataType:s.DataValueType.Time};if(a)return Z.String.format(a,n.transform(t,u));{const l=i.instant(`${this._translationPrefix}.At`);return`${n.transform(t)} ${l} ${n.transform(t,u)}`}}return""}static{this.\u0275fac=function(t){return new(t||K)(o.\u0275\u0275directiveInject(o.Injector,16))}}static{this.\u0275pipe=o.\u0275\u0275definePipe({name:"smartDateTimeFormat",type:K,pure:!0})}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac,providedIn:"root"})}}class Y{constructor(e){this._translateService=e,this._minutesInHour=60,this._hoursInDay=24,this._daysInMonth=30,this._milisecondsInMinute=6e4,this._milisecondsInHour=this._milisecondsInMinute*this._minutesInHour,this._milisecondsInDay=this._milisecondsInHour*this._hoursInDay,this._milisecondsInMonth=this._milisecondsInDay*this._daysInMonth,this._translationPrefix="TimerDateTimeFormat",this._monthAbbreviation=this._translateService.instant(`${this._translationPrefix}.MonthAbbreviation`),this._daysAbbreviation=this._translateService.instant(`${this._translationPrefix}.DaysAbbreviation`),this._hoursAbbreviation=this._translateService.instant(`${this._translationPrefix}.HoursAbbreviation`),this._minutesAbbreviation=this._translateService.instant(`${this._translationPrefix}.MinutesAbbreviation`)}_getDisplayValue(e){const t=Math.floor(e/this._milisecondsInMinute),n=Math.floor(e/this._milisecondsInHour),i=Math.floor(e/this._milisecondsInDay),a=Math.floor(e/this._milisecondsInMonth),u="{0}{1} {2}{3}";if(a>0){const d=i%this._daysInMonth;return Z.String.format(u,a,this._monthAbbreviation,d,this._daysAbbreviation)}if(i>0){const d=n%this._hoursInDay;return Z.String.format(u,i,this._daysAbbreviation,d,this._hoursAbbreviation)}const l=t%this._minutesInHour;return Z.String.format(u,n,this._hoursAbbreviation,l,this._minutesAbbreviation)}transform(e){return e?this._getDisplayValue(e):""}static{this.\u0275fac=function(t){return new(t||Y)(o.\u0275\u0275directiveInject(x.TranslateService,16))}}static{this.\u0275pipe=o.\u0275\u0275definePipe({name:"timerDateTimeFormat",type:Y,pure:!0})}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:Y,factory:Y.\u0275fac,providedIn:"root"})}}var Bs=7,qi=365.2425,es=Math.pow(10,8)*24*60*60*1e3,ln=6e4,Hs=36e5,ts=1e3,Us=-es,zs=60,Gs=3,$s=12,Xs=4,rs=3600,Ws=60,pn=rs*24,Zs=pn*7,ns=pn*qi,is=ns/12,Ks=is*3;class Re{constructor(){this._maxMinutesValue=999,this._maxMinutesTemplate="...",this._maxValueForNormalization=10}_getDisplayValue(e){const t=Math.floor(e/ln);if(t>this._maxMinutesValue)return this._maxMinutesTemplate;const n=Math.floor((e-t*ln)/ts),i=[""];return this._addNormalizedTemplatePart(t,i),this._addTemplatePart(i,"{0}:"),this._addNormalizedTemplatePart(n,i),this._addTemplatePart(i,"{1}"),Z.String.format(i.join(""),t,n)}_addTemplatePart(e,t){e.push(t)}_addNormalizedTemplatePart(e,t){e<this._maxValueForNormalization&&t.push("0")}transform(e){return e<0?"":this._getDisplayValue(e)}static{this.\u0275fac=function(t){return new(t||Re)}}static{this.\u0275pipe=o.\u0275\u0275definePipe({name:"stopwatchDateTimeFormat",type:Re,pure:!0})}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:Re,factory:Re.\u0275fac,providedIn:"root"})}}class Ye{static{this.\u0275fac=function(t){return new(t||Ye)}}static{this.\u0275mod=o.\u0275\u0275defineNgModule({type:Ye})}static{this.\u0275inj=o.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&o.\u0275\u0275setNgModuleScope(Ye,{declarations:[B,K,Y],exports:[B,K,Y]})})();class Qe{static{this.\u0275fac=function(t){return new(t||Qe)}}static{this.\u0275mod=o.\u0275\u0275defineNgModule({type:Qe})}static{this.\u0275inj=o.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&o.\u0275\u0275setNgModuleScope(Qe,{declarations:[X],exports:[X]})})();class Je{static{this.\u0275fac=function(t){return new(t||Je)}}static{this.\u0275mod=o.\u0275\u0275defineNgModule({type:Je})}static{this.\u0275inj=o.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&o.\u0275\u0275setNgModuleScope(Je,{declarations:[G],exports:[G]})})();class qe{static{this.\u0275fac=function(t){return new(t||qe)}}static{this.\u0275mod=o.\u0275\u0275defineNgModule({type:qe})}static{this.\u0275inj=o.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&o.\u0275\u0275setNgModuleScope(qe,{declarations:[H],exports:[H]})})();var Bt;(function(r){r.Date="date",r.DateTime="datetime",r.Time="time"})(Bt||(Bt={}));var ss=p(15766);function as(r){switch(r){case"asc":return s.OrderDirection.Asc;case"desc":return s.OrderDirection.Desc;default:return s.OrderDirection.None}}const os=["asc","desc","none"];function cs(r){return os.includes(r)}function us(r,e,t){const n=r.find(a=>a.key===`${e.uId}.Caption`),i=new S.hd;if(!n?.value||n.value.every(a=>!a.value)){const a={cultureName:t,value:e.name};i.push(a)}else n?.value.forEach(a=>{const u={cultureName:a.key,value:a.value};i.push(u)});return i}function ls(r){let e=!1;const t=[];return Object.keys(r).forEach(n=>{dn(n,r)&&(e=!0,t.push(n))}),{hasCycles:e,cycledModelsNames:t}}function dn(r,e,t=[]){if(!e[r])return!1;const n=Object.values(e[r]);return n.some(a=>t.includes(hn(a)))?!0:(t.push(r),!n.every(a=>!dn(hn(a),e,t)))}function hn(r){return r.relationPath.split(".")[0]}function ps(r){return`${r}_List`}function ds(r){return`${r}_BusinessRule_Filter`}var hs=p(87084);const fs=new o.InjectionToken("TRANSLATE_SERVICE_URI");var se=p(13732),ys=p(89979);class Me{constructor(){this._document=(0,o.inject)(ee.DOCUMENT),this._window=(0,o.inject)(F.WINDOW_TOKEN),this._availableMomentLocales=["af","ar-dz","ar-kw","ar-ly","ar-ma","ar-ps","ar-sa","ar-tn","ar","az","be","bg","bm","bn-bd","bn","bo","br","bs","ca","cs","cv","cy","da","de-at","de-ch","de","dv","el","en-au","en-ca","en-gb","en-ie","en-il","en-in","en-nz","en-sg","eo","es-do","es-mx","es-us","es","et","eu","fa","fi","fil","fo","fr-ca","fr-ch","fr","fy","ga","gd","gl","gom-deva","gom-latn","gu","he","hi","hr","hu","hy-am","id","is","it-ch","it","ja","jv","ka","kk","km","kn","ko","ku-kmr","ku","ky","lb","lo","lt","lv","me","mi","mk","ml","mn","mr","ms-my","ms","mt","my","nb","ne","nl-be","nl","nn","oc-lnc","pa-in","pl","pt-br","pt","ro","ru","sd","se","si","sk","sl","sq","sr-cyrl","sr","ss","sv","sw","ta","te","tet","tg","th","tk","tl-ph","tlh","tr","tzl","tzm-latn","tzm","ug-cn","uk","ur","uz-latn","uz","vi","x-pseudo","yo","zh-cn","zh-hk","zh-mo","zh-tw"]}_isDefaultLocale(e){return e==="en-us"||e==="en"}_normalizeLocales(e){const t=e.map(n=>this._normalizeLocale(n));return[...new Set(t)]}_normalizeLocale(e){return e.toLocaleLowerCase().replace("_","-")}_initializeGlobalMoment(){const e=this._window;e.moment=e.moment||p(30046)}_initializeLocalesFiles(e){return Promise.all(e.map(t=>this._initializeLocaleFile(t)))}_initializeLocaleFile(e){const t=this._getLocaleFileName(e);return t?this._loadLocaleFile(t):(console.error("Invalid moment locale: "+e),Promise.resolve())}_getLocaleFileName(e){let t;const n=e.split("-");for(let i=0,a=n.length;i<a;i++){const u=n.join("-");if(this._availableMomentLocales.indexOf(u)!==-1){t=u;break}n.pop()}return t}_loadLocaleFile(e){return new Promise(t=>{const n=this._document.createElement("script");n.src="./moment/locale/"+e+".js",n.type="text/javascript",n.onload=()=>t(),n.onerror=()=>{console.error("Error loading moment locale file: "+e),t()},this._document.head.appendChild(n)})}_getNormalizeAndNotDefaultLocales(e){return e=this._normalizeLocales(e),e.filter(t=>!this._isDefaultLocale(t))}initialize(e){var t=this;return(0,$.A)(function*(){if((0,R.isEmpty)(e)){console.warn("Moment locales are not specified");return}e=t._getNormalizeAndNotDefaultLocales(e),!(0,R.isEmpty)(e)&&(t._initializeGlobalMoment(),yield t._initializeLocalesFiles(e))})()}setCurrentMomentLocale(e){if(!e)return;this._initializeGlobalMoment(),this._window.moment.locale(e)}static{this.\u0275fac=function(t){return new(t||Me)}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}function gs(r){const e=r?.userInfo?.cultureInfo||{},t=e.sysCultureName,n=e.dateTimeFormat?.code;return{locales:[t,n].filter(Boolean),currentLocale:n??t}}function fn(r,e){return()=>(0,h.lastValueFrom)(e.loadCurrentUserInfo().pipe((0,h.map)(t=>gs(t)),(0,h.switchMap)(({locales:t,currentLocale:n})=>r.initialize(t).then(()=>n)),(0,h.tap)(t=>r.setCurrentMomentLocale(t))),{defaultValue:null})}const ms={provide:o.APP_INITIALIZER,useFactory:fn,deps:[Me,ys.fv],multi:!0};class Ht{get permissions(){return this._permissions}constructor(e){this._permissions=e}hasNotConfiguredPermissionsItems(){return this._permissions.byOperations?.length>0||this._permissions.byRecords?.length>0}}class et{constructor(e){this._httpClient=e,this._serviceUrl="/rest/SectionService/"}getObjectsWithNotConfiguredPermissionsByEntityName(e){const t=this._serviceUrl+"GetNotAdministratedEntitiesByEntity";return this._httpClient.post(t,{entitySchemaName:e}).pipe((0,h.map)(n=>new Ht(n)))}getObjectsWithNotConfiguredPermissionsByPageSchemaUId(e){const t=this._serviceUrl+"GetNotAdministratedEntitiesByPage";return this._httpClient.post(t,{pageSchemaUId:e}).pipe((0,h.map)(n=>new Ht(n)))}setConnectedEntitiesAdministratedByEntity(e){const t=this._serviceUrl+"SetConnectedEntitiesAdministratedByEntity";return this._httpClient.post(t,{entitySchemaName:e})}setConnectedEntitiesRightsByPage(e){const t=this._serviceUrl+"SetConnectedEntitiesRightsByPage";return this._httpClient.post(t,{pageSchemaUId:e})}static{this.\u0275fac=function(t){return new(t||et)(o.\u0275\u0275inject(At.HttpClient))}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:et,factory:et.\u0275fac,providedIn:"root"})}}const Ts={byOperations:["Account","Case"],byRecords:["Contact","Activity","Call","ServiceInServiceItem","Queue"]};var yn=p(70570),gn=p(39820),Es=p(22457);class ae{static{this.dataValueTypeConvertRules={[s.DataValueType.DateTime]:{canConvertTo:[]},[s.DataValueType.Date]:{canConvertTo:[s.DataValueType.DateTime]},[s.DataValueType.Time]:{canConvertTo:[s.DataValueType.DateTime]},[s.DataValueType.SHORT_TEXT]:{canConvertTo:[s.DataValueType.PHONE_TEXT,s.DataValueType.WEB_TEXT,s.DataValueType.EMAIL_TEXT,s.DataValueType.MEDIUM_TEXT,s.DataValueType.LONG_TEXT,s.DataValueType.MAXSIZE_TEXT,s.DataValueType.RICH_TEXT]},[s.DataValueType.PHONE_TEXT]:{canConvertTo:[s.DataValueType.MEDIUM_TEXT,s.DataValueType.LONG_TEXT,s.DataValueType.MAXSIZE_TEXT,s.DataValueType.RICH_TEXT]},[s.DataValueType.WEB_TEXT]:{canConvertTo:[s.DataValueType.MEDIUM_TEXT,s.DataValueType.LONG_TEXT,s.DataValueType.MAXSIZE_TEXT,s.DataValueType.RICH_TEXT]},[s.DataValueType.EMAIL_TEXT]:{canConvertTo:[s.DataValueType.MEDIUM_TEXT,s.DataValueType.LONG_TEXT,s.DataValueType.MAXSIZE_TEXT,s.DataValueType.RICH_TEXT]},[s.DataValueType.MEDIUM_TEXT]:{canConvertTo:[s.DataValueType.LONG_TEXT,s.DataValueType.MAXSIZE_TEXT,s.DataValueType.RICH_TEXT]},[s.DataValueType.LONG_TEXT]:{canConvertTo:[s.DataValueType.MAXSIZE_TEXT,s.DataValueType.RICH_TEXT]},[s.DataValueType.MAXSIZE_TEXT]:{canConvertTo:[s.DataValueType.RICH_TEXT]},[s.DataValueType.Integer]:{canConvertTo:[s.DataValueType.FLOAT1,s.DataValueType.FLOAT2,s.DataValueType.FLOAT3,s.DataValueType.FLOAT4,s.DataValueType.FLOAT8,s.DataValueType.Money]},[s.DataValueType.FLOAT1]:{canConvertTo:[s.DataValueType.FLOAT2,s.DataValueType.FLOAT3,s.DataValueType.FLOAT4,s.DataValueType.FLOAT8,s.DataValueType.Money]},[s.DataValueType.FLOAT2]:{canConvertTo:[s.DataValueType.FLOAT3,s.DataValueType.FLOAT4,s.DataValueType.FLOAT8,s.DataValueType.Money]},[s.DataValueType.FLOAT3]:{canConvertTo:[s.DataValueType.FLOAT4,s.DataValueType.FLOAT8]},[s.DataValueType.FLOAT4]:{canConvertTo:[s.DataValueType.FLOAT8]},[s.DataValueType.FLOAT8]:{canConvertTo:[]},[s.DataValueType.Money]:{canConvertTo:[]}}}static{this._changeColumnDataValueTypeGroup={DateTime:A.P.DateTime,Text:ae._removeItems(A.P.Text,[s.DataValueType.Text,s.DataValueType.LOCALIZABLE_STRING]),Number:ae._removeItems(A.P.Number,[s.DataValueType.Float]),RichText:[s.DataValueType.RICH_TEXT],PhoneText:ae._removeItems(A.P.Text,[s.DataValueType.Text,s.DataValueType.SHORT_TEXT,s.DataValueType.LOCALIZABLE_STRING]),EmailText:ae._removeItems(A.P.Text,[s.DataValueType.Text,s.DataValueType.SHORT_TEXT,s.DataValueType.LOCALIZABLE_STRING]),WebText:ae._removeItems(A.P.Text,[s.DataValueType.Text,s.DataValueType.SHORT_TEXT,s.DataValueType.LOCALIZABLE_STRING])}}static getDateTypeValueGroup(e){let t;switch(e){case s.DataValueType.Date:case s.DataValueType.Time:case s.DataValueType.DateTime:t=this._changeColumnDataValueTypeGroup.DateTime;break;case s.DataValueType.PHONE_TEXT:t=this._changeColumnDataValueTypeGroup.PhoneText;break;case s.DataValueType.WEB_TEXT:t=this._changeColumnDataValueTypeGroup.WebText;break;case s.DataValueType.EMAIL_TEXT:t=this._changeColumnDataValueTypeGroup.EmailText;break;case s.DataValueType.Text:case s.DataValueType.SHORT_TEXT:case s.DataValueType.MEDIUM_TEXT:case s.DataValueType.LONG_TEXT:case s.DataValueType.MAXSIZE_TEXT:t=this._changeColumnDataValueTypeGroup.Text;break;case s.DataValueType.RICH_TEXT:t=this._changeColumnDataValueTypeGroup.RichText;break;case s.DataValueType.Integer:case s.DataValueType.FLOAT1:case s.DataValueType.FLOAT2:case s.DataValueType.FLOAT3:case s.DataValueType.FLOAT4:case s.DataValueType.FLOAT8:case s.DataValueType.Money:t=this._changeColumnDataValueTypeGroup.Number;break;default:t=[]}return t.map(n=>A.Q[n])}static _removeItems(e,t){const n=[...e];return t.forEach(i=>{const a=n.indexOf(i);a>-1&&n.splice(a,1)}),n}static getAllowedChangeTypes(e){return this.getDateTypeValueGroup(e).filter(({type:n})=>n!==e)}static isPrecisionLost(e,t){return e===t?!1:!this.dataValueTypeConvertRules[e]?.canConvertTo.includes(t)}}class tt{createObserver(e,t,n){return new mn(e,t,n)}static{this.\u0275fac=function(t){return new(t||tt)}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:tt,factory:tt.\u0275fac,providedIn:"root"})}}class mn{constructor(e,t,n){if(this._bottomBuffer=100,this._lastScrollMaxPosition=0,this._emitter=new o.EventEmitter,s.ValidationUtilities.checkArgumentEmpty("element",e),this._element=e,this._subscribeOnScroll(),n){if(n<=0)throw new Error(`Value of 'bottomBuffer' paramter must be positive, but actual value is ${n}.`);this._bottomBuffer=n}t&&this.subscribe(t)}_isWindowObserved(e){return!(this._element instanceof HTMLElement)}_scrolledToBottom(){const e=this._element,t=this._isWindowObserved(e)?e.document.documentElement.scrollTop:e.scrollTop,n=this._isWindowObserved(e)?e.document.body.scrollHeight:e.scrollHeight,i=this._isWindowObserved(e)?e.innerHeight:e.offsetHeight;if(!n||!i)return!1;const a=n-i-this._bottomBuffer;return this._lastScrollMaxPosition=t>this._lastScrollMaxPosition?t:this._lastScrollMaxPosition,this._lastScrollMaxPosition===t&&t>=a}_processScroll(){this._scrolledToBottom()&&this._emitter.emit()}_subscribeOnScroll(){this._eventListener=this._processScroll.bind(this),this._element.addEventListener("scroll",this._eventListener)}subscribe(e){this._emitter.subscribe(e)}resetScrollMaxPosition(){this._lastScrollMaxPosition=0}destroy(){this._element.removeEventListener("scroll",this._eventListener),this._element=null,this._emitter.unsubscribe()}}const Tn=[s.DataValueType.Integer,s.DataValueType.Float,s.DataValueType.FLOAT1,s.DataValueType.FLOAT2,s.DataValueType.FLOAT3,s.DataValueType.FLOAT4,s.DataValueType.FLOAT8,s.DataValueType.Money],Ss=[...Tn,s.DataValueType.Lookup,s.DataValueType.Text,s.DataValueType.LONG_TEXT,s.DataValueType.MAXSIZE_TEXT,s.DataValueType.MEDIUM_TEXT,s.DataValueType.SHORT_TEXT,s.DataValueType.PHONE_TEXT,s.DataValueType.WEB_TEXT,s.DataValueType.EMAIL_TEXT,s.DataValueType.RICH_TEXT];function _s(r){return r.attributeType!==s.DataSchemaAttributeType.AggregationAttribute&&r.usageType!==s.DataSchemaAttributeUsageType.None}function Is(r){return!!r&&Ss.includes(r.dataValueType)&&_s(r)}function As(r){return Tn.includes(r)}const vs={},Ds={provide:f.v0,useFactory:()=>vs};class rt{constructor(e,t){this._window=e,this._windowPayloadValues=t,this._initializeEventType="initializeEvent",this._windowPayloadValuesEventType="windowPayloadValuesEvent"}_dispatchPayloadDataEvent(e,t){const n=new MessageEvent(this._windowPayloadValuesEventType,{data:e});t.dispatchEvent(n)}openWindowWithPayload(e,t,n){const i=this._window.open(e,n);i&&t&&i.addEventListener(this._initializeEventType,()=>this._dispatchPayloadDataEvent(t,i))}initializeWindowPayloadValues(){this._window.addEventListener(this._windowPayloadValuesEventType,e=>Object.assign(this._windowPayloadValues,e.data)),this._window.dispatchEvent(new Event(this._initializeEventType))}static{this.\u0275fac=function(t){return new(t||rt)(o.\u0275\u0275inject(F.WINDOW_TOKEN),o.\u0275\u0275inject(f.v0))}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:rt,factory:rt.\u0275fac,providedIn:"root"})}}const bs="a29a3ba5-4b0d-de11-9a51-005056c00008",Rs="720b771c-e7a7-4f31-9cfb-52cd21c3739f";var Ut;(function(r){r[r.Organization=0]="Organization",r[r.Division=1]="Division",r[r.Manager=2]="Manager",r[r.Team=3]="Team",r[r.User=4]="User",r[r.SelfServicePortalUser=5]="SelfServicePortalUser",r[r.FunctionalRole=6]="FunctionalRole",r[r.TechnicalUser=7]="TechnicalUser"})(Ut||(Ut={}));class Ms{}const Fs={DEFAULT:{id:"60abcb5d-bb5e-4e88-bdfa-79cfb7d17b06",caption:"Default",cssSelector:"default-theme",code:"default"},FREEDOM:{id:"b002bd94-d970-4637-bac2-54252e17a604",caption:"Freedom",cssSelector:"freedom-theme",code:"freedom"}},En={"group-of-people-tab-icon":"contact-group-icon","diagram-tab-icon":"diagram-icon","case-tab-icon":"message-warning-icon","empty-document-tab-icon":"document-new-icon","tiles-tab-icon":"tiles-icon","campaign-tab-icon":"horn-icon","task-tab-icon":"flag-icon","complete-document-tab-icon":"document-icon","calendar-tab-icon":"calendar-icon","home-tab-icon":"home-icon","support-tab-icon":"contact-call-center-icon","bell-tab-icon":"bell-icon","magnifying-glass-tab-icon":"magnifying-glass-icon","open-book-tab-icon":"book-open-icon","coins-tab-icon":"coins-icon","log-tab-icon":"log-icon","bag-tab-icon":"bag-icon","goal-tab-icon":"goal-icon","document-editing-tab-icon":"document-edit-icon","gift-tab-icon":"gift-icon","clock-tab-icon":"clock-icon","gantt-chart-tab-icon":"timeline-icon","problem-tab-icon":"problem-icon","checkbox-tab-icon":"checkbox-icon","chat-tab-icon":"feed-icon","flowchart-tab-icon":"flowchart-icon","phone-tab-icon":"phone-icon","star-tab-icon":"star-icon","star-outlined-icon":"star-icon","folder-tab-icon":"folder-icon","settings-tab-icon":"settings","lock-tab-icon":"lock","pen-tab-icon":"pen","email-tab-icon":"mail-icon","work-tab-icon":"work-icon","trolley-tab-icon":"trolley-icon","organizational-structure-tab-icon":"organizational-structure-icon","information-tab-icon":"info-icon","money-tab-icon":"money-icon","employee-tab-icon":"employee-icon","default-tab-icon":"contact-icon","feed-like":"like-icon","reload-button-icon":"reload-icon","clip-button-icon":"clip-icon","calculator-button-icon":"calculator-icon","sum-button-icon":"sum-icon","message-composer-checkmark":"checkmark-icon"};class Sn{}const _n=new o.InjectionToken("Represents a current application theme.",{factory:()=>{const r=(0,o.inject)(c.fv),e=(0,o.inject)(o.Injector);return r.loadCurrentUserInfo().pipe((0,T.map)(()=>e.get(Sn)),(0,h.switchMap)(t=>t.getCurrentTheme()))}}),Os=new o.InjectionToken("Represents a default application theme.");function Cs(r){return{provide:o.APP_INITIALIZER,useFactory:(e,t,n,i)=>(0,$.A)(function*(){const a=yield(0,h.firstValueFrom)(i);e.addSvgIconResolver(u=>{const l=En[u]??u;return t.bypassSecurityTrustResourceUrl(ee.Location.joinWithSlash(n,`${r}/${a.code}/icons/${l}.svg`))})}),deps:[tr.MatIconRegistry,ct.DomSanitizer,ee.APP_BASE_HREF,_n],multi:!0}}class nt{static{this.rootLevel=0}constructor(e,t,n,i){this._id=e,this._value=t,this._level=n&&n.level+1||nt.rootLevel,this._parent=n,this._children=(i||new Array).map(a=>a&&new nt(a.id,a.value,this,a.children))}get id(){return this._id}get value(){return this._value}get level(){return this._level}get parent(){return this._parent}get children(){return this._children}findChild(e){return this.children.find(t=>t.id===e)}appendChild(e){this.children.push(e&&new nt(e.id,e.value,this,e.children))}removeChild(e){const t=this.children.findIndex(n=>n.id===e.id);this.children.splice(t,1)}toJSON(){return{id:this.id,value:this.value,level:this.level,parentId:this.parent?this.parent.id:null,children:this.children?this.children.map(e=>e.toJSON()):[]}}}function xs(r,e){return typeof r=="object"?r[e]:r}class Vs{constructor(){this.code=(0,s.generateGuid)(),this.message=(0,s.generateGuid)()}}const In=new o.InjectionToken("Represents a string pattern of the translation key for validation error");class oe{constructor(e,t){this.translateService=e,this.errorTranslationKeyPattern=t}getLocalizableErrorMessage(e){const t=Z.String.Format(this.errorTranslationKeyPattern,(0,R.upperFirst)(e.code)),n=this.translateService.instant(t),i=e.interpolateParams||[];return Z.String.Format(n,...i)}translateErrorMessage(e){e.message=this.getLocalizableErrorMessage(e)}static{this.\u0275fac=function(t){return new(t||oe)(o.\u0275\u0275inject(x.TranslateService),o.\u0275\u0275inject(In))}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:oe,factory:oe.\u0275fac,providedIn:"root"})}}class zt{}class Fe{constructor(e=[]){this.errors=e}static createSuccess(){return new Fe}static createError(e){return new Fe(e)}static unionResults(...e){const t=e.map(n=>n?.errors||[]).reduce((n,i)=>n.concat(i),[]);return new Fe(t)}get success(){return!(this.errors&&this.errors.length>0)}}const Gt=new o.InjectionToken("Represents a collection of validators");class Oe extends zt{constructor(e){super(),this._validators=e}validate(e){const n=this._validators.map(i=>i.validate(e)).map(i=>i.errors).reduce((i,a)=>i.concat(a),[]);return new Fe(n)}static{this.\u0275fac=function(t){return new(t||Oe)(o.\u0275\u0275inject(Gt))}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:Oe,factory:Oe.\u0275fac})}}class it extends Oe{constructor(e,t){super(e),this._validationErrorTranslateService=t}validate(e){const t=super.validate(e);return t.errors.forEach(n=>{this._validationErrorTranslateService.translateErrorMessage(n)}),t}static{this.\u0275fac=function(t){return new(t||it)(o.\u0275\u0275inject(Gt),o.\u0275\u0275inject(oe))}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:it,factory:it.\u0275fac})}}class Ps extends oe{constructor(){super(null,null),this.id=(0,s.generateGuid)()}}class Ns extends zt{validate(e){throw new Error("Method not implemented.")}}var An=p(56711);class ws{static schemaNameValidator(){return An.Validators.pattern(/^[a-zA-Z]+[a-zA-Z0-9._]*$/)}static linkValidator(){return An.Validators.pattern(/^[A-Za-z][A-Za-z\d.+-]*:\/*(?:\w+(?::\w+)?@)?[^\s/]+(?::\d+)?(?:\/[\w#!:.?+=&%@\-/]*)?$/)}static debounceValidator(e){return t=>(0,h.timer)(400).pipe((0,T.switchMap)(()=>e(t.value)))}static requiredWithPrefix(e){return t=>{const n=t.value,i=n?.startsWith(e);return e&&i?n.replace(e,"")?null:{requiredWithPrefix:{prefix:e}}:null}}static prefix(e){return t=>e&&!t.value?.startsWith(e)?{prefix:{requiredPrefix:e}}:null}static duplicate(e){return t=>{if(e){const n=e.map(a=>a.toLowerCase()),i=t.value?.toLowerCase();if(n.some(a=>i===a))return{duplicate:!0}}return null}}static duplicateAsync(e){return t=>e.pipe((0,T.map)(n=>{if(n){const i=n.map(u=>u.toLowerCase()),a=t.value?.toLowerCase();if(i.some(u=>a===u))return{duplicate:!0}}return null}))}}var St;(function(r){r.Root="root",r.Angular="angular",r.ExecutionTracking="executionTracking"})(St||(St={}));var ce;(function(r){r.Root="root",r.Angular="angular"})(ce||(ce={}));class vn{constructor(e){this.ngZone=e}run(e,t,n){return this.ngZone.runOutsideAngular(e)}}class Ls extends vn{constructor(e){super(e)}run(e,t,n){return this.ngZone.run(e,t,n)}}class ue{constructor(e){this._ngZone=e}createDefaultZones(){return{root:new vn(this._ngZone),angular:new Ls(this._ngZone)}}createZone(e,t){if(t===St.ExecutionTracking)return new kt(e);throw new Error(`Zone ${e} with type ${t} is not supported`)}static{this.\u0275fac=function(t){return new(t||ue)(o.\u0275\u0275inject(o.NgZone))}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:ue,factory:ue.\u0275fac,providedIn:"root"})}}let $t=class _t{constructor(e){this._zoneProvider=e,this._zones=e.createDefaultZones()}init(e){var t=this;return(0,$.A)(function*(){t._disableExecutionTrackingZone=yield(0,h.lastValueFrom)(e("DisableExecutionTrackingZone"))})()}runInZone(e,t,n,i){return this._disableExecutionTrackingZone&&e!==ce.Angular&&(e=ce.Root),(this._zones[e]??this._zones[ce.Root]).run(t,n,i)}register(e,t){if(this._zones[e])throw new Error(`Zone ${e} already registered`);const n=this._zoneProvider.createZone(e,t);return this._zones[e]=n,n}get(e){return this._zones[e]}runOutside(e){return this.runInZone(ce.Root,e)}static{this.\u0275fac=function(t){return new(t||_t)(o.\u0275\u0275inject(ue))}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:_t,factory:_t.\u0275fac,providedIn:"root"})}};$t=(0,m.__decorate)([(0,F.CrtHandlerChainAdapter)({requestType:"crt.ZoneService"}),(0,m.__metadata)("design:paramtypes",[ue])],$t);var Xt;(function(r){r.User="User",r.Record="Record"})(Xt||(Xt={}))},73308:(Dn,st,p)=>{p.d(st,{A:()=>b});function at(Ce,xe,J,m,s,x,F){try{var c=Ce[x](F),L=c.value}catch($){J($);return}c.done?xe(L):Promise.resolve(L).then(m,s)}function b(Ce){return function(){var xe=this,J=arguments;return new Promise(function(m,s){var x=Ce.apply(xe,J);function F(L){at(x,m,s,F,c,"next",L)}function c(L){at(x,m,s,F,c,"throw",L)}F(void 0)})}}}}]);
