(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[7873],{7873:(C,M,a)=>{a.r(M),a.d(M,{CrtNextBestOfferComponent:()=>c,CrtNextBestOfferItemComponent:()=>p,CrtNextBestOfferModule:()=>b});var i=a(5960),e=a(59131),l=a(38495),g=a(79772),S=a(50456),f=a(20822),_=a(47742),V=a(10850),I=a(1606),B=a(89422),y;(function(s){s.GalleryView="galleryView",s.CarouselView="carouselView"})(y||(y={}));var x=a(87368),E=a(98218),m=a(40297);function P(s,n){if(s&1&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),s&2){let t;const o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",(t=o.getRecordValue("infoLabel"))==null?null:t.displayValue," ")}}function T(s,n){s&1&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),s&2&&(e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Components.NextBestOffer.EmptyValue")))}function R(s,n){if(s&1&&(e.\u0275\u0275elementStart(0,"div",3)(1,"div",4),e.\u0275\u0275template(2,P,2,1,"div",5)(3,T,3,3,"ng-template",null,1,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"crt-chip"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd()()),s&2){let t;const o=e.\u0275\u0275reference(4),r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",r.isValueNotNullOrEmpty((t=r.getRecordValue("infoLabel"))==null?null:t.displayValue))("ngIfElse",o),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",r.isValidNumber(r.getRecordValue("numberTag"))?r.getRecommendationValue():e.\u0275\u0275pipeBind1(7,3,"Components.NextBestOffer.EmptyValue")," ")}}let p=class h extends x.CrtBaseImageListBaseItemComponent{isValueNotNullOrEmpty(n){return n?.length>0}isValidNumber(n){return(0,E.isNumber)(n)}getRecommendationValue(){return`${Math.round(this.getRecordValue("numberTag"))}%`}static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=e.\u0275\u0275getInheritedFactory(h)))(o||h)}})()}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:h,selectors:[["crt-next-best-offer-item"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[["recommendationBlock",""],["emptyValue",""],[1,"crt-next-best-offer-item-content-wrap",3,"dynamicTemplate","itemConfig","record","isSelected"],[1,"crt-next-best-offer-header-info"],[1,"crt-next-best-offer-type"],[4,"ngIf","ngIfElse"]],template:function(t,o){if(t&1&&(e.\u0275\u0275element(0,"crt-base-image-list-default-item",2),e.\u0275\u0275template(1,R,8,5,"ng-template",null,0,e.\u0275\u0275templateRefExtractor)),t&2){const r=e.\u0275\u0275reference(2);e.\u0275\u0275property("dynamicTemplate",r)("itemConfig",o.itemConfig)("record",o.record)("isSelected",o.isSelected)}},dependencies:[m.NgIf,x.CrtBaseImageListDefaultItemComponent,f.CrtChipComponent,g.TranslatePipe],styles:[".crt-next-best-offer-item-content-wrap[_ngcontent-%COMP%]{max-height:308px}.crt-next-best-offer-item-content-wrap[_ngcontent-%COMP%]   .crt-next-best-offer-header-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:4px}.crt-next-best-offer-item-content-wrap[_ngcontent-%COMP%]   .crt-next-best-offer-header-info[_ngcontent-%COMP%]   .crt-next-best-offer-type[_ngcontent-%COMP%]{overflow:hidden;overflow-wrap:break-word;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:1;line-height:16px;max-width:180px}"]})}};p=(0,i.__decorate)([(0,l.CrtViewElement)({type:"crt.NextBestOfferItem",reuseStrategy:l.ViewElementReuseStrategy.Reuse})],p);var u=a(59564),v=a(52989);const j=s=>({"crt-next-best-offer-collection":s});function D(s,n){if(s&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",8)(1,"button",9),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.prev())}),e.\u0275\u0275elementStart(3,"div",10),e.\u0275\u0275element(4,"mat-icon",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"button",9),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.next())}),e.\u0275\u0275elementStart(7,"div",10),e.\u0275\u0275element(8,"mat-icon",12),e.\u0275\u0275elementEnd()()()}if(s&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("disabled",t.prevActionDisabled),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(2,4,"Components.NextBestOffer.Previous")),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",t.nextActionDisabled),e.\u0275\u0275attribute("aria-label",e.\u0275\u0275pipeBind1(6,6,"Components.NextBestOffer.Next"))}}function F(s,n){s&1&&e.\u0275\u0275elementContainer(0)}function L(s,n){if(s&1&&e.\u0275\u0275element(0,"crt-gallery",13),s&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("items",t.items)("itemConfig",t.getGalleryItemConfig)("selectable",!1)}}function z(s,n){if(s&1){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-carousel",14,2),e.\u0275\u0275listener("actionStatesChange",function(r){e.\u0275\u0275restoreView(t);const d=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(d.handeActionStatesChange(r))}),e.\u0275\u0275elementEnd()}if(s&2){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(7,j,t.hasManyItems))("items",t.items)("itemConfig",t.getCarouselItemConfig)("loop",t.loop)("selectable",t.selectable)("alignCenter",t.alignCenter)("hideScrollButtons",t.hideScrollButtons)}}let c=class O extends _.CrtBaseComponent{constructor(n,t,o){super(n),this.render=t,this._translateService=o,this._gapSize=20,this._itemWidth=316,this._lastScrollButtonClicked=!1,this.prevActionDisabled=!0,this.nextActionDisabled=!0,this.ariaLabel=this._translateService.instant("Components.NextBestOffer.Caption"),this.role="group",this.tabindex=0,this.alignCenter=!1,this.loop=!1,this.selectable=!1,this.hideScrollButtons=!0,this.selectedItemChange=new e.EventEmitter}onGlobalKeydown(n){const t=n.key===B.Key.Tab,o=document.activeElement.tagName==="BODY";if(t&&o&&this._lastScrollButtonClicked){this.handleTabKey(n);return}}onKeydown(n){n.target.className==="crt-next-best-offer-scroll-button"&&[B.Key.Enter," "].indexOf(n.key)!==-1&&(this._lastScrollButtonClicked=!0)}handleTabKey(n){n.preventDefault(),n.stopPropagation(),n.shiftKey?this.elementRef.nativeElement.focus():(0,I.tabbable)(this.elementRef.nativeElement).find(r=>r.className.indexOf("crt-link")===0&&(0,I.isTabbable)(r))?.focus(),this._lastScrollButtonClicked=!1}get getCarouselItemConfig(){return{...this.itemConfig,componentClassFactory:this.itemConfig?.componentClassFactory??(()=>p)}}get getGalleryItemConfig(){return{...this.itemConfig,defaultSize:S.SizeEnum.None,componentClassFactory:this.itemConfig?.componentClassFactory??(()=>p)}}prev(){this.carouselComponent.prev()}next(){this.carouselComponent.next()}setupHasManyItems(){const n=this.carouselEl?.nativeElement?.offsetWidth+this._gapSize,t=this._itemWidth+this._gapSize,o=Math.floor(n/t)||1;this.hasManyItems=o>1,this.carouselComponent?.resize(),this.detectChanges()}handeActionStatesChange(n){this.prevActionDisabled=n.prevActionDisabled,this.nextActionDisabled=n.nextActionDisabled}isGalleryView(){return this.viewMode===y.GalleryView}hasData(){return this.items?.length>0}ngAfterViewInit(){const n=this.elementRef.nativeElement.parentElement;n?.tagName==="CRT-GRID"&&(n.style.gridAutoRows="auto"),this.detectChanges()}static{this.\u0275fac=function(t){return new(t||O)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(e.Renderer2),e.\u0275\u0275directiveInject(g.TranslateService))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:O,selectors:[["crt-next-best-offer"]],viewQuery:function(t,o){if(t&1&&(e.\u0275\u0275viewQuery(f.CrtCarouselComponent,5),e.\u0275\u0275viewQuery(f.CrtCarouselComponent,5,e.ElementRef)),t&2){let r;e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(o.carouselComponent=r.first),e.\u0275\u0275queryRefresh(r=e.\u0275\u0275loadQuery())&&(o.carouselEl=r.first)}},hostVars:3,hostBindings:function(t,o){t&1&&e.\u0275\u0275listener("keydown",function(d){return o.onGlobalKeydown(d)},!1,e.\u0275\u0275resolveDocument)("keydown",function(d){return o.onKeydown(d)}),t&2&&e.\u0275\u0275attribute("aria-label",o.ariaLabel)("role",o.role)("tabindex",o.tabindex)},inputs:{items:"items",selectedItem:"selectedItem",alignCenter:"alignCenter",loop:"loop",selectable:"selectable",hideScrollButtons:"hideScrollButtons",itemConfig:"itemConfig",viewMode:"viewMode"},outputs:{selectedItemChange:"selectedItemChange"},features:[e.\u0275\u0275HostDirectivesFeature([u.CrtKeyboardFocusContainerDirective]),e.\u0275\u0275InheritDefinitionFeature],decls:10,vars:7,consts:[["galleryViewMode",""],["carouselViewMode",""],["carouselEl",""],["crtResizable","",1,"crt-next-best-offer-wrap",3,"resized"],[1,"crt-next-best-offer-toolbar"],["labelType","headline-3",3,"caption"],["class","crt-next-best-offer-scroll-buttons",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"crt-next-best-offer-scroll-buttons"],[1,"crt-next-best-offer-scroll-button",3,"click","disabled"],[1,"crt-next-best-offer-scroll-button-icon"],["svgIcon","next-best-offer-arrow-right",1,"arrow-left"],["svgIcon","next-best-offer-arrow-right",1,"arrow-right"],[1,"crt-next-best-offer-gallery-wrapper",3,"items","itemConfig","selectable"],[1,"crt-next-best-offer-carousel-wrapper",3,"actionStatesChange","ngClass","items","itemConfig","loop","selectable","alignCenter","hideScrollButtons"]],template:function(t,o){if(t&1){const r=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",3),e.\u0275\u0275listener("resized",function(){return e.\u0275\u0275restoreView(r),e.\u0275\u0275resetView(o.setupHasManyItems())}),e.\u0275\u0275elementStart(1,"div",4),e.\u0275\u0275element(2,"crt-label",5),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275template(4,D,9,8,"div",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,F,1,0,"ng-container",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,L,1,3,"ng-template",null,0,e.\u0275\u0275templateRefExtractor)(8,z,2,9,"ng-template",null,1,e.\u0275\u0275templateRefExtractor)}if(t&2){const r=e.\u0275\u0275reference(7),d=e.\u0275\u0275reference(9);e.\u0275\u0275advance(2),e.\u0275\u0275property("caption",e.\u0275\u0275pipeBind1(3,5,"Components.NextBestOffer.Caption")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.hasData()&&!o.isGalleryView()),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",o.isGalleryView())("ngIfThen",r)("ngIfElse",d)}},dependencies:[m.NgClass,m.NgIf,f.CrtCarouselComponent,f.CrtGalleryComponent,f.CrtLabelComponent,v.MatIcon,u.CrtResizableDirective,g.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{display:block;width:100%}[dir=rtl][_nghost-%COMP%]   .crt-next-best-offer-wrap[_ngcontent-%COMP%]   .crt-next-best-offer-scroll-buttons[_ngcontent-%COMP%]{flex-direction:row-reverse}crt-next-best-offer[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 1px var(--focus-outline-inner-color),0 0 0 2px var(--focus-outline-outer-color);outline:none;border-radius:4px}.crt-next-best-offer-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;overflow:hidden}.crt-next-best-offer-wrap[_ngcontent-%COMP%]   .crt-next-best-offer-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;justify-content:space-between;padding-bottom:8px}.crt-next-best-offer-wrap[_ngcontent-%COMP%]   .crt-next-best-offer-scroll-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;gap:8px}.crt-next-best-offer-wrap[_ngcontent-%COMP%]   .crt-next-best-offer-scroll-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;box-sizing:content-box;padding:0}.crt-next-best-offer-wrap[_ngcontent-%COMP%]   .crt-next-best-offer-scroll-button[_ngcontent-%COMP%]   .arrow-left[_ngcontent-%COMP%]{transform:rotate(180deg);-webkit-transform:rotate(180deg)}.crt-next-best-offer-wrap[_ngcontent-%COMP%]   .crt-next-best-offer-scroll-button[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}.crt-next-best-offer-wrap[_ngcontent-%COMP%]   .crt-next-best-offer-scroll-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:16px;height:16px}.crt-next-best-offer-wrap[_ngcontent-%COMP%]   .crt-next-best-offer-scroll-button[_ngcontent-%COMP%]:disabled   .crt-next-best-offer-scroll-button-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{opacity:.4}.crt-next-best-offer-wrap[_ngcontent-%COMP%]   .crt-next-best-offer-scroll-button[_ngcontent-%COMP%]   .crt-next-best-offer-scroll-button-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%}"]})}};(0,i.__decorate)([(0,l.CrtInput)(),(0,i.__metadata)("design:type",V.BaseViewModelCollection)],c.prototype,"items",void 0),(0,i.__decorate)([(0,l.CrtInput)(),(0,i.__metadata)("design:type",Object)],c.prototype,"selectedItem",void 0),(0,i.__decorate)([(0,l.CrtInput)(),(0,i.__metadata)("design:type",Object)],c.prototype,"alignCenter",void 0),(0,i.__decorate)([(0,l.CrtInput)(),(0,i.__metadata)("design:type",Object)],c.prototype,"loop",void 0),(0,i.__decorate)([(0,l.CrtInput)(),(0,i.__metadata)("design:type",Object)],c.prototype,"selectable",void 0),(0,i.__decorate)([(0,l.CrtInput)(),(0,i.__metadata)("design:type",Object)],c.prototype,"hideScrollButtons",void 0),(0,i.__decorate)([(0,l.CrtInput)(),(0,i.__metadata)("design:type",Object)],c.prototype,"itemConfig",void 0),(0,i.__decorate)([(0,l.CrtInput)(),(0,i.__metadata)("design:type",String)],c.prototype,"viewMode",void 0),(0,i.__decorate)([(0,l.CrtOutput)(),(0,i.__metadata)("design:type",Object)],c.prototype,"selectedItemChange",void 0),c=(0,i.__decorate)([(0,l.CrtViewElement)({type:"crt.NextBestOffer",reuseStrategy:l.ViewElementReuseStrategy.Reuse}),(0,l.CrtInterfaceDesignerItem)({toolbarConfig:{requiredFeatures:{ShowNextBestOfferComponent:!0},icon:a(84300)},designViewItemCommands:{copy:"crt.CopyNextBestOfferItemCommand"},typeCaption:"Components.NextBestOffer.Caption",propertiesPanelComponentTypeName:"crt.NextBestOfferPropertiesPanel",viewElementGroupType:l.ViewElementGroupType.Components,placeholderSize:{height:"60px"}}),(0,i.__metadata)("design:paramtypes",[e.Injector,e.Renderer2,g.TranslateService])],c);var N=a(96590);const A={"en-US":JSON.parse('{"Components":{"NextBestOffer":{"Caption":"Next best offers","EmptyValue":"N/A","Next":"Next","Previous":"Previous"}}}'),"ru-RU":JSON.parse('{"Components":{"NextBestOffer":{"Caption":"\u041B\u0443\u0447\u0448\u0438\u0435 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F","EmptyValue":"\u041D/\u0414","Next":"\u0421\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439","Previous":"\u041F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0438\u0439"}}}')},k=[c,p];let b=class w{constructor(n){this._materialIconsRegistrator=n,this._materialIconsRegistrator.addIcons([{name:"next-best-offer",icon:a(84300)},{name:"next-best-offer-arrow-right",icon:a(13514)}])}static{this.\u0275fac=function(t){return new(t||w)(e.\u0275\u0275inject(u.MaterialIconsRegistrator))}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:w})}static{this.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.CommonModule,_.ViewModule,f.CrtCarouselModule,f.CrtGalleryModule,x.CrtBaseImageListModule,f.CrtChipModule,f.CrtLabelModule,N.CrtLibTranslateModule.forRoot({i18n:A}),v.MatIconModule]})}};b=(0,i.__decorate)([(0,l.CrtModule)({viewElements:[c]}),(0,i.__metadata)("design:paramtypes",[u.MaterialIconsRegistrator])],b),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(b,{declarations:[c,p],imports:[m.CommonModule,_.ViewModule,f.CrtCarouselModule,f.CrtGalleryModule,x.CrtBaseImageListModule,f.CrtChipModule,f.CrtLabelModule,N.CrtLibTranslateModule,v.MatIconModule,u.CrtResizableDirective],exports:[c,p]})}()},13514:C=>{C.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
	<path fill-rule="evenodd" clip-rule="evenodd" d="M5.08691 3.27572C5.45817 2.90809 6.0601 2.90809 6.43136 3.27572L10.53 7.33435C10.9013 7.70198 10.9013 8.29802 10.53 8.66565L6.43136 12.7243C6.0601 13.0919 5.45817 13.0919 5.08691 12.7243C4.71566 12.3566 4.71566 11.7606 5.08691 11.393L8.51337 8L5.08691 4.60703C4.71566 4.2394 4.71566 3.64335 5.08691 3.27572Z" fill="#0D2E4E"/>
</svg>
`},84300:C=>{C.exports='<svg width="72" height="64" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.732 52.332a.998.998 0 0 1 .04-1.483c2.058-1.75 7.285-6.213 8.785-7.62 1.898-2.422 4.488-6.17 8.018-6.17 2.42-.014 4.827.37 7.124 1.135 2 .234 5.903 1.128 7.785 1.128 1.882 0 4.73.02 4.796 2.079.072 2.198-1.953 2.906-4.658 2.906-2.15 0-7.878.884-10.14 1.247a.29.29 0 0 0-.072.553 44.89 44.89 0 0 0 5.074 1.922c.823 0 5.669-.224 7.423 0 1.412-1.295 9.94-7.028 10.888-7.852.948-.823 4.332-3.232 6.096-3.113 1.765.12 3.387 1.215.919 3.331-2.469 2.117-12.233 11.059-13.76 12.231-1.528 1.172-2.588 2.118-6.823 2.118H24.762c-1.066 1.444-3.457 4.093-5.012 5.78a.995.995 0 0 1-1.422.043l-8.596-8.235Z" fill="#D1D1D1"/><path d="M21.27 15.546a1 1 0 0 1 1-1h27.308a1 1 0 0 1 1 1v14.721a2 2 0 0 1-2 2H23.27a2 2 0 0 1-2-2V15.546ZM25.996 6.786a1 1 0 0 1 .787-.384h7.304a1 1 0 0 1 1 1v4.382a1 1 0 0 1-1 1H23.35a1 1 0 0 1-.788-1.617l3.433-4.381ZM46.033 6.786a1 1 0 0 0-.788-.384h-7.303a1 1 0 0 0-1 1v4.382a1 1 0 0 0 1 1h10.736a1 1 0 0 0 .787-1.617l-3.432-4.381Z" fill="#CCDEFC"/><path fill-rule="evenodd" clip-rule="evenodd" d="M32.732 18.74a.884.884 0 1 0 0 1.767.884.884 0 0 0 0-1.768Zm-2.554.883a2.554 2.554 0 1 1 5.108 0 2.554 2.554 0 0 1-5.108 0Zm8.939 5.502a.884.884 0 1 0 0 1.768.884.884 0 0 0 0-1.768Zm-2.554.884a2.554 2.554 0 1 1 5.108 0 2.554 2.554 0 0 1-5.108 0Zm4.335-7.023a.835.835 0 1 0-1.18-1.181l-8.841 8.84a.835.835 0 1 0 1.18 1.181l8.841-8.84Z" fill="#004FD6"/></svg>'}}]);
