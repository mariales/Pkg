(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[91119,13500],{91119:(j,g,s)=>{s.r(g),s.d(g,{CrtDashboardsComponent:()=>c,CrtDashboardsModule:()=>C,createDashboardsSelectedDashboardAttributeName:()=>N,generateDashboardsName:()=>y});var r=s(5960),e=s(59131),p=s(38495),n=s(20822),M=s(89066),u=s(47742),h=s(40297),O=s(52989),m=s(31555),b=s(59564);const I=["list"],L=["schemaContainer"];function x(i,t){if(i&1&&(e.\u0275\u0275elementStart(0,"crt-select-list-item",8),e.\u0275\u0275elementContainerStart(1,9),e.\u0275\u0275element(2,"mat-icon",10),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementStart(3,"span",11),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()),i&2){const a=t.$implicit;e.\u0275\u0275property("crtListboxOption",a),e.\u0275\u0275advance(3),e.\u0275\u0275property("title",a),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",a,"")}}function E(i,t){if(i&1){const a=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",6),e.\u0275\u0275listener("selectedChange",function(o){e.\u0275\u0275restoreView(a);const _=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(_.onSelectedDashboardChanged(o.value[0]))}),e.\u0275\u0275template(1,x,5,3,"crt-select-list-item",7),e.\u0275\u0275elementEnd()}if(i&2){const a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngForOf",a.dashboards)}}let c=class f extends u.CrtBaseComponent{constructor(t,a){super(t),this._schemaOutletComponent=a,this.displayedDashboard="",this.selectedDashboardChange=new e.EventEmitter}_setSchemaOutletSchemaName(t){this._schemaOutletComponentInstance&&(this._schemaOutletComponentInstance.schemaName=t)}_updateDisplayedDashboard(){const t=this.selectedDashboard&&this.dashboards?.includes(this.selectedDashboard),a=this.dashboards?.[0];this.displayedDashboard=t?this.selectedDashboard:a,this._setSchemaOutletSchemaName(this.displayedDashboard)}onSelectedDashboardChanged(t){t&&this.selectedDashboard!==t&&this.selectedDashboardChange.emit(t),this.listComponent.isOpen=!1}ngOnChanges(t){("selectedDashboard"in t||"dashboards"in t)&&this._updateDisplayedDashboard()}ngAfterViewInit(){const t=this.schemaContainerRef.createComponent(this._schemaOutletComponent);this._schemaOutletComponentInstance=t.instance,this._updateDisplayedDashboard(),this.schemaContainerRef.insert(t.hostView)}static{this.\u0275fac=function(a){return new(a||f)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(M.SCHEMA_COMPONENT_INJECTION_TOKEN))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:f,selectors:[["crt-dashboards"]],viewQuery:function(a,d){if(a&1&&(e.\u0275\u0275viewQuery(I,7,n.CrtSelectListComponent),e.\u0275\u0275viewQuery(L,7,e.ViewContainerRef)),a&2){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(d.listComponent=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(d.schemaContainerRef=o.first)}},inputs:{dashboards:"dashboards",selectedDashboard:"selectedDashboard"},outputs:{selectedDashboardChange:"selectedDashboardChange"},features:[e.\u0275\u0275InheritDefinitionFeature,e.\u0275\u0275NgOnChangesFeature],decls:7,vars:3,consts:[["overlayOrigin","cdkOverlayOrigin"],["list",""],["schemaContainer",""],["cdkOverlayOrigin","","iconPosition","right-icon","displayType","text","size","extra-large","icon","menu-arrow",1,"crt-dashboards-selected-dashboard-button",3,"clicked","caption"],[3,"trigger"],["crtListboxViewport","","optionValueKeyPropertyName","value",3,"selectedChange",4,"ngIf"],["crtListboxViewport","","optionValueKeyPropertyName","value",3,"selectedChange"],[3,"crtListboxOption",4,"ngFor","ngForOf"],[3,"crtListboxOption"],["crt-select-list-item-icon",""],["crtSelectListItemIcon","","svgIcon","bars-button-icon"],[1,"crt-dashboards-select-item-name",3,"title"]],template:function(a,d){if(a&1){const o=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-button",3,0),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(o);const P=e.\u0275\u0275reference(3);return e.\u0275\u0275resetView(P.isOpen=!0)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"crt-select-list",4,1),e.\u0275\u0275template(4,E,2,1,"div",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainer(5,null,2)}if(a&2){const o=e.\u0275\u0275reference(1),_=e.\u0275\u0275reference(3);e.\u0275\u0275property("caption",d.displayedDashboard),e.\u0275\u0275advance(2),e.\u0275\u0275property("trigger",o),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",_.isOpen)}},dependencies:[h.NgForOf,h.NgIf,O.MatIcon,m.CdkOverlayOrigin,n.CrtButtonComponent,n.CrtSelectListComponent,n.CrtSelectListItemIconDirective,n.CrtSelectListItemComponent,b.CrtListboxViewportDirective,b.CrtListboxOptionDirective],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}.crt-dashboards-select-item-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}"],changeDetection:0})}};(0,r.__decorate)([(0,p.CrtInput)(),(0,r.__metadata)("design:type",Array)],c.prototype,"dashboards",void 0),(0,r.__decorate)([(0,p.CrtInput)(),(0,r.__metadata)("design:type",String)],c.prototype,"selectedDashboard",void 0),(0,r.__decorate)([(0,p.CrtOutput)(),(0,r.__metadata)("design:type",Object)],c.prototype,"selectedDashboardChange",void 0),c=(0,r.__decorate)([(0,p.CrtViewElement)({type:"crt.Dashboards",reuseStrategy:p.ViewElementReuseStrategy.Reuse}),(0,p.CrtInterfaceDesignerItem)({toolbarConfig:{position:300,requiredFeatures:{ShowDesignerDemoItems:!0},icon:s(95141)},propertiesPanelComponentTypeName:"crt.DashboardsPropertiesPanel",typeCaption:"Dashboards.Caption",viewElementGroupType:p.ViewElementGroupType.Components}),(0,r.__metadata)("design:paramtypes",[e.Injector,Object])],c);var R=s(85613),S=s(79772),D=s(96590),T=s(10850);const J={"zh-TW":JSON.parse('{"Dashboards":{"Caption":"\u5100\u8868\u677F"}}'),"zh-CN":JSON.parse('{"Dashboards":{"Caption":"Dashboards"}}'),"vi-VN":JSON.parse('{"Dashboards":{"Caption":"B\u1EA3ng \u0111i\u1EC1u khi\u1EC3n"}}'),"tr-TR":JSON.parse('{"Dashboards":{"Caption":"G\xF6steri\u015Fli panolar"}}'),"th-TH":JSON.parse('{"Dashboards":{"Caption":"\u0E41\u0E14\u0E0A\u0E1A\u0E2D\u0E23\u0E4C\u0E14"}}'),"sv-SE":JSON.parse('{"Dashboards":{"Caption":"Dashboards"}}'),"sq-AL":JSON.parse('{"Dashboards":{"Caption":"Panelet"}}'),"ro-RO":JSON.parse('{"Dashboards":{"Caption":"Dashboards"}}'),"pt-PT":JSON.parse('{"Dashboards":{"Caption":"Dashboards"}}'),"pt-BR":JSON.parse('{"Dashboards":{"Caption":"Dashboards"}}'),"pl-PL":JSON.parse('{"Dashboards":{"Caption":"Dashboardy"}}'),"nl-NL":JSON.parse('{"Dashboards":{"Caption":"Dashboards"}}'),"lv-LV":JSON.parse('{"Dashboards":{"Caption":"Inform\u0101cijas pane\u013Ci"}}'),"ko-KR":JSON.parse('{"Dashboards":{"Caption":"\uB300\uC2DC\uBCF4\uB4DC"}}'),"ja-JP":JSON.parse('{"Dashboards":{"Caption":"\u30C0\u30C3\u30B7\u30E5\u30DC\u30FC\u30C9"}}'),"it-IT":JSON.parse('{"Dashboards":{"Caption":"Cruscotti"}}'),"id-ID":JSON.parse('{"Dashboards":{"Caption":"Dasbor"}}'),"hu-HU":JSON.parse('{"Dashboards":{"Caption":"Ir\xE1ny\xEDt\xF3pultok"}}'),"hr-HR":JSON.parse('{"Dashboards":{"Caption":"Nadzorne plo\u010De"}}'),"he-IL":JSON.parse('{"Dashboards":{"Caption":"\u05DC\u05D5\u05D7 \u05DE\u05D7\u05D5\u05D5\u05E0\u05D9\u05DD"}}'),"fr-FR":JSON.parse('{"Dashboards":{"Caption":"Tableaux de bord"}}'),"es-ES":JSON.parse('{"Dashboards":{"Caption":"Tableros"}}'),"de-DE":JSON.parse('{"Dashboards":{"Caption":"Dashboards"}}'),"cs-CZ":JSON.parse('{"Dashboards":{"Caption":"Dashboardy"}}'),"bg-BG":JSON.parse('{"Dashboards":{"Caption":"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u043E\u043D\u043D\u0438 \u0442\u0430\u0431\u043B\u0430"}}'),"ar-SA":JSON.parse('{"Dashboards":{"Caption":"\u0644\u0648\u062D\u0627\u062A \u0627\u0644\u062A\u062D\u0643\u0645"}}'),"en-US":JSON.parse('{"Dashboards":{"Caption":"Dashboards"}}'),"ru-RU":JSON.parse('{"Dashboards":{"Caption":"\u0414\u0430\u0448\u0431\u043E\u0440\u0434\u044B"}}'),"uk-UA":JSON.parse('{"Dashboards":{"Caption":"\u0414\u043E\u043C\u0430\u0448\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430"}}')};var w=s(21018),V=s(28399);function A(i){return i?.name?.replace(/[^\w]/g,"")||y()}function y(){return D.NameGenerator.generateUnique("Dashboards")}function N(i){return`${A(i)}_SelectedDashboard`}class l{constructor(t){this._profileAttributeService=t}_getDashboardsViewConfigs(t){return w.MetadataSchemaUtils.getViewConfigInfoByProperty("type","crt.Dashboards",t).map(a=>a?.viewConfig).filter(Boolean)}_setSelectedDashboardAttribute(t,a){if(!(0,V.isEmpty)(a.selectedDashboard))return;const d=N(a);this._profileAttributeService.createOrUpdateAttributeWithChangeRequest(t,a,"selectedDashboard",d)}crtOnMetaDataInit(t){const a=t,d=this._getDashboardsViewConfigs(a.viewConfig);for(const o of d)this._setSelectedDashboardAttribute(a,o);return Promise.resolve(t)}static{this.\u0275fac=function(a){return new(a||l)(e.\u0275\u0275inject(n.ProfileAttributeService))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac})}}let C=class v{static{this.\u0275fac=function(a){return new(a||v)}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:v})}static{this.\u0275inj=e.\u0275\u0275defineInjector({providers:[{provide:T.CRT_METADATA_PREPROCESSOR,useClass:l,multi:!0}],imports:[h.CommonModule,S.TranslateModule,u.ViewModule,O.MatIconModule,m.OverlayModule,D.CrtLibTranslateModule.forRoot({i18n:J}),n.CrtButtonModule,n.CrtLabelModule,n.CrtSelectModule,b.CrtListboxModule]})}};C=(0,r.__decorate)([(0,p.CrtModule)({viewElements:[c],includes:[n.CrtSelectModule]})],C),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(C,{declarations:[c],imports:[h.CommonModule,S.TranslateModule,u.ViewModule,O.MatIconModule,R.CdkOption,m.CdkOverlayOrigin,m.OverlayModule,D.CrtLibTranslateModule,n.CrtButtonModule,n.CrtLabelModule,n.CrtSelectModule,b.CrtListboxModule],exports:[c]})}()},95141:j=>{j.exports=`<svg width="72" height="64" viewBox="0 0 72 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="8.5" y="12.5" width="55" height="39" rx="2.5" fill="white" stroke="#70ACEE"/>
<path d="M44 34H39V44H44V34Z" fill="#20C964"/>
<path d="M51 20H46V44H51V20Z" fill="#0091EA"/>
<path d="M58 25H53V44H58V25Z" fill="#8E4AC7"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M28.6581 20.9409C30.631 21.7719 32.3457 23.1155 33.6243 24.8324L30.4166 27.2214C28.9581 25.2661 26.6269 24 24 24C23.6393 24 23.2842 24.0239 22.9361 24.0701L22.4043 20.1066C24.526 19.8219 26.6853 20.11 28.6581 20.9409Z" fill="#32C966"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M17.1529 22.1453C18.7239 21.0537 20.5331 20.3536 22.4297 20.1033L22.953 24.0679C19.0295 24.5808 16 27.9366 16 32C16 33.2885 16.3046 34.5058 16.8458 35.5839L13.2709 37.3747C12.4141 35.6643 11.9786 33.7739 12.0008 31.861C12.023 29.9482 12.5021 28.0683 13.3984 26.3782C14.2946 24.6882 15.5819 23.2368 17.1529 22.1453Z" fill="#0091EA"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M23.9999 40C28.4182 40 31.9999 36.4183 31.9999 32C31.9999 30.0762 31.3209 28.311 30.1894 26.931L33.2834 24.3974C34.7871 26.2337 35.7124 28.4747 35.9425 30.8369C36.1725 33.1991 35.6969 35.5764 34.5758 37.6683C33.4547 39.7602 31.7385 41.4727 29.6441 42.5892C27.557 43.7019 25.1878 44.1729 22.8342 43.9433L22.8097 43.9409C20.7917 43.7399 18.8573 43.0307 17.1875 41.8794C15.5108 40.7235 14.156 39.1598 13.2505 37.3357L16.8325 35.5576C18.142 38.1906 20.8597 40 23.9999 40Z" fill="#8E4AC7"/>
</svg>
`}}]);
