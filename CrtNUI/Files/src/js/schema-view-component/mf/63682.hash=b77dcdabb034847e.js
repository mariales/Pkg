(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[63682,73308,50927,28546,6165,62832,40451,18070,95689,94260,71879,41421,63802,86183,8564,30945,53326,75707,98088,20469,42850,70422,48041,15184,92803,80898,58517,25660,3279,91374,68993,83231,5612,38469],{63682:(k,w,e)=>{var h=e(71252),_=e(21533),s=e(38495),v=e(95894),C=e(73308),i=e(5960),m=e(40297),d=e(63721),n=e(59131),p=e(48059),l=e(79772),y=e(57229),g=e(96590),W=e(33e3),M=e(85638),U=e(28034),N=e(72498),x=e(98970),H=e(64436),V=e(26546),S=e(16358),u=e(47550),O=e(45338),j=e(50456),K=e(20822),R=e(10534),c=e(21018),A=e(10850),E=e(23958),P=e(62278),G=e(36486);let B=class extends s.BaseRequestHandler{constructor(t){super(),this._maskService=t,this._tasks=new Set}_addTask(t){this._tasks.add(t),this._tasks.size===1&&this._maskService.showBodyMask()}_removeTask(t){this._tasks.delete(t),this._tasks.size===0&&this._maskService.hideBodyMask()}handle(t){var o=this;return(0,C.A)(function*(){t.action===s.SchemaViewMaskRequestAction.AddTask?o._addTask(t.taskName):o._removeTask(t.taskName)})()}};B=(0,i.__decorate)([(0,s.CrtRequestHandler)({requestType:"crt.SchemaViewMaskRequest",type:"crt.SchemaViewMaskRequestHandler"}),(0,i.__param)(0,(0,s.CrtInject)(c.DEVKIT_MASK_SERVICE)),(0,i.__metadata)("design:paramtypes",[s.MaskService])],B);let D=class extends s.BaseRequestHandler{constructor(t){super(),this._schemaModalService=t}handle(t){return this?._schemaModalService.closeModals(),this.next?.handle(t)}};D=(0,i.__decorate)([(0,s.CrtRequestHandler)({requestType:"crt.HandleViewModelDestroyRequest",type:"crt.SchemaModalNavigationRequestHandler"}),(0,i.__metadata)("design:paramtypes",[u.SchemaModalService])],D);class I{constructor(t){this._window=t}wait(t){const o=this._window.Terrasoft?.Router;return o?.enableBuffering?o.enableBuffering(t):t()}static{this.\u0275fac=function(o){return new(o||I)(n.\u0275\u0275inject(g.WINDOW_TOKEN))}}static{this.\u0275prov=n.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac})}}class f extends E.CrtNavigationService{constructor(t){super(),this.injector=t}subscribeForNavigationEndEvent(){return P.Subscription.EMPTY}subscribeForNavigationPopStateEvent(){return P.Subscription.EMPTY}navigate(){throw new Error("Navigation with this service is not implemented in schema-view")}static{this.\u0275fac=function(o){return new(o||f)(n.\u0275\u0275inject(n.Injector))}}static{this.\u0275prov=n.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac})}}var L;function Z(a,t){return(0,C.A)(function*(){yield(0,P.lastValueFrom)(a.loadCurrentUserInfo().pipe((0,G.switchMap)(o=>t.use(o?.userInfo?.cultureInfo?.sysCultureName).pipe((0,G.catchError)(()=>(0,P.of)(null))))),{defaultValue:null})})}let T=class F{static{L=this}constructor(t,o,r){this._customElementsBootstrapService=t,this._injector=o,this._crtInjectionContextService=r,this._obsoleteProcessExecutionDataCollectorService=this._injector.get(S.ObsoleteProcessExecutionDataCollectorService)}_defineBaseViewModuleElement(t,o){this._customElementsBootstrapService.defineComponent(t,o);const r=n.Injector.create({parent:this._injector,providers:[...u.NAVIGATION_PREPROCESSOR_PROVIDERS,{provide:c.CRT_NAVIGATION_LOCK_TOKEN,useClass:I}]});this._customElementsBootstrapService.defineComponent(`${t}-navigation`,o,r)}ngDoBootstrap(){(0,s.bootstrapCrtModule)(L,{moduleType:"host",resolveDependency:(r,z)=>z?.id?this._crtInjectionContextService.injectFromContext(z.id,r):this._injector.get(r),onContextCreate:r=>r.connectHostLazyModules(),onContextUpdate:r=>r.connectHostLazyModules(),onContextDestroy:r=>r.destroy()}),this._obsoleteProcessExecutionDataCollectorService.init();const t=K.CrtTabPanelContainerComponent,o=(0,s.getViewElementMetadata)(t);(0,s.registerAngularViewElement)(o,t),this._defineBaseViewModuleElement("crt-home-page-component",u.HomePageComponent),this._defineBaseViewModuleElement("crt-card-component",u.CardComponent),this._defineBaseViewModuleElement("crt-section-component",u.SectionComponent),this._defineBaseViewModuleElement("crt-page-component",u.PageComponent),this._customElementsBootstrapService.defineComponent("crt-chart-widget-component",R.CrtChartWidgetComponent),this._customElementsBootstrapService.defineComponent("crt-indicator-widget-component",R.CrtIndicatorWidgetComponent),this._customElementsBootstrapService.defineComponent("crt-gauge-widget-component",R.GaugeWidgetComponent),this._customElementsBootstrapService.defineComponent("crt-funnel-widget-component",R.CrtFunnelWidgetComponent),this._customElementsBootstrapService.defineComponent("crt-full-pipeline-widget-component",R.FullPipelineWidgetComponent)}static{this.\u0275fac=function(o){return new(o||F)(n.\u0275\u0275inject(g.CustomElementsBootstrapService),n.\u0275\u0275inject(n.Injector),n.\u0275\u0275inject(c.CrtInjectionContextsService))}}static{this.\u0275mod=n.\u0275\u0275defineNgModule({type:F})}static{this.\u0275inj=n.\u0275\u0275defineInjector({providers:[{provide:m.APP_BASE_HREF,useValue:"/"},{provide:d.HTTP_INTERCEPTORS,useClass:c.WebComponentHttpInterceptor,multi:!0},{provide:n.APP_INITIALIZER,useFactory:Z,deps:[c.UserInfoService,l.TranslateService],multi:!0},M.REMOTE_ENTRY_PROVIDER,{provide:c.DEFAULT_THEME,useValue:c.THEMES.DEFAULT},{provide:c.AbstractThemeProvider,useClass:M.ThemeProvider},(0,c.PROVIDE_THEMING_ICONS_RESOLVER_APP_INITIALIZER)("ClientApp/assets/themes"),M.FEATURE_VALUES_APP_INITIALIZER_PROVIDER,M.FEATURE_VALUES_PROVIDER,{provide:E.CrtNavigationService,useClass:f},{provide:E.SHELL_MODULE_ALIASES_FACTORY,useValue:()=>Promise.resolve(!1)},s.SysSettingsService,S.EXECUTION_DATA_INTERCEPTOR_PROVIDER,S.ObsoleteProcessExecutionDataCollectorService,{provide:A.CRT_METADATA_NAVIGATION_PREPROCESSOR,useClass:S.ExecutionDataPreprocessor,multi:!0},{provide:A.AbstractModelLifecycleHookNotificationService,useClass:A.HandlerChainModelLifecycleHookNotificationService},M.LICENSE_RESTRICTION_OPERATION_VALUES_APP_INITIALIZER_PROVIDER,M.LICENSE_RESTRICTION_OPERATION_VALUES_PROVIDER,g.CURRENT_TAB_ID_PROVIDER,g.TAB_ID_APP_INITIALIZER],imports:[p.BrowserAnimationsModule,h.BrowserModule,m.CommonModule,j.CdkModule,U.ComponentsPreprocessorsModule,u.SchemaViewModule,d.HttpClientModule,d.HttpClientXsrfModule.withOptions({cookieName:"BPMCSRF",headerName:"BPMCSRF"}),l.TranslateModule.forRoot({defaultLanguage:"en-US",loader:{provide:l.TranslateLoader,useFactory:(t,o)=>new y.TranslateHttpLoader(t,o+"ClientApp/assets/i18n/"),deps:[d.HttpClient,m.APP_BASE_HREF]}}),E.CrtNavigationModule,N.MarketingCampaignModule,x.MarketingEmailModule,H.MarketingEngagementToolsModule,V.MarketingEventModule,O.TechnicalUserModule]})}};T=L=(0,i.__decorate)([(0,s.CrtModule)({includes:[W.AcademyHelpApiModule,u.SchemaViewModule,j.CdkModule,{load:()=>e.e(12189).then(e.t.bind(e,12189,23)).then(a=>a.SsoSettingsModule),...window.creatio._lazyModulesMetadata.host.SsoSettingsModule},E.CrtNavigationModule,{load:()=>e.e(20346).then(e.t.bind(e,20346,23)).then(a=>a.RelationshipDesignerModule),...window.creatio._lazyModulesMetadata.host.RelationshipDesignerModule},{load:()=>e.e(90549).then(e.t.bind(e,90549,23)).then(a=>a.DigitalAdsModule),...window.creatio._lazyModulesMetadata.host.DigitalAdsModule},{load:()=>e.e(11727).then(e.t.bind(e,11727,23)).then(a=>a.GoogleAnalyticsModule),...window.creatio._lazyModulesMetadata.host.GoogleAnalyticsModule},{load:()=>e.e(11114).then(e.t.bind(e,11114,23)).then(a=>a.CopilotModule),...window.creatio._lazyModulesMetadata.host.CopilotModule},N.MarketingCampaignModule,x.MarketingEmailModule,H.MarketingEngagementToolsModule,V.MarketingEventModule,O.TechnicalUserModule],requestHandlers:[B,A.ClearContextedHandlersCacheHandler,D,M.GetApiKeyRequestHandler,c.CopyClipboardRequestHandler,S.CompleteProcessElementHandler]}),(0,i.__metadata)("design:paramtypes",[g.CustomElementsBootstrapService,n.Injector,c.CrtInjectionContextsService])],T),function(){(typeof ngJitMode>"u"||ngJitMode)&&n.\u0275\u0275setNgModuleScope(T,{imports:[p.BrowserAnimationsModule,h.BrowserModule,m.CommonModule,j.CdkModule,U.ComponentsPreprocessorsModule,u.SchemaViewModule,d.HttpClientModule,d.HttpClientXsrfModule,l.TranslateModule,E.CrtNavigationModule,N.MarketingCampaignModule,x.MarketingEmailModule,H.MarketingEngagementToolsModule,V.MarketingEventModule,O.TechnicalUserModule]})}(),(0,v.getGlobalRemoteEntryLoader)()||(0,v.createGlobalRemoteEntryLoader)({initSharing:e.I,shareScopes:e.S}),(0,s.bootstrapCrtModuleHandlerChainServices)(T),h.platformBrowser().bootstrapModule(T).catch(a=>console.error(a))},73308:(k,w,e)=>{e.d(w,{A:()=>_});function h(s,v,C,i,m,d,n){try{var p=s[d](n),l=p.value}catch(y){C(y);return}p.done?v(l):Promise.resolve(l).then(i,m)}function _(s){return function(){var v=this,C=arguments;return new Promise(function(i,m){var d=s.apply(v,C);function n(l){h(d,i,m,n,p,"next",l)}function p(l){h(d,i,m,n,p,"throw",l)}n(void 0)})}}}}]);
