(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[23070],{41056:(D,Fe,_)=>{var s={"./forward-message.svg":71348,"./message-composer.svg":62127,"./reply-all-message.svg":90277,"./reply-message.svg":5719};function M(P){var G=L(P);return _(G)}function L(P){if(!_.o(s,P)){var G=new Error("Cannot find module '"+P+"'");throw G.code="MODULE_NOT_FOUND",G}return s[P]}M.keys=function(){return Object.keys(s)},M.resolve=L,D.exports=M,M.id=41056},23070:(D,Fe,_)=>{_.r(Fe),_.d(Fe,{COMPOSER_BLIND_ZONE_WIDTH_EVENT:()=>de,COMPOSER_EMAIL_SAVED_EVENT:()=>ke,COMPOSER_FOCUS_INPUT_EVENT:()=>De,COMPOSER_READY_EVENT:()=>je,COMPOSER_REPLY_EMAIL_EVENT:()=>oe,CaseSenderComposerHandler:()=>Se,CaseSenderComposerRequest:()=>We,ChangeComposerHandler:()=>_e,ChangeComposerRequest:()=>He,ChangeComposerService:()=>N,ComposerDataCachingService:()=>V,ComposerEvent:()=>tt,ConditionalEmailIdConverter:()=>he,CreateEmailRequestHandler:()=>Te,CrtBaseMessageComposerComponent:()=>g,CrtBaseMessageComposerSkeletonComponent:()=>te,CrtBaseSnackbarLabelComponent:()=>U,CrtChannelSelectorComponent:()=>j,CrtCommonMessageComposerComponent:()=>O,CrtDraftSavedSnackbarLabelComponent:()=>X,CrtEmailComposerComponent:()=>h,CrtEmailSentSnackbarLabelComponent:()=>ee,CrtFeedComposerComponent:()=>x,CrtMessageComposerSelectorComponent:()=>A,CrtMessageComposerSelectorModule:()=>we,CrtRecipientSearchComponent:()=>ie,DefaultSenderComposerHandler:()=>ve,DefaultSenderComposerRequest:()=>qe,EditDraftEmailComposerRequest:()=>$e,EditDraftEmailComposerRequestHandler:()=>Ee,EmailComposerDataCachingService:()=>Y,EmailComposerSavedHandler:()=>Me,EmailComposerSavedRequest:()=>Le,EmailFormPageComposerClearedHandler:()=>xe,EmailFormPageViewModelInitRequestHandler:()=>Ie,EmailSignatureService:()=>q,EmailTemplatesService:()=>J,EmailsService:()=>z,FeedMentionService:()=>ne,FeedMentionServiceFactory:()=>$,FeedMessageComposerService:()=>W,ForwardEmailComposerRequest:()=>ze,ForwardEmailComposerRequestHandler:()=>fe,MailboxesService:()=>H,RecipientsService:()=>Z,RecipientsWrap:()=>Oe,RefreshEmailRecipientsHandler:()=>Re,RefreshEmailRecipientsRequest:()=>Ne,ReplyAction:()=>v,ReplyAllEmailComposerRequest:()=>Ue,ReplyAllEmailComposerRequestHandler:()=>be,ReplyEmailComposerRequest:()=>me,ReplyEmailComposerRequestHandler:()=>ye,SendEmailService:()=>K,ToRecipientsMailboxesConverter:()=>ge,ToSendersMailboxesConverter:()=>Ce});var s=_(5960),M=_(40297),L=_(52989),P=_(10067),G=_(71252),o=_(38495),w=_(59564),F=_(96590),S=_(20822),Q=_(6153),u=_(21018);const et={"hr-HR":JSON.parse(`{"MessageComposer":{"CancelButtonHint":"Odbaci","CancelButtonText":"Odbaci","SaveDraftButtonText":"Spremi skicu","SendButtonHint":"Po\u0161alji poruku (Ctrl + Enter)","MessageSent":"Poruka poslana","SendButtonText":"Po\u0161alji","RemoveAttachmentHint":"Ukloni prilog","Caption":"Sastavlja\u010D poruke","Email":{"Caption":"Sastavlja\u010D e-po\u0161te","From":"Od","To":"Za","CC":"CC","BCC":"BCC","Subject":"Predmet","PublishError":"Slanje poruke nije uspjelo. Primljena je sljede\u0107a gre\u0161ka: {0}","SaveDraftError":"Nemogu\u0107e spremiti skicu. Molimo poku\u0161ajte ponovo kasnije","TemplateInsertError":"Nemogu\u0107e je dodati predlo\u017Eak. Molimo poku\u0161ajte ponovno kasnije.","AttachmentsSizeLimitReached":"Ukupna veli\u010Dina priloga ve\u0107a je od dopu\u0161tenih {0} MB. Molimo uklonite neke priloge.","FromValidationErrorMessage":"Polje 'Od' ne mo\u017Ee biti prazno. Molimo odaberite po\u0161tanski sandu\u010Di\u0107.","ToValidationErrorMessage":"Polje 'Za' ne mo\u017Ee biti prazno. Molimo unesite barem jednog primatelja.","SubjectValidationErrorMessage":"Polje 'Predmet' ne mo\u017Ee biti prazno. Molimo unesite predmet e-po\u0161te.","Draft":"Skica","BodyPlaceholder":"Napi\u0161i poruku","Reply":"Odgovori","ReplyAll":"Odgovori svima","Forward":"Proslijedi","SentOn":"Poslano dana","SubjectToggleCaption":"Predmet","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"ne sadr\u017Ei e-po\u0161tu u sebi","ChangeReplyAction":"Promijeni radnju odgovora","ShowTrimmedEmailTitle":"Prika\u017Ei skra\u0107enu e-po\u0161tu","EmailTemplatesLookupCaption":"Odaberi predlo\u017Eak","EmailTemplatesDisplayColumnCaption":"Ime predlo\u0161ka","ContinueEditing":"Nastavi ure\u0111ivanje","SaveDraft":"Spremi skicu","DraftSaved":"Skica spremljena","EmailSent":"E-mail poslan","RemoveRecipientLabel":"Ukloni primatelja"},"Feed":{"Caption":"Kreator feeda"},"Selector":{"Caption":"Sastavlja\u010D poruke"},"ComposerAreaLabel":"Podru\u010Dje za unos sastavlja\u010Da poruka","AttachmentPreview":"Attachment preview"}}`),"hu-HU":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Eldob\xE1s","CancelButtonText":"Eldob\xE1s","SaveDraftButtonText":"Piszkozat ment\xE9se","SendButtonHint":"\xDCzenet k\xFCld\xE9se (Ctrl + Enter)","MessageSent":"\xDCzenet elk\xFCldve","SendButtonText":"K\xFCld\xE9s","RemoveAttachmentHint":"T\xE1vol\xEDtsa el a mell\xE9kletet","Caption":"\xDCzenetk\xE9sz\xEDt\u0151","Email":{"Caption":"E-mail zeneszerz\u0151","From":"Ett\u0151l","To":"C\xEDmzett","CC":"CC","BCC":"Titkos m\xE1solat","Subject":"T\xE1rgy","PublishError":"Nem siker\xFClt \xFCzenetet k\xFCldeni. A k\xF6vetkez\u0151 hiba\xFCzenet \xE9rkezett: {0}","SaveDraftError":"Nem siker\xFClt menteni a piszkozatot. K\xE9rlek, pr\xF3b\xE1ld \xFAjra k\xE9s\u0151bb","TemplateInsertError":"Nem siker\xFClt hozz\xE1adni a sablont. K\xE9rlek, pr\xF3b\xE1ld \xFAjra k\xE9s\u0151bb.","AttachmentsSizeLimitReached":"A mell\xE9kletek teljes m\xE9rete meghaladja a megengedett {0} MB-ot. K\xE9rj\xFCk, t\xE1vol\xEDtson el n\xE9h\xE1ny mell\xE9kletet.","FromValidationErrorMessage":"A \u201EFelad\xF3\u201D mez\u0151 nem lehet \xFCres. K\xE9rj\xFCk, v\xE1lasszon egy postafi\xF3kot.","ToValidationErrorMessage":"A \u201EC\xEDmzett\u201D mez\u0151 nem lehet \xFCres. K\xE9rj\xFCk, adjon meg legal\xE1bb egy c\xEDmzettet.","SubjectValidationErrorMessage":"A \u201ET\xE1rgy\u201D mez\u0151 nem lehet \xFCres. K\xE9rj\xFCk, adja meg az e-mail t\xE1rgy\xE1t.","Draft":"V\xE1zlat","BodyPlaceholder":"\xCDrjon be egy \xFCzenetet","Reply":"V\xE1lasz","ReplyAll":"V\xE1lasz mindenkinek","Forward":"El\u0151re","SentOn":"Elk\xFCldve","SubjectToggleCaption":"T\xE1rgy","CcToggleCaption":"CC","BccToggleCaption":"Titkos m\xE1solat","NotContainsEmail":"nem tartalmaz e-mailt","ChangeReplyAction":"V\xE1laszm\u0171velet m\xF3dos\xEDt\xE1sa","ShowTrimmedEmailTitle":"V\xE1gott e-mail megjelen\xEDt\xE9se","EmailTemplatesLookupCaption":"V\xE1lassz egy sablont","EmailTemplatesDisplayColumnCaption":"Sablon neve","ContinueEditing":"Szerkeszt\xE9s folytat\xE1sa","SaveDraft":"Piszkozat ment\xE9se","DraftSaved":"Piszkozat mentve","EmailSent":"Az e-mail elk\xFCldve","RemoveRecipientLabel":"Remove recipient"},"Feed":{"Caption":"H\xEDrfolyam k\xE9sz\xEDt\u0151"},"Selector":{"Caption":"\xDCzenetk\xE9sz\xEDt\u0151"},"ComposerAreaLabel":"Message composer input area","AttachmentPreview":"Attachment preview"}}'),"zh-CN":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SaveDraftButtonText":"Save draft","SendButtonHint":"Send Message (Ctrl + Enter)","MessageSent":"Message sent","SendButtonText":"Send","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"\u6765\u81EA","To":"\u7ED9","CC":"CC","BCC":"BCC","Subject":"\u4E3B\u9898","PublishError":"Failed to send a message. The following error was received: {0}","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","AttachmentsSizeLimitReached":"Total attachments size is more than allowed {0} MB. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","Draft":"Draft","BodyPlaceholder":"Type a message","Reply":"Reply","ReplyAll":"Reply all","Forward":"Forward","SentOn":"\u53D1\u9001","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Template name","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent","RemoveRecipientLabel":"Remove recipient"},"Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"},"ComposerAreaLabel":"Message composer input area","AttachmentPreview":"Attachment preview"}}'),"sq-AL":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Hidhni","CancelButtonText":"Hidhni","SaveDraftButtonText":"Save draft","SendButtonHint":"Send Message (Ctrl + Enter)","MessageSent":"Message sent","SendButtonText":"Send","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"Nga","To":"P\xEBr","CC":"CC","BCC":"BCC","Subject":"Subjekti","PublishError":"Failed to send a message. The following error was received: {0}","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","AttachmentsSizeLimitReached":"Totali i madh\xEBsis\xEB s\xEB bashk\xEBlidhjeve \xEBsht\xEB m\xEB shum\xEB se {0} MB e lejuar. T\xEB lutem hiq disa bashk\xEBlidhje.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","Draft":"Draft","BodyPlaceholder":"Shkruaj nj\xEB mesazh","Reply":"P\xEBrgjigju","ReplyAll":"Reply all","Forward":"Forward","SentOn":"D\xEBrguar m\xEB","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Emri i shabllonit","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent","RemoveRecipientLabel":"Remove recipient"},"Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"},"ComposerAreaLabel":"Message composer input area","AttachmentPreview":"Attachment preview"}}'),"en-GB":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SendButtonHint":"Send message. Keyboard Shortcut - Ctrl+Enter","SendButtonText":"Send","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"From","To":"To","CC":"Cc","BCC":"Bcc","Subject":"Subject","PublishError":"Failed to send a message. The following error was received: {0}","AttachmentsSizeLimitReached":"Total attachments size is more than allowed. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","BodyPlaceholder":"Type a message","Reply":"Reply","ReplyAll":"Reply all","Forward":"Forward","SentOn":"Sent on","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"does not contain email in it"},"Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"}}}'),"bg-BG":JSON.parse('{"MessageComposer":{"CancelButtonHint":"\u041E\u0442\u0445\u0432\u044A\u0440\u043B\u0438","CancelButtonText":"\u041E\u0442\u0445\u0432\u044A\u0440\u043B\u0438","SaveDraftButtonText":"\u0417\u0430\u043F\u0430\u0437\u0438 \u0447\u0435\u0440\u043D\u043E\u0432\u0430","SendButtonHint":"\u0418\u0437\u043F\u0440\u0430\u0442\u0438 \u0441\u044A\u043E\u0431\u0449\u0435\u043D\u0438\u0435 (Ctrl + Enter)","MessageSent":"\u0421\u044A\u043E\u0431\u0449\u0435\u043D\u0438\u0435\u0442\u043E \u0435 \u0438\u0437\u043F\u0440\u0430\u0442\u0435\u043D\u043E","SendButtonText":"\u0418\u0437\u043F\u0440\u0430\u0442\u0438","RemoveAttachmentHint":"\u041F\u0440\u0435\u043C\u0430\u0445\u043D\u0438 \u043F\u0440\u0438\u043A\u0430\u0447\u0435\u043D\u0438\u044F \u0444\u0430\u0439\u043B","Caption":"\u041A\u043E\u043C\u043F\u043E\u0437\u0438\u0442\u043E\u0440 \u043D\u0430 \u0441\u044A\u043E\u0431\u0449\u0435\u043D\u0438\u0435","Email":{"Caption":"\u041A\u043E\u043C\u043F\u043E\u0437\u0438\u0442\u043E\u0440 \u043D\u0430 \u0438\u043C\u0435\u0439\u043B","From":"\u041E\u0442","To":"\u041A\u044A\u043C","CC":"CC","BCC":"BCC","Subject":"\u0422\u0435\u043C\u0430","PublishError":"\u041D\u0435\u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0438\u0437\u043F\u0440\u0430\u0449\u0430\u043D\u0435 \u043D\u0430 \u0441\u044A\u043E\u0431\u0449\u0435\u043D\u0438\u0435. \u041F\u043E\u043B\u0443\u0447\u0435\u043D\u0430 \u0435 \u0441\u043B\u0435\u0434\u043D\u0430\u0442\u0430 \u0433\u0440\u0435\u0448\u043A\u0430: {0}","SaveDraftError":"\u0427\u0435\u0440\u043D\u043E\u0432\u0430\u0442\u0430 \u043D\u0435 \u043C\u043E\u0436\u0435 \u0434\u0430 \u0431\u044A\u0434\u0435 \u0437\u0430\u043F\u0430\u0437\u0435\u043D\u0430. \u041C\u043E\u043B\u044F, \u043E\u043F\u0438\u0442\u0430\u0439 \u043E\u0442\u043D\u043E\u0432\u043E \u043F\u043E-\u043A\u044A\u0441\u043D\u043E","TemplateInsertError":"\u041D\u0435 \u043C\u043E\u0436\u0435 \u0434\u0430 \u0441\u0435 \u0434\u043E\u0431\u0430\u0432\u0438 \u0448\u0430\u0431\u043B\u043E\u043D\u044A\u0442. \u041C\u043E\u043B\u044F, \u043E\u043F\u0438\u0442\u0430\u0439 \u043E\u0442\u043D\u043E\u0432\u043E \u043F\u043E-\u043A\u044A\u0441\u043D\u043E.","AttachmentsSizeLimitReached":"\u041E\u0431\u0449\u0438\u044F\u0442 \u0440\u0430\u0437\u043C\u0435\u0440 \u043D\u0430 \u043F\u0440\u0438\u043A\u0430\u0447\u0435\u043D\u0438\u0442\u0435 \u0444\u0430\u0439\u043B\u043E\u0432\u0435 \u0435 \u043F\u043E\u0432\u0435\u0447\u0435 \u043E\u0442 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u0442\u0435 {0} MB. \u041C\u043E\u043B\u044F, \u043F\u0440\u0435\u043C\u0430\u0445\u043D\u0438 \u043D\u044F\u043A\u043E\u0438 \u043F\u0440\u0438\u043A\u0430\u0447\u0435\u043D\u0438 \u0444\u0430\u0439\u043B\u043E\u0432\u0435.","FromValidationErrorMessage":"\u041F\u043E\u043B\u0435\u0442\u043E \u201E\u041E\u0442\u201C \u043D\u0435 \u043C\u043E\u0436\u0435 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043F\u0440\u0430\u0437\u043D\u043E. \u041C\u043E\u043B\u044F, \u0438\u0437\u0431\u0435\u0440\u0438 \u043F\u043E\u0449\u0435\u043D\u0441\u043A\u0430 \u043A\u0443\u0442\u0438\u044F.","ToValidationErrorMessage":"\u041F\u043E\u043B\u0435\u0442\u043E \u201E\u0414\u043E\u201C \u043D\u0435 \u043C\u043E\u0436\u0435 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043F\u0440\u0430\u0437\u043D\u043E. \u041C\u043E\u043B\u044F, \u0432\u044A\u0432\u0435\u0434\u0438 \u043F\u043E\u043D\u0435 \u0435\u0434\u0438\u043D \u043F\u043E\u043B\u0443\u0447\u0430\u0442\u0435\u043B.","SubjectValidationErrorMessage":"\u041F\u043E\u043B\u0435\u0442\u043E \u201E\u0422\u0435\u043C\u0430\u201C \u043D\u0435 \u043C\u043E\u0436\u0435 \u0434\u0430 \u0431\u044A\u0434\u0435 \u043F\u0440\u0430\u0437\u043D\u043E. \u041C\u043E\u043B\u044F, \u0432\u044A\u0432\u0435\u0434\u0438 \u0442\u0435\u043C\u0430\u0442\u0430 \u043D\u0430 \u0438\u043C\u0435\u0439\u043B\u0430.","Draft":"\u0427\u0435\u0440\u043D\u043E\u0432\u0430","BodyPlaceholder":"\u0412\u044A\u0432\u0435\u0434\u0438 \u0441\u044A\u043E\u0431\u0449\u0435\u043D\u0438\u0435","Reply":"\u041E\u0442\u0433\u043E\u0432\u043E\u0440\u0438","ReplyAll":"\u041E\u0442\u0433\u043E\u0432\u043E\u0440\u0438 \u043D\u0430 \u0432\u0441\u0438\u0447\u043A\u043E","Forward":"\u041D\u0430\u043F\u0440\u0435\u0434","SentOn":"\u0418\u0437\u043F\u0440\u0430\u0442\u0435\u043D\u043E \u043D\u0430","SubjectToggleCaption":"\u0422\u0435\u043C\u0430","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"\u043D\u0435 \u0441\u044A\u0434\u044A\u0440\u0436\u0430 \u0438\u043C\u0435\u0439\u043B \u0432 \u043D\u0435\u0433\u043E","ChangeReplyAction":"\u041F\u0440\u043E\u043C\u0435\u043D\u0438 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435\u0442\u043E \u0437\u0430 \u043E\u0442\u0433\u043E\u0432\u043E\u0440","ShowTrimmedEmailTitle":"\u041F\u043E\u043A\u0430\u0436\u0438 \u0438\u0437\u0440\u044F\u0437\u0430\u043D\u0438\u044F \u0438\u043C\u0435\u0439\u043B","EmailTemplatesLookupCaption":"\u0418\u0437\u0431\u0435\u0440\u0438 \u0448\u0430\u0431\u043B\u043E\u043D","EmailTemplatesDisplayColumnCaption":"\u0418\u043C\u0435 \u043D\u0430 \u0448\u0430\u0431\u043B\u043E\u043D\u0430","ContinueEditing":"\u041F\u0440\u043E\u0434\u044A\u043B\u0436\u0438 \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u0430\u043D\u0435\u0442\u043E","SaveDraft":"\u0417\u0430\u043F\u0430\u0437\u0438 \u0447\u0435\u0440\u043D\u043E\u0432\u0430","DraftSaved":"\u0427\u0435\u0440\u043D\u043E\u0432\u0430\u0442\u0430 \u0435 \u0437\u0430\u043F\u0430\u0437\u0435\u043D\u0430","EmailSent":"\u0418\u043C\u0435\u0439\u043B\u044A\u0442 \u0435 \u0438\u0437\u043F\u0440\u0430\u0442\u0435\u043D","RemoveRecipientLabel":"\u041F\u0440\u0435\u043C\u0430\u0445\u043D\u0438 \u043F\u043E\u043B\u0443\u0447\u0430\u0442\u0435\u043B\u044F"},"Feed":{"Caption":"\u041A\u043E\u043C\u043F\u043E\u0437\u0438\u0442\u043E\u0440 \u043D\u0430 \u043F\u0443\u0431\u043B\u0438\u043A\u0430\u0446\u0438\u0438"},"Selector":{"Caption":"\u041A\u043E\u043C\u043F\u043E\u0437\u0438\u0442\u043E\u0440 \u043D\u0430 \u0441\u044A\u043E\u0431\u0449\u0435\u043D\u0438\u0435"},"ComposerAreaLabel":"\u041E\u0431\u043B\u0430\u0441\u0442 \u0437\u0430 \u0432\u044A\u0432\u0435\u0436\u0434\u0430\u043D\u0435 \u043D\u0430 \u0441\u044A\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043B \u043D\u0430 \u0441\u044A\u043E\u0431\u0449\u0435\u043D\u0438\u044F","AttachmentPreview":"\u041F\u0440\u0435\u0433\u043B\u0435\u0434 \u043D\u0430 \u043F\u0440\u0438\u043A\u0430\u0447\u0435\u043D\u0438\u044F \u0444\u0430\u0439\u043B"}}'),"zh-TW":JSON.parse('{"MessageComposer":{"CancelButtonHint":"\u653E\u68C4","CancelButtonText":"\u653E\u68C4","SendButtonHint":"\u53D1\u9001\u6D88\u606F(Ctrl + Enter)","SendButtonText":"\u5BC4\u9001","RemoveAttachmentHint":"\u79FB\u9664\u9644\u4EF6","Caption":"\u8A0A\u606F\u7DE8\u8F2F\u5668","Email":{"Caption":"\u96FB\u5B50\u90F5\u4EF6\u7DE8\u8F2F\u5668","From":"\u53D1\u4EF6\u4EBA","To":"\u7ED9","CC":"\u6284\u9001","BCC":"\u5BC6\u9001","Subject":"\u4E3B\u65E8","PublishError":"\u53D1\u9001\u6D88\u606F\u5931\u8D25\u3002\u6536\u5230\u4EE5\u4E0B\u9519\u8BEF\uFF1A {0}","AttachmentsSizeLimitReached":"\u7E3D\u9644\u4EF6\u5927\u5C0F\u8D85\u904E\u5141\u8A31\u7684 {0} MB\u3002\u8ACB\u79FB\u9664\u4E00\u4E9B\u9644\u4EF6\u3002","FromValidationErrorMessage":"\u201C\u53D1\u4EF6\u4EBA\u201D\u5B57\u6BB5\u4E0D\u80FD\u4E3A\u7A7A\u3002\u8BF7\u9009\u62E9\u4E00\u4E2A\u90AE\u7BB1\u3002","ToValidationErrorMessage":"\u201C\u6536\u4EF6\u4EBA\u201D\u5B57\u6BB5\u4E0D\u80FD\u4E3A\u7A7A\u3002\u8BF7\u8F93\u5165\u81F3\u5C11\u4E00\u4E2A\u6536\u4EF6\u4EBA\u3002","SubjectValidationErrorMessage":"\u201C\u4E3B\u9898\u201D\u5B57\u6BB5\u4E0D\u80FD\u4E3A\u7A7A\u3002\u8BF7\u8F93\u5165\u7535\u5B50\u90AE\u4EF6\u4E3B\u9898\u3002","BodyPlaceholder":"\u8F38\u5165\u8A0A\u606F","Reply":"\u56DE\u590D","ReplyAll":"\u56DE\u590D\u5168\u90E8","Forward":"\u8F6C\u53D1","SentOn":"\u53D1\u9001\u4E8E","SubjectToggleCaption":"\u5B50\u9879","CcToggleCaption":"\u6284\u9001","BccToggleCaption":"\u5BC6\u9001","SaveDraftError":"\u7121\u6CD5\u5132\u5B58\u8349\u7A3F\u3002\u8ACB\u7A0D\u5F8C\u5617\u8A66","TemplateInsertError":"\u65E0\u6CD5\u6DFB\u52A0\u6A21\u677F\u3002\u8BF7\u7A0D\u540E\u518D\u8BD5\u3002","Draft":"\u7C97\u7A3F","NotContainsEmail":"\u5176\u5185\u4E0D\u5305\u542B\u90AE\u4EF6\u5730\u5740","ChangeReplyAction":"\u66F4\u6539\u56DE\u590D\u52A8\u4F5C","ShowTrimmedEmailTitle":"\u663E\u793A\u4FEE\u590D\u90AE\u4EF6","EmailTemplatesLookupCaption":"\u9078\u64C7\u6A21\u677F","EmailTemplatesDisplayColumnCaption":"\u6A21\u677F\u540D\u7A31","ContinueEditing":"\u7EE7\u7EED\u7F16\u8F91","SaveDraft":"\u5132\u5B58\u8349\u7A3F","DraftSaved":"\u8349\u7A3F\u5DF2\u5132\u5B58","EmailSent":"\u90AE\u4EF6\u5DF2\u53D1\u9001","RemoveRecipientLabel":"Remove recipient"},"SaveDraftButtonText":"\u5132\u5B58\u8349\u7A3F","MessageSent":"\u6D88\u606F\u5DF2\u53D1\u9001","Feed":{"Caption":"\u4F9B\u7A3F\u4F5C\u8005"},"Selector":{"Caption":"\u8A0A\u606F\u7DE8\u8F2F\u5668"},"ComposerAreaLabel":"Message composer input area","AttachmentPreview":"Attachment preview"}}'),"no-NO":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Forkast","CancelButtonText":"Forkast","SendButtonHint":"Sende melding, Tastatursnarvei - Ctrl+Enter","SendButtonText":"Sende","RemoveAttachmentHint":"Fjern vedlegg","Caption":"Meldings komponist","Email":{"Caption":"E-post meldings-komponist","From":"Fra","To":"Til","CC":"Cc","BCC":"Blindkopi","Subject":"Emne","PublishError":"Kunne ikke sende en melding. F\xF8lgende feil ble mottatt: {0}","AttachmentsSizeLimitReached":"Total filst\xF8rrelse er mer enn tillatt. Vennligst fjern noen vedlegg.","FromValidationErrorMessage":"feltet \\"Fra\\" kan ikke v\xE6re blankt. Vennligst velg en postboks.","ToValidationErrorMessage":"\\"Til\\"-feltet kan ikke v\xE6re tomt. Skriv inn minst \xE9n mottaker.","SubjectValidationErrorMessage":"feltet \\"Emne\\" kan ikke v\xE6re tomt. Skriv inn e-postpersonen.","BodyPlaceholder":"Skriv inn en melding"}}}'),"ko-KR":JSON.parse('{"MessageComposer":{"CancelButtonHint":"\uBC84\uB9AC\uB2E4","CancelButtonText":"\uBC84\uB9AC\uB2E4","SendButtonHint":"\uBA54\uC2DC\uC9C0 \uBCF4\uB0B4\uAE30(Ctrl + Enter)","SendButtonText":"\uBCF4\uB0B4\uAE30","RemoveAttachmentHint":"\uCCA8\uBD80\uD30C\uC77C \uC81C\uAC70","Caption":"\uBA54\uC2DC\uC9C0 \uC791\uACE1\uAC00","Email":{"Caption":"\uC774\uBA54\uC77C \uC791\uACE1\uAC00","From":"\uC5D0\uC11C","To":"\uC5D0\uAC8C","CC":"CC","BCC":"BCC","Subject":"\uD654\uC81C","PublishError":"\uBA54\uC2DC\uC9C0\uB97C \uBCF4\uB0B4\uC9C0 \uBABB\uD588\uC2B5\uB2C8\uB2E4. \uB2E4\uC74C \uC624\uB958\uAC00 \uC218\uC2E0\uB418\uC5C8\uC2B5\uB2C8\uB2E4: {0}","AttachmentsSizeLimitReached":"\uCD1D \uCCA8\uBD80 \uD30C\uC77C \uD06C\uAE30\uAC00 \uD5C8\uC6A9\uB41C {0}MB\uB97C \uCD08\uACFC\uD569\uB2C8\uB2E4. \uC77C\uBD80 \uCCA8\uBD80 \uD30C\uC77C\uC744 \uC81C\uAC70\uD558\uC2ED\uC2DC\uC624.","FromValidationErrorMessage":"\uBC1C\uC1A1\uC778 \uD544\uB4DC\uB294 \uBE44\uC6CC \uB458 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uC6B0\uD3B8\uD568\uC744 \uC120\uD0DD\uD558\uC2ED\uC2DC\uC624.","ToValidationErrorMessage":"\uBC1B\uB294\uC0AC\uB78C \uD544\uB4DC\uB294 \uBE44\uC6CC \uB458 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uC218\uC2E0\uC778\uC744 \uD558\uB098 \uC774\uC0C1 \uC785\uB825\uD558\uC2ED\uC2DC\uC624.","SubjectValidationErrorMessage":"\uC81C\uBAA9 \uD544\uB4DC\uB294 \uBE44\uC6CC\uB458 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uC774\uBA54\uC77C \uC81C\uBAA9\uC744 \uC785\uB825\uD558\uC2ED\uC2DC\uC624.","BodyPlaceholder":"\uBA54\uC2DC\uC9C0\uB97C \uC785\uB825\uD569\uB2C8\uB2E4","SaveDraftError":"\uCD08\uC548\uC744 \uC800\uC7A5\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uB098\uC911\uC5D0 \uB2E4\uC2DC \uC2DC\uB3C4\uD558\uC2ED\uC2DC\uC624","TemplateInsertError":"\uD15C\uD50C\uB9BF\uC744 \uCD94\uAC00\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uB098\uC911\uC5D0 \uB2E4\uC2DC \uC2DC\uB3C4\uD558\uC2ED\uC2DC\uC624.","Draft":"\uC6D0\uACE0","Reply":"\uB2F5\uAE00","ReplyAll":"\uC804\uC6D0\uC5D0\uAC8C \uB2F5\uC7A5","Forward":"\uC55E\uC73C\uB85C","SentOn":"Sent on","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"\uC774\uBA54\uC77C\uC774 \uD3EC\uD568\uB418\uC5B4 \uC788\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4","ChangeReplyAction":"\uD68C\uC2E0\uC870\uCE58 \uBCC0\uACBD","ShowTrimmedEmailTitle":"\uC798\uB77C\uB0B8 \uC774\uBA54\uC77C \uD45C\uC2DC","EmailTemplatesLookupCaption":"\uD15C\uD50C\uB9BF \uC120\uD0DD","EmailTemplatesDisplayColumnCaption":"\uD15C\uD50C\uB9BF \uC774\uB984","ContinueEditing":"\uD3B8\uC9D1 \uACC4\uC18D","SaveDraft":"\uCD08\uC548 \uC800\uC7A5","DraftSaved":"\uC800\uC7A5\uB41C \uCD08\uC548","EmailSent":"\uBCF4\uB0B8 \uC774\uBA54\uC77C","RemoveRecipientLabel":"Remove recipient"},"SaveDraftButtonText":"\uCD08\uC548 \uC800\uC7A5","MessageSent":"\uBCF4\uB0B8 \uBA54\uC2DC\uC9C0","Feed":{"Caption":"\uD53C\uB4DC \uC791\uACE1\uAC00"},"Selector":{"Caption":"\uBA54\uC2DC\uC9C0 \uC791\uACE1\uAC00"},"ComposerAreaLabel":"Message composer input area","AttachmentPreview":"Attachment preview"}}'),"ja-JP":JSON.parse('{"MessageComposer":{"CancelButtonHint":"\u7834\u68C4","CancelButtonText":"\u7834\u68C4","SaveDraftButtonText":"\u4E0B\u66F8\u304D\u3092\u4FDD\u5B58","SendButtonHint":"\u30E1\u30C3\u30BB\u30FC\u30B8\u3092\u9001\u4FE1 (Ctrl + Enter)","MessageSent":"\u9001\u4FE1\u6E08\u307F\u30E1\u30C3\u30BB\u30FC\u30B8","SendButtonText":"\u9001\u4FE1","RemoveAttachmentHint":"\u6DFB\u4ED8\u30D5\u30A1\u30A4\u30EB\u306E\u524A\u9664","Caption":"\u30E1\u30C3\u30BB\u30FC\u30B8\u4F5C\u6210","Email":{"Caption":"\u96FB\u5B50\u30E1\u30FC\u30EB\u306E\u4F5C\u6210\u8005","From":"\u9001\u4FE1\u5143","To":"\u5B9B\u5148","CC":"CC","BCC":"BCC","Subject":"\u4EF6\u540D","PublishError":"\u30E1\u30C3\u30BB\u30FC\u30B8\u306E\u9001\u4FE1\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002\u6B21\u306E\u30A8\u30E9\u30FC\u304C\u53D7\u4FE1\u3055\u308C\u307E\u3057\u305F: {0}","SaveDraftError":"\u4E0B\u66F8\u304D\u3092\u4FDD\u5B58\u3067\u304D\u307E\u305B\u3093\u3002\u3057\u3070\u3089\u304F\u3057\u3066\u304B\u3089\u3082\u3046\u4E00\u5EA6\u304A\u8A66\u3057\u304F\u3060\u3055\u3044","TemplateInsertError":"\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8\u3092\u8FFD\u52A0\u3067\u304D\u307E\u305B\u3093\u3002\u3057\u3070\u3089\u304F\u3057\u3066\u304B\u3089\u3082\u3046\u4E00\u5EA6\u304A\u8A66\u3057\u304F\u3060\u3055\u3044\u3002","AttachmentsSizeLimitReached":"\u6DFB\u4ED8\u30D5\u30A1\u30A4\u30EB\u306E\u5408\u8A08\u30B5\u30A4\u30BA\u304C {0} MB\u3092\u8D85\u3048\u3066\u3044\u307E\u3059\u3002\u3044\u304F\u3064\u304B\u306E\u6DFB\u4ED8\u30D5\u30A1\u30A4\u30EB\u3092\u524A\u9664\u3057\u3066\u304F\u3060\u3055\u3044\u3002","FromValidationErrorMessage":"\u300CFrom\u300D\u30D5\u30A3\u30FC\u30EB\u30C9\u306F\u7A7A\u767D\u306B\u3067\u304D\u307E\u305B\u3093\u3002\u30E1\u30FC\u30EB\u30DC\u30C3\u30AF\u30B9\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044\u3002","ToValidationErrorMessage":"\u300CTo\u300D\u30D5\u30A3\u30FC\u30EB\u30C9\u306F\u7A7A\u767D\u306B\u3067\u304D\u307E\u305B\u3093\u3002\u5C11\u306A\u304F\u3068\u30821\u3064\u306E\u5B9B\u5148\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002","SubjectValidationErrorMessage":"\u300CSubject\u300D\u30D5\u30A3\u30FC\u30EB\u30C9\u306F\u7A7A\u6B04\u306B\u3067\u304D\u307E\u305B\u3093\u3002\u30E1\u30FC\u30EB\u306E\u4EF6\u540D\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002","Draft":"\u4E0B\u66F8\u304D","BodyPlaceholder":"\u30E1\u30C3\u30BB\u30FC\u30B8\u3092\u5165\u529B","Reply":"\u8FD4\u4FE1","ReplyAll":"\u5168\u8FD4\u4FE1","Forward":"\u8EE2\u9001","SentOn":"\u9001\u4FE1\u65E5\u6642","SubjectToggleCaption":"\u30B5\u30D6\u30B8\u30A7\u30AF\u30C8","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"\u30E1\u30FC\u30EB\u304C\u542B\u307E\u308C\u3066\u3044\u307E\u305B\u3093","ChangeReplyAction":"\u8FD4\u4FE1\u64CD\u4F5C\u3092\u5909\u66F4","ShowTrimmedEmailTitle":"\u30C8\u30EA\u30DF\u30F3\u30B0\u3055\u308C\u305F\u30E1\u30FC\u30EB\u3092\u8868\u793A","EmailTemplatesLookupCaption":"\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8\u306E\u9078\u629E","EmailTemplatesDisplayColumnCaption":"\u30C6\u30F3\u30D7\u30EC\u30FC\u30C8\u540D","ContinueEditing":"\u7DE8\u96C6\u3092\u7D9A\u884C","SaveDraft":"\u4E0B\u66F8\u304D\u3092\u4FDD\u5B58","DraftSaved":"\u4E0B\u66F8\u304D\u3092\u4FDD\u5B58\u3057\u307E\u3057\u305F","EmailSent":"\u30E1\u30FC\u30EB\u3092\u9001\u4FE1\u3057\u307E\u3057\u305F","RemoveRecipientLabel":"Remove recipient"},"Feed":{"Caption":"\u30D5\u30A3\u30FC\u30C9\u306E\u4F5C\u6210"},"Selector":{"Caption":"\u30E1\u30C3\u30BB\u30FC\u30B8\u4F5C\u6210"},"ComposerAreaLabel":"Message composer input area","AttachmentPreview":"Attachment preview"}}'),"fr-CA":{},zh:{},"vi-VN":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SendButtonHint":"Send Message (Ctrl + Enter)","SendButtonText":"Send","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"t\u1EEB","To":"\u0111\u1EBFn","CC":"CC","BCC":"BCC","Subject":"Ti\xEAu \u0111\u1EC1","PublishError":"Failed to send a message. The following error was received: {0}","AttachmentsSizeLimitReached":"Total attachments size is more than allowed {0} MB. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","BodyPlaceholder":"Type a message","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","Draft":"Draft","Reply":"Reply","ReplyAll":"Reply all","Forward":"Forward","SentOn":"\u0110\xE3 g\u1EEDi v\xE0o","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Template name","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent","RemoveRecipientLabel":"Remove recipient"},"SaveDraftButtonText":"Save draft","MessageSent":"Message sent","Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"},"ComposerAreaLabel":"Message composer input area","AttachmentPreview":"Attachment preview"}}'),"tr-TR":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Atmak","CancelButtonText":"Atmak","SaveDraftButtonText":"Tasla\u011F\u0131 kurtar","SendButtonHint":"Mesaj G\xF6nder (Ctrl + Enter)","MessageSent":"Mesaj\u0131 g\xF6nderildi","SendButtonText":"Send","RemoveAttachmentHint":"Eki kald\u0131r","Caption":"Mesaj besteci","Email":{"Caption":"E -posta besteci","From":"kimden","To":"kime","CC":"Cc","BCC":"Bcc","Subject":"Konu","PublishError":"Mesaj g\xF6nderemedi.A\u015Fa\u011F\u0131daki hata al\u0131nd\u0131: {0}","SaveDraftError":"Tasla\u011F\u0131 kaydedemiyor.L\xFCtfen daha sonra tekrar deneyin","TemplateInsertError":"\u015Eablon eklenemiyor.L\xFCtfen daha sonra tekrar deneyin.","AttachmentsSizeLimitReached":"Toplam ek boyutlar\u0131 izin verilenden daha fazlad\u0131r {0} MB.L\xFCtfen baz\u0131 ekleri kald\u0131r\u0131n.","FromValidationErrorMessage":"\u201CKimden\u201D alan bo\u015F olamaz.L\xFCtfen bir posta kutusu se\xE7in.","ToValidationErrorMessage":"\u201CTo\u201D alan bo\u015F olamaz.L\xFCtfen en az bir al\u0131c\u0131 girin.","SubjectValidationErrorMessage":"\u201CKonu\u201D alan\u0131 bo\u015F olamaz.L\xFCtfen e -posta konusunu girin.","Draft":"Taslak","BodyPlaceholder":"Bir mesaj yaz\u0131n","Reply":"Cevap vermek","ReplyAll":"Hepsini cevapla","Forward":"\u0130leri","SentOn":"Tarihinde g\xF6nderildi","SubjectToggleCaption":"Subj","CcToggleCaption":"Cc","BccToggleCaption":"Bcc","NotContainsEmail":"\u0130\xE7inde e -posta i\xE7ermiyor","ChangeReplyAction":"Cevap Eylemini De\u011Fi\u015Ftir","ShowTrimmedEmailTitle":"Kesilmi\u015F e -postay\u0131 g\xF6ster","EmailTemplatesLookupCaption":"Bir \u015Eablon Se\xE7in","EmailTemplatesDisplayColumnCaption":"Template name","ContinueEditing":"D\xFCzenlemeye devam et","SaveDraft":"Tasla\u011F\u0131 kurtar","DraftSaved":"Taslak Kaydedildi","EmailSent":"E -posta g\xF6nderildi","RemoveRecipientLabel":"Al\u0131c\u0131y\u0131 Kald\u0131r"},"Feed":{"Caption":"Yem bestecisi"},"Selector":{"Caption":"Mesaj besteci"},"ComposerAreaLabel":"Mesaj Besteci Giri\u015F Alan\u0131","AttachmentPreview":"Attachment preview"}}'),"th-TH":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SendButtonHint":"Send Message (Ctrl + Enter)","SendButtonText":"\u0E2A\u0E48\u0E07","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"\u0E08\u0E32\u0E01","To":"\u0E16\u0E36\u0E07","CC":"\u0E2A\u0E33\u0E40\u0E19\u0E32\u0E16\u0E36\u0E07","BCC":"\u0E2A\u0E33\u0E40\u0E19\u0E32\u0E25\u0E31\u0E1A\u0E16\u0E36\u0E07","Subject":"\u0E40\u0E23\u0E37\u0E48\u0E2D\u0E07","PublishError":"Failed to send a message. The following error was received: {0}","AttachmentsSizeLimitReached":"Total attachments size is more than allowed {0} MB. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","BodyPlaceholder":"Type a message","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","Draft":"\u0E23\u0E48\u0E32\u0E07","Reply":"\u0E15\u0E2D\u0E1A\u0E01\u0E25\u0E31\u0E1A","ReplyAll":"\u0E15\u0E2D\u0E1A\u0E01\u0E25\u0E31\u0E1A\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14","Forward":"\u0E2A\u0E48\u0E07\u0E15\u0E48\u0E2D","SentOn":"\u0E2A\u0E48\u0E07\u0E41\u0E25\u0E49\u0E27\u0E40\u0E21\u0E37\u0E48\u0E2D","SubjectToggleCaption":"Subj","CcToggleCaption":"\u0E2A\u0E33\u0E40\u0E19\u0E32\u0E16\u0E36\u0E07","BccToggleCaption":"\u0E2A\u0E33\u0E40\u0E19\u0E32\u0E25\u0E31\u0E1A\u0E16\u0E36\u0E07","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"\u0E0A\u0E37\u0E48\u0E2D\u0E40\u0E17\u0E21\u0E40\u0E1E\u0E25\u0E15","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent","RemoveRecipientLabel":"Remove recipient"},"SaveDraftButtonText":"Save draft","MessageSent":"Message sent","Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"},"ComposerAreaLabel":"Message composer input area","AttachmentPreview":"Attachment preview"}}'),"sv-SE":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SendButtonHint":"Send Message (Ctrl + Enter)","SendButtonText":"Skicka","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"Fr\xE5n","To":"Till","CC":"CC","BCC":"BCC","Subject":"\xC4mne","PublishError":"Failed to send a message. The following error was received: {0}","AttachmentsSizeLimitReached":"Total attachments size is more than allowed {0} MB. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","BodyPlaceholder":"Type a message","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","Draft":"Utkast","Reply":"Svara","ReplyAll":"Svara alla","Forward":"Vidarebefordra","SentOn":"S\xE4ndes","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Mallnamn","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent","RemoveRecipientLabel":"Remove recipient"},"SaveDraftButtonText":"Save draft","MessageSent":"Meddelande skickat","Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"},"ComposerAreaLabel":"Message composer input area","AttachmentPreview":"Attachment preview"}}'),"ro-RO":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Renun\u021Ba\u021Bi","CancelButtonText":"Renun\u021Ba\u021Bi","SendButtonHint":"Trimite mesaj (Ctrl + Enter)","SendButtonText":"Trimite","RemoveAttachmentHint":"Elimin\u0103 ata\u0219amentul","Caption":"Compozitor mesaj","Email":{"Caption":"Compozitor e-mail","From":"De la","To":"La","CC":"CC","BCC":"BCC","Subject":"Subiect","PublishError":"Nu s-a putut trimite mesajul. A fost primit\u0103 urm\u0103toarea eroare: {0}","AttachmentsSizeLimitReached":"Dimensiunea total\u0103 a ata\u0219amentelor este mai mare dec\xE2t cea permis\u0103 {0} MB. V\u0103 rug\u0103m s\u0103 elimina\u021Bi unele ata\u0219amente.","FromValidationErrorMessage":"C\xE2mpul \u201CFrom\u201D nu poate fi gol. V\u0103 rug\u0103m s\u0103 selecta\u021Bi o cutie po\u0219tal\u0103.","ToValidationErrorMessage":"C\xE2mpul \\"To\\" nu poate fi gol. Introduce\u021Bi cel pu\u021Bin un destinatar.","SubjectValidationErrorMessage":"C\xE2mpul \u201CSubject\u201D nu poate fi gol. V\u0103 rug\u0103m s\u0103 introduce\u0163i subiectul de e-mail.","BodyPlaceholder":"Scrie un mesaj","SaveDraftError":"Nu s-a putut salva draft. Te rug\u0103m s\u0103 \xEEncerci din nou mai t\xE2rziu","TemplateInsertError":"Imposibil de ad\u0103ugat template. V\u0103 rug\u0103m s\u0103 \xEEncerca\u021Bi din nou mai t\xE2rziu.","Draft":"Ciorn\u0103","Reply":"Raspunde","ReplyAll":"R\u0103spunde tuturor","Forward":"Redirec\u021Bionare","SentOn":"Trimis pe","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"nu con\u021Bine e-mail \xEEn el","ChangeReplyAction":"Modific\u0103 ac\u021Biunea de r\u0103spuns","ShowTrimmedEmailTitle":"Arat\u0103 e-mail t\u0103iat","EmailTemplatesLookupCaption":"Selecta\u021Bi un template","EmailTemplatesDisplayColumnCaption":"Nume \u0219ablon","ContinueEditing":"Continu\u0103 editarea","SaveDraft":"Salvare draft","DraftSaved":"Draft salvat","EmailSent":"Email trimis","RemoveRecipientLabel":"Elimina\u021Bi destinatarul"},"SaveDraftButtonText":"Salvare draft","MessageSent":"Mesaj transmis","Feed":{"Caption":"Compozitor feed"},"Selector":{"Caption":"Compozitor mesaj"},"ComposerAreaLabel":"Zona de introducere a compozitorului mesajului","AttachmentPreview":"Attachment preview"}}'),"pt-PT":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SendButtonHint":"Send Message (Ctrl + Enter)","SendButtonText":"Enviar","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Compositor de email","From":"De","To":"Para","CC":"CC","BCC":"BCC","Subject":"Assunto","PublishError":"Failed to send a message. The following error was received: {0}","AttachmentsSizeLimitReached":"Total attachments size is more than allowed {0} MB. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","BodyPlaceholder":"Escrever uma mensagem","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","Draft":"Rascunho","Reply":"Resposta","ReplyAll":"Responder a todos","Forward":"Encaminhar","SentOn":"Enviado em","SubjectToggleCaption":"Assunto","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"n\xE3o cont\xE9m e-mail","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Nome do template","ContinueEditing":"Continue editing","SaveDraft":"Guardar rascunho","DraftSaved":"Rascunho gravado","EmailSent":"E-mail enviado","RemoveRecipientLabel":"Remove recipient"},"SaveDraftButtonText":"Guardar rascunho","MessageSent":"Mensagem enviada","Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"},"ComposerAreaLabel":"Message composer input area","AttachmentPreview":"Attachment preview"}}'),"pt-BR":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Descartar","CancelButtonText":"Descartar","SendButtonHint":"Enviar Mensagem (Ctrl + Enter)","SendButtonText":"Enviar","RemoveAttachmentHint":"Remover o anexo","Caption":"Compositor de mensagens","Email":{"Caption":"Compositor de e-mails","From":"De","To":"Para","CC":"Cc","BCC":"Cco","Subject":"Assunto","PublishError":"Falha ao enviar uma mensagem. O seguinte erro foi recebido: {0}","AttachmentsSizeLimitReached":"O tamanho total dos anexos \xE9 maior do que o permitido {0} MB. Favor, remover alguns anexos.","FromValidationErrorMessage":"O campo \u201CDe\u201D n\xE3o pode ficar em branco. Favor, selecionar uma caixa de correios.","ToValidationErrorMessage":"O campo \u201CPara\u201D n\xE3o pode ficar em branco. Favor, inserir ao menos um recipiente.","SubjectValidationErrorMessage":"O campo \u201CAssunto\u201D n\xE3o pode ficar em branco. Favor, inserir o assunto do e-mail.","BodyPlaceholder":"Escrever uma mensagem","SaveDraftError":"N\xE3o foi poss\xEDvel salvar o rascunho. Favor, tentar novamente mais tarde","TemplateInsertError":"N\xE3o foi poss\xEDvel adicionar o modelo. Favor, tentar novamente mais tarde.","Draft":"Rascunho","Reply":"Responder","ReplyAll":"Responder a todos","Forward":"Encaminhar","SentOn":"Enviado em","SubjectToggleCaption":"Assunto","CcToggleCaption":"Cc","BccToggleCaption":"Cco","NotContainsEmail":"n\xE3o cont\xE9m um e-mail atribu\xEDdo","ChangeReplyAction":"Alterar a a\xE7\xE3o da resposta","ShowTrimmedEmailTitle":"Mostrar o e-mail cortado","EmailTemplatesLookupCaption":"Selecionar um modelo","EmailTemplatesDisplayColumnCaption":"Nome do modelo","ContinueEditing":"Continuar editando","SaveDraft":"Salvar o rascunho","DraftSaved":"Rascunho salvo","EmailSent":"E-mail enviado","RemoveRecipientLabel":"Remover o recipiente"},"SaveDraftButtonText":"Salvar o rascunho","MessageSent":"Mensagem enviada","Feed":{"Caption":"Compositor de feeds"},"Selector":{"Caption":"Compositor de mensagens"},"ComposerAreaLabel":"\xC1rea de entrada do compositor de mensagens","AttachmentPreview":"Attachment preview"}}'),"pl-PL":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Odrzu\u0107","CancelButtonText":"Odrzu\u0107","SaveDraftButtonText":"Zapisz wersj\u0119 robocz\u0105","SendButtonHint":"Wy\u015Blij wiadomo\u015B\u0107 (Ctrl + Enter)","MessageSent":"Wiadomo\u015B\u0107 wys\u0142ana","SendButtonText":"Wy\u015Blij","RemoveAttachmentHint":"Usu\u0144 za\u0142\u0105cznik","Caption":"Kreator wiadomo\u015Bci","Email":{"Caption":"Kreator wiadomo\u015Bci Email","From":"Od","To":"Do","CC":"DW","BCC":"UDW","Subject":"Temat","PublishError":"Nie uda\u0142o si\u0119 wys\u0142a\u0107 wiadomo\u015Bci. Otrzymano nast\u0119puj\u0105cy b\u0142\u0105d: {0}","SaveDraftError":"Nie mo\u017Cna zapisa\u0107 szkicu. Spr\xF3buj ponownie p\xF3\u017Aniej","TemplateInsertError":"Nie mo\u017Cna doda\u0107 szablonu. Spr\xF3buj ponownie p\xF3\u017Aniej.","AttachmentsSizeLimitReached":"Ca\u0142kowity rozmiar za\u0142\u0105cznik\xF3w jest wi\u0119kszy ni\u017C dozwolony {0} MB. Prosz\u0119 usun\u0105\u0107 niekt\xF3re za\u0142\u0105czniki.","FromValidationErrorMessage":"Pole \\"Od\\" nie mo\u017Ce by\u0107 puste. Prosz\u0119 wybra\u0107 adres email.","ToValidationErrorMessage":"Pole \\"Do\\" nie mo\u017Ce by\u0107 puste. Wprowad\u017A co najmniej jednego odbiorc\u0119.","SubjectValidationErrorMessage":"Pole \xBBTemat\xAB nie mo\u017Ce by\u0107 puste. Wprowad\u017A temat wiadomo\u015Bci.","Draft":"Wersja robocza","BodyPlaceholder":"Wpisz wiadomo\u015B\u0107","Reply":"Odpowiedz","ReplyAll":"Odpowiedz wszystkim","Forward":"Prze\u015Blij dalej","SentOn":"Wys\u0142ane","SubjectToggleCaption":"Subj","CcToggleCaption":"DW","BccToggleCaption":"UDW","NotContainsEmail":"nie zawiera wiadomo\u015Bci e-mail","ChangeReplyAction":"Zmie\u0144 odpowied\u017A","ShowTrimmedEmailTitle":"Poka\u017C przyci\u0119t\u0105 wiadomo\u015B\u0107 e-mail","EmailTemplatesLookupCaption":"Wybierz szablon","EmailTemplatesDisplayColumnCaption":"Nazwa szablonu","ContinueEditing":"Kontynuuj edytowanie","SaveDraft":"Zapisz wersj\u0119 robocz\u0105","DraftSaved":"Wersja robocza zapisana","EmailSent":"Wys\u0142ano e-mail","RemoveRecipientLabel":"Usu\u0144 odbiorc\u0119"},"Feed":{"Caption":"Edytor kana\u0142\xF3w"},"Selector":{"Caption":"Creator wiadomo\u015Bci"},"ComposerAreaLabel":"Obszar wej\u015Bciowy kompozytora wiadomo\u015Bci","AttachmentPreview":"Attachment preview"}}'),no:{},"nl-NL":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SaveDraftButtonText":"Save draft","SendButtonHint":"Send Message (Ctrl + Enter)","MessageSent":"Bericht verzonden","SendButtonText":"Versturen","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"Van","To":"Aan","CC":"CC","BCC":"BCC","Subject":"Onderwerp","PublishError":"Failed to send a message. The following error was received: {0}","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","AttachmentsSizeLimitReached":"Total attachments size is more than allowed {0} MB. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","Draft":"Concept","BodyPlaceholder":"Type a message","Reply":"Antwoorden","ReplyAll":"Allen beantwoorden","Forward":"doorsturen","SentOn":"Verstuurd op","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Template naam","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent","RemoveRecipientLabel":"Remove recipient"},"Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"},"ComposerAreaLabel":"Message composer input area","AttachmentPreview":"Attachment preview"}}'),"lv-LV":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Izmest","CancelButtonText":"Izmest","SendButtonHint":"S\u016Bt\u012Bt zi\u0146u (Ctrl + Enter)","SendButtonText":"S\u016Bt\u012Bt","RemoveAttachmentHint":"No\u0146emt pielikumu","Caption":"Zi\u0146u veidot\u0101js","Email":{"Caption":"E-pasta sast\u0101d\u012Bt\u0101js","From":"No","To":"L\u012Bdz","CC":"Kopija","BCC":"Diskr\u0113t\u0101 kopija","Subject":"T\u0113ma","PublishError":"Zi\u0146as nos\u016Bt\u012B\u0161ana neizdev\u0101s. Sa\u0146emta sekojo\u0161a k\u013C\u016Bda: {0}","AttachmentsSizeLimitReached":"Kop\u0113jais pielikumu izm\u0113rs ir liel\u0101ks par at\u013Cauto {0} MB. L\u016Bdzu, no\u0146emiet da\u017Eus pielikumus.","FromValidationErrorMessage":"Lauks \\"no\\" nevar b\u016Bt tuk\u0161s. L\u016Bdzu, izv\u0113l\u0113ties pastkasti.","ToValidationErrorMessage":"Lauks \\"uz\\" nevar b\u016Bt tuk\u0161s. L\u016Bdzu, ievadiet vismaz vienu sa\u0146\u0113m\u0113ju.","SubjectValidationErrorMessage":"\u201CT\u0113mas\u201D lauks nevar b\u016Bt tuk\u0161s. L\u016Bdzu, ievadiet e-pasta t\u0113mu.","BodyPlaceholder":"Ierakstiet zi\u0146u","SaveDraftError":"Nav iesp\u0113jams saglab\u0101t melnrakstu. L\u016Bdzu, m\u0113\u0123iniet v\u0113l\u0101k","TemplateInsertError":"Nav iesp\u0113jams pievienot veidni. L\u016Bdzu, m\u0113\u0123iniet v\u0113lreiz v\u0113l\u0101k.","Draft":"Melnraksts","Reply":"Atbild\u0113t","ReplyAll":"Atbild\u0113t visiem","Forward":"Uz priek\u0161u","SentOn":"Nos\u016Bt\u012Bts","SubjectToggleCaption":"T\u0113ma","CcToggleCaption":"Kopija","BccToggleCaption":"Diskr\u0113t\u0101 kopija","NotContainsEmail":"nesatur e-pastu","ChangeReplyAction":"Main\u012Bt atbildes darb\u012Bbu","ShowTrimmedEmailTitle":"Par\u0101d\u012Bt apgrieztu e-pastu","EmailTemplatesLookupCaption":"Izv\u0113l\u0113ties veidni","EmailTemplatesDisplayColumnCaption":"Veidnes nosaukums","ContinueEditing":"Turpin\u0101t redi\u0123\u0113\u0161anu","SaveDraft":"Saglab\u0101t melnrakstu","DraftSaved":"Melnraksts saglab\u0101ts","EmailSent":"E-pasts nos\u016Bt\u012Bts","RemoveRecipientLabel":"No\u0146emt sa\u0146\u0113m\u0113ju"},"SaveDraftButtonText":"Saglab\u0101t melnrakstu","MessageSent":"Zi\u0146a nos\u016Bt\u012Bta","Feed":{"Caption":"Lentes sast\u0101d\u012Bt\u0101js"},"Selector":{"Caption":"Zi\u0146u veidot\u0101js"},"ComposerAreaLabel":"Zi\u0146ojumu veido\u0161anas ievades zona","AttachmentPreview":"Pielikuma priek\u0161skat\u012Bjums"}}'),"kk-KZ":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SendButtonHint":"Send message. Keyboard Shortcut - Ctrl+Enter","SendButtonText":"Send","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email message composer","From":"From","To":"To","CC":"Cc","BCC":"Bcc","Subject":"Subject","PublishError":"Failed to send a message. The following error was received: {0}","AttachmentsSizeLimitReached":"Total attachments size is more than allowed. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","BodyPlaceholder":"Type a message"}}}'),"it-IT":JSON.parse(`{"MessageComposer":{"CancelButtonHint":"Annulla","CancelButtonText":"Annulla","SaveDraftButtonText":"Salva bozza","SendButtonHint":"Invia Messaggio (Ctrl + Invio)","MessageSent":"Messaggio inviato","SendButtonText":"Invia","RemoveAttachmentHint":"Rimuovi allegato","Caption":"Compositore messaggi","Email":{"Caption":"Compositore email","From":"Da","To":"A","CC":"CC","BCC":"CCn","Subject":"Oggetto","PublishError":"Invio di un messaggio non riuscito. \xC8 stato ricevuto il seguente errore: {0}","SaveDraftError":"Impossibile salvare la bozza. Riprova pi\xF9 tardi","TemplateInsertError":"Impossibile aggiungere il modello. Riprova pi\xF9 tardi.","AttachmentsSizeLimitReached":"La dimensione totale degli allegati \xE8 superiore a quella consentita {0} MB. Rimuovere alcuni allegati.","FromValidationErrorMessage":"Il campo \u201CDa\u201D non pu\xF2 essere vuoto. Si prega di selezionare una casella di posta.","ToValidationErrorMessage":"Il campo \u201CA\u201D non pu\xF2 essere vuoto. Inserisci almeno un destinatario.","SubjectValidationErrorMessage":"Il campo \u201COggetto\u201D non pu\xF2 essere vuoto. Inserisci l'oggetto email.","Draft":"Bozza","BodyPlaceholder":"Inserisci un messaggio","Reply":"Rispondi","ReplyAll":"Rispondi a tutti","Forward":"Inoltra","SentOn":"Inviata il","SubjectToggleCaption":"Oggetto","CcToggleCaption":"CC","BccToggleCaption":"CCn","NotContainsEmail":"non contiene email in esso","ChangeReplyAction":"Cambia azione risposta","ShowTrimmedEmailTitle":"Mostra email tagliata","EmailTemplatesLookupCaption":"Seleziona un modello","EmailTemplatesDisplayColumnCaption":"Nome del modello","ContinueEditing":"Continua la modifica","SaveDraft":"Salva bozza","DraftSaved":"Bozza salvata","EmailSent":"Email inviata","RemoveRecipientLabel":"Rimuovi destinatario"},"Feed":{"Caption":"Compositore del feed"},"Selector":{"Caption":"Compositore messaggi"},"ComposerAreaLabel":"Area di input compositore messaggi","AttachmentPreview":"Attachment preview"}}`),"id-ID":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Buang","CancelButtonText":"Buang","SaveDraftButtonText":"Simpan draf","SendButtonHint":"Kirim Pesan (Ctrl + Enter)","MessageSent":"Pesan terkirim","SendButtonText":"Kirim","RemoveAttachmentHint":"Hapus lampiran","Caption":"Komposer pesan","Email":{"Caption":"Komposer email","From":"Dari","To":"Kepada","CC":"CC","BCC":"BCC","Subject":"Subjek","PublishError":"Gagal mengirim pesan. Kesalahan berikut diterima: {0}","SaveDraftError":"Tidak dapat menyimpan draf. Silakan coba lagi nanti","TemplateInsertError":"Tidak dapat menambahkan template. Silakan coba lagi nanti.","AttachmentsSizeLimitReached":"Ukuran total lampiran lebih dari yang diizinkan {0} MB. Harap hapus beberapa lampiran.","FromValidationErrorMessage":"Kolom \u201CDari\u201D tidak boleh dikosongkan. Pilih kotak surat.","ToValidationErrorMessage":"Kolom \u201CKepada\u201D tidak boleh dikosongkan. Masukkan setidaknya satu penerima.","SubjectValidationErrorMessage":"Kolom \u201CSubjek\u201D tidak boleh kosong. Masukkan subjek email.","Draft":"Draf","BodyPlaceholder":"Ketik pesan","Reply":"Balas","ReplyAll":"Balas semua","Forward":"Teruskan","SentOn":"Dikirim pada","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"tidak mengandung email di dalamnya","ChangeReplyAction":"Ubah tindakan balasan","ShowTrimmedEmailTitle":"Tampilkan email yang dipangkas","EmailTemplatesLookupCaption":"Pilih templat","EmailTemplatesDisplayColumnCaption":"Nama template","ContinueEditing":"Lanjutkan mengedit","SaveDraft":"Simpan draf","DraftSaved":"Draf tersimpan","EmailSent":"Email terkirim","RemoveRecipientLabel":"Remove recipient"},"Feed":{"Caption":"Pembuat umpan"},"Selector":{"Caption":"Komposer pesan"},"ComposerAreaLabel":"Message composer input area","AttachmentPreview":"Attachment preview"}}'),"he-IL":JSON.parse(`{"MessageComposer":{"CancelButtonHint":"\u05D1\u05D9\u05D8\u05D5\u05DC","CancelButtonText":"\u05D1\u05D9\u05D8\u05D5\u05DC","SaveDraftButtonText":"\u05E9\u05DE\u05D5\u05E8 \u05D8\u05D9\u05D5\u05D8\u05D4","SendButtonHint":"\u05E9\u05DC\u05D7 \u05D4\u05D5\u05D3\u05E2\u05D4 (Ctrl + Enter)","MessageSent":"\u05D4\u05D5\u05D3\u05E2\u05D4 \u05E0\u05E9\u05DC\u05D7\u05D4","SendButtonText":"\u05E9\u05DC\u05D7","RemoveAttachmentHint":"\u05D4\u05E1\u05E8 \u05E7\u05D5\u05D1\u05E5 \u05DE\u05E6\u05D5\u05E8\u05E3","Caption":"\u05E2\u05D5\u05E8\u05DA \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA","Email":{"Caption":"\u05E2\u05D5\u05E8\u05DA \u05D3\u05D5\u05D0\\"\u05DC","From":"\u05DE","To":"\u05D0\u05DC","CC":"\u05E2\u05D5\u05EA\u05E7","BCC":"\u05E2\u05D5\u05EA\u05E7 \u05DE\u05D5\u05E1\u05EA\u05E8","Subject":"\u05E0\u05D5\u05E9\u05D0","PublishError":"\u05E0\u05E9\u05DC\u05D7 \u05D4\u05D5\u05D3\u05E2\u05D4 \u05DC\u05D0 \u05D4\u05E6\u05DC\u05D9\u05D7\u05D4. \u05D4\u05EA\u05E7\u05D1\u05DC\u05D4 \u05D4\u05E9\u05D2\u05D9\u05D0\u05D4 \u05D4\u05D1\u05D0\u05D4: {0}","SaveDraftError":"\u05DC\u05D0 \u05E0\u05D9\u05EA\u05DF \u05DC\u05E9\u05DE\u05D5\u05E8 \u05D0\u05EA \u05D4\u05D8\u05D9\u05D5\u05D8\u05D4. \u05D0\u05E0\u05D0 \u05E0\u05E1\u05D4 \u05E9\u05D5\u05D1 \u05DE\u05D0\u05D5\u05D7\u05E8 \u05D9\u05D5\u05EA\u05E8","TemplateInsertError":"\u05DC\u05D0 \u05E0\u05D9\u05EA\u05DF \u05DC\u05D4\u05D5\u05E1\u05D9\u05E3 \u05D0\u05EA \u05D4\u05EA\u05D1\u05E0\u05D9\u05EA. \u05D0\u05E0\u05D0 \u05E0\u05E1\u05D4 \u05E9\u05D5\u05D1 \u05DE\u05D0\u05D5\u05D7\u05E8 \u05D9\u05D5\u05EA\u05E8.","AttachmentsSizeLimitReached":"\u05D2\u05D5\u05D3\u05DC \u05E1\u05DA \u05D4\u05DB\u05DC \u05DE\u05E6\u05D5\u05E8\u05E4\u05D9\u05DD \u05D4\u05D5\u05D0 \u05DE\u05E2\u05D1\u05E8 \u05DC{0} MB \u05D4\u05DE\u05D5\u05EA\u05E8. \u05D0\u05E0\u05D0 \u05D4\u05E1\u05E8 \u05DB\u05DE\u05D4 \u05E7\u05D1\u05E6\u05D9\u05DD \u05DE\u05E6\u05D5\u05E8\u05E4\u05D9\u05DD.","FromValidationErrorMessage":"\u05E9\u05D3\u05D4 '\u05DE\u05D0\u05EA' \u05DC\u05D0 \u05D9\u05DB\u05D5\u05DC \u05DC\u05D4\u05D9\u05D5\u05EA \u05E8\u05D9\u05E7. \u05D0\u05E0\u05D0 \u05D1\u05D7\u05E8 \u05EA\u05D9\u05D1\u05EA \u05D3\u05D5\u05D0\u05E8.","ToValidationErrorMessage":"\u05E9\u05D3\u05D4 '\u05D0\u05DC' \u05DC\u05D0 \u05D9\u05DB\u05D5\u05DC \u05DC\u05D4\u05D9\u05D5\u05EA \u05E8\u05D9\u05E7. \u05D0\u05E0\u05D0 \u05D4\u05DB\u05E0\u05E1 \u05DC\u05E4\u05D7\u05D5\u05EA \u05E0\u05DE\u05E2\u05DF \u05D0\u05D7\u05D3.","SubjectValidationErrorMessage":"\u05E9\u05D3\u05D4 '\u05E0\u05D5\u05E9\u05D0' \u05DC\u05D0 \u05D9\u05DB\u05D5\u05DC \u05DC\u05D4\u05D9\u05D5\u05EA \u05E8\u05D9\u05E7. \u05D0\u05E0\u05D0 \u05D4\u05DB\u05E0\u05E1 \u05D0\u05EA \u05E0\u05D5\u05E9\u05D0 \u05D4\u05D3\u05D5\u05D0\\"\u05DC.","Draft":"\u05D8\u05D9\u05D5\u05D8\u05D4","BodyPlaceholder":"\u05D4\u05E7\u05DC\u05D3 \u05D4\u05D5\u05D3\u05E2\u05D4","Reply":"\u05D4\u05E9\u05D1","ReplyAll":"\u05D4\u05E9\u05D1 \u05DC\u05DB\u05D5\u05DC\u05DD","Forward":"\u05E7\u05D3\u05D9\u05DE\u05D4","SentOn":"\u05E0\u05E9\u05DC\u05D7 \u05D1\u05EA\u05D0\u05E8\u05D9\u05DA","SubjectToggleCaption":"\u05E0\u05D5\u05E9\u05D0","CcToggleCaption":"\u05E2\u05D5\u05EA\u05E7","BccToggleCaption":"\u05E2\u05D5\u05EA\u05E7 \u05DE\u05D5\u05E1\u05EA\u05E8","NotContainsEmail":"\u05D0\u05D9\u05E0\u05D5 \u05DE\u05DB\u05D9\u05DC \u05D3\u05D5\u05D0\\"\u05DC \u05D1\u05EA\u05D5\u05DA \u05D6\u05D4","ChangeReplyAction":"\u05E9\u05E0\u05D4 \u05E4\u05E2\u05D5\u05DC\u05D4 \u05DC\u05EA\u05D2\u05D5\u05D1\u05D4","ShowTrimmedEmailTitle":"\u05D4\u05E6\u05D2 \u05D3\u05D5\u05D0\\"\u05DC \u05DE\u05E7\u05D5\u05E6\u05E8","EmailTemplatesLookupCaption":"\u05D1\u05D7\u05E8 \u05EA\u05D1\u05E0\u05D9\u05EA","EmailTemplatesDisplayColumnCaption":"\u05E9\u05DD \u05D4\u05EA\u05D1\u05E0\u05D9\u05EA","ContinueEditing":"\u05D4\u05DE\u05E9\u05DA \u05DC\u05E2\u05E8\u05D5\u05DA","SaveDraft":"\u05E9\u05DE\u05D5\u05E8 \u05D8\u05D9\u05D5\u05D8\u05D4","DraftSaved":"\u05D4\u05D8\u05D9\u05D5\u05D8\u05D4 \u05E0\u05E9\u05DE\u05E8\u05D4","EmailSent":"\u05D3\u05D5\u05D0\\"\u05DC \u05E0\u05E9\u05DC\u05D7","RemoveRecipientLabel":"\u05D4\u05E1\u05E8 \u05E0\u05DE\u05E2\u05DF"},"Feed":{"Caption":"\u05E2\u05D5\u05E8\u05DA \u05E4\u05D9\u05D3"},"Selector":{"Caption":"\u05E2\u05D5\u05E8\u05DA \u05D4\u05D5\u05D3\u05E2\u05D5\u05EA"},"ComposerAreaLabel":"\u05D0\u05D6\u05D5\u05E8 \u05E7\u05DC\u05D8 \u05E9\u05DC \u05D9\u05D5\u05E6\u05E8 \u05D4\u05D4\u05D5\u05D3\u05E2\u05D5\u05EA","AttachmentPreview":"\u05EA\u05E6\u05D5\u05D2\u05D4 \u05DE\u05E7\u05D3\u05D9\u05DE\u05D4 \u05DC\u05E6\u05E8\u05D5\u05E4\u05D4"}}`),"fr-FR":JSON.parse(`{"MessageComposer":{"CancelButtonHint":"Ignorer","CancelButtonText":"Ignorer","SendButtonHint":"Envoyer un message (Ctrl + Entr\xE9e)","SendButtonText":"Envoyer","RemoveAttachmentHint":"Supprimer la pi\xE8ce jointe","Caption":"Composeur de message","Email":{"Caption":"\xC9diteur d'e-mail","From":"De","To":"\xE0","CC":"CC","BCC":"CCI","Subject":"Objet","PublishError":"\xC9chec de l'envoi d'un message. L'erreur suivante a \xE9t\xE9 re\xE7ue : {0}","AttachmentsSizeLimitReached":"La taille totale des pi\xE8ces jointes est sup\xE9rieure \xE0 {0} Mo. Veuillez supprimer certaines pi\xE8ces jointes.","FromValidationErrorMessage":"Le champ \xAB De \xBB ne peut pas \xEAtre vide. Veuillez s\xE9lectionner une bo\xEEte aux lettres.","ToValidationErrorMessage":"Le champ \xAB \xC0 \xBB ne peut pas \xEAtre vide. Veuillez entrer au moins un destinataire.","SubjectValidationErrorMessage":"Le champ \xABObjet\xBB ne peut pas \xEAtre vide. Veuillez entrer l'objet de l'email.","BodyPlaceholder":"Tapez un message","SaveDraftError":"Impossible d'enregistrer le brouillon. Veuillez r\xE9essayer plus tard","TemplateInsertError":"Impossible d'ajouter le mod\xE8le. Veuillez r\xE9essayer plus tard.","Draft":"Brouillon","Reply":"R\xE9pondre","ReplyAll":"R\xE9pondre \xE0 tous","Forward":"Transf\xE9rer","SentOn":"Envoy\xE9 le","SubjectToggleCaption":"Objet","CcToggleCaption":"CC","BccToggleCaption":"CCI","NotContainsEmail":"ne contient pas d'email","ChangeReplyAction":"Modifier l'action de r\xE9ponse","ShowTrimmedEmailTitle":"Afficher l'email r\xE9duit","EmailTemplatesLookupCaption":"S\xE9lectionner un mod\xE8le","EmailTemplatesDisplayColumnCaption":"Nom du mod\xE8le","ContinueEditing":"Continuer la modification","SaveDraft":"Enregistrer le brouillon","DraftSaved":"Brouillon enregistr\xE9","EmailSent":"Email envoy\xE9","RemoveRecipientLabel":"Supprimer le destinataire"},"SaveDraftButtonText":"Enregistrer le brouillon","MessageSent":"Message envoy\xE9","Feed":{"Caption":"Composeur de Feed"},"Selector":{"Caption":"Composeur de message"},"ComposerAreaLabel":"Zone de saisie des messages","AttachmentPreview":"Attachment preview"}}`),"fa-IR":JSON.parse('{"MessageComposer":{"CancelButtonHint":"\u0631\u062F\u0635\u0644\u0627\u062D\u06CC\u062A","CancelButtonText":"\u0631\u062F\u0635\u0644\u0627\u062D\u06CC\u062A","SendButtonHint":"Send message. Keyboard Shortcut - Ctrl+Enter","SendButtonText":"\u0627\u0631\u0633\u0627\u0644","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email message composer","From":"\u0627\u0632","To":"\u0628\u0647","CC":"\u06AF\u06CC\u0631\u0646\u062F\u0647 CC","BCC":"\u06AF\u06CC\u0631\u0646\u062F\u0647 BCC","Subject":"\u0645\u0648\u0636\u0648\u0639","PublishError":"Failed to send a message. The following error was received: {0}","AttachmentsSizeLimitReached":"Total attachments size is more than allowed. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","BodyPlaceholder":"Type a message"}}}'),"es-ES":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Descartar","CancelButtonText":"Descartar","SendButtonHint":"Enviar mensaje (Ctrl + Enter)","SendButtonText":"Enviar","RemoveAttachmentHint":"Eliminar adjunto","Caption":"Compositor de mensajes","Email":{"Caption":"Compositor de correo","From":"Desde","To":"Para","CC":"CC","BCC":"CCO","Subject":"Asunto","PublishError":"Error al enviar un mensaje. Se ha recibido el siguiente error: {0}","AttachmentsSizeLimitReached":"El tama\xF1o total de los archivos adjuntos supera los {0} MB permitidos. Por favor elimine algunos archivos adjuntos.","FromValidationErrorMessage":"El campo \u201CDe\u201D no puede estar vac\xEDo. Por favor, selecciona un buz\xF3n.","ToValidationErrorMessage":"El campo \u201CPara\u201D no puede estar en blanco. Por favor, introduzca al menos un destinatario.","SubjectValidationErrorMessage":"El campo \u201CTema\u201D no puede estar en blanco. Por favor, introduzca el asunto del correo electr\xF3nico.","BodyPlaceholder":"Escribe un mensaje","SaveDraftError":"No se puede guardar el borrador. Int\xE9ntalo de nuevo m\xE1s tarde","TemplateInsertError":"No se puede a\xF1adir la plantilla. Int\xE9ntalo de nuevo m\xE1s tarde.","Draft":"Borrador","Reply":"Responder","ReplyAll":"Responder a todos","Forward":"Reenviar","SentOn":"Enviado","SubjectToggleCaption":"Asunto","CcToggleCaption":"CC","BccToggleCaption":"CCO","NotContainsEmail":"no contiene correo electr\xF3nico en \xE9l","ChangeReplyAction":"Cambiar acci\xF3n de respuesta","ShowTrimmedEmailTitle":"Mostrar correo electr\xF3nico recortado","EmailTemplatesLookupCaption":"Seleccionar plantilla","EmailTemplatesDisplayColumnCaption":"Nombre de plantilla","ContinueEditing":"Continuar editando","SaveDraft":"Guardar borrador","DraftSaved":"Borrador guardado","EmailSent":"Email enviado","RemoveRecipientLabel":"Eliminar destinatario"},"SaveDraftButtonText":"Guardar borrador","MessageSent":"Mensaje enviado","Feed":{"Caption":"Compositor de Feed"},"Selector":{"Caption":"Compositor de mensajes"},"ComposerAreaLabel":"\xC1rea de entrada del compositor de mensajes","AttachmentPreview":"Vista previa del adjunto"}}'),"de-DE":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Verwerfen","CancelButtonText":"Verwerfen","SendButtonHint":"Nachricht senden (Strg + Enter)","SendButtonText":"Senden","RemoveAttachmentHint":"Anhang entfernen","Caption":"Nachrichtenverfasser","Email":{"Caption":"E-Mail-Verfasser","From":"Von","To":"An","CC":"CC","BCC":"BCC","Subject":"Betreff","PublishError":"Fehler beim Senden einer Nachricht. Folgender Fehler wurde empfangen: {0}","AttachmentsSizeLimitReached":"Gesamtgr\xF6\xDFe der Anh\xE4nge ist mehr als erlaubt {0} MB. Bitte entfernen Sie einige Anh\xE4nge.","FromValidationErrorMessage":"\\"Von\\"-Feld darf nicht leer sein. Bitte w\xE4hlen Sie eine Mailbox.","ToValidationErrorMessage":"\\"An\\" Feld darf nicht leer sein. Bitte geben Sie mindestens einen Empf\xE4nger ein.","SubjectValidationErrorMessage":"Das Feld \\"Betreff\\" darf nicht leer sein. Bitte geben Sie den Betreff ein.","BodyPlaceholder":"Nachricht eingeben","SaveDraftError":"Entwurf konnte nicht gespeichert werden. Bitte versuchen Sie es sp\xE4ter erneut","TemplateInsertError":"Vorlage konnte nicht hinzugef\xFCgt werden. Bitte versuchen Sie es sp\xE4ter erneut.","Draft":"Entwurf","Reply":"Antwort","ReplyAll":"Allen antworten","Forward":"Weiter","SentOn":"Gesendet am","SubjectToggleCaption":"Betr","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"enth\xE4lt keine E-Mail","ChangeReplyAction":"Antwort-Aktion \xE4ndern","ShowTrimmedEmailTitle":"Getrimmte E-Mail anzeigen","EmailTemplatesLookupCaption":"Vorlage ausw\xE4hlen","EmailTemplatesDisplayColumnCaption":"Templatename","ContinueEditing":"Bearbeitung fortsetzen","SaveDraft":"Entwurf speichern","DraftSaved":"Entwurf gespeichert","EmailSent":"E-Mail gesendet","RemoveRecipientLabel":"Remove recipient"},"SaveDraftButtonText":"Entwurf speichern","MessageSent":"Nachricht gesendet","Feed":{"Caption":"Feed Erstellung"},"Selector":{"Caption":"Nachrichtenverfasser"},"ComposerAreaLabel":"Message composer input area","AttachmentPreview":"Attachment preview"}}'),"cs-CZ":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SendButtonHint":"Send Message (Ctrl + Enter)","SendButtonText":"Odeslat","RemoveAttachmentHint":"Remove attachment","Caption":"Message composer","Email":{"Caption":"Email composer","From":"Od","To":"Komu","CC":"CC","BCC":"BCC","Subject":"P\u0159edm\u011Bt","PublishError":"Failed to send a message. The following error was received: {0}","AttachmentsSizeLimitReached":"Total attachments size is more than allowed {0} MB. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","BodyPlaceholder":"Type a message","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","Draft":"Koncept","Reply":"Odpov\u011Bd\u011Bt","ReplyAll":"Odpov\u011Bd\u011Bt v\u0161em","Forward":"P\u0159eposlat","SentOn":"Odesl\xE1no","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Jm\xE9no \u0161ablony","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent","RemoveRecipientLabel":"Remove recipient"},"SaveDraftButtonText":"Save draft","MessageSent":"Zpr\xE1va byla odesl\xE1na","Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"},"ComposerAreaLabel":"Message composer input area","AttachmentPreview":"Attachment preview"}}'),"ar-SA":JSON.parse('{"MessageComposer":{"CancelButtonHint":"\u062A\u062C\u0627\u0647\u0644","CancelButtonText":"\u062A\u062C\u0627\u0647\u0644","SaveDraftButtonText":"\u062D\u0641\u0638 \u0627\u0644\u0645\u0633\u0648\u062F\u0629","SendButtonHint":"\u0623\u0631\u0633\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 (\u0627\u0636\u063A\u0637 \u0632\u0631 Ctrl + Enter)","MessageSent":"\u062A\u0645 \u0627\u0644\u0627\u0631\u0633\u0627\u0644","SendButtonText":"\u0625\u0631\u0633\u0627\u0644","RemoveAttachmentHint":"\u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u0645\u0631\u0641\u0642","Caption":"\u0645\u062D\u0631\u0631 \u0627\u0644\u0631\u0633\u0627\u0644\u0629","Email":{"Caption":"\u0643\u0627\u062A\u0628 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A","From":"\u0645\u0646","To":"\u0625\u0644\u0649","CC":"\u0625\u0644\u0649 \u0643\u0644","BCC":"\u0625\u0639\u0627\u062F\u0629 \u062A\u0648\u062C\u064A\u0647 \u0625\u0644\u0649 \u0643\u0644","Subject":"\u0627\u0644\u0645\u0648\u0636\u0648\u0639","PublishError":"\u0641\u0634\u0644 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629. \u062D\u062F\u062B \u0627\u0644\u062E\u0637\u0623 \u0627\u0644\u062A\u0627\u0644\u064A: {0}","SaveDraftError":"\u062A\u0639\u0630\u0651\u0631 \u062D\u0641\u0638 \u0627\u0644\u0645\u0633\u0648\u062F\u0629. \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627","TemplateInsertError":"\u062A\u0639\u0630\u0651\u0631 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u0648\u062F\u0629. \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627.","AttachmentsSizeLimitReached":"\u062A\u062E\u0637\u0649 \u062D\u062C\u0645 \u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A \u0627\u0644\u062D\u062F \u0627\u0644\u0645\u0633\u0645\u0648\u062D \u0628\u0647 {0} \u0645\u064A\u062C\u0627\u0628\u0627\u064A\u062A. \u064A\u0631\u062C\u0649 \u0625\u0632\u0627\u0644\u0629 \u0628\u0639\u0636 \u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A.","FromValidationErrorMessage":"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0627\u0644\u062D\u0642\u0644 \\"\u0645\u0646\\" \u0641\u0627\u0631\u063A\u064B\u0627. \u0627\u0644\u0631\u062C\u0627\u0621 \u062A\u062D\u062F\u064A\u062F \u0635\u0646\u062F\u0648\u0642 \u0628\u0631\u064A\u062F.","ToValidationErrorMessage":"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0627\u0644\u062D\u0642\u0644 \\"\u0625\u0644\u0649\\" \u0641\u0627\u0631\u063A\u064B\u0627. \u0627\u0644\u0631\u062C\u0627\u0621 \u0625\u062F\u062E\u0627\u0644 \u0645\u0633\u062A\u0644\u0645 \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644.","SubjectValidationErrorMessage":"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0623\u0646 \u064A\u0643\u0648\u0646 \u062D\u0642\u0644 \\"\u0627\u0644\u0645\u0648\u0636\u0648\u0639\\" \u0641\u0627\u0631\u063A\u064B\u0627. \u0627\u0644\u0631\u062C\u0627\u0621 \u0625\u062F\u062E\u0627\u0644 \u0645\u0648\u0636\u0648\u0639 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A.","Draft":"\u0645\u0633\u0648\u062F\u0629","BodyPlaceholder":"\u0643\u062A\u0627\u0628\u0629 \u0631\u0633\u0627\u0644\u0629","Reply":"\u0627\u0644\u0631\u062F","ReplyAll":"\u0627\u0644\u0631\u062F \u0639\u0644\u0649 \u0627\u0644\u0643\u0644","Forward":"\u0625\u0644\u0649 \u0627\u0644\u0623\u0645\u0627\u0645","SentOn":"\u0645\u0631\u0633\u0644 \u0644\u0640","SubjectToggleCaption":"\u0627\u0644\u0645\u0648\u0636\u0648\u0639","CcToggleCaption":"\u0625\u0644\u0649 \u0643\u0644","BccToggleCaption":"\u0625\u0639\u0627\u062F\u0629 \u062A\u0648\u062C\u064A\u0647 \u0625\u0644\u0649 \u0643\u0644","NotContainsEmail":"\u0644\u0627 \u064A\u062D\u062A\u0648\u064A \u0639\u0644\u0649 \u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0641\u064A\u0647","ChangeReplyAction":"\u062A\u063A\u064A\u064A\u0631 \u0625\u062C\u0631\u0627\u0621 \u0627\u0644\u0631\u062F","ShowTrimmedEmailTitle":"\u0639\u0631\u0636 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0627\u0644\u0645\u0642\u0635\u0648\u0635","EmailTemplatesLookupCaption":"\u062D\u062F\u062F \u0642\u0627\u0644\u0628\u064B\u0627","EmailTemplatesDisplayColumnCaption":"\u0627\u0633\u0645 \u0627\u0644\u0642\u0627\u0644\u0628","ContinueEditing":"\u0645\u062A\u0627\u0628\u0639\u0629 \u0627\u0644\u062A\u0639\u062F\u064A\u0644","SaveDraft":"\u062D\u0641\u0638 \u0627\u0644\u0645\u0633\u0648\u062F\u0629","DraftSaved":"\u062A\u0645 \u062D\u0641\u0638 \u0627\u0644\u0645\u0633\u0648\u062F\u0629","EmailSent":"\u062A\u0645 \u0627\u0631\u0633\u0627\u0644 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0627\u0644\u0643\u062A\u0631\u0648\u0646\u064A","RemoveRecipientLabel":"Remove recipient"},"Feed":{"Caption":"\u0627\u0644\u0631\u062F \u0639\u0644\u0649 \u0627\u0644\u0643\u0627\u062A\u0628"},"Selector":{"Caption":"\u0645\u062D\u0631\u0631 \u0627\u0644\u0631\u0633\u0627\u0644\u0629"},"ComposerAreaLabel":"Message composer input area","AttachmentPreview":"Attachment preview"}}'),"en-US":JSON.parse('{"MessageComposer":{"CancelButtonHint":"Discard","CancelButtonText":"Discard","SaveDraftButtonText":"Save draft","SendButtonHint":"Send Message (Ctrl + Enter)","MessageSent":"Message sent","SendButtonText":"Send","RemoveAttachmentHint":"Remove attachment","AttachmentPreview":"Attachment preview","ComposerAreaLabel":"Message composer input area","Caption":"Message composer","Email":{"Caption":"Email composer","From":"From","To":"To","CC":"CC","BCC":"BCC","Subject":"Subject","PublishError":"Failed to send a message. The following error was received: {0}","SaveDraftError":"Unable to save the draft. Please try again later","TemplateInsertError":"Unable to add the template. Please try again later.","AttachmentsSizeLimitReached":"Total attachments size is more than allowed {0} MB. Please remove some attachments.","FromValidationErrorMessage":"\u201CFrom\u201D field cannot be blank. Please select a mailbox.","ToValidationErrorMessage":"\u201CTo\u201D field cannot be blank. Please enter at least one recipient.","SubjectValidationErrorMessage":"\u201CSubject\u201D field cannot be blank. Please enter the email subject.","Draft":"Draft","BodyPlaceholder":"Type a message","Reply":"Reply","ReplyAll":"Reply all","Forward":"Forward","SentOn":"Sent on","SubjectToggleCaption":"Subj","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"does not contain email in it","ChangeReplyAction":"Change reply action","ShowTrimmedEmailTitle":"Show trimmed email","EmailTemplatesLookupCaption":"Select a template","EmailTemplatesDisplayColumnCaption":"Template name","ContinueEditing":"Continue editing","SaveDraft":"Save draft","DraftSaved":"Draft saved","EmailSent":"Email sent","RemoveRecipientLabel":"Remove recipient"},"Feed":{"Caption":"Feed composer"},"Selector":{"Caption":"Message composer"}}}'),"ru-RU":JSON.parse('{"MessageComposer":{"CancelButtonHint":"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C","CancelButtonText":"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C","SaveDraftButtonText":"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0447\u0435\u0440\u043D\u043E\u0432\u0438\u043A","SendButtonHint":"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435 (Ctrl + Enter)","SendButtonText":"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C","MessageSent":"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E","RemoveAttachmentHint":"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u043B\u043E\u0436\u0435\u043D\u0438\u0435","AttachmentPreview":"\u041F\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u043F\u0440\u043E\u0441\u043C\u043E\u0442\u0440 \u0432\u043B\u043E\u0436\u0435\u043D\u0438\u044F","ComposerAreaLabel":"\u041E\u0431\u043B\u0430\u0441\u0442\u044C \u0432\u0432\u043E\u0434\u0430 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F","Caption":"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F","Email":{"Caption":"\u0424\u043E\u0440\u043C\u0430 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0438 Email","From":"\u041E\u0442 \u043A\u043E\u0433\u043E","To":"\u041A\u043E\u043C\u0443","CC":"\u041A\u043E\u043F\u0438\u044F","BCC":"\u0421\u043A\u0440\u044B\u0442\u0430\u044F \u043A\u043E\u043F\u0438\u044F","Subject":"\u0422\u0435\u043C\u0430","PublishError":"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435 \u043D\u0435 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E. \u041F\u0440\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0435 \u0432\u043E\u0437\u043D\u0438\u043A\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430: {0}","SaveDraftError":"\u0412\u043E\u0437\u043D\u0438\u043A\u043B\u0430 \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u0430 \u0441 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0435\u043C \u0447\u0435\u0440\u043D\u043E\u0432\u0438\u043A\u0430. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435","TemplateInsertError":"\u0412\u043E\u0437\u043D\u0438\u043A\u043B\u0430 \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u0430 \u0441\u043E \u0432\u0441\u0442\u0430\u0432\u043A\u043E\u0439 \u0448\u0430\u0431\u043B\u043E\u043D\u0430. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435","AttachmentsSizeLimitReached":"\u041E\u0431\u0449\u0438\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u0432\u043B\u043E\u0436\u0435\u043D\u0438\u0439 \u043F\u0440\u0435\u0432\u044B\u0448\u0430\u0435\u0442 \u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0439 {0} \u041C\u0411. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0443\u0434\u0430\u043B\u0438\u0442\u0435 \u043D\u0435\u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u0432\u043B\u043E\u0436\u0435\u043D\u0438\u044F.","FromValidationErrorMessage":"\u041F\u043E\u043B\u0435 \xAB\u041E\u0442\xBB \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043E. \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u043E\u0447\u0442\u043E\u0432\u044B\u0439 \u044F\u0449\u0438\u043A \u0434\u043B\u044F \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0438 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F.","ToValidationErrorMessage":"\u041F\u043E\u043B\u0435 \xAB\u041A\u043E\u043C\u0443\xBB \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043E. \u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u043F\u043E\u043B\u0443\u0447\u0430\u0442\u0435\u043B\u0435\u0439 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F.","SubjectValidationErrorMessage":"\u041F\u043E\u043B\u0435 \xAB\u0422\u0435\u043C\u0430\xBB \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043E. \u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u043A\u0440\u0430\u0442\u043A\u043E \u0442\u0435\u043C\u0443 \u0432\u0430\u0448\u0435\u0433\u043E \u043F\u0438\u0441\u044C\u043C\u0430.","Draft":"\u0427\u0435\u0440\u043D\u043E\u0432\u0438\u043A","BodyPlaceholder":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435","Reply":"\u041E\u0442\u0432\u0435\u0442\u0438\u0442\u044C","ReplyAll":"\u041E\u0442\u0432\u0435\u0442\u0438\u0442\u044C \u0432\u0441\u0435\u043C","Forward":"\u041F\u0435\u0440\u0435\u0441\u043B\u0430\u0442\u044C","SentOn":"\u0414\u0430\u0442\u0430 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0438","SubjectToggleCaption":"\u0422\u0435\u043C\u0430","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"\u043D\u0435 \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u0442 \u0435\u043C\u0435\u0439\u043B","ChangeReplyAction":"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0440\u0435\u0436\u0438\u043C \u043E\u0442\u0432\u0435\u0442\u0430","ShowTrimmedEmailTitle":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u043E\u0431\u0440\u0435\u0437\u0430\u043D\u043E\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435","EmailTemplatesLookupCaption":"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0448\u0430\u0431\u043B\u043E\u043D","EmailTemplatesDisplayColumnCaption":"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0448\u0430\u0431\u043B\u043E\u043D\u0430","ContinueEditing":"\u041F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435","SaveDraft":"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0447\u0435\u0440\u043D\u043E\u0432\u0438\u043A","DraftSaved":"\u0427\u0435\u0440\u043D\u043E\u0432\u0438\u043A \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D","EmailSent":"\u041F\u0438\u0441\u044C\u043C\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E","RemoveRecipientLabel":"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043F\u043E\u043B\u0443\u0447\u0430\u0442\u0435\u043B\u044F"},"Feed":{"Caption":"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F \u043B\u0435\u043D\u0442\u044B"},"Selector":{"Caption":"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F"}}}'),"uk-UA":JSON.parse('{"MessageComposer":{"CancelButtonHint":"\u0412\u0456\u0434\u0445\u0438\u043B\u0438\u0442\u0438","CancelButtonText":"\u0412\u0456\u0434\u0445\u0438\u043B\u0438\u0442\u0438","SaveDraftButtonText":"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0447\u0435\u0440\u043D\u0435\u0442\u043A\u0443","SendButtonHint":"\u0412\u0456\u0434\u043F\u0440\u0430\u0432\u0438\u0442\u0438 \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u043D\u044F (Ctrl + Enter)","MessageSent":"\u041F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u043D\u044F \u043D\u0430\u0434\u0456\u0441\u043B\u0430\u043D\u043E \u0443\u0441\u043F\u0456\u0448\u043D\u043E","SendButtonText":"\u041D\u0430\u0434\u0456\u0441\u043B\u0430\u0442\u0438","RemoveAttachmentHint":"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0432\u043A\u043B\u0430\u0434\u0435\u043D\u043D\u044F","Caption":"\u0420\u0435\u0434\u0430\u043A\u0442\u043E\u0440 \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u044C","Email":{"Caption":"\u0420\u0435\u0434\u0430\u043A\u0442\u043E\u0440 email","From":"\u0412\u0456\u0434","To":"\u041A\u043E\u043C\u0443","CC":"CC","BCC":"BCC","Subject":"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A","PublishError":"\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u043D\u0430\u0434\u0456\u0441\u043B\u0430\u0442\u0438 \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u043D\u044F. \u041E\u0442\u0440\u0438\u043C\u0430\u043D\u0430 \u0442\u0430\u043A\u0430 \u043F\u043E\u043C\u0438\u043B\u043A\u0430: {0}","SaveDraftError":"\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u0437\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0447\u0435\u0440\u043D\u0435\u0442\u043A\u0443. \u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0441\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437 \u043F\u0456\u0437\u043D\u0456\u0448\u0435","TemplateInsertError":"\u041D\u0435 \u0432\u0434\u0430\u0454\u0442\u044C\u0441\u044F \u0434\u043E\u0434\u0430\u0442\u0438 \u0448\u0430\u0431\u043B\u043E\u043D. \u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0441\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437 \u043F\u0456\u0437\u043D\u0456\u0448\u0435.","AttachmentsSizeLimitReached":"\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C \u0432\u043A\u043B\u0430\u0434\u0435\u043D\u044C \u043F\u0435\u0440\u0435\u0432\u0438\u0449\u0443\u0454 \u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u0438\u0439 \u0440\u043E\u0437\u043C\u0456\u0440 {0} \u041C\u0411. \u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0432\u0438\u0434\u0430\u043B\u0456\u0442\u044C \u0434\u0435\u044F\u043A\u0456 \u0432\u043A\u043B\u0430\u0434\u0435\u043D\u043D\u044F.","FromValidationErrorMessage":"\u041F\u043E\u043B\u0435 \u201C\u0412\u0456\u0434\u201D \u043D\u0435 \u043C\u043E\u0436\u0435 \u0431\u0443\u0442\u0438 \u043F\u043E\u0440\u043E\u0436\u043D\u0456\u043C. \u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u043E\u0431\u0435\u0440\u0456\u0442\u044C \u043F\u043E\u0448\u0442\u043E\u0432\u0443 \u0441\u043A\u0440\u0438\u043D\u044C\u043A\u0443.","ToValidationErrorMessage":"\u041F\u043E\u043B\u0435 \\"\u041A\u043E\u043C\u0443\u201D \u043D\u0435 \u043C\u043E\u0436\u0435 \u0431\u0443\u0442\u0438 \u043F\u043E\u0440\u043E\u0436\u043D\u0456\u043C. \u0412\u0432\u0435\u0434\u0456\u0442\u044C \u0445\u043E\u0447\u0430 \u0431 \u043E\u0434\u043D\u043E\u0433\u043E \u043E\u0442\u0440\u0438\u043C\u0443\u0432\u0430\u0447\u0430.","SubjectValidationErrorMessage":"\u041F\u043E\u043B\u0435 \\"\u0422\u0435\u043C\u0430\\" \u043D\u0435 \u043C\u043E\u0436\u0435 \u0431\u0443\u0442\u0438 \u043F\u043E\u0440\u043E\u0436\u043D\u0456\u043C. \u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044C \u0442\u0435\u043C\u0443 \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u043D\u044F.","Draft":"\u0427\u0435\u0440\u043D\u0435\u0442\u043A\u0430","BodyPlaceholder":"\u0412\u0432\u0435\u0434\u0456\u0442\u044C \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u043D\u044F","Reply":"\u0412\u0456\u0434\u043F\u043E\u0432\u0456\u0441\u0442\u0438","ReplyAll":"\u0412\u0456\u0434\u043F\u043E\u0432\u0456\u0441\u0442\u0438 \u0432\u0441\u0456\u043C","Forward":"\u041F\u0435\u0440\u0435\u0441\u043B\u0430\u0442\u0438","SentOn":"\u0414\u0430\u0442\u0430 \u0432\u0456\u0434\u043F\u0440\u0430\u0432\u043A\u0438","SubjectToggleCaption":"\u0422\u0435\u043C\u0430","CcToggleCaption":"CC","BccToggleCaption":"BCC","NotContainsEmail":"\u043D\u0435 \u043C\u0456\u0441\u0442\u0438\u0442\u044C \u0432 \u0441\u043E\u0431\u0456 email","ChangeReplyAction":"\u0417\u043C\u0456\u043D\u0438\u0442\u0438 \u0434\u0456\u044E \u0432\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u0456","ShowTrimmedEmailTitle":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438 \u043E\u0431\u0440\u0456\u0437\u0430\u043D\u0438\u0439 \u043B\u0438\u0441\u0442","EmailTemplatesLookupCaption":"\u041E\u0431\u0435\u0440\u0456\u0442\u044C \u0448\u0430\u0431\u043B\u043E\u043D","EmailTemplatesDisplayColumnCaption":"\u041D\u0430\u0437\u0432\u0430 \u0448\u0430\u0431\u043B\u043E\u043D\u0430","ContinueEditing":"\u041F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438 \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043D\u043D\u044F","SaveDraft":"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0447\u0435\u0440\u043D\u0435\u0442\u043A\u0443","DraftSaved":"\u0427\u0435\u0440\u043D\u0435\u0442\u043A\u0443 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043D\u043E","EmailSent":"\u041B\u0438\u0441\u0442 \u0432\u0456\u0434\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E","RemoveRecipientLabel":"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043E\u0442\u0440\u0438\u043C\u0443\u0432\u0430\u0447\u0430"},"Feed":{"Caption":"\u0420\u0435\u0434\u0430\u043A\u0442\u043E\u0440 \u0441\u0442\u0440\u0456\u0447\u043A\u0438"},"Selector":{"Caption":"\u0420\u0435\u0434\u0430\u043A\u0442\u043E\u0440 \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u044C"},"ComposerAreaLabel":"\u0417\u043E\u043D\u0430 \u0432\u0432\u043E\u0434\u0443 \u0441\u0442\u0432\u043E\u0440\u044E\u0432\u0430\u0447\u0430 \u043F\u043E\u0432\u0456\u0434\u043E\u043C\u043B\u0435\u043D\u044C","AttachmentPreview":"Attachment preview"}}')};var R=_(95567),a=_(59131),k=_(85638),se=_(47742),m=_(28399),p=_(62278),v;(function(l){l.Reply="reply",l.ReplyAll="reply-all",l.Forward="forward",l.EditDraft="edit-draft"})(v||(v={}));const oe="ReplyEmailEvent",ke="EmailSavedEvent",de="BlindZoneWidthEvent",je="ReadyEvent",De="FocusInputEvent";class tt{}var b=_(29957);class N{constructor(){this._changeComposer$=new p.Subject}getComposerObservable(){return this._changeComposer$.asObservable()}openComposer(e){b.String.isNullOrWhiteSpace(e)||this._changeComposer$.next(e)}static{this.\u0275fac=function(t){return new(t||N)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac})}}var ae=_(63721),Pe=_(35266),d=_(36486);class H{constructor(e,t){this._queryExecutor=e,this._httpClient=t,this._getCaseSenderMethod="/rest/SenderObtainingService/ObtainSenderMailbox"}_getMailboxesEsq(e){const t=new o.EntitySchemaQuery("MailboxSyncSettings");t.addSchemaColumn("SenderEmailAddress"),t.addSchemaColumn("SenderDisplayValue"),t.addSchemaColumn("Signature"),t.addSchemaColumn("UseSignature"),t.addSchemaColumn("CreatedBy");const n=new o.FilterGroup(o.LogicalOperatorType.Or);return n.addSchemaColumnFilterWithParameter(o.ComparisonType.Equal,"SysAdminUnit",e),n.addSchemaColumnFilterWithParameter(o.ComparisonType.Equal,"IsShared",!0),t.filters.addSchemaColumnFilterWithParameter(o.ComparisonType.Equal,"SendEmailsViaThisAccount",!0),t.filters.add(n),t}_getCaseParamsEsq(e){const t=new o.EntitySchemaQuery("Case");return t.addSchemaColumn("ParentActivity.Recepient","To"),t.addSchemaColumn("ParentActivity.CopyRecepient","CC"),t.addSchemaColumn("ParentActivity.BlindCopyRecepient","BCC"),t.addSchemaColumn("Contact"),t.addSchemaColumn("Category"),t.filters.addSchemaColumnFilterWithParameter(o.ComparisonType.Equal,"Id",e),t}_mapMailbox(e){return{id:e.Id,senderEmailAddress:e.SenderEmailAddress,senderDisplayValue:e.SenderDisplayValue,signature:e.Signature,useSignature:e.UseSignature,createdBy:e.CreatedBy}}_mapGetSenderRequestConfig(e){const t=[e.To,e.CC,e.BCC].filter(n=>!(0,m.isEmpty)(n));return{recipients:t.length>0?t.join(";"):"",contactId:e.Contact?e.Contact.value:null,categoryId:e.Category?e.Category.value:null}}_mapCaseSenderMailbox(e){return!e||!e.ObtainSenderMailboxResult||(0,m.isEmpty)(e.ObtainSenderMailboxResult.MailboxName)?null:{id:(0,o.generateGuid)(),senderEmailAddress:e.ObtainSenderMailboxResult.MailboxName,useSignature:!1}}getMailboxesForSend(e){const t=this._getMailboxesEsq(e);return this._queryExecutor.executeSelectQuery(t).pipe((0,d.map)(n=>n?.map(i=>this._mapMailbox(i))))}getDefaultMailboxForSend(e){const t=this._getMailboxesEsq(e);return t.filters.addSchemaColumnFilterWithParameter(o.ComparisonType.Equal,"IsDefault",!0),this._queryExecutor.executeSelectQuery(t).pipe((0,d.map)(n=>n?.map(i=>this._mapMailbox(i))),(0,d.switchMap)(n=>(0,p.of)(n[0])))}getCaseDefaultMailbox(e){const t=this._getCaseParamsEsq(e);return this._queryExecutor.executeSelectQuery(t).pipe((0,d.map)(n=>(0,m.isEmpty)(n)?null:this._mapGetSenderRequestConfig(n[0])),(0,d.concatMap)(n=>(0,m.isEmpty)(n)?(0,p.of)(null):this._httpClient.post(this._getCaseSenderMethod,n)),(0,d.switchMap)(n=>(0,p.of)(this._mapCaseSenderMailbox(n))))}static{this.\u0275fac=function(t){return new(t||H)(a.\u0275\u0275inject(Pe.QueryExecutor),a.\u0275\u0275inject(ae.HttpClient))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:H,factory:H.\u0275fac,providedIn:"root"})}}class K{constructor(e){this._httpClient=e,this._publishMessageMethod="/rest/EmailSendService/Send"}_mapSendResult(e){const t=e.SendResult[0].ErrorMessage,n={success:t===""};return n.success||(n.errorInfo={message:t,errorCode:"",stackTrace:""}),n}publishMessage(e){return this._httpClient.post(this._publishMessageMethod,{ActivityId:e})}sendEmail(e){return this.publishMessage(e).pipe((0,d.switchMap)(t=>(0,p.of)(this._mapSendResult(t))),(0,p.catchError)(t=>(0,p.of)({success:!1,errorInfo:{errorCode:null,message:t.message,stackTrace:""}})))}static{this.\u0275fac=function(t){return new(t||K)(a.\u0275\u0275inject(ae.HttpClient))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac})}}var B=_(79772);class q{constructor(e,t){this._macrosHelperService=e,this._userInfo=t,this._indentation="<br>",this._signatureTag="<signature>",this._signatureTpl="<signature>{0}</signature>",this._macrosRegex=new RegExp(/\[#(.+?)#\]/)}_replaceSignatureInBody(e,t){return e.includes(this._signatureTag)?e.replace(this._getSignatureRegExp(),t):e.concat(t)}_getSignatureRegExp(){return/((<br.{1,4}>)|(\\r\\n)){0,1}((<br.{1,4}>)|(\\r\\n)){0,1}(<div>){0,1}<signature>[\s\S]*?<\/signature>(<\/div>){0,1}/}_getFormattedSignature(e){const t=e.indexOf(this._signatureTag);return(0,m.isEmpty)(e)||t===-1?b.String.format(`<div>${this._signatureTpl}</div>`,e||""):t===0?b.String.format("<div>{0}</div>",e):e}_processSignature(e,t){const n=this._getFormattedSignature(t);return(0,m.isEmpty)(e)?e=((0,m.isEmpty)(t)?this._indentation:this._indentation.repeat(2)).concat(n):e=this._replaceSignatureInBody(e,n),e}get signatureTpl(){return this._signatureTpl}get signatureTplWithIndent(){return this._indentation.repeat(2).concat(this.signatureTpl)}isBodyContainSignature(e){return!(0,m.isEmpty)(this._getSignatureRegExp().exec(e))}updateSignatureInBody(e,t){if(e=e||"",t=t||"",this._macrosRegex.test(t)){e=this._processSignature(e,b.String.empty);const n={entityId:this._userInfo.contactId,entityName:"Contact",textTemplate:t};return this._macrosHelperService.getTemplateByEntity(n,!0).pipe((0,p.map)(i=>this._processSignature(e,i)),(0,d.catchError)(()=>(0,p.of)(t)))}else return(0,p.of)(this._processSignature(e,t))}static{this.\u0275fac=function(t){return new(t||q)(a.\u0275\u0275inject(u.MacrosHelperService),a.\u0275\u0275inject(u.UserInfo))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:q,factory:q.\u0275fac})}}class z{constructor(e){this._injector=e,this._replyBodyLimiter="<div bodylimiter",this._copyEntitiesMethod="/rest/EntityUtilsService/CopyEntities",this._inReplyToActivityHeader="X-In-Reply-To-Activity",this._httpClient=this._injector.get(ae.HttpClient),this._queryExecutor=this._injector.get(Pe.QueryExecutor),this._translateService=this._injector.get(B.TranslateService),this._emailSignatureService=this._injector.get(q),this._fileApiService=this._injector.get(u.FileApiService),this._entityConnectionService=this._injector.get(S.EntityConnectionService),this._entitySchemaService=this._injector.get(u.EntitySchemaService)}_getEmailEsq(e){const t=new o.EntitySchemaQuery("Activity");return t.addSchemaColumn("Sender"),t.addSchemaColumn("Recepient"),t.addSchemaColumn("CopyRecepient"),t.addSchemaColumn("BlindCopyRecepient"),t.addSchemaColumn("Title"),t.addSchemaColumn("Body"),t.addSchemaColumn("SendDate"),t.addSchemaColumn("HeaderProperties"),t.filters.addSchemaColumnFilterWithParameter(o.ComparisonType.Equal,"Id",e),t}_mapEmail(e){const t={id:e.Id,from:e.Sender,subject:e.Title,body:e.Body,sendDate:e.SendDate,attachments:[]},n=e.Recepient.toString(),i=e.CopyRecepient.toString(),r=e.BlindCopyRecepient.toString(),c=e.HeaderProperties.toString();return t.to=b.String.isNullOrWhiteSpace(n)?[]:n.split(";").filter(Boolean),t.cc=b.String.isNullOrWhiteSpace(i)?[]:i.split(";").filter(Boolean),t.bcc=b.String.isNullOrWhiteSpace(r)?[]:r.split(";").filter(Boolean),t.headers=b.String.isNullOrWhiteSpace(c)?[]:c.split(`
`).filter(Boolean).map(C=>this._mapHeader(C)),t}_getAttachmentsEsq(e){const t=new o.EntitySchemaQuery("ActivityFile");return t.addSchemaColumn("Id"),t.addSchemaColumn("Name"),t.addSchemaColumn("Size"),t.filters.addSchemaColumnFilterWithParameter(o.ComparisonType.Equal,"Activity",e),t.filters.addSchemaColumnFilterWithParameter(o.ComparisonType.Equal,"Inline",!1),t}_mapAttachment(e){const t=new File([],e.Name);return{id:e.Id,size:e.Size,file:t,content:new ArrayBuffer(0)}}_prepareRecipient(e){return e.replace("<","&lt;").replace(">","&gt;")}_getBody(e){const t="<span style='font-weight: bold;'>{0}: </span><span>{1}</span><br>",n="<br>{0}><hr style='border:none;border-top: 1px solid #E3E3E3;'>",r="<div><blockquote style='margin-left: 0.8ex;border-left: 1px solid #E3E3E3;padding-left: 1ex;font: inherit;'>{0}</blockquote></div>",c=this._prepareRecipient(e.from),C=e.to?this._prepareRecipient(e.to.join(";")):"",y=e.body,f=e.body.match(/<body.*?>([\s\S]*)<\/body>/),T=f&&f[1]||y,I=new b.StringBuilder;if(I.appendFormat(this._emailSignatureService.signatureTplWithIndent,b.String.empty),I.appendFormat(n,this._replyBodyLimiter),I.appendFormat(t,this._translateService.instant("MessageComposer.Email.From"),c),I.appendFormat(t,this._translateService.instant("MessageComposer.Email.SentOn"),e.sendDate),I.appendFormat(t,this._translateService.instant("MessageComposer.Email.To"),C),e.cc?.length!==0){const Ge=e.cc?this._prepareRecipient(e.cc.join(";")):"";I.appendFormat(t,this._translateService.instant("MessageComposer.Email.CC"),Ge)}return I.appendFormat(t,this._translateService.instant("MessageComposer.Email.Subject"),e.subject),I.appendFormat(r,T),I.toString()}_getShortBody(e=!0){const t="<br>{0}>",n='<div><div class="email-composer-reply-expander"></div></div>',i=new b.StringBuilder;return e&&i.appendFormat(this._emailSignatureService.signatureTplWithIndent,b.String.empty),i.appendFormat(t,this._replyBodyLimiter),i.appendFormat(n),i.toString()}_getSubjectPrefix(e){return e===v.Forward?"FW: ":"RE: "}_getSubject(e,t){const n=this._getSubjectPrefix(t),i=e.subject;return i.startsWith(n)?i:n+i}_setRecipients(e,t,n){let i=[];const r=t.from;switch(n){case v.Reply:i=b.String.isNullOrWhiteSpace(r)?[]:[r];break;case v.ReplyAll:{const c=t.to?t.to:[];i=b.String.isNullOrWhiteSpace(r)?[...c]:[r,...c];break}default:break}e.to=i,e.cc=n===v.ReplyAll?t.cc:[],e.bcc=[]}_getInsertQuery(e,t){return this._getQueryWithEmailColumns(e,t).pipe((0,d.map)(n=>(n.addColumn("Id",e.id,o.DataValueType.Guid),n)))}_getUpdateQuery(e,t){return this._getQueryWithEmailColumns(e,t).pipe((0,d.map)(n=>(n.filters.addSchemaColumnFilterWithParameter(o.ComparisonType.Equal,"Id",e.id),n)))}_mapHeader(e){const t=e.split("=");return{name:t[0],value:t[1]}}_getHeaderProperties(e,t){const n=e.headers||[];return!(0,m.isEmpty)(t.inReplyToId)&&!n.find(i=>i.name===this._inReplyToActivityHeader)&&n.push({name:this._inReplyToActivityHeader,value:t.inReplyToId}),n.map(i=>`${i.name}=${i.value}`).join(`
`)}_getQueryWithEmailColumns(e,t){const n=e.isDraft?new o.UpdateQuery("Activity"):new o.InsertQuery("Activity");return n.addColumn("Title",e.subject,o.DataValueType.Text),n.addColumn("Body",e.body,o.DataValueType.Text),n.addColumn("Sender",e.from,o.DataValueType.Text),n.addColumn("Recepient",e.to?.join(";"),o.DataValueType.Text),n.addColumn("CopyRecepient",e.cc?.join(";"),o.DataValueType.Text),n.addColumn("BlindCopyRecepient",e.bcc?.join(";"),o.DataValueType.Text),n.addColumn("Type",u.ACTIVITY_TYPE_EMAIL,o.DataValueType.Guid),n.addColumn("ActivityCategory",u.ACTIVITY_CATEGORY_EMAIL,o.DataValueType.Guid),n.addColumn("IsHtmlBody",!0,o.DataValueType.Boolean),n.addColumn("HeaderProperties",this._getHeaderProperties(e,t),o.DataValueType.Text),this._entitySchemaService.getEntitySchemaByName("Activity").pipe((0,d.switchMap)(i=>this._addDefaultValues(t,n,i.entitySchema.columns))).pipe((0,d.switchMap)(i=>this._addEntityConnectionColumns(t,i)))}_getColumnDataValueType(e){return e.dataValueType===o.DataValueType.LONG_TEXT?o.DataValueType.Text:e.dataValueType}_addEntityConnectionColumns(e,t){return(0,m.isEmpty)(e?.masterSchemaName)||(0,m.isEmpty)(e?.masterRecordId)?(0,p.of)(t):(0,p.from)(this._entityConnectionService.getEntityConnectionColumns("Activity",e?.masterSchemaName)).pipe((0,d.switchMap)(n=>(n&&n.forEach(i=>{const r=this._getColumnDataValueType(i);t.addColumn(i.name,e.masterRecordId,r)}),(0,p.of)(t))))}_addDefaultValues(e,t,n){const i=e.defaultValues;return i&&i.forEach(r=>{const c=n.find(C=>C.name===r.attributeName);if(c){const C=this._getColumnDataValueType(c);t.addColumn(r.attributeName,r.value,C)}}),(0,p.of)(t)}_executeQuery(e,t){return e.isDraft?this._getUpdateQuery(e,t).pipe((0,d.switchMap)(n=>this._queryExecutor.executeUpdateQuery(n))):this._getInsertQuery(e,t).pipe((0,d.switchMap)(n=>this._queryExecutor.executeInsertQuery(n)))}_trimStart(e,t){return e.startsWith(t)?e.slice(t.length):e}_trimEnd(e,t){return e.endsWith(t)?e.slice(0,e.length-t.length):e}_trimBrTag(e){let t=this._trimStart(e,"&nbsp;");return t=this._trimEnd(t,"<br>"),t}_deleteRemovedAttachments(e){const t=new o.DeleteQuery("ActivityFile");return t.filters.addSchemaColumnFilterWithParameter(o.ComparisonType.Equal,"Activity",e.id),t.filters.addSchemaColumnFilterWithParameter(o.ComparisonType.Equal,"Inline",!1),e.attachments.forEach(i=>t.filters.addSchemaColumnFilterWithParameter(o.ComparisonType.Not_equal,"Id",i.id)),this._queryExecutor.executeDeleteQuery(t)}getEmail(e,t){const n=this._getEmailEsq(e),i=this._queryExecutor.executeSelectQuery(n).pipe((0,d.map)(c=>this._mapEmail(c[0]))),r=t?this.getAttachments(e):(0,p.of)([]);return(0,p.forkJoin)([i,r]).pipe((0,d.map)(c=>{const C=c[0];return C.attachments=c[1],C}))}getAttachments(e){const t=this._getAttachmentsEsq(e);return this._queryExecutor.executeSelectQuery(t).pipe((0,d.map)(n=>n.map(i=>this._mapAttachment(i))))}getReplyDraft(e,t){const n={id:(0,o.generateGuid)(),from:"",subject:this._getSubject(e,t),body:this._getBody(e),bodyShort:this._getShortBody(),isDraft:!1,attachments:t===v.Forward&&e.attachments?[...e.attachments]:[]};return this._setRecipients(n,e,t),(0,p.of)(n)}getSafeUserContentReplyBody(e,t){const n=this.getDraftUserContent(e),i=this.getDraftUserContent(t);return t.replace(i,n)}getDraftUserContent(e,t=!1){const n=e.indexOf(this._replyBodyLimiter);return n!==-1&&(e=this._trimBrTag(e.substring(0,n))),t?e+this._getShortBody(!1):e}saveEmail(e,t){return this._executeQuery(e,t).pipe((0,d.concatMap)(n=>{if(!n.success)throw new Error(n.errorInfo?.message);let i=e.attachments;return i?(i=i.filter(r=>r.content.byteLength>0),i.length===0?(0,p.of)([n]):(0,p.from)(i).pipe((0,d.concatMap)(r=>this._fileApiService.upload(r)),(0,d.last)())):(0,p.of)([n])}),(0,d.concatMap)(n=>{if(!n[0].success)throw new Error(n[0].errorInfo?.message);if(e.isDraft)return this._deleteRemovedAttachments(e).pipe((0,d.switchMap)(()=>(0,p.of)([n])),(0,p.catchError)(()=>(0,p.of)([n])));if(e.attachments.filter(c=>c.content.byteLength===0).length===0)return(0,p.of)([n]);const r={sourceEntityId:t?.inReplyToId,recipientEntityId:e.id,columnName:"Activity",entitySchemaName:"Activity",sourceEntitySchemaNames:["ActivityFile"],isOnlyInline:!0,inlineIds:e.attachments.filter(c=>c.content.byteLength===0).map(c=>c.id)};return this._httpClient.post(this._copyEntitiesMethod,r)}),(0,d.switchMap)(n=>{if(n.CopyEntitiesResult&&n.CopyEntitiesResult.length===0)throw new Error(n.errorInfo?.message);return(0,p.of)({success:!0,activityId:e.id})}),(0,p.catchError)(n=>(0,p.of)({success:!1,errorInfo:{errorCode:null,message:n.message,stackTrace:""},activityId:e.id})))}static{this.\u0275fac=function(t){return new(t||z)(a.\u0275\u0275inject(a.Injector))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac})}}class J{constructor(e){this._macrosService=e,this._templatesEntitySchemaName="EmailTemplate",this._lookupPageSchemaName="EmailTemplatesLookupPage"}_handleEmailTextTemplate(e){return`<div>${e}</div>`.replace(new RegExp(/<(\/)?(html|head|body)([^><]*?)>/gim),"")}_getLookupPageFiltersConfig(e){const t="lookupObjectFilter",n=new o.FilterGroup(o.LogicalOperatorType.Or),i=new o.CompareFilter(o.ComparisonType.Equal,new o.ColumnExpression({columnPath:"[SysSchema:UId:Object].Name"}),new o.ParameterExpression({value:e})),r=new o.CompareFilter(o.ComparisonType.Is_null,new o.ColumnExpression({columnPath:"Object"}),new o.ParameterExpression({value:null}));return n.add(i),n.add(r),{filterAttributes:[{name:t,loadOnChange:!1}],attributesConfig:{[t]:{value:n}}}}getTemplatesLookupConfig(e){return{type:"crt.OpenSelectionWindowRequest",$context:{},entitySchemaName:this._templatesEntitySchemaName,schemaName:this._lookupPageSchemaName,features:{create:{enabled:!1},select:{multiple:!1,selectAll:!1}},filtersConfig:this._getLookupPageFiltersConfig(e)}}getMultiLanguageTemplate(e,t,n){return this._macrosService.getMultiLanguageTemplate(n,t,e).pipe((0,p.map)(i=>(i.textTemplate=this._handleEmailTextTemplate(i.textTemplate),i)))}static{this.\u0275fac=function(t){return new(t||J)(a.\u0275\u0275inject(u.MacrosHelperService))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:J,factory:J.\u0275fac})}}class Z{constructor(e,t,n){this._queryExecutor=e,this._httpClient=t,this._globalSearchFeatureCode="GlobalSearch_V2",this._esEmailsSearchFeatureCode="IsESEmailsSearch",this._globalSearchMethodName="/rest/ESEmailService/SearchEmailsPage",this._itemsPerPage=15,this._useGlobalSearch=!1,this._useGlobalSearch=n[this._globalSearchFeatureCode]&&n[this._esEmailsSearchFeatureCode]}_getRecipientsEsq(e,t){const n=new o.EntitySchemaQuery("VwRecepientEmail"),i=n.addSchemaColumn("Email");i.orderDirection=o.OrderDirection.Asc,n.rowCount=this._itemsPerPage,n.rowsOffset=t;const r=new o.FilterGroup(o.LogicalOperatorType.Or);return r.addSchemaColumnFilterWithParameter(o.ComparisonType.Contain,"Email",e),r.addSchemaColumnFilterWithParameter(o.ComparisonType.Contain,"ContactName",e),n.filters.add(r),n}_mapRecipient(e){return{value:(0,o.generateGuid)(),displayValue:e}}_getRecipientsFromGlobalSearch(e,t){const n=(e||b.String.empty).trim().split(" ").map(i=>i.trim());return this._httpClient.post(this._globalSearchMethodName,{query:n,rowsOffset:t,rowCount:this._itemsPerPage}).pipe((0,d.map)(i=>{const r=JSON.parse(i?.SearchEmailsResult||"[]")||[],c=[];return r.forEach(function(C){const y={emails:[]};Object.keys(C).forEach(function(f){const T=C[f];(0,F.containsEmail)(T)&&y.emails.push(this._mapRecipient(T))},this),y.emails.length>0&&c.push(y)},this),c}))}_getRecipientsFromDb(e,t){const n=this._getRecipientsEsq(e,t);return this._queryExecutor.executeSelectQuery(n).pipe((0,d.map)(i=>i?.map(r=>({emails:[this._mapRecipient(r.Email)]}))))}getRecipients(e,t=0){return this._useGlobalSearch&&!(0,m.isEmpty)(e)?this._getRecipientsFromGlobalSearch(e,t):this._getRecipientsFromDb(e,t)}static{this.\u0275fac=function(t){return new(t||Z)(a.\u0275\u0275inject(Pe.QueryExecutor),a.\u0275\u0275inject(ae.HttpClient),a.\u0275\u0275inject(u.FEATURE_VALUES))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Z,factory:Z.\u0275fac})}}class V{constructor(e,t){this._doNotUseCache=!1,this._storage=e.localStorage,t.getFeatureState("DoNotCacheComposerData").subscribe(n=>{this._doNotUseCache=n})}remove(e){(0,m.isEmpty)(e)||this._doNotUseCache||this._storage.removeItem(e)}set(e,t){(0,m.isEmpty)(e)||this._doNotUseCache||this._storage.setItem(e,t)}get(e){return(0,m.isEmpty)(e)||this._doNotUseCache?"":this._storage.getItem(e)}static{this.\u0275fac=function(t){return new(t||V)(a.\u0275\u0275inject(F.WINDOW_TOKEN),a.\u0275\u0275inject(k.FeatureService))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac})}}class Y extends V{constructor(e,t,n){super(e,n),this._emailsService=t}set(e,t){const n=this._emailsService.getDraftUserContent(t);super.set(e,n)}static{this.\u0275fac=function(t){return new(t||Y)(a.\u0275\u0275inject(F.WINDOW_TOKEN),a.\u0275\u0275inject(z),a.\u0275\u0275inject(k.FeatureService))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Y,factory:Y.\u0275fac})}}class W{constructor(e,t,n,i){this._httpClient=e,this._entitySchemaRepository=t,this._feedNotificationService=n,this._fileApiService=i,this._postMessageMethod="/rest/EsnService/PostMessage",this._editMessageMethod="/rest/EsnService/EditMessage",this._postCommentMethod="/rest/EsnService/PostComment",this._editCommentMethod="/rest/EsnService/EditComment",this._readAttachmentsMethod="/rest/EsnService/ReadAttachments",this._deleteAttachmentsMethod="/rest/EsnService/DeleteAttachments"}_getSchemaUId(e){return this._entitySchemaRepository.getSchemaByName(e).pipe((0,d.map)(t=>t.uId))}_postMessage(e,t){return this._httpClient.post(e,t).pipe((0,d.map)(n=>n.Id))}_modifyMessage(e,t){return this._httpClient.post(e,t).pipe((0,d.map)(n=>n.success))}_uploadAttachments(e){const t=e.filter(n=>n.content.byteLength>0);return t.length===0?(0,p.of)(!0):(t.forEach(n=>{n.fileEntitySchemaName="FeedFile"}),(0,p.from)(t).pipe((0,d.concatMap)(n=>this._fileApiService.upload(n)),(0,d.last)(),(0,d.map)(()=>!0)))}_deleteAttachments(e,t,n,i){return this._httpClient.post(this._deleteAttachmentsMethod,{messageId:e,attachmentsToKeepIds:t,schemaUId:n,entityId:i})}_getAttachmentIds(e){const t=new RegExp(/FileService\/Download\/FeedFile\/(.+?)"/gi);return[...e.Message.matchAll(t)].map(i=>i[1]).concat(e.Attachments?.map(i=>i.id))}_updateMessageAttachments(e,t){const n=t?e.Id:o.EMPTY_GUID;return((0,m.isEmpty)(e.Attachments)?(0,p.of)(!0):this._uploadAttachments(e.Attachments)).pipe((0,d.concatMap)(()=>{const r=this._getAttachmentIds(e);return this._deleteAttachments(e.Id,r,e.EntitySchemaUId,e.EntityId)}),(0,d.map)(()=>n))}updateMessage(e){return this._modifyMessage(this._editMessageMethod,{messageId:e.Id,message:{Id:e.Id,SchemaUId:e.EntitySchemaUId,EntityId:e.EntityId,Message:e.Message,UserAccess:e.UserAccess}}).pipe((0,d.switchMap)(t=>this._updateMessageAttachments(e,t)))}updateChildMessage(e){return this._modifyMessage(this._editCommentMethod,{commentId:e.Id,comment:{Id:e.Id,SchemaUId:e.EntitySchemaUId,EntityId:e.EntityId,Message:e.Message,UserAccess:e.UserAccess}}).pipe((0,d.switchMap)(t=>this._updateMessageAttachments(e,t)))}postMessage(e){return this._getSchemaUId(e.EntitySchemaName).pipe((0,d.switchMap)(t=>this._postMessage(this._postMessageMethod,{message:{Id:e.Id,SchemaUId:t,EntityId:e.EntityId,Message:e.Message,UserAccess:e.UserAccess}})),(0,d.concatMap)(t=>(0,m.isEmpty)(e.Attachments)?(0,p.of)(t):this._uploadAttachments(e.Attachments).pipe((0,d.map)(()=>t))),(0,d.map)(t=>(this._feedNotificationService.onFeedPostPublished(t,e.EntityId),t)))}postChildMessage(e,t){return this._postMessage(this._postCommentMethod,{messageId:t,comment:{Id:e.Id,SchemaUId:e.EntitySchemaUId,EntityId:e.EntityId,Message:e.Message,UserAccess:e.UserAccess}}).pipe((0,d.concatMap)(n=>(0,m.isEmpty)(e.Attachments)?(0,p.of)(n):this._uploadAttachments(e.Attachments).pipe((0,d.map)(()=>n))))}loadAttachments(e,t,n,i,r){const c=i||"FeedFile",C=r||"RecordId";return this._httpClient.post(this._readAttachmentsMethod,{messageId:e,schemaUId:t,entityId:n,schemaName:c,columnName:C}).pipe((0,d.map)(y=>y.files.map(f=>({fileId:f.Id,fileName:f.Name,fileSize:f.Size,fileCreatedOn:f.CreatedOn,getBoundDataSchemaByAttributePath:function(){return{name:c}}}))))}static{this.\u0275fac=function(t){return new(t||W)(a.\u0275\u0275inject(ae.HttpClient),a.\u0275\u0275inject(u.EntitySchemaRepository),a.\u0275\u0275inject(u.FeedNotificationService),a.\u0275\u0275inject(u.FileApiService))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:W,factory:W.\u0275fac})}}class ne{constructor(e,t,n,i,r,c,C){this._httpClient=e,this._entitySchemaRepository=t,this._entityId=n,this._entitySchemaName=i,this._featureService=r,this._sysSettingsService=c,this._entitySchemaUId=C,this._getContactsFromDbMethod="/rest/ESNFeedModuleService/GetContactsForMention",this._getContactsFromEsMethod="/rest/ESNFeedModuleService/GetESContactsForMention",this._searchPageSize=15,this._useGlobalSearch=!1,this._featureService.getFeaturesState(["GlobalSearch_V2","ESMention","UseContactMentionFilterComparisonTypeForContactMention"]).subscribe(y=>{const f=y?.slice(0,2),T=y&&y[2];this._useGlobalSearch=f?.length===2&&!f.includes(!1),T&&(this._comparisonType=o.ComparisonType.Contain)})}_getSchemaUId(){return this._entitySchemaUId&&!(0,o.isEmptyGuid)(this._entitySchemaUId)?(0,p.of)(this._entitySchemaUId):this._entitySchemaRepository.getSchemaByName(this._entitySchemaName).pipe((0,d.map)(e=>e.uId))}_mapContactsResponse(e){return e.result.map(t=>({value:t.value,displayValue:t.displayValue,primaryImageValue:t.primaryImage,connectionType:t.connectionType}))}_getComparisonType(){return this._comparisonType?(0,p.of)(this._comparisonType):this._sysSettingsService.getByCode("StringColumnSearchComparisonType").pipe((0,d.map)(e=>e?.value===1?o.ComparisonType.Contain:o.ComparisonType.Start_with),(0,d.map)(e=>(this._comparisonType=e,e)))}_getMentionsFromDb(e){return(0,p.forkJoin)([this._getSchemaUId(),this._getComparisonType()]).pipe((0,d.switchMap)(([t,n])=>this._httpClient.post(this._getContactsFromDbMethod,{entityId:this._entityId,entitySchemaUId:t,searchName:e,searchType:n}).pipe((0,d.map)(i=>this._mapContactsResponse(i)))))}_getMentionsFromGlobalSearch(e){if((0,m.isEmpty)(e))return(0,p.of)([]);const t=(e||b.String.empty).trim().split(" ").map(n=>n.trim());return this._httpClient.post(this._getContactsFromEsMethod,{query:t,rowsOffset:0,rowCount:this._searchPageSize}).pipe((0,d.map)(n=>this._mapContactsResponse(n)))}getContacts(e){return this._useGlobalSearch?this._getMentionsFromGlobalSearch(e):this._getMentionsFromDb(e)}static{this.\u0275fac=function(t){a.\u0275\u0275invalidFactory()}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:ne,factory:ne.\u0275fac})}}class ${constructor(e,t,n,i){this._httpClient=e,this._entitySchemaRepository=t,this._featureService=n,this._sysSettingsService=i}getInstance(e,t,n){return new ne(this._httpClient,this._entitySchemaRepository,e,t,this._featureService,this._sysSettingsService,n)}static{this.\u0275fac=function(t){return new(t||$)(a.\u0275\u0275inject(ae.HttpClient),a.\u0275\u0275inject(u.EntitySchemaRepository),a.\u0275\u0275inject(k.FeatureService),a.\u0275\u0275inject(k.SysSettingsService))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:$,factory:$.\u0275fac})}}const at=l=>({"selected-composer":l});function nt(l,e){if(l&1){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"crt-button",2),a.\u0275\u0275listener("clicked",function(){const i=a.\u0275\u0275restoreView(t).$implicit,r=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(r.showComposer(i))}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()}if(l&2){const t=e.$implicit,n=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(3,at,n.isComposerSelected(t)))("icon",n.getComposerIcon(t))("caption",n.getComposerCaption(t))}}function it(l,e){if(l&1&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,nt,2,5,"ng-container",1),a.\u0275\u0275elementContainerEnd()),l&2){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngForOf",t.visibleChannels)}}let j=class Be extends se.CrtBaseComponent{constructor(){super(...arguments),this._iconsMap={Email:"email-composer-icon",Feed:"feed-composer-icon"},this.selectedChannelIndexChange=new a.EventEmitter}get isVisible(){return this.visibleChannels?.length>1}get visibleChannels(){return this.channels?.filter(e=>e.visible!==!1)}set selectedChannelIndex(e){this._selectedChannelIndex=e,this.changeDetectorRef.markForCheck()}showComposer(e){this.selectedChannelIndex=this.channels.indexOf(e),this.selectedChannelIndexChange.emit(this._selectedChannelIndex)}getComposerIcon(e){const t=e.data;return t?.icon?t?.icon:this._iconsMap[t?.schemaType]||"send-icon"}getComposerCaption(e){return e.data?.caption||""}isComposerSelected(e){return this.channels.indexOf(e)===this._selectedChannelIndex}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=a.\u0275\u0275getInheritedFactory(Be)))(n||Be)}})()}static{this.\u0275cmp=a.\u0275\u0275defineComponent({type:Be,selectors:[["crt-channel-selector"]],inputs:{channels:"channels",selectedChannelIndex:"selectedChannelIndex"},outputs:{selectedChannelIndexChange:"selectedChannelIndexChange"},features:[a.\u0275\u0275ProvidersFeature([]),a.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["size","large","iconPosition","only-icon",1,"select-composer-button",3,"clicked","ngClass","icon","caption"]],template:function(t,n){t&1&&a.\u0275\u0275template(0,it,2,1,"ng-container",0),t&2&&a.\u0275\u0275property("ngIf",n.isVisible)},dependencies:[M.NgClass,M.NgForOf,M.NgIf,S.CrtButtonComponent],styles:[`.select-composer-button{margin-inline-end:4px;border-radius:8px}.select-composer-button button:hover{border-radius:8px}.select-composer-button.selected-composer{background-color:var(--crt-button-default-hover-color)}.select-composer-button.selected-composer button{color:var(--crt-palette-primary-500)!important}
`],encapsulation:2})}};(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Array)],j.prototype,"channels",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Number),(0,s.__metadata)("design:paramtypes",[Number])],j.prototype,"selectedChannelIndex",null),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],j.prototype,"selectedChannelIndexChange",void 0),j=(0,s.__decorate)([(0,o.CrtViewElement)({type:"crt.ChannelSelector"})],j);const st=["items"],ot=["composerHeader"],rt=["selectorActions"],lt=["container"],ct=l=>({display:l});function pt(l,e){l&1&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275element(1,"div",null,1),a.\u0275\u0275elementContainerEnd())}function mt(l,e){if(l&1){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",6,2)(2,"crt-channel-selector",7),a.\u0275\u0275listener("selectedChannelIndexChange",function(i){a.\u0275\u0275restoreView(t);const r=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(r.onSelectedChannelIndexChange(i))}),a.\u0275\u0275elementEnd()()}if(l&2){const t=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngStyle",a.\u0275\u0275pureFunction1(3,ct,t.getChannelSelectorVisible()?"unset":"none")),a.\u0275\u0275advance(2),a.\u0275\u0275property("channels",t.items)("selectedChannelIndex",t.selectedComposerChannelIndex)}}let A=class Qe extends se.CrtBaseComponent{get _visibleItems(){return this.items?.filter(e=>e.visible!==!1)}get visibleTemplate(){const e=this.itemsTemplates?.length>this.selectedComposerChannelIndex?this.selectedComposerChannelIndex:0;return this.itemsTemplates?.get(e)}get renderEmbededChannelSelector(){return this._featureService.getFeatureState("ExtendableMessageComposer").pipe((0,p.map)(e=>!e))}set defaultChannel(e){(0,m.isEmpty)(e)||(this._defaultChannel=e,this._setDefaultComposer())}get items(){return this._items}set items(e){this._items=e,this._setDefaultComposer()}set composerEvent(e){e?.forEach(t=>{switch(t?.name){case je:this._handleComposerReady(t.params?.composerSchemaType);break;case De:t.params&&(this._isVisible=t.params?.isFocused,this._updateOffsetOnFocus());break;case oe:this._handleReplyActionEvent({emailId:t.params?.emailId,action:t.params?.action})}})}set selectedComposerChannelIndex(e){this._isVisible=!1,this._selectedChannelIndex$.next(e),this.changeDetectorRef.markForCheck()}get selectedComposerChannelIndex(){return this._selectedChannelIndex$.value}constructor(e,t){super(e),this._changeComposerService=t,this._defaultChannel="crt.FeedComposer",this._subscriptions=[],this._updateView=new p.Subject,this._rendered=new Map,this._selectedChannelIndex$=new p.BehaviorSubject(0),this.composerEventChange=new a.EventEmitter,this.selectedComposerChannelIndexChange=new a.EventEmitter,this.preserveContent=!0,this._subscribeToChangeComposerEvent(this._changeComposerService),this._featureService=e.get(k.FeatureService)}_setDefaultComposer(){if(!this._items)return;const e=this._visibleItems.findIndex(t=>t.type===this._defaultChannel);this.selectedComposerChannelIndex=e<0?0:e,this.selectedComposerChannelIndexChange.emit(this.selectedComposerChannelIndex)}_subscribeToChangeComposerEvent(e){this._subscriptions.push(e.getComposerObservable().subscribe(t=>{const n=this._visibleItems?.find(i=>i.data.schemaType===t);n&&this.showComposer(n)}))}_updateOffsetOnFocus(){!this._isVisible||!this.renderEmbededChannelSelector||window.requestAnimationFrame(()=>{if(this._isVisible&&!this.selectorActions){this._updateOffsetOnFocus();return}this.composerEventChange.emit([{name:de,params:{offset:this.selectorActions?.nativeElement?.offsetWidth??0}}])})}_handleReplyActionEvent(e){const t=this.items.findIndex(i=>i.data?.schemaType==="Email");if(t<0)return;const n=this.items[this.selectedComposerChannelIndex];(!n||n.data?.schemaType!=="Email")&&(this._replyActionEvent=e,this.selectedComposerChannelIndex=t,this.changeDetectorRef.detectChanges()),window.requestAnimationFrame(()=>{this.composerHeader?.nativeElement?.scrollIntoView({behavior:"smooth",block:"nearest"})})}_handleComposerReady(e){const t=[];if(this._isVisible=!1,typeof e=="string"&&e==="Feed"&&this.selectorActions?.nativeElement)t.push({name:de,params:{offset:this.selectorActions?.nativeElement?.offsetWidth??0}});else if(e==="Email"){const n=this.items[this.selectedComposerChannelIndex];this._replyActionEvent&&n.data?.schemaType==="Email"&&(t.push({name:oe,params:this._replyActionEvent}),this._replyActionEvent=null)}this.composerEventChange.emit(t)}_renderItem(e,t){if(t!==this.selectedComposerChannelIndex)return;const n=this.itemsTemplates.get(t),i=e.createEmbeddedView(n);this._rendered.set(n,i),this.detectChanges(),requestAnimationFrame(()=>{const r=i.rootNodes.filter(c=>!(c instanceof Comment));this._setVisibilityInDom(r,"unset")})}_changeItemVisibility(e,t,n){const i=t.rootNodes.filter(r=>!(r instanceof Comment));e===this.selectedComposerChannelIndex?this._setVisibilityInDom(i,"unset"):this._setVisibilityInDom(i,"none")}_setVisibilityInDom(e,t){e.forEach(n=>{const i=n;i.style.display=t,t==="none"?i.classList.remove("rendered"):i.classList.add("rendered")})}_destroyRenderedItem(e){this._rendered.get(e)?.destroy(),this._rendered.delete(e)}showComposer(e){this.selectedComposerChannelIndex=this.items.indexOf(e)}showItem(){this.containers?.forEach((e,t)=>{const n=this.itemsTemplates.get(t);if(!n)return;const i=this._rendered.get(n);if(!i){this._renderItem(e,t);return}if(this.preserveContent){this._changeItemVisibility(t,i);return}t!==this.selectedComposerChannelIndex&&this._destroyRenderedItem(n)})}ngAfterViewInit(){this._subscriptions.push(this._updateView.asObservable().pipe((0,p.debounceTime)(0)).subscribe(()=>{this.showItem()})),this._subscriptions.push((0,p.merge)(this._selectedChannelIndex$.asObservable()).subscribe(()=>{this._updateView.next()}))}ngOnDestroy(){this._subscriptions.forEach(e=>e?.unsubscribe())}onSelectedChannelIndexChange(e){this.selectedComposerChannelIndex=e}getChannelSelectorVisible(){return this._isVisible?!!(this._visibleItems&&this._visibleItems.length>1):!1}static{this.\u0275fac=function(t){return new(t||Qe)(a.\u0275\u0275directiveInject(a.Injector),a.\u0275\u0275directiveInject(N))}}static{this.\u0275cmp=a.\u0275\u0275defineComponent({type:Qe,selectors:[["crt-message-composer-selector"]],contentQueries:function(t,n,i){if(t&1&&a.\u0275\u0275contentQuery(i,st,4,a.TemplateRef),t&2){let r;a.\u0275\u0275queryRefresh(r=a.\u0275\u0275loadQuery())&&(n.itemsTemplates=r)}},viewQuery:function(t,n){if(t&1&&(a.\u0275\u0275viewQuery(ot,5),a.\u0275\u0275viewQuery(rt,5),a.\u0275\u0275viewQuery(lt,5,a.ViewContainerRef)),t&2){let i;a.\u0275\u0275queryRefresh(i=a.\u0275\u0275loadQuery())&&(n.composerHeader=i.first),a.\u0275\u0275queryRefresh(i=a.\u0275\u0275loadQuery())&&(n.selectorActions=i.first),a.\u0275\u0275queryRefresh(i=a.\u0275\u0275loadQuery())&&(n.containers=i)}},inputs:{defaultChannel:"defaultChannel",items:"items",composerEvent:"composerEvent",selectedComposerChannelIndex:"selectedComposerChannelIndex",preserveContent:"preserveContent"},outputs:{composerEventChange:"composerEventChange",selectedComposerChannelIndexChange:"selectedComposerChannelIndexChange"},features:[a.\u0275\u0275ProvidersFeature([]),a.\u0275\u0275InheritDefinitionFeature],decls:6,vars:4,consts:[["composerHeader",""],["container",""],["selectorActions",""],[1,"message-composer-selector"],[4,"ngFor","ngForOf"],["class","message-composer-selector-actions",3,"ngStyle",4,"ngIf"],[1,"message-composer-selector-actions",3,"ngStyle"],[3,"selectedChannelIndexChange","channels","selectedChannelIndex"]],template:function(t,n){t&1&&(a.\u0275\u0275elementStart(0,"div",3),a.\u0275\u0275element(1,"div",null,0),a.\u0275\u0275template(3,pt,3,0,"ng-container",4)(4,mt,3,5,"div",5),a.\u0275\u0275pipe(5,"async"),a.\u0275\u0275elementEnd()),t&2&&(a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",n.itemsTemplates),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",a.\u0275\u0275pipeBind1(5,2,n.renderEmbededChannelSelector)))},dependencies:[M.NgForOf,M.NgIf,M.NgStyle,j,M.AsyncPipe],styles:[`.message-composer-selector{position:relative;min-height:32px}.message-composer-selector-actions{position:absolute;bottom:0;display:flex}
`],encapsulation:2,data:{animation:[(0,R.trigger)("collapse",[(0,R.state)("false",(0,R.style)({height:R.AUTO_STYLE,visibility:R.AUTO_STYLE,overflow:"hidden",opacity:1})),(0,R.state)("true",(0,R.style)({height:"0",visibility:"hidden",overflow:"hidden",opacity:0})),(0,R.transition)("false => true",(0,R.animate)("300ms ease-in")),(0,R.transition)("true => false",(0,R.animate)("300ms ease-out"))])]}})}};(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",String),(0,s.__metadata)("design:paramtypes",[String])],A.prototype,"defaultChannel",null),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Array),(0,s.__metadata)("design:paramtypes",[Array])],A.prototype,"items",null),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Array),(0,s.__metadata)("design:paramtypes",[Array])],A.prototype,"composerEvent",null),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],A.prototype,"composerEventChange",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Number),(0,s.__metadata)("design:paramtypes",[Number])],A.prototype,"selectedComposerChannelIndex",null),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],A.prototype,"selectedComposerChannelIndexChange",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Object)],A.prototype,"preserveContent",void 0),A=(0,s.__decorate)([(0,o.CrtViewElement)({type:"crt.MessageComposerSelector",contentSlots:[{name:"items",lazy:!0,input:!0}],reuseStrategy:o.ViewElementReuseStrategy.Reuse}),(0,o.CrtInterfaceDesignerItem)({toolbarConfig:{position:250,defaultPropertyValues:{items:[],name:"MessageComposer_"+u.GENERATE_GUID_MACRO},icon:_(62127)},propertiesPanelComponentTypeName:"crt.MessageComposerPropertiesPanel",viewElementGroupType:o.ViewElementGroupType.Components,typeCaption:"Components.MessageComposer.Caption"}),(0,s.__metadata)("design:paramtypes",[a.Injector,N])],A);var E=_(73308),ue=_(56711),Ve=_(50456);const dt=["crtRichTextInput"],ut=["attachUploadElement"],ht=["baseMessageComposerWrap"],Ct=l=>({"extendable-message-composer":l});function gt(l,e){if(l&1&&(a.\u0275\u0275elementStart(0,"div",22),a.\u0275\u0275element(1,"img",23),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275pipe(3,"bypassSecurityTrust"),a.\u0275\u0275elementEnd()),l&2){const t=a.\u0275\u0275nextContext().$implicit,n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275propertyInterpolate2("alt","",a.\u0275\u0275pipeBind1(2,4,"MessageComposer.AttachmentPreview"),": ",t.file.name,""),a.\u0275\u0275property("src",a.\u0275\u0275pipeBind2(3,6,n.getFilePreview(t),"resourceUrl"),a.\u0275\u0275sanitizeUrl)}}function _t(l,e){if(l&1&&a.\u0275\u0275element(0,"mat-icon",24),l&2){const t=a.\u0275\u0275nextContext().$implicit,n=a.\u0275\u0275nextContext();a.\u0275\u0275property("svgIcon",n.getFileIcon(t.file.name))}}function ft(l,e){if(l&1){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",16),a.\u0275\u0275template(1,gt,4,9,"div",17)(2,_t,1,1,"mat-icon",18),a.\u0275\u0275elementStart(3,"span",19),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"span",20),a.\u0275\u0275text(6),a.\u0275\u0275pipe(7,"memoryFormat"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"mat-icon",21),a.\u0275\u0275pipe(9,"translate"),a.\u0275\u0275pipe(10,"translate"),a.\u0275\u0275listener("click",function(){const i=a.\u0275\u0275restoreView(t).$implicit,r=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(r.onRemoveAttachClick(i.id))})("keydown.enter",function(){const i=a.\u0275\u0275restoreView(t).$implicit,r=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(r.onRemoveAttachClick(i.id))}),a.\u0275\u0275elementEnd()()}if(l&2){const t=e.$implicit,n=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.canShowPreview(t)),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",!n.canShowPreview(t)),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(t.file.name),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(7,7,t.file.size||t.size)),a.\u0275\u0275advance(2),a.\u0275\u0275propertyInterpolate("title",a.\u0275\u0275pipeBind1(9,9,"MessageComposer.RemoveAttachmentHint")),a.\u0275\u0275attribute("aria-label",a.\u0275\u0275pipeBind1(10,11,"MessageComposer.RemoveAttachmentHint"))("aria-hidden",!1)}}function bt(l,e){l&1&&a.\u0275\u0275elementContainer(0)}function yt(l,e){if(l&1&&(a.\u0275\u0275elementStart(0,"div"),a.\u0275\u0275template(1,bt,1,0,"ng-container",11),a.\u0275\u0275elementEnd()),l&2){const t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",t.channelSelector)}}function St(l,e){l&1&&a.\u0275\u0275elementContainer(0)}function vt(l,e){if(l&1){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"crt-button",25),a.\u0275\u0275pipe(1,"translate"),a.\u0275\u0275listener("clicked",function(){a.\u0275\u0275restoreView(t);const i=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(i.onCancelClick())}),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd()}l&2&&(a.\u0275\u0275propertyInterpolate("title",a.\u0275\u0275pipeBind1(1,2,"MessageComposer.CancelButtonHint")),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate1("",a.\u0275\u0275pipeBind1(3,4,"MessageComposer.CancelButtonText")," "))}function Et(l,e){if(l&1){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"crt-button",26),a.\u0275\u0275pipe(1,"translate"),a.\u0275\u0275listener("clicked",function(){a.\u0275\u0275restoreView(t);const i=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(i.onSaveDraftClick())}),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd()}l&2&&(a.\u0275\u0275propertyInterpolate("title",a.\u0275\u0275pipeBind1(1,2,"MessageComposer.SaveDraftButtonText")),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate1("",a.\u0275\u0275pipeBind1(3,4,"MessageComposer.SaveDraftButtonText")," "))}let g=class Ke{set height(e){e&&(this._height=e+"px")}set dataCachingService(e){this._dataCachingService=e}get dataCachingService(){return(0,m.isEmpty)(this._dataCachingService)&&(this._dataCachingService=this._injector.get(V)),this._dataCachingService}constructor(e,t,n,i,r,c,C,y){this._injector=e,this._fileService=t,this._fileIconService=n,this._richTextEditorUploadService=i,this._sysSettingsService=r,this._changeDetectorRef=c,this._messageDialogProvider=C,this._copilotToEditorCommunicationService=y,this._publishMessageHotKeys=["ctrl+enter","command+enter"],this._publishKeyboardAction="publishMessage",this._bytesInMegabyte=1024*1024,this._setCacheDraftDataDebounce=300,this._filterExtensions="",this._disableFileSecurityMode="9801c625-fafb-4ed3-9383-c3c942a5c1e3",this._denyFileSecurityMode="60849c6e-24b4-45df-9aad-2f69d419823c",this._fileSecurityMode=this._denyFileSecurityMode,this._maxFileSize=0,this.keyboardHotkeysMap={keydown:{[this._publishKeyboardAction]:{sequence:this._publishMessageHotKeys}}},this.inputControl=new ue.FormControl(null),this.attachments=[],this.disabled=!1,this.sendingButtonDisabled=!1,this.footerPanelExpanded=!1,this.selectionChange=new a.EventEmitter,this.footerPanelIndent=0,this.useTemplates=!1,this.useDrafts=!1,this.discardBtnVisible=!1,this.maxAttachmentsSize=0,this.messageChangesCancel=new a.EventEmitter,this.composerCleared=new a.EventEmitter,this.messageInputFocus=new a.EventEmitter,this.messageInputBlur=new a.EventEmitter,this.messageInputClick=new a.EventEmitter,this.messageChanged=new a.EventEmitter,this.messagePublish=new a.EventEmitter,this.selectTemplate=new a.EventEmitter,this.attachmentAdded=new a.EventEmitter,this.saveDraft=new a.EventEmitter,this.newMention=new a.EventEmitter,this._snackBar=e.get(P.MatSnackBar),this._translateService=e.get(B.TranslateService),this._featureValues=e.get(u.FEATURE_VALUES);const f="FileExtensionsDenyList",T="FileExtensionsAllowList";this._sysSettingsService.getByCodes(["FileSecurityMode","MaxFileSize",f,T]).subscribe(I=>{if(I?.success&&(this._maxFileSize=I.values.MaxFileSize?.value||0,this._fileSecurityMode=I.values.FileSecurityMode?.value.toLowerCase()||this._denyFileSecurityMode,this._fileSecurityMode!==this._disableFileSecurityMode)){const Ge=this._fileSecurityMode===this._denyFileSecurityMode?f:T;this._filterExtensions=I.values[Ge]?.value||""}})}get extendableMessageComposer(){return this._featureValues.ExtendableMessageComposer}_blurCurrentElement(){document.activeElement.blur()}_isContentTypeString(e){return e?.byteLength===void 0}_convertToBase64String(e){return this._isContentTypeString(e)?e:(0,u.convertImageToBase64String)(e)}_cacheInputMessage(){if((0,m.isEmpty)(this.inputControl?.value))this.dataCachingService.remove(this.composerCacheCode);else try{this.dataCachingService.set(this.composerCacheCode,this.inputControl.value)}catch(e){console.error(e),this.dataCachingService.remove(this.composerCacheCode)}}_setCacheDraftData(e){if((0,m.isEmpty)(e))return;const t=this.dataCachingService.get(e)??"";if(!(0,m.isEmpty)(t)){const n=this.inputControl?.value??"";if(n.includes(t))return;this.inputControl.setValue(t+n)}}_waitScrollEnd(){return new Promise(e=>{const t=this.baseMessageComposerWrap?.nativeElement;if(!t){e(!0);return}const n=new IntersectionObserver(i=>{const[r]=i;r.isIntersecting&&(n?.unobserve(t),e(!0))});n.observe(t)})}_getOversizeAttachmentsErrorMessage(e){e=e.reverse();const t=this._translateService.instant("InfoDialog.FileUpload.MaxFileSizeExceededExceptionMessage"),n=`\r
\r
`,i=this._translateService.instant("InfoDialog.FileUpload.FileListHeader"),r=t+n+i+`:\r
{1}`;let c="";return c+=(0,b.formatString)(r,this._maxFileSize,e.map(C=>"- "+C).join(`\r
`)),c+=n,c+=this._translateService.instant("InfoDialog.FileUpload.ChangeFileSizeInfoMessage"),c}_getExtensionAttachmentsErrorMessage(e){const t=(0,m.groupBy)(e,y=>y.name.split(".").pop().toLowerCase()),n=this._fileSecurityMode===this._denyFileSecurityMode?"InvalidExtension.Deny":"InvalidExtension.Allow",i=this._translateService.instant("InfoDialog.FileUpload."+n),r=`\r
\r
`,c=this._translateService.instant("InfoDialog.FileUpload.FileListHeader");let C="";for(const y in t)if(Object.prototype.hasOwnProperty.call(t,y)){const f=t[y];let T=(0,b.formatString)(i+r+c+`:\r
`,y);f.forEach(I=>{T+="- "+I.name+`\r
`}),C+=T+`\r
`}return C}_isFileExtensionAllowed(e){if(this._fileSecurityMode===this._disableFileSecurityMode)return!0;const t=e.name.split(".").pop().toLowerCase(),n=this._filterExtensions.toLowerCase();return this._fileSecurityMode===this._denyFileSecurityMode?n.indexOf(t)===-1:n.indexOf(t)>=0}_validateAttachmentsSize(e){if(this.maxAttachmentsSize<=0)return!0;let t=0;this.attachments.forEach(i=>t+=i.size?i.size:i.file.size);for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const r=e[i].size;r&&(t+=r)}const n=t/this._bytesInMegabyte<=this.maxAttachmentsSize;if(!n){const i=(0,b.formatString)(this._translateService.instant("MessageComposer.Email.AttachmentsSizeLimitReached"),this.maxAttachmentsSize);this._messageDialogProvider.error(i)}return n}_removeCopilotHighlighting(){this._copilotToEditorCommunicationService?.notify({editorAction:u.EditorActionType.RemoveHighlighting})}showSnackbar(e){this._snackBar.openFromComponent(e,{duration:3e3,panelClass:"message-action-snackbar-container"})}onMessageInputBlur(){this._cacheInputMessage(),this.messageInputBlur.emit()}onMessageInputFocus(){this.disabled||this.messageInputFocus.emit()}onMessagePublish(){this._removeCopilotHighlighting(),this.messagePublish.emit()}focus(){this.disabled||(this.footerPanelExpanded=!0,this._waitScrollEnd().then(()=>{this.crtRichTextInput?.focus(),this.messageInputFocus.emit()}))}onInputClick(){this.disabled||(this.footerPanelExpanded=!0,this.messageInputClick.emit())}onHotKeyPressed({action:e,event:t}){e===this._publishKeyboardAction&&!this.sendingButtonDisabled&&(t.preventDefault(),this._blurCurrentElement(),this.onMessagePublish())}onCancelClick(){this._messageDialogProvider.confirmation("CanDiscardUnsavedData.Default.Message").subscribe(e=>{e&&(this.clear(),this.messageChangesCancel.emit())})}onSaveDraftClick(){this._removeCopilotHighlighting(),this.dataCachingService.remove(this.composerCacheCode),this.saveDraft.emit()}onRichTextFilesUploaded(e){const t=e.map(({file:n,fileId:i})=>(n.id=i,n));this.uploadFiles({target:{files:t}})}uploadFiles({target:e}){if(!this._validateAttachmentsSize(e.files))return;const t=[],n=[],i=Array.from(e.files).map(c=>this._maxFileSize>0&&c.size/this._bytesInMegabyte>=this._maxFileSize?(t.push(c.name),(0,p.of)(!0)):this._isFileExtensionAllowed(c)?this._fileService.read(c).pipe((0,d.switchMap)(f=>(f.id=(0,m.isEmpty)(c.id)?(0,o.generateGuid)():c.id,this.attachments.some(T=>T.file.id===f.id)||(this.attachments=[...this.attachments,f]),this._changeDetectorRef.markForCheck(),(0,p.of)(!0)))):(n.push(c),(0,p.of)(!0)));let r="";n.length>0&&(r+=this._getExtensionAttachmentsErrorMessage(n)),t.length>0?r+=this._getOversizeAttachmentsErrorMessage(t):(0,m.isEmpty)(r)||(r=r.slice(0,-4)),(0,m.isEmpty)(r)||this._messageDialogProvider.error(r),e.value="",(0,p.forkJoin)(i).subscribe(()=>{this.attachmentAdded.emit(),this._changeDetectorRef.markForCheck()})}onRemoveAttachClick(e){this.attachments=this.attachments.filter(t=>t.id!==e),this.crtRichTextInput.removeReadyToUploadFile(e),this._changeDetectorRef.markForCheck()}onMessageChanged(){this.messageChanged.emit()}clear(){this.crtRichTextInput?.focus(),this.dataCachingService.remove(this.composerCacheCode),this.inputControl.setValue(""),this.crtRichTextInput?.clearSelection(),this.attachments.forEach(e=>this.crtRichTextInput.removeReadyToUploadFile(e.id)),this.attachments=[],this._blurCurrentElement(),this._changeDetectorRef.markForCheck(),this.composerCleared.emit()}getValue(){return this.inputControl.value}setValue(e){this.inputControl.setValue(e)}onSelectAttachments(){this.attachUploadElement.nativeElement.click()}canShowPreview(e){return(this._isContentTypeString(e.content)?e.content!=="":e.content.byteLength>0)&&this.getFileIcon(e.file.name).startsWith(Ve.FileTypeIcon.IMAGE)}getFilePreview(e){return this.canShowPreview(e)?`data:${e.file.type};base64,${this._convertToBase64String(e.content)}`:""}getFileIcon(e){return this._fileIconService.getFileIcon(e,"large")}saveInlineImagesToDb(e){return this._richTextEditorUploadService.uploadImages([this.crtRichTextInput.currentEditor],e).pipe((0,d.last)())}onSelectTemplate(){this.selectTemplate.emit()}onBeforeUnload(){this.crtRichTextInput?.isFocused&&this._cacheInputMessage()}isValueEmpty(){return(0,m.isEmpty)(this.inputControl.value)}isDiscardBtnVisible(){return this.discardBtnVisible||!this.isValueEmpty()}onNewMention(e){this.newMention.next(e)}ngOnChanges(e){const t=e.composerCacheCode?.currentValue;(0,m.debounce)(()=>this._setCacheDraftData(t),this._setCacheDraftDataDebounce)()}onSelectionChange(e){this.selectionChange.next(e)}static{this.\u0275fac=function(t){return new(t||Ke)(a.\u0275\u0275directiveInject(a.Injector),a.\u0275\u0275directiveInject(u.FileReaderService),a.\u0275\u0275directiveInject(Ve.FileIconService),a.\u0275\u0275directiveInject(Q.RichTextEditorUploadService),a.\u0275\u0275directiveInject(k.SysSettingsService),a.\u0275\u0275directiveInject(a.ChangeDetectorRef),a.\u0275\u0275directiveInject(S.MessageDialogProvider),a.\u0275\u0275directiveInject(u.CopilotToEditorCommunicationService))}}static{this.\u0275cmp=a.\u0275\u0275defineComponent({type:Ke,selectors:[["crt-base-message-composer"]],viewQuery:function(t,n){if(t&1&&(a.\u0275\u0275viewQuery(dt,5),a.\u0275\u0275viewQuery(ut,5),a.\u0275\u0275viewQuery(ht,5)),t&2){let i;a.\u0275\u0275queryRefresh(i=a.\u0275\u0275loadQuery())&&(n.crtRichTextInput=i.first),a.\u0275\u0275queryRefresh(i=a.\u0275\u0275loadQuery())&&(n.attachUploadElement=i.first),a.\u0275\u0275queryRefresh(i=a.\u0275\u0275loadQuery())&&(n.baseMessageComposerWrap=i.first)}},hostVars:2,hostBindings:function(t,n){t&1&&a.\u0275\u0275listener("beforeunload",function(){return n.onBeforeUnload()},!1,a.\u0275\u0275resolveWindow),t&2&&a.\u0275\u0275styleProp("--height",n._height)},inputs:{disabled:"disabled",sendingButtonDisabled:"sendingButtonDisabled",footerPanelExpanded:"footerPanelExpanded",footerPanelOptions:"footerPanelOptions",channelSelector:"channelSelector",selectionActions:"selectionActions",disableSelectionOptions:"disableSelectionOptions",footerPanelIndent:"footerPanelIndent",inputPlaceHolder:"inputPlaceHolder",useTemplates:"useTemplates",useDrafts:"useDrafts",composerCacheCode:"composerCacheCode",discardBtnVisible:"discardBtnVisible",sendButtonIcon:"sendButtonIcon",maxAttachmentsSize:"maxAttachmentsSize",mentionsService:"mentionsService",height:"height",dataCachingService:"dataCachingService"},outputs:{selectionChange:"selectionChange",messageChangesCancel:"messageChangesCancel",composerCleared:"composerCleared",messageInputFocus:"messageInputFocus",messageInputBlur:"messageInputBlur",messageInputClick:"messageInputClick",messageChanged:"messageChanged",messagePublish:"messagePublish",selectTemplate:"selectTemplate",attachmentAdded:"attachmentAdded",saveDraft:"saveDraft",newMention:"newMention"},features:[a.\u0275\u0275NgOnChangesFeature],decls:20,vars:32,consts:[["baseMessageComposerWrap",""],["crtRichTextInput",""],["attachUploadElement",""],[1,"base-message-composer"],[1,"base-message-composer-input"],["labelPosition","hidden","data-qa","base-message-composer-text-input",1,"base-message-composer-input-field",3,"editorBlur","editorFocus","editorValueChanged","crtKeyboardHotkeyPressed","click","selectAttachments","selectTemplate","newMention","filesUploaded","selectionChange","crtKeyboardHotkeys","control","showClip","useTemplates","readonly","placeholder","mentionsService","useBodyFilesLinks","selectionActions","disableSelectionOptions","label"],[1,"message-composer-attachments"],["role","group","class","message-composer-attachment",4,"ngFor","ngForOf"],["data-qa","base-message-composer-footer",1,"base-message-composer-footer",3,"hidden","ngClass"],["type","file","multiple","",2,"display","none",3,"change"],[4,"ngIf"],[4,"ngTemplateOutlet"],[1,"base-message-composer-footer-actions"],["alt","discard","color","default","size","large","class","base-message-composer-footer-actions-button","data-qa","base-message-composer-cancel-btn",3,"title","clicked",4,"ngIf"],["alt","save draft","color","default","size","large","class","base-message-composer-footer-actions-button","data-qa","base-message-composer-save-draft-btn",3,"title","clicked",4,"ngIf"],["alt","send","color","accent","size","large","iconPosition","left-icon","data-qa","base-message-composer-submit-btn",1,"base-message-composer-footer-actions-button",3,"clicked","title","icon","disabled"],["role","group",1,"message-composer-attachment"],["class","message-composer-attachment-icon",4,"ngIf"],["matSuffix","","class","message-composer-attachment-icon",3,"svgIcon",4,"ngIf"],[1,"message-composer-attachment-name"],[1,"message-composer-attachment-size"],["tabindex","0","role","button","svgIcon","message-composer-attach-cross","data-qa","message-composer-attachment-remove-icon",1,"message-composer-attachment-remove-icon",3,"click","keydown.enter","title"],[1,"message-composer-attachment-icon"],[3,"src","alt"],["matSuffix","",1,"message-composer-attachment-icon",3,"svgIcon"],["alt","discard","color","default","size","large","data-qa","base-message-composer-cancel-btn",1,"base-message-composer-footer-actions-button",3,"clicked","title"],["alt","save draft","color","default","size","large","data-qa","base-message-composer-save-draft-btn",1,"base-message-composer-footer-actions-button",3,"clicked","title"]],template:function(t,n){if(t&1){const i=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",3)(1,"div",4,0)(3,"crt-rich-text-editor",5,1),a.\u0275\u0275pipe(5,"translate"),a.\u0275\u0275listener("editorBlur",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onMessageInputBlur())})("editorFocus",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onMessageInputFocus())})("editorValueChanged",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onMessageChanged())})("crtKeyboardHotkeyPressed",function(c){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onHotKeyPressed(c))})("click",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onInputClick())})("selectAttachments",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onSelectAttachments())})("selectTemplate",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onSelectTemplate())})("newMention",function(c){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onNewMention(c))})("filesUploaded",function(c){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onRichTextFilesUploaded(c))})("selectionChange",function(c){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onSelectionChange(c))}),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(6,"div",6),a.\u0275\u0275template(7,ft,11,13,"div",7),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"div",8)(9,"input",9,2),a.\u0275\u0275listener("change",function(c){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.uploadFiles(c))}),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(11,yt,2,1,"div",10)(12,St,1,0,"ng-container",11),a.\u0275\u0275elementStart(13,"div",12),a.\u0275\u0275template(14,vt,4,6,"crt-button",13)(15,Et,4,6,"crt-button",14),a.\u0275\u0275elementStart(16,"crt-button",15),a.\u0275\u0275pipe(17,"translate"),a.\u0275\u0275listener("clicked",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onMessagePublish())}),a.\u0275\u0275text(18),a.\u0275\u0275pipe(19,"translate"),a.\u0275\u0275elementEnd()()()()}t&2&&(a.\u0275\u0275advance(3),a.\u0275\u0275property("crtKeyboardHotkeys",n.keyboardHotkeysMap)("control",n.inputControl)("showClip",!0)("useTemplates",n.useTemplates)("readonly",n.disabled)("placeholder",n.inputPlaceHolder)("mentionsService",n.mentionsService)("useBodyFilesLinks",!1)("selectionActions",n.selectionActions)("disableSelectionOptions",n.disableSelectionOptions)("label",a.\u0275\u0275pipeBind1(5,24,"MessageComposer.ComposerAreaLabel")),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngForOf",n.attachments),a.\u0275\u0275advance(),a.\u0275\u0275styleProp("margin-inline-start",n.footerPanelIndent,"px"),a.\u0275\u0275property("hidden",!n.footerPanelExpanded)("ngClass",a.\u0275\u0275pureFunction1(30,Ct,n.extendableMessageComposer)),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",n.extendableMessageComposer),a.\u0275\u0275advance(),a.\u0275\u0275property("ngTemplateOutlet",n.footerPanelOptions),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",n.isDiscardBtnVisible()),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.useDrafts&&!n.isValueEmpty()),a.\u0275\u0275advance(),a.\u0275\u0275propertyInterpolate("title",a.\u0275\u0275pipeBind1(17,26,"MessageComposer.SendButtonHint")),a.\u0275\u0275property("icon",n.sendButtonIcon)("disabled",n.sendingButtonDisabled),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate1("",a.\u0275\u0275pipeBind1(19,28,"MessageComposer.SendButtonText")," "))},dependencies:[M.NgClass,M.NgForOf,M.NgIf,M.NgTemplateOutlet,S.CrtButtonComponent,L.MatIcon,Q.CrtRichTextEditorComponent,w.CrtKeyboardHotkeysDirective,B.TranslatePipe,u.BypassSecurityTrustPipe,u.MemoryFormatPipe],styles:[`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}.base-message-composer{position:relative}.base-message-composer-footer{margin-top:7px;display:flex;justify-content:flex-end;align-items:center}.base-message-composer-footer.extendable-message-composer{justify-content:space-between}.base-message-composer-footer[hidden]{display:none;height:0px}.base-message-composer-footer-actions{display:flex}.base-message-composer-footer-actions .base-message-composer-footer-actions-button .crt-button.button-size-large{border-radius:4px;margin-inline-start:8px}.base-message-composer-input{display:flex}.base-message-composer-input-field{width:100%;margin-inline-start:0}.base-message-composer-input-field .crt-input,.base-message-composer-input-field .crt-input-control{padding-inline-end:0!important}.base-message-composer-input-field .rich-editor-wrapper{min-height:48px;border:1px solid var(--crt-palette-border-500);border-radius:8px}.base-message-composer-input-field .rich-editor-wrapper:hover,.base-message-composer-input-field .rich-editor-wrapper:focus-within{border:1px solid var(--crt-palette-primary-500)}.base-message-composer-input-field .rich-editor-wrapper [data-cke-editorplaceholder]:before{max-width:calc(100% - 44px)}.base-message-composer-input-field .rich-editor-wrapper .cke_editable{line-height:20px;padding-inline-start:16px;padding-top:16px;padding-bottom:16px;width:calc(100% - 22px);height:var(--height, unset)}.base-message-composer .message-composer-attachments{display:flex;flex-wrap:wrap;font-family:var(--crt-caption-font-family);font-size:var(--crt-caption-font-size);line-height:var(--crt-caption-line-height);font-weight:var(--crt-caption-font-weight);letter-spacing:var(--crt-caption-letter-spacing);text-transform:var(--crt-caption-text-transform);-webkit-font-smoothing:antialiased}.base-message-composer .message-composer-attachments .message-composer-attachment{display:flex;max-width:100%;margin-inline-end:30px;margin-top:10px}.base-message-composer .message-composer-attachments .message-composer-attachment-icon{width:24px;min-width:24px;height:17px;margin-inline-end:10px;border:1px solid var(--crt-palette-label-100);border-radius:4px}.base-message-composer .message-composer-attachments .message-composer-attachment-icon img{object-fit:contain;height:100%;width:100%}.base-message-composer .message-composer-attachments .message-composer-attachment-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-inline-end:10px}.base-message-composer .message-composer-attachments .message-composer-attachment-size{color:var(--crt-palette-label-500);margin-inline-end:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.base-message-composer .message-composer-attachments .message-composer-attachment-remove-icon{width:16px;min-width:8px;height:16px;cursor:pointer;color:var(--crt-palette-label-500)}.base-message-composer .message-composer-attachments .message-composer-attachment-remove-icon svg{height:8px}.base-message-composer .message-composer-attachments .message-composer-attachment-remove-icon:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}.base-message-composer .base-message-composer-input .base-message-composer-input-field .rich-editor-wrapper div.icons{padding-inline-end:5px;position:absolute;right:0;background:var(--crt-palette-background-50);border-top-left-radius:12px;padding-top:2px}[dir=rtl] .base-message-composer .base-message-composer-input .base-message-composer-input-field .rich-editor-wrapper div.icons{left:0;border-top-right-radius:12px;border-top-left-radius:initial;right:auto}
`],encapsulation:2})}};(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"disabled",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"sendingButtonDisabled",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"footerPanelExpanded",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",a.TemplateRef)],g.prototype,"footerPanelOptions",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",a.TemplateRef)],g.prototype,"channelSelector",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",a.TemplateRef)],g.prototype,"selectionActions",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"selectionChange",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Boolean)],g.prototype,"disableSelectionOptions",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"footerPanelIndent",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",String)],g.prototype,"inputPlaceHolder",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"useTemplates",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"useDrafts",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",String)],g.prototype,"composerCacheCode",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"discardBtnVisible",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",String)],g.prototype,"sendButtonIcon",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"maxAttachmentsSize",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"messageChangesCancel",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"composerCleared",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"messageInputFocus",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"messageInputBlur",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"messageInputClick",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"messageChanged",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"messagePublish",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"selectTemplate",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"attachmentAdded",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"saveDraft",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"mentionsService",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Number),(0,s.__metadata)("design:paramtypes",[Number])],g.prototype,"height",null),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],g.prototype,"newMention",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",V),(0,s.__metadata)("design:paramtypes",[V])],g.prototype,"dataCachingService",null),g=(0,s.__decorate)([(0,o.CrtViewElement)({type:"crt.BaseMessageComposer",reuseStrategy:o.ViewElementReuseStrategy.Reuse}),(0,s.__metadata)("design:paramtypes",[a.Injector,u.FileReaderService,Ve.FileIconService,Q.RichTextEditorUploadService,k.SysSettingsService,a.ChangeDetectorRef,S.MessageDialogProvider,u.CopilotToEditorCommunicationService])],g);const Tt=["baseComposer"];class O extends se.CrtBaseComponent{constructor(e){super(e),this.injector=e,this.footerPanelExpanded=!1,this.maxAttachmentsSize=0,this.composerEventChange=new a.EventEmitter,this.selectionChange=new a.EventEmitter,this._elementRef=e.get(a.ElementRef)}publishInputFocusEvent(){this.composerEventChange.emit([{name:De,params:{isFocused:this.footerPanelExpanded}}]),this.baseComposer&&(this.baseComposer.maxAttachmentsSize=this.maxAttachmentsSize)}onMessageInputFocus(){this.footerPanelExpanded=!0,this.publishInputFocusEvent()}onMessageInputBlur(){this.baseComposer?.getValue()||(this.footerPanelExpanded=!1,this.publishInputFocusEvent())}onMessageInputClick(){this.baseComposer?.getValue()||(this.footerPanelExpanded=!0,this.publishInputFocusEvent())}sendComponentReadyEvent(e){this.composerEventChange.emit([{name:je,params:{composerSchemaType:e}}])}get element(){return this.elementRef?.nativeElement}onSelectionChange(e){this.selectionChange.next(e)}static{this.\u0275fac=function(t){return new(t||O)(a.\u0275\u0275directiveInject(a.Injector))}}static{this.\u0275dir=a.\u0275\u0275defineDirective({type:O,viewQuery:function(t,n){if(t&1&&a.\u0275\u0275viewQuery(Tt,5),t&2){let i;a.\u0275\u0275queryRefresh(i=a.\u0275\u0275loadQuery())&&(n.baseComposer=i.first)}},inputs:{maxAttachmentsSize:"maxAttachmentsSize",selection:"selection",disableSelectionOptions:"disableSelectionOptions"},outputs:{composerEventChange:"composerEventChange",selectionChange:"selectionChange"},features:[a.\u0275\u0275InheritDefinitionFeature]})}}(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],O.prototype,"composerEventChange",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",String)],O.prototype,"selection",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],O.prototype,"selectionChange",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Boolean)],O.prototype,"disableSelectionOptions",void 0);class U extends se.CrtBaseComponent{constructor(){super(...arguments),this.labelText="MessageComposer.MessageSent"}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=a.\u0275\u0275getInheritedFactory(U)))(n||U)}})()}static{this.\u0275cmp=a.\u0275\u0275defineComponent({type:U,selectors:[["crt-base-snackbar-label"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:4,vars:3,consts:[[1,"message-snackbar-label-container"],["labelTextAlign","center"]],template:function(t,n){t&1&&(a.\u0275\u0275elementStart(0,"div",0)(1,"crt-label",1),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd()()),t&2&&(a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(3,1,n.labelText)))},dependencies:[S.CrtLabelComponent,B.TranslatePipe],styles:[`.message-action-snackbar-container{--mdc-snackbar-container-color: var(--crt-color-primary-black);opacity:.6!important}.message-action-snackbar-container .message-snackbar-label-container{width:100%}.message-action-snackbar-container .message-snackbar-label-container .crt-label{width:100%;color:var(--crt-palette-background-50)}
`],encapsulation:2})}}class X extends U{constructor(){super(...arguments),this.labelText="MessageComposer.Email.DraftSaved"}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=a.\u0275\u0275getInheritedFactory(X)))(n||X)}})()}static{this.\u0275cmp=a.\u0275\u0275defineComponent({type:X,selectors:[["crt-draft-saved-snackbar-label"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:4,vars:3,consts:[[1,"message-snackbar-label-container"],["labelTextAlign","center"]],template:function(t,n){t&1&&(a.\u0275\u0275elementStart(0,"div",0)(1,"crt-label",1),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd()()),t&2&&(a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(3,1,n.labelText)))},dependencies:[S.CrtLabelComponent,B.TranslatePipe],styles:[`.message-action-snackbar-container{--mdc-snackbar-container-color: var(--crt-color-primary-black);opacity:.6!important}.message-action-snackbar-container .message-snackbar-label-container{width:100%}.message-action-snackbar-container .message-snackbar-label-container .crt-label{width:100%;color:var(--crt-palette-background-50)}
`],encapsulation:2})}}class ee extends U{constructor(){super(...arguments),this.labelText="MessageComposer.Email.EmailSent"}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=a.\u0275\u0275getInheritedFactory(ee)))(n||ee)}})()}static{this.\u0275cmp=a.\u0275\u0275defineComponent({type:ee,selectors:[["crt-email-sent-snackbar-label"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:4,vars:3,consts:[[1,"message-snackbar-label-container"],["labelTextAlign","center"]],template:function(t,n){t&1&&(a.\u0275\u0275elementStart(0,"div",0)(1,"crt-label",1),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd()()),t&2&&(a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(3,1,n.labelText)))},dependencies:[S.CrtLabelComponent,B.TranslatePipe],styles:[`.message-action-snackbar-container{--mdc-snackbar-container-color: var(--crt-color-primary-black);opacity:.6!important}.message-action-snackbar-container .message-snackbar-label-container{width:100%}.message-action-snackbar-container .message-snackbar-label-container .crt-label{width:100%;color:var(--crt-palette-background-50)}
`],encapsulation:2})}}var Mt=_(87368);const Rt=l=>({"recipient-not-valid":l});function It(l,e){if(l&1){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",6),a.\u0275\u0275pipe(1,"translate"),a.\u0275\u0275listener("keydown.delete",function(){const i=a.\u0275\u0275restoreView(t).$implicit,r=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(r.removeRecipient(i.value))}),a.\u0275\u0275elementStart(2,"crt-label",7),a.\u0275\u0275pipe(3,"encodeHtml"),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"mat-icon",8),a.\u0275\u0275pipe(6,"translate"),a.\u0275\u0275listener("click",function(){const i=a.\u0275\u0275restoreView(t).$implicit,r=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(r.removeRecipient(i.value))})("keydown.enter",function(){const i=a.\u0275\u0275restoreView(t).$implicit,r=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(r.removeRecipient(i.value))}),a.\u0275\u0275elementEnd()()}if(l&2){const t=e.$implicit,n=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(11,Rt,!n.validateRecipient(t))),a.\u0275\u0275attribute("aria-label",a.\u0275\u0275pipeBind1(1,5,n.recipientLabel)),a.\u0275\u0275advance(2),a.\u0275\u0275property("crtTooltip",a.\u0275\u0275pipeBind1(3,7,n.getTooltip(t))),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate1(" ",n.getRecipientDisplayValue(t)," "),a.\u0275\u0275advance(),a.\u0275\u0275attribute("aria-label",a.\u0275\u0275pipeBind1(6,9,"MessageComposer.Email.RemoveRecipientLabel"))}}class ie extends Mt.CrtBaseEditInputComponent{get dropDownRecipients(){return this.filteredRecipients.filter(e=>!this.selectedRecipients.some(t=>e.displayValue===t.displayValue))}set rawRecipinets(e){e&&(this._rawRecipients=e,this._loadRecipients(this.recipientSearchControl.value,0))}set recipientLabelWidth(e){e&&(this._labelWidth=e+"px")}constructor(e,t,n){super(e,null,t),this._translateService=n,this._hasNextPage=!0,this._labelWidth="136px",this.recipientSearchControl=new ue.FormControl(null),this.selectedRecipients=new Array,this.filteredRecipients=new Array,this.loadRecipients=new a.EventEmitter,this.recipientsChanged=new a.EventEmitter,this.recipientSearchControl.valueChanges.subscribe(i=>this._selectRecipient(i))}_selectRecipient(e){e&&e.value&&!this.selectedRecipients.some(t=>t.displayValue===e.displayValue)&&(this.selectedRecipients.push(e),this.recipientsChanged.emit(this.selectedRecipients.map(t=>t.displayValue)))}_setRecipientsComboboxList(e,t=!1){this._rawRecipients=t?[...this._rawRecipients,...e]:e;const n=e.map(i=>i.emails).flat(1);this.filteredRecipients=t?[...this.filteredRecipients,...n]:n}_loadRecipients(e,t=0){this.recipientsLoading=!0,this._hasNextPage=this._rawRecipients.length>0,this._rawRecipients&&this._rawRecipients.length>0?this._setRecipientsComboboxList(this._rawRecipients,t>0):t===0&&!(0,m.isEmpty)(e)&&this._setRecipientsComboboxList([{emails:[this._mapRecipient(e)]}]),this.recipientsLoading=!1,this.changeDetectorRef.markForCheck()}_mapRecipient(e){return{value:(0,o.generateGuid)(),displayValue:e.trim()}}getRecipients(){return this.selectedRecipients?this.selectedRecipients.map(e=>e.displayValue):[]}setRecipients(e){this.selectedRecipients=e?.filter(t=>!(0,m.isEmpty)(t)).map(t=>this._mapRecipient(t))}clear(){this.clearCombobox(),this.selectedRecipients=[],this.recipientsChanged.emit([])}validate(){return this.selectedRecipients.length>0&&this.selectedRecipients.filter(e=>!this.validateRecipient(e)).length===0}searchRecipients(e){(0,m.isEmpty)(e)&&(e={viewElement:"crt.ComboBox",filterValue:null}),this.loadRecipients.emit({query:e.filterValue,recipientsLength:0})}clearCombobox(){this._hasNextPage=!0,this.recipientSearchControl.setValue(null)}removeRecipient(e){this.selectedRecipients=this.selectedRecipients.filter(t=>t.value!==e),this.recipientsChanged.emit(this.selectedRecipients.map(t=>t.displayValue)),this.changeDetectorRef.markForCheck()}getRecipientDisplayValue(e){const t=new RegExp(`\\s?<${F.CONTAINS_EMAIL_PATTERN}>`,"g"),n=new RegExp(/^;+|;+$/,"g"),i=new RegExp(/[^\s]/,"g"),r=e.displayValue.replace(t,"").replace(n,"");return i.test(r)?r:e.displayValue}validateRecipient(e){return(0,F.containsEmail)(e.displayValue)}getTooltip(e){return this.validateRecipient(e)?(0,F.isEmailAddress)(e.displayValue)?"":e.displayValue:`"${e.displayValue}" ${this._translateService.instant("MessageComposer.Email.NotContainsEmail")}`}loadNextPage(){this._hasNextPage&&this.loadRecipients.emit({query:this.recipientSearchControl.value,recipientsLength:this._rawRecipients.length})}static{this.\u0275fac=function(t){return new(t||ie)(a.\u0275\u0275directiveInject(a.Injector),a.\u0275\u0275directiveInject(a.ChangeDetectorRef),a.\u0275\u0275directiveInject(B.TranslateService))}}static{this.\u0275cmp=a.\u0275\u0275defineComponent({type:ie,selectors:[["crt-recipient-search"]],hostVars:2,hostBindings:function(t,n){t&2&&a.\u0275\u0275styleProp("--labelWidth",n._labelWidth)},inputs:{rawRecipinets:"rawRecipinets",recipientLabel:"recipientLabel",recipientLabelWidth:"recipientLabelWidth"},outputs:{loadRecipients:"loadRecipients",recipientsChanged:"recipientsChanged"},features:[a.\u0275\u0275InheritDefinitionFeature],decls:8,vars:9,consts:[[1,"recipients-container"],[1,"recipients-label-container"],["labelType","caption"],[1,"selected-recipients-container"],["class","selected-recipient","tabindex","0",3,"ngClass","keydown.delete",4,"ngFor","ngForOf"],["labelPosition","none","data-item-marker","recipients-search-combobox",3,"closed","showList","paginationChange","control","items","loading","debounceTime","appearance"],["tabindex","0",1,"selected-recipient",3,"keydown.delete","ngClass"],["labelEllipsis","true",1,"selected-recipient-label",3,"crtTooltip"],["svgIcon","message-composer-attach-cross","data-qa","selected-recipient-remove-button","tabindex","0",1,"selected-recipient-remove-button",3,"click","keydown.enter"]],template:function(t,n){t&1&&(a.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"crt-label",2),a.\u0275\u0275text(3),a.\u0275\u0275pipe(4,"translate"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(5,"div",3),a.\u0275\u0275template(6,It,7,13,"div",4),a.\u0275\u0275elementStart(7,"crt-combobox",5),a.\u0275\u0275listener("closed",function(){return n.clearCombobox()})("showList",function(r){return n.searchRecipients(r)})("paginationChange",function(){return n.loadNextPage()}),a.\u0275\u0275elementEnd()()()),t&2&&(a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(4,7,n.recipientLabel)," "),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngForOf",n.selectedRecipients),a.\u0275\u0275advance(),a.\u0275\u0275property("control",n.recipientSearchControl)("items",n.dropDownRecipients)("loading",n.recipientsLoading)("debounceTime",100)("appearance","legacy"))},dependencies:[M.NgClass,M.NgForOf,w.TooltipDirective,S.CrtComboBoxComponent,S.CrtLabelComponent,L.MatIcon,B.TranslatePipe,u.EncodeHtmlPipe],styles:[`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}.recipients-container{display:flex;width:100%;padding-top:8px}.recipients-container .recipients-label-container{margin-inline-end:10px;display:flex;width:var(--labelWidth, 136px);min-width:var(--labelWidth, 136px);flex-direction:row-reverse}.recipients-container .recipients-label-container .crt-label{color:var(--crt-base-input-label-color);margin-top:9px}.recipients-container .selected-recipients-container{display:flex;width:calc(100% - var(--labelWidth, 136px));flex-wrap:wrap;min-height:32px;align-items:flex-end}.recipients-container .selected-recipients-container .selected-recipient{display:flex;align-items:center;background-color:var(--crt-palette-interaction-900);border-radius:12px;padding:0 12px;margin:4px 0;margin-inline-end:12px;width:min-content;max-width:calc(100% - 36px);cursor:pointer}.recipients-container .selected-recipients-container .selected-recipient label{color:var(--crt-palette-link-500)}.recipients-container .selected-recipients-container .selected-recipient.recipient-not-valid{background-color:var(--crt-palette-navigation-primary-500)}.recipients-container .selected-recipients-container .selected-recipient.recipient-not-valid label{color:var(--crt-palette-label-contrast-500)}.recipients-container .selected-recipients-container .selected-recipient:first-of-type{margin-top:9px}.recipients-container .selected-recipients-container .selected-recipient-label{max-width:100%}.recipients-container .selected-recipients-container .selected-recipient-remove-button{display:none;flex-basis:10px;height:10px;flex-grow:0;flex-shrink:0;width:unset;color:var(--crt-palette-label-500)}.recipients-container .selected-recipients-container .selected-recipient-remove-button:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}.recipients-container .selected-recipients-container .selected-recipient:hover .selected-recipient-remove-button,.recipients-container .selected-recipients-container .selected-recipient:focus-within .selected-recipient-remove-button{display:flex}.recipients-container .selected-recipients-container .selected-recipient:hover .selected-recipient-label,.recipients-container .selected-recipients-container .selected-recipient:focus-within .selected-recipient-label{max-width:calc(100% - 10px)}.recipients-container .selected-recipients-container .selected-recipient:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:12px}
`],encapsulation:2})}}const xt=()=>({height:"52px"}),wt=()=>({height:"32px",width:"100px","margin-right":"8px"});let te=class Ae extends se.CrtBaseComponent{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=a.\u0275\u0275getInheritedFactory(Ae)))(n||Ae)}})()}static{this.\u0275cmp=a.\u0275\u0275defineComponent({type:Ae,selectors:[["crt-base-message-composer-skeleton"]],features:[a.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[[1,"message-composer-skeleton-container"],["appearance","line","count","1",1,"message-composer-skeleton-container-body",3,"styles"],["appearance","line","count","2",1,"message-composer-skeleton-container-buttons",3,"styles"]],template:function(t,n){t&1&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275element(1,"crt-skeleton-loader",1)(2,"crt-skeleton-loader",2),a.\u0275\u0275elementEnd()),t&2&&(a.\u0275\u0275advance(),a.\u0275\u0275property("styles",a.\u0275\u0275pureFunction0(2,xt)),a.\u0275\u0275advance(),a.\u0275\u0275property("styles",a.\u0275\u0275pureFunction0(3,wt)))},dependencies:[w.SkeletonLoaderComponent],styles:[".message-composer-skeleton-container-body[_ngcontent-%COMP%]{margin:5px 0}.message-composer-skeleton-container-buttons[_ngcontent-%COMP%]{justify-content:space-between;text-align:end}"]})}};te=(0,s.__decorate)([(0,o.CrtViewElement)({type:"crt.BaseMessageComposerSkeleton",reuseStrategy:o.ViewElementReuseStrategy.Reuse})],te);const Bt=["toRecipientSearch"],At=["ccRecipientSearch"],Ft=["bccRecipientSearch"],kt=[[["","channelsPanel",""]],[["","selectionActions",""]]],jt=["[channelsPanel]","[selectionActions]"],Xe=l=>({display:l}),Dt=()=>({height:"12px",width:"80%","margin-bottom":"5px","margin-top":"5px"});function Pt(l,e){if(l&1&&(a.\u0275\u0275element(0,"crt-button",28),a.\u0275\u0275pipe(1,"translate")),l&2){const t=a.\u0275\u0275nextContext();a.\u0275\u0275propertyInterpolate("title",a.\u0275\u0275pipeBind1(1,3,"MessageComposer.Email.ChangeReplyAction")),a.\u0275\u0275property("icon",t.getReplyActionIcon())("menuItems",t.itemActionItems)}}function Vt(l,e){if(l&1){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"crt-button",29),a.\u0275\u0275pipe(1,"translate"),a.\u0275\u0275listener("clicked",function(){a.\u0275\u0275restoreView(t);const i=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(i.toggleVisibleCc())}),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd()}l&2&&(a.\u0275\u0275property("title",a.\u0275\u0275pipeBind1(1,2,"MessageComposer.Email.CC")),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(3,4,"MessageComposer.Email.CcToggleCaption")," "))}function Ot(l,e){if(l&1){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"crt-button",30),a.\u0275\u0275pipe(1,"translate"),a.\u0275\u0275listener("clicked",function(){a.\u0275\u0275restoreView(t);const i=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(i.toggleVisibleBcc())}),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd()}l&2&&(a.\u0275\u0275property("title",a.\u0275\u0275pipeBind1(1,2,"MessageComposer.Email.BCC")),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(3,4,"MessageComposer.Email.BccToggleCaption")," "))}function Lt(l,e){l&1&&a.\u0275\u0275projection(0)}function Nt(l,e){l&1&&a.\u0275\u0275projection(0,1)}class Oe{}let h=class Je extends O{get activityId(){return this._activityId}get replyAction(){return this._replyAction}set replyAction(e){this._replyAction=e,this._updateLabelsWidth()}set from(e){if(this._from=e,this._skeletonLoading){this._defaultFrom=this._from;return}this._setFrom(this._from),e!==""&&!this._postponeSignature&&this._setSignature()}get from(){return this._from}set sendersMailboxes(e){e&&(this._sendersMailboxes=e,this.fromLookupValues=this._getFromLookupValues(this._sendersMailboxes),e.length===1&&this._setFrom(e[0].senderEmailAddress),this._mailboxSendersSet.next(this.maxAttachmentsSize))}get sendersMailboxes(){return this._sendersMailboxes}set to(e){e!=null&&this.toInputControl?.setRecipients(e)}get to(){return this._to}set cc(e){e!=null&&this.ccInputControl?.setRecipients(e)}get cc(){return this._cc}set bcc(e){e!=null&&this.bccInputControl?.setRecipients(e)}get bcc(){return this._bcc}set body(e){e!=null&&this.baseComposer.setValue(e)}get body(){return this._body}set recipientsMailboxes(e){e?.recipients&&(this.toInputControl.rawRecipinets=e.recipients,this.ccInputControl.rawRecipinets=e.recipients,this.bccInputControl.rawRecipinets=e.recipients)}set emailId(e){!(0,m.isEmpty)(e)&&e!==o.EMPTY_GUID&&(this._replyAction=v.EditDraft,this._postponeSignature=!0,this._handleReplyAction(e,v.EditDraft))}set skeletonLoading(e){this._skeletonLoading=e}get skeletonLoading(){return this._skeletonLoading||this.loading}get cacheCode(){if((0,m.isEmpty)(this._userId)||!(0,m.isEmpty)(this.entitySchemaName)&&(0,m.isEmpty)(this.recordId)||this._replyAction===v.EditDraft)return"";let e=`email_composer_cache_data_${this._userId}_`;return!(0,m.isEmpty)(this.entitySchemaName)&&!(0,m.isEmpty)(this.recordId)&&(e+=`${this.entitySchemaName}_${this.recordId}`),e}set headerLabelsWidth(e){e&&(this._headerLabelsWidth=this.getReplyButtonVisible()?this._defaultHeaderLabelsWidth:e,this._headerLabelsWidthString=this._headerLabelsWidth+"px")}get headerLabelsWidth(){return this._headerLabelsWidth}set expandOnLoad(e){e&&this.onMessageInputFocus()}set composerEvent(e){e?.forEach(t=>{switch(t?.name){case oe:this._handleReplyAction(t.params?.emailId,t.params?.action);break;case ke:this._emailSaved(t.params.response);break}})}constructor(e,t){super(e),this._document=t,this._defaultAttachmentsSizeLimit=50,this._emailSchemaName="Activity",this._iconsMap={reply:"reply-message","reply-all":"reply-all-message",forward:"forward-message"},this._defaultHeaderLabelsWidth=136,this._skeletonLoading=!1,this._defaultFrom="",this._subscriptions=[],this._headers=[],this._postponeSignature=!1,this._mailboxSendersSet=new p.Subject,this.fromInputControl=new ue.FormControl(null),this.itemActionItems=[],this.subjectInputControl=new ue.FormControl(null),this._defaultHeaderLabelsWidthString="136px",this.subjectChange=new a.EventEmitter,this.fromChange=new a.EventEmitter,this.toChange=new a.EventEmitter,this.ccChange=new a.EventEmitter,this.bccChange=new a.EventEmitter,this.bodyChange=new a.EventEmitter,this.isReplyExpanded=!1,this.visibleCc=!1,this.visibleCcChange=new a.EventEmitter,this.visibleBcc=!1,this.visibleBccChange=new a.EventEmitter,this.headerExpanded=!1,this.headerExpandedChange=new a.EventEmitter,this.emailComposerCleared=new a.EventEmitter,this.emailComposerSaved=new a.EventEmitter,this.refreshRecipients=new a.EventEmitter,this._isDesignTime=e.get(u.IS_DESIGN_TIME,!1),this._sendEmailService=e.get(K),this._maskService=e.get(w.MaskService),this._messageDialogProvider=e.get(S.MessageDialogProvider),this._translateService=e.get(B.TranslateService),this._sysSettingsService=e.get(k.SysSettingsService),this._emailsService=e.get(z),this._emailTemplatesService=e.get(J),this._emailSignatureService=e.get(q),this.emailComposerCachingService=e.get(Y),this._userInfo=e.get(u.UserInfo),!this._isDesignTime&&(this._userId=this._userInfo.id,this._init(),this._initItemActionItems())}_initItemActionItems(){this.itemActionItems=[{caption:this._translateService.instant("MessageComposer.Email.Reply"),type:"crt.MenuItem",name:"Reply",icon:"reply-message",handleItemClick:()=>this.changeReplyAction(v.Reply)},{caption:this._translateService.instant("MessageComposer.Email.ReplyAll"),type:"crt.MenuItem",name:"ReplyAll",icon:"reply-all-message",handleItemClick:()=>this.changeReplyAction(v.ReplyAll)},{caption:this._translateService.instant("MessageComposer.Email.Forward"),type:"crt.MenuItem",name:"Forward",icon:"forward-message",handleItemClick:()=>this.changeReplyAction(v.Forward)}]}_init(){this._skeletonLoading=!0,this._subscribeToEvents(),this._subscriptions.push((0,p.of)(this._sysSettingsService.getValueByCode("MaxAttachmentsSize",this._defaultAttachmentsSizeLimit),this._mailboxSendersSet).pipe((0,p.concatAll)()).subscribe(e=>{this.maxAttachmentsSize=e,this._skeletonLoading=!1,this.changeDetectorRef.markForCheck(),this._requestDefaultSender().then(()=>this._setDefaultFrom())}))}_requestDefaultSender(){if((0,m.isEmpty)(this.defaultSenderRequest))return new Promise(t=>t());const e={type:this.defaultSenderRequest,...this._getDefaultSenderRequestParams()};return o.HandlerChainService.instance.process(e).then(t=>this._defaultFrom=t).then()}_getDefaultSenderRequestParams(){return{recordId:this.defaultSenderRequest===S.DefaultSenderRequestType.DefaultMailbox?this._userId:this.recordId}}_setDefaultFrom(){!(0,m.isEmpty)(this._defaultFrom)&&(0,m.isEmpty)(this.from)&&this._setFrom(this._defaultFrom)}_setFrom(e){if((0,m.isEmpty)(e))this.fromInputControl?.setValue("");else{e=e.toLowerCase();let t=this.fromLookupValues?.find(n=>n.displayValue.toLowerCase().trim()===e.trim());(0,m.isEmpty)(t)&&(t=this.fromLookupValues?.find(n=>n.displayValue.toLowerCase().includes(e))),t?this.fromInputControl?.setValue(t):this.fromInputControl?.setValue("")}}_subscribeToEvents(){this._subscriptions.push(this.fromInputControl.valueChanges.pipe((0,p.startWith)(null),(0,p.pairwise)()).subscribe(([e,t])=>{(e??"")!==(t??"")&&this.fromChange.emit(t?.displayValue)})),this._subscriptions.push(this.subjectInputControl.valueChanges.pipe((0,p.startWith)(null),(0,p.pairwise)()).subscribe(([e,t])=>{e!==t&&this.subjectChange.emit(t)}))}_emailSaved(e){e.activityId===this._activityId&&(this._isDraftSaving?this._processDraftSaved(e):this._processEmailSaving(e).pipe((0,p.concatMap)(t=>this._processSendingResult(t))).subscribe())}_processDraftSaved(e){e.success?(this.baseComposer.showSnackbar(X),this._updateNextSteps(),this.onMessageCancel()):this._showErrorMessage(this._translateService.instant("MessageComposer.Email.SaveDraftError")),this._maskService.hideBodyMask()}_processEmailSaving(e){return e.success?this._sendEmailService.sendEmail(this._activityId):(0,p.of)(e)}_unsubscribeFromEvents(){this._subscriptions.forEach(e=>e?.unsubscribe())}_setSignature(){const e=this.fromInputControl.value,t=this.baseComposer?.getValue();if((0,m.isEmpty)(e)&&(0,m.isEmpty)(t))return;const i=this.sendersMailboxes?.find(c=>c.id===e?.value),r=i?.useSignature?i?.signature:b.String.empty;this._subscriptions.push(this._emailSignatureService.updateSignatureInBody(t,r).subscribe(c=>this.baseComposer?.setValue(c)))}_handleReplyAction(e,t){if(!(!(0,m.isEmpty)(e)&&this._inReplyTo?.id===e&&this.replyAction===t)){if((0,m.isEmpty)(e)){this._clearFields(),window.requestAnimationFrame(()=>{this.baseComposer?.focus()});return}this._subscriptions.push(this._emailsService.getEmail(e,[v.Forward,v.EditDraft].includes(t)).pipe((0,p.concatMap)(n=>(this._inReplyTo=t===v.EditDraft?null:n,this.replyAction=t,t===v.EditDraft?(0,p.of)({...n,bodyShort:n.body}):this._emailsService.getReplyDraft(n,t)))).subscribe(n=>{t!==v.EditDraft?(this._inReplyTo.body=n.body,this._inReplyTo.bodyShort=n.bodyShort,this._activityId=null):this._activityId=n.id,this.isReplyExpanded=!1,this._postponeSignature=!1,this._fillForm(n,!0)}))}}_fillForm(e,t=!1){this.toInputControl.setRecipients(e.to),this.ccInputControl.setRecipients(e.cc),this.bccInputControl.setRecipients(e.bcc),this.setVisibleCc(e.cc?.length>0),this.setVisibleBcc(e.bcc?.length>0),this._headers=e.headers,this.subjectInputControl.setValue(e.subject);const n=this.baseComposer.getValue();if(!n||t){const r=!(0,m.isEmpty)(n)&&(0,m.isEmpty)(this._activityId)?this._emailsService.getDraftUserContent(n,!0):e.bodyShort;this.baseComposer.setValue(r)}this.replyAction===v.EditDraft?this.from=e.from:(this.from="",this._requestDefaultSender().then(()=>this._setDefaultFrom()));let i=[];t||(i=this.baseComposer.attachments.filter(r=>r.content.byteLength===void 0?r.content!=="":r.content.byteLength>0)),this.baseComposer.attachments=[...i,...e.attachments],this.baseComposer?.focus()}_getFromLookupValues(e){return e?.map(t=>({value:t.id,displayValue:t.senderDisplayValue?`${t.senderDisplayValue} <${t.senderEmailAddress}>`:t.senderEmailAddress}))}_getEmail(){const e=this.baseComposer.attachments;let t=!1;return this._activityId?t=!0:this._activityId=(0,o.generateGuid)(),this.baseComposer.saveInlineImagesToDb({schemaName:this._emailSchemaName,recordId:this._activityId,fileSchemaName:""}).pipe((0,p.map)(()=>({id:this._activityId,from:this.fromInputControl?.value?.displayValue,to:this.toInputControl.getRecipients(),cc:this.ccInputControl.getRecipients(),bcc:this.bccInputControl.getRecipients(),subject:this.subjectInputControl?.value,body:this.baseComposer?.getValue(),isDraft:t,headers:(0,m.cloneDeep)(this._headers),attachments:e?.map(n=>({...n,recordId:this._activityId,fileEntitySchemaName:"ActivityFile",recordEntitySchemaName:this._emailSchemaName,recordColumnName:"Activity"}))})))}_validate(){const e=new Array;return this.fromInputControl.value||e.push(this._translateService.instant("MessageComposer.Email.FromValidationErrorMessage")),!this.toInputControl.validate()&&!this.ccInputControl.validate()&&!this.bccInputControl.validate()&&e.push(this._translateService.instant("MessageComposer.Email.ToValidationErrorMessage")),this.subjectInputControl.value||e.push(this._translateService.instant("MessageComposer.Email.SubjectValidationErrorMessage")),e.length>0?(this._showErrorMessage(e.join(`\r
\r
`)),!1):!0}_showErrorMessage(e){this._messageDialogProvider.error(e)}_onTemplateSelected(e){var t=this;return(0,E.A)(function*(){if(e&&!e.canceled){const i=(yield e?.getLookupValues())[0]?.value;if((0,m.isEmpty)(i))return;t._maskService.showBodyMask(),t._emailTemplatesService.getMultiLanguageTemplate(i,t.entitySchemaName,t.recordId).subscribe({next:r=>t._insertTemplate(r?.subjectTemplate,r?.textTemplate),error:r=>t._onErrorProcessedTemplate(r)})}})()}_onErrorProcessedTemplate(e=null){this._maskService.hideBodyMask(),e&&console.error(e),this._showErrorMessage("MessageComposer.Email.TemplateInsertError")}_insertTemplate(e,t){const n=this.baseComposer?.getValue();(0,m.isEmpty)(n)||(t+=n),this.baseComposer?.setValue(t),(0,m.isEmpty)(this.subjectInputControl?.value)&&this.subjectInputControl?.setValue(e),this._maskService.hideBodyMask(),this.baseComposer?.focus()}_saveEmail(e){this._inReplyTo&&!this.isReplyExpanded&&(e.body=this._emailsService.getSafeUserContentReplyBody(e.body,this._inReplyTo.body));const t={inReplyToId:this._inReplyTo?.id,masterRecordId:this.recordId,masterSchemaName:this.entitySchemaName,defaultValues:new Array,bindingColumns:new Array};this.bindingColumns&&this.bindingColumns.forEach(i=>{t.bindingColumns.push({activityColumnName:i.activityColumnName,formAttributeName:i.formAttributeName})});const n={email:e,params:t};return this.emailComposerSaved.emit(n),(0,p.of)()}_processSendingResult(e){if(e.success)this.baseComposer.showSnackbar(ee),this._updateNextSteps(),this.onMessageCancel();else{const t=this._translateService.instant("MessageComposer.Email.PublishError");this._showErrorMessage(b.String.format(t,e.errorInfo.message))}return this._maskService.hideBodyMask(),(0,p.of)(!0)}_updateNextSteps(){const e={type:"crt.ChangeNextStepsStateRequest",$context:null};o.HandlerChainService.instance.process(e)}_clearFields(){this._activityId=null,this.baseComposer?.clear(),this.fromInputControl?.setValue(""),this.toInputControl?.clear(),this.ccInputControl?.clear(),this.bccInputControl?.clear(),this.subjectInputControl?.setValue(""),this.replyAction=null,this._inReplyTo=null}_updateLabelsWidth(){this.getReplyButtonVisible()&&((!this.toInputControl||!this.ccInputControl||!this.bccInputControl)&&this.changeDetectorRef.detectChanges(),this.headerLabelsWidth=this._defaultHeaderLabelsWidth,this.toInputControl.recipientLabelWidth=this._defaultHeaderLabelsWidth,this.ccInputControl.recipientLabelWidth=this._defaultHeaderLabelsWidth,this.bccInputControl.recipientLabelWidth=this._defaultHeaderLabelsWidth)}getReplyButtonVisible(){return this.replyAction&&this.replyAction!==v.EditDraft}saveDraft(){this.subjectInputControl.value||this.subjectInputControl.setValue(this._translateService.instant("MessageComposer.Email.Draft").toUpperCase()),this._isDraftSaving=!0,this._maskService.showBodyMask(),this._subscriptions.push(this._getEmail().pipe((0,p.concatMap)(e=>this._saveEmail(e))).subscribe())}onSelectTemplate(){const e=this._emailTemplatesService.getTemplatesLookupConfig(this.entitySchemaName);e.afterClosed=t=>this._onTemplateSelected(t),o.HandlerChainService.instance.process(e)}onMessagePublish(){this._validate()&&(this._isDraftSaving=!1,this._maskService.showBodyMask(),this._subscriptions.push(this._getEmail().pipe((0,p.concatMap)(e=>this._saveEmail(e))).subscribe()))}onMessageChanged(){const e=this._document.getElementsByClassName("email-composer-reply-expander");e.length>0&&e[e.length-1].addEventListener("click",this.toggleReplyBody.bind(this)),this.bodyChange.emit(this.baseComposer.getValue())}setHeaderExpanded(e){this.headerExpanded=e,this.headerExpandedChange.emit(this.headerExpanded)}setVisibleCc(e){this.visibleCc=e,this.visibleCcChange.emit(this.visibleCc)}setVisibleBcc(e){this.visibleBcc=e,this.visibleBccChange.emit(this.visibleBcc)}onMessageCancel(){this._clearFields(),this.setHeaderExpanded(!1),this.setVisibleCc(!1),this.setVisibleBcc(!1)}onMessageInputFocus(){this.footerPanelExpanded=!0,this.publishInputFocusEvent(),this.setHeaderExpanded(!0)}onMessageInputBlur(){this.headerExpanded||(this.footerPanelExpanded=!1,this.publishInputFocusEvent())}onMessageInputClick(){this.headerExpanded||(this.footerPanelExpanded=!0,super.onMessageInputClick())}toggleVisibleCc(){this.setVisibleCc(!this.visibleCc)}toggleVisibleBcc(){this.setVisibleBcc(!this.visibleBcc)}getReplyActionIcon(){return this._iconsMap[this.replyAction]}changeReplyAction(e){if(e===this.replyAction)return;this.replyAction=e;let t=(0,p.of)(this._inReplyTo);e===v.Forward&&this._inReplyTo.attachments?.length===0&&(t=this._emailsService.getAttachments(this._inReplyTo.id).pipe((0,p.switchMap)(n=>(this._inReplyTo.attachments=n,(0,p.of)(this._inReplyTo))))),this._subscriptions.push(t.pipe((0,p.concatMap)(n=>this._emailsService.getReplyDraft(n,e))).subscribe(n=>{this._fillForm(n)}))}toggleReplyBody(){const e=this.baseComposer.getValue();this._inReplyTo.body=this._emailsService.getSafeUserContentReplyBody(e,this._inReplyTo.body),this.baseComposer.setValue(this._inReplyTo.body),this.isReplyExpanded=!0}onFromFocus(){this.setHeaderExpanded(!0)}ngOnDestroy(){this._unsubscribeFromEvents()}ngAfterViewInit(){this.sendComponentReadyEvent("Email")}loadRecipients({query:e,recipientsLength:t}){this.refreshRecipients.next({query:e,recipientsLength:t})}toChanged(e){this.toChange.next(e)}ccChanged(e){this.ccChange.next(e)}bccChanged(e){this.bccChange.next(e)}static{this.\u0275fac=function(t){return new(t||Je)(a.\u0275\u0275directiveInject(a.Injector),a.\u0275\u0275directiveInject(M.DOCUMENT))}}static{this.\u0275cmp=a.\u0275\u0275defineComponent({type:Je,selectors:[["crt-email-composer"]],viewQuery:function(t,n){if(t&1&&(a.\u0275\u0275viewQuery(Bt,5),a.\u0275\u0275viewQuery(At,5),a.\u0275\u0275viewQuery(Ft,5)),t&2){let i;a.\u0275\u0275queryRefresh(i=a.\u0275\u0275loadQuery())&&(n.toInputControl=i.first),a.\u0275\u0275queryRefresh(i=a.\u0275\u0275loadQuery())&&(n.ccInputControl=i.first),a.\u0275\u0275queryRefresh(i=a.\u0275\u0275loadQuery())&&(n.bccInputControl=i.first)}},hostVars:4,hostBindings:function(t,n){t&2&&a.\u0275\u0275styleProp("--defaultHeaderLabelsWidthString",n._defaultHeaderLabelsWidthString)("--headerLabelsWidthString",n._headerLabelsWidthString)},inputs:{subject:"subject",from:"from",sendersMailboxes:"sendersMailboxes",to:"to",cc:"cc",bcc:"bcc",body:"body",recipientsMailboxes:"recipientsMailboxes",emailId:"emailId",skeletonLoading:"skeletonLoading",height:"height",defaultSenderRequest:"defaultSenderRequest",bindingColumns:"bindingColumns",recordId:"recordId",entitySchemaName:"entitySchemaName",isReplyExpanded:"isReplyExpanded",visibleCc:"visibleCc",visibleBcc:"visibleBcc",headerExpanded:"headerExpanded",headerLabelsWidth:"headerLabelsWidth",expandOnLoad:"expandOnLoad",composerEvent:"composerEvent"},outputs:{subjectChange:"subjectChange",fromChange:"fromChange",toChange:"toChange",ccChange:"ccChange",bccChange:"bccChange",bodyChange:"bodyChange",visibleCcChange:"visibleCcChange",visibleBccChange:"visibleBccChange",headerExpandedChange:"headerExpandedChange",emailComposerCleared:"emailComposerCleared",emailComposerSaved:"emailComposerSaved",refreshRecipients:"refreshRecipients"},features:[a.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:jt,decls:37,vars:58,consts:[["toRecipientSearch",""],["ccRecipientSearch",""],["bccRecipientSearch",""],["baseComposer",""],["channelSelector",""],["selectionActions",""],[1,"email-composer",3,"ngStyle"],[1,"email-composer-header"],[1,"email-composer-header-actions"],["class","email-composer-header-actions-button","size","large","clickMode","menu","data-qa","change-reply-action",3,"title","icon","menuItems",4,"ngIf"],[1,"email-composer-header-properties"],[1,"email-composer-header-properties-main"],[1,"email-composer-header-properties-main-from-field"],["data-qa","email-composer-from",1,"without-padding-top",3,"focusin","control","items","value","useStaticFiltering","label","labelPosition","appearance"],[1,"email-composer-header-properties-main-controls"],["displayType","text","data-qa","cc-button","class","email-composer-header-properties-main-controls-togglebtn",3,"title","clicked",4,"ngIf"],["displayType","text","data-qa","bcc-button","class","email-composer-header-properties-main-controls-togglebtn",3,"title","clicked",4,"ngIf"],[1,"email-composer-header-properties-collapsible"],["data-qa","email-composer-to",3,"recipientsChanged","loadRecipients","rawRecipients","recipientLabel","recipientLabelWidth"],[1,"email-composer-header-properties-collapsible-cc"],["data-qa","email-composer-cc",3,"recipientsChanged","loadRecipients","rawRecipients","recipientLabel","recipientLabelWidth"],[1,"email-composer-header-properties-collapsible-bcc"],["data-qa","email-composer-bcc",3,"recipientsChanged","loadRecipients","rawRecipients","recipientLabel","recipientLabelWidth"],[1,"email-composer-header-properties-collapsible-subject"],["data-qa","email-composer-subject",1,"without-padding-top",3,"control","value","appearance","label","labelPosition"],[3,"selectionChange","messagePublish","selectTemplate","messageChangesCancel","messageInputFocus","messageInputBlur","messageInputClick","messageChanged","saveDraft","composerCleared","composerCacheCode","inputPlaceHolder","footerPanelExpanded","channelSelector","selectionActions","disableSelectionOptions","useTemplates","useDrafts","height","discardBtnVisible","dataCachingService"],[3,"ngStyle"],["appearance","line","count","3",1,"email-composer-skeleton-loader",3,"styles"],["size","large","clickMode","menu","data-qa","change-reply-action",1,"email-composer-header-actions-button",3,"title","icon","menuItems"],["displayType","text","data-qa","cc-button",1,"email-composer-header-properties-main-controls-togglebtn",3,"clicked","title"],["displayType","text","data-qa","bcc-button",1,"email-composer-header-properties-main-controls-togglebtn",3,"clicked","title"]],template:function(t,n){if(t&1){const i=a.\u0275\u0275getCurrentView();a.\u0275\u0275projectionDef(kt),a.\u0275\u0275elementStart(0,"div",6)(1,"div",7)(2,"div",8),a.\u0275\u0275template(3,Pt,2,5,"crt-button",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"div",10)(5,"div",11)(6,"div",12)(7,"crt-combobox",13),a.\u0275\u0275pipe(8,"translate"),a.\u0275\u0275listener("focusin",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onFromFocus())}),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(9,"div",14),a.\u0275\u0275template(10,Vt,4,6,"crt-button",15)(11,Ot,4,6,"crt-button",16),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(12,"div",17)(13,"crt-recipient-search",18,0),a.\u0275\u0275pipe(15,"translate"),a.\u0275\u0275listener("recipientsChanged",function(c){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.toChanged(c))})("loadRecipients",function(c){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.loadRecipients(c))}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(16,"div",19)(17,"crt-recipient-search",20,1),a.\u0275\u0275pipe(19,"translate"),a.\u0275\u0275listener("recipientsChanged",function(c){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.ccChanged(c))})("loadRecipients",function(c){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.loadRecipients(c))}),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(20,"div",21)(21,"crt-recipient-search",22,2),a.\u0275\u0275pipe(23,"translate"),a.\u0275\u0275listener("recipientsChanged",function(c){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.bccChanged(c))})("loadRecipients",function(c){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.loadRecipients(c))}),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(24,"div",23),a.\u0275\u0275element(25,"crt-input",24),a.\u0275\u0275pipe(26,"translate"),a.\u0275\u0275elementEnd()()()(),a.\u0275\u0275elementStart(27,"crt-base-message-composer",25,3),a.\u0275\u0275pipe(29,"translate"),a.\u0275\u0275listener("selectionChange",function(c){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onSelectionChange(c))})("messagePublish",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onMessagePublish())})("selectTemplate",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onSelectTemplate())})("messageChangesCancel",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onMessageCancel())})("messageInputFocus",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onMessageInputFocus())})("messageInputBlur",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onMessageInputBlur())})("messageInputClick",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onMessageInputClick())})("messageChanged",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onMessageChanged())})("saveDraft",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.saveDraft())})("composerCleared",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.emailComposerCleared.emit())}),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(30,Lt,1,0,"ng-template",null,4,a.\u0275\u0275templateRefExtractor)(32,Nt,1,0,"ng-template",null,5,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(34,"div",26),a.\u0275\u0275element(35,"crt-skeleton-loader",27)(36,"crt-base-message-composer-skeleton"),a.\u0275\u0275elementEnd()}if(t&2){const i=a.\u0275\u0275reference(31),r=a.\u0275\u0275reference(33);a.\u0275\u0275property("ngStyle",a.\u0275\u0275pureFunction1(53,Xe,n.skeletonLoading?"none":"")),a.\u0275\u0275advance(),a.\u0275\u0275property("@collapse",!n.headerExpanded),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",n.getReplyButtonVisible()),a.\u0275\u0275advance(4),a.\u0275\u0275property("control",n.fromInputControl)("items",n.fromLookupValues)("value",n.from)("useStaticFiltering",!0)("label",a.\u0275\u0275pipeBind1(8,41,"MessageComposer.Email.From"))("labelPosition","left")("appearance","legacy"),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",!n.visibleCc),a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",n.visibleCc&&!n.visibleBcc),a.\u0275\u0275advance(2),a.\u0275\u0275property("rawRecipients",n.recipientsMailboxes)("recipientLabel",a.\u0275\u0275pipeBind1(15,43,"MessageComposer.Email.To"))("recipientLabelWidth",n.headerLabelsWidth),a.\u0275\u0275advance(3),a.\u0275\u0275property("@collapse",!n.visibleCc),a.\u0275\u0275advance(),a.\u0275\u0275property("rawRecipients",n.recipientsMailboxes)("recipientLabel",a.\u0275\u0275pipeBind1(19,45,"MessageComposer.Email.CC"))("recipientLabelWidth",n.headerLabelsWidth),a.\u0275\u0275advance(3),a.\u0275\u0275property("@collapse",!n.visibleBcc),a.\u0275\u0275advance(),a.\u0275\u0275property("rawRecipients",n.recipientsMailboxes)("recipientLabel",a.\u0275\u0275pipeBind1(23,47,"MessageComposer.Email.BCC"))("recipientLabelWidth",n.headerLabelsWidth),a.\u0275\u0275advance(4),a.\u0275\u0275property("control",n.subjectInputControl)("value",n.subject)("appearance","legacy")("label",a.\u0275\u0275pipeBind1(26,49,"MessageComposer.Email.Subject"))("labelPosition","left"),a.\u0275\u0275advance(2),a.\u0275\u0275property("composerCacheCode",n.cacheCode)("inputPlaceHolder",a.\u0275\u0275pipeBind1(29,51,"MessageComposer.Email.BodyPlaceholder"))("footerPanelExpanded",n.footerPanelExpanded)("channelSelector",i)("selectionActions",r)("disableSelectionOptions",n.disableSelectionOptions)("useTemplates",!0)("useDrafts",!0)("height",n.height)("discardBtnVisible",n.headerExpanded)("dataCachingService",n.emailComposerCachingService),a.\u0275\u0275advance(7),a.\u0275\u0275property("ngStyle",a.\u0275\u0275pureFunction1(55,Xe,n.skeletonLoading?"":"none")),a.\u0275\u0275advance(),a.\u0275\u0275property("styles",a.\u0275\u0275pureFunction0(57,Dt))}},dependencies:[M.NgIf,M.NgStyle,S.CrtButtonComponent,w.SkeletonLoaderComponent,S.CrtComboBoxComponent,S.CrtInputComponent,ie,g,te,B.TranslatePipe],styles:[`@charset "UTF-8";.email-composer-header{display:flex}.email-composer-header-actions{position:absolute}.email-composer-header-properties{width:100%}.email-composer-header-properties-main{display:flex}.email-composer-header-properties-main-from-field{width:80%}.email-composer-header-properties-main-controls{width:20%;display:flex;justify-content:flex-end}.email-composer-header-properties-main-controls-togglebtn{margin-left:8px}.email-composer-reply-expander{width:48px}.email-composer-reply-expander:after{content:"\\22ef";width:16px;height:24px;font-size:18px;background-color:var(--crt-palette-interaction-400);padding:0 16px;line-height:22px;border-radius:8px;cursor:pointer;display:block}.email-composer-reply-expander:hover{color:var(--crt-palette-primary-500)}.email-composer .email-composer-header-properties-main-from-field crt-combobox.without-padding-top .crt-input,.email-composer .email-composer-header-properties-collapsible-subject crt-input.without-padding-top .crt-input,.email-composer .recipients-container{padding-top:0}.email-composer .email-composer-header-properties-collapsible-subject crt-input.crt-base-edit-input .crt-base-input-container .crt-input .crt-input-label-container,.email-composer .email-composer-header-properties-main-from-field crt-combobox.crt-base-edit-input .crt-base-input-container .crt-input .crt-input-label-container{width:var(--headerLabelsWidthString, var(--defaultHeaderLabelsWidthString));min-width:var(--headerLabelsWidthString, var(--defaultHeaderLabelsWidthString))}.email-composer .email-composer-header-properties .email-composer-header-properties-main-controls crt-button.email-composer-header-properties-main-controls-togglebtn button.crt-button{padding:0 5px}.email-composer-skeleton-loader{justify-content:space-between;text-align:end}
`],encapsulation:2,data:{animation:[(0,R.trigger)("collapse",[(0,R.state)("false",(0,R.style)({height:R.AUTO_STYLE,visibility:R.AUTO_STYLE,overflow:"hidden",opacity:1})),(0,R.state)("true",(0,R.style)({height:"0",visibility:"hidden",overflow:"hidden",opacity:0})),(0,R.transition)("false => true",(0,R.animate)("300ms ease-in")),(0,R.transition)("true => false",(0,R.animate)("300ms ease-out"))])]}})}};(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",b.String)],h.prototype,"subject",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],h.prototype,"subjectChange",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",b.String),(0,s.__metadata)("design:paramtypes",[b.String])],h.prototype,"from",null),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],h.prototype,"fromChange",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Array),(0,s.__metadata)("design:paramtypes",[Array])],h.prototype,"sendersMailboxes",null),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Array),(0,s.__metadata)("design:paramtypes",[Array])],h.prototype,"to",null),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],h.prototype,"toChange",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Array),(0,s.__metadata)("design:paramtypes",[Array])],h.prototype,"cc",null),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],h.prototype,"ccChange",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Array),(0,s.__metadata)("design:paramtypes",[Array])],h.prototype,"bcc",null),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],h.prototype,"bccChange",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",b.String),(0,s.__metadata)("design:paramtypes",[b.String])],h.prototype,"body",null),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],h.prototype,"bodyChange",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Oe),(0,s.__metadata)("design:paramtypes",[Oe])],h.prototype,"recipientsMailboxes",null),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",b.String),(0,s.__metadata)("design:paramtypes",[b.String])],h.prototype,"emailId",null),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Boolean),(0,s.__metadata)("design:paramtypes",[Boolean])],h.prototype,"skeletonLoading",null),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Number)],h.prototype,"height",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",b.String)],h.prototype,"defaultSenderRequest",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Array)],h.prototype,"bindingColumns",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",b.String)],h.prototype,"recordId",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",b.String)],h.prototype,"entitySchemaName",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Object)],h.prototype,"isReplyExpanded",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Object)],h.prototype,"visibleCc",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],h.prototype,"visibleCcChange",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Object)],h.prototype,"visibleBcc",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],h.prototype,"visibleBccChange",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Object)],h.prototype,"headerExpanded",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],h.prototype,"headerExpandedChange",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],h.prototype,"emailComposerCleared",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],h.prototype,"emailComposerSaved",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],h.prototype,"refreshRecipients",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Number),(0,s.__metadata)("design:paramtypes",[Number])],h.prototype,"headerLabelsWidth",null),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Boolean),(0,s.__metadata)("design:paramtypes",[Boolean])],h.prototype,"expandOnLoad",null),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Array),(0,s.__metadata)("design:paramtypes",[Array])],h.prototype,"composerEvent",null),h=(0,s.__decorate)([(0,o.CrtViewElement)({type:"crt.EmailComposer",contentSlots:["channelsPanel","selectionActions"],reuseStrategy:o.ViewElementReuseStrategy.Reuse}),(0,o.CrtInterfaceDesignerItem)({propertiesPanelComponentTypeName:"crt.EmailComposerPropertiesPanel",viewElementGroupType:o.ViewElementGroupType.CustomElements,typeCaption:"MessageComposer.Email.Caption"}),(0,s.__metadata)("design:paramtypes",[a.Injector,Document])],h);const Ht=[[["","channelsPanel",""]],[["","selectionActions",""]]],zt=["[channelsPanel]","[selectionActions]"];function Ut(l,e){l&1&&a.\u0275\u0275projection(0)}function qt(l,e){l&1&&a.\u0275\u0275projection(0,1)}function Wt(l,e){l&1&&a.\u0275\u0275element(0,"div",10)}function $t(l,e){if(l&1){const t=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",6),a.\u0275\u0275template(1,Wt,1,0,"div",7),a.\u0275\u0275elementStart(2,"div",8)(3,"crt-slide-toggle",9),a.\u0275\u0275pipe(4,"translate"),a.\u0275\u0275pipe(5,"translate"),a.\u0275\u0275listener("toggleChange",function(i){a.\u0275\u0275restoreView(t);const r=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(r.onExternalPublishingChange(i))})("keydown.enter",function(){a.\u0275\u0275restoreView(t);const i=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(i.onExternalPublishingEnter())}),a.\u0275\u0275elementEnd()()()}if(l&2){const t=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(),a.\u0275\u0275property("ngIf",t.showFooterDivider),a.\u0275\u0275advance(2),a.\u0275\u0275property("default",t.forExternal)("useDefaultWidth",!0),a.\u0275\u0275attribute("title",a.\u0275\u0275pipeBind1(4,5,"Feed.ExternalUserTagTooltip"))("aria-label",a.\u0275\u0275pipeBind1(5,7,"Feed.ExternalUserTagTooltip"))}}function Gt(l,e){if(l&1&&a.\u0275\u0275template(0,$t,6,9,"div",5),l&2){const t=a.\u0275\u0275nextContext();a.\u0275\u0275property("ngIf",t.allowExternalPost)}}let x=class Ze extends O{set composerEvent(e){e?.forEach(t=>{t?.name===de&&(this.footerPanelIndent=t?.params.offset)})}set allowExternalPost(e){this._allowExternalPost=e}get allowExternalPost(){return this._allowExternalPost&&!this._userInfo.isSSP}get showFooterDivider(){return!!(this.footerPanelIndent>0||this.channelsPanel?.length>0&&this.channelsPanel.first?.isVisible)}constructor(e,t,n,i,r,c,C){super(e),this._feedMessageComposerService=t,this._messageDialogProvider=n,this._maskService=i,this._feedMentionServiceFactory=r,this._translateService=c,this._userInfo=C,this._attachments=[],this._forExternal=!1,this._allowExternalPost=!1,this._feedComposerTypeName="Feed",this._sendExternalBtnIcon="send-external-button-icon",this.footerPanelIndent=0,this.messageChangesCanceled=new a.EventEmitter,this.messagePosted=new a.EventEmitter,this.feedMentionService=this._feedMentionServiceFactory.getInstance(null,null),this._googleTagManager=e.get(k.GoogleTagManagerService)}get _isNewMessage(){return(0,m.isEmpty)(this._messageId)}get _isChildMessage(){return!(0,m.isEmpty)(this._parentMessageId)}set parentMessageId(e){this._parentMessageId=e}set messageId(e){this._messageId=e}set message(e){this._message=e}set schemaUId(e){this._schemaUId=e}set forExternal(e){this._forExternal=e}get forExternal(){return this._forExternal}get disabled(){return this.cardState===o.ModelInPageAction.Add}get sendButtonIcon(){return this.allowExternalPost&&this.forExternal?this._sendExternalBtnIcon:""}get placeholder(){const e=this.disabled?"Feed.Publisher.DisabledInputPlaceholder":"Feed.Publisher.DefaultInputPlaceholder";return this._translateService.instant(e)}get cacheCode(){const e=this._userInfo?.id;if(!this._isNewMessage||this._isChildMessage||(0,m.isEmpty)(e)||!(0,m.isEmpty)(this.entitySchemaName)&&(0,m.isEmpty)(this.primaryColumnValue))return"";let t=`feed_composer_cache_data_${e}_`;return!(0,m.isEmpty)(this.entitySchemaName)&&!(0,m.isEmpty)(this.primaryColumnValue)&&(t+=`${this.entitySchemaName}_${this.primaryColumnValue}`),t}_getMessage(){const e=this._isNewMessage?(0,o.generateGuid)():this._messageId,t=this.baseComposer.attachments.map(n=>({...n,recordId:e,fileEntitySchemaName:"FeedFile",recordEntitySchemaName:"SocialMessage",recordColumnName:"RecordId"}));return this.baseComposer.saveInlineImagesToDb({schemaName:"SocialMessage",recordId:e,fileSchemaName:"FeedFile",recordColumnName:"RecordId"}).pipe((0,p.map)(()=>({Id:e,Message:this.baseComposer.getValue(),EntityId:this.primaryColumnValue,EntitySchemaName:this.entitySchemaName,Attachments:t,EntitySchemaUId:this._schemaUId,UserAccess:this._allowExternalPost&&this._forExternal?u.UserConnectionType.External:u.UserConnectionType.General})))}_onFeedMessagePublishError(){this._messageDialogProvider.error("Feed.Publisher.PostingErrorMsg"),this._maskService.hideBodyMask()}_onFeedMessageSuccessfullyPosted(e){this.baseComposer.clear(),this._forExternal=!1,this._maskService.hideBodyMask(),this.baseComposer.showSnackbar(U),this.messagePosted.emit(e),this._sendGTMData()}_sendGTMData(){const e={moduleName:this._feedComposerTypeName,schemaName:"FeedComposer",action:"FeedPostAdded"};this._googleTagManager.track(e)}_createOrUpdateChildMessage(e){return this._isNewMessage?this._feedMessageComposerService.postChildMessage(e,this._parentMessageId):this._feedMessageComposerService.updateChildMessage(e)}_createOrUpdateMessage(e){return this._isNewMessage?this._feedMessageComposerService.postMessage(e):this._feedMessageComposerService.updateMessage(e)}_composeFeedMessage(e){return this._isChildMessage?this._createOrUpdateChildMessage(e):this._createOrUpdateMessage(e)}_validate(){const t=(this.baseComposer?.getValue()||"").replace(/<(?!img)[^>]*>|\s|&nbsp;/g,""),n=!(0,m.isEmpty)(t);return n||this._messageDialogProvider.info("Feed.Publisher.PostingEmptyMsg"),n}_confirmPublish(){if(this._isNewMessage||!this.allowExternalPost||!this.forExternal)return Promise.resolve(!0);const e=this._isChildMessage?"Feed.Publisher.ConfirmCommentAccessLevelChange":"Feed.Publisher.ConfirmMessageAccessLevelChange";return(0,p.lastValueFrom)(this._messageDialogProvider.confirmation(e))}_notifyExternalPostDisabled(){!this.allowExternalPost&&!this._userInfo.isSSP&&this.forExternal&&this._messageDialogProvider.info("Feed.Publisher.ExternalMessagesDisabled")}_loadAttachments(e,t,n){this._feedMessageComposerService.loadAttachments(e,t,n).subscribe(i=>{this._attachments=i?i.map(r=>{const c=new File([],r.fileName);return{id:r.fileId,size:r.fileSize,file:c,content:new ArrayBuffer(0)}}):[],this.baseComposer&&(this.baseComposer.attachments=this._attachments,this.changeDetectorRef.detectChanges())})}ngOnChanges(e){const t=e.primaryColumnValue?.currentValue||this.primaryColumnValue,n=e.entitySchemaName?.currentValue||this.entitySchemaName,i=e.schemaUId?.currentValue||this._schemaUId,r=e.messageId?.currentValue;(0,m.isEmpty)(r)||this._loadAttachments(r,i,t),t&&(i||n)&&(this.feedMentionService=this._feedMentionServiceFactory.getInstance(t,n,i))}onMessagePublish(){var e=this;return(0,E.A)(function*(){if(!(!e._validate()||!(yield e._confirmPublish()))){e._notifyExternalPostDisabled(),e._maskService.showBodyMask();try{e._getMessage().pipe((0,p.concatMap)(t=>e._composeFeedMessage(t)),(0,p.concatMap)(t=>((0,o.isEmptyGuid)(t)?e._onFeedMessagePublishError():e._onFeedMessageSuccessfullyPosted(t),(0,p.of)(!0)))).subscribe({error:()=>e._onFeedMessagePublishError()})}catch{e._onFeedMessagePublishError()}}})()}onMessageChangesCancel(){this._forExternal=!1,this.messageChangesCanceled.emit()}ngAfterViewInit(){(0,m.isEmpty)(this._message)||this.baseComposer.setValue(this._message),this.baseComposer.attachments=this._attachments,this.sendComponentReadyEvent(this._feedComposerTypeName)}focus(){this.baseComposer?.focus()}onExternalPublishingChange(e){this._forExternal=e?.checked??!1,this.focus()}onExternalPublishingEnter(){this._forExternal=!this._forExternal}onNewMention(e){this.forExternal||(this._forExternal=!!e?.find(t=>t.connectionType===`${u.UserConnectionType.External}`),this.changeDetectorRef.detectChanges())}static{this.\u0275fac=function(t){return new(t||Ze)(a.\u0275\u0275directiveInject(a.Injector),a.\u0275\u0275directiveInject(W),a.\u0275\u0275directiveInject(S.MessageDialogProvider),a.\u0275\u0275directiveInject(w.MaskService),a.\u0275\u0275directiveInject($),a.\u0275\u0275directiveInject(B.TranslateService),a.\u0275\u0275directiveInject(u.UserInfo))}}static{this.\u0275cmp=a.\u0275\u0275defineComponent({type:Ze,selectors:[["crt-feed-composer"]],contentQueries:function(t,n,i){if(t&1&&a.\u0275\u0275contentQuery(i,j,4),t&2){let r;a.\u0275\u0275queryRefresh(r=a.\u0275\u0275loadQuery())&&(n.channelsPanel=r)}},inputs:{primaryColumnValue:"primaryColumnValue",cardState:"cardState",entitySchemaName:"entitySchemaName",composerEvent:"composerEvent",allowExternalPost:"allowExternalPost",parentMessageId:"parentMessageId",messageId:"messageId",message:"message",schemaUId:"schemaUId",forExternal:"forExternal"},outputs:{messageChangesCanceled:"messageChangesCanceled",messagePosted:"messagePosted"},features:[a.\u0275\u0275InheritDefinitionFeature,a.\u0275\u0275NgOnChangesFeature],ngContentSelectors:zt,decls:8,vars:12,consts:[["baseComposer",""],["channelSelector",""],["selectionActions",""],["footerPanelOptions",""],[3,"selectionChange","messageInputFocus","messageInputBlur","messageInputClick","messagePublish","messageChangesCancel","newMention","composerCacheCode","inputPlaceHolder","footerPanelExpanded","mentionsService","sendingButtonDisabled","disabled","footerPanelIndent","footerPanelOptions","channelSelector","selectionActions","disableSelectionOptions","sendButtonIcon"],["class","feed-composer-footer",4,"ngIf"],[1,"feed-composer-footer"],["class","feed-composer-footer-divider",4,"ngIf"],[1,"feed-composer-footer-external-slide-wrap"],["data-qa","post-for-external","title","External","labelPosition","'after'",3,"toggleChange","keydown.enter","default","useDefaultWidth"],[1,"feed-composer-footer-divider"]],template:function(t,n){if(t&1){const i=a.\u0275\u0275getCurrentView();a.\u0275\u0275projectionDef(Ht),a.\u0275\u0275elementStart(0,"crt-base-message-composer",4,0),a.\u0275\u0275listener("selectionChange",function(c){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onSelectionChange(c))})("messageInputFocus",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onMessageInputFocus())})("messageInputBlur",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onMessageInputBlur())})("messageInputClick",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onMessageInputClick())})("messagePublish",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onMessagePublish())})("messageChangesCancel",function(){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onMessageChangesCancel())})("newMention",function(c){return a.\u0275\u0275restoreView(i),a.\u0275\u0275resetView(n.onNewMention(c))}),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(2,Ut,1,0,"ng-template",null,1,a.\u0275\u0275templateRefExtractor)(4,qt,1,0,"ng-template",null,2,a.\u0275\u0275templateRefExtractor)(6,Gt,1,1,"ng-template",null,3,a.\u0275\u0275templateRefExtractor)}if(t&2){const i=a.\u0275\u0275reference(3),r=a.\u0275\u0275reference(5),c=a.\u0275\u0275reference(7);a.\u0275\u0275property("composerCacheCode",n.cacheCode)("inputPlaceHolder",n.placeholder)("footerPanelExpanded",n.footerPanelExpanded)("mentionsService",n.feedMentionService)("sendingButtonDisabled",n.disabled)("disabled",n.disabled)("footerPanelIndent",n.footerPanelIndent)("footerPanelOptions",c)("channelSelector",i)("selectionActions",r)("disableSelectionOptions",n.disableSelectionOptions)("sendButtonIcon",n.sendButtonIcon)}},dependencies:[M.NgIf,w.CrtSlideToggleComponent,g,B.TranslatePipe],styles:[".feed-composer-footer[_ngcontent-%COMP%]{display:flex;flex:auto}.feed-composer-footer-external-slide-wrap[_ngcontent-%COMP%]{width:auto}.feed-composer-footer-divider[_ngcontent-%COMP%]{margin-top:4px;margin-inline-end:24px;margin-inline-start:20px;height:16px;border-left:1px solid var(--crt-palette-border-500)}"]})}};(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",String)],x.prototype,"primaryColumnValue",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",String)],x.prototype,"cardState",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",String)],x.prototype,"entitySchemaName",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Array),(0,s.__metadata)("design:paramtypes",[Array])],x.prototype,"composerEvent",null),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Boolean),(0,s.__metadata)("design:paramtypes",[Boolean])],x.prototype,"allowExternalPost",null),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",Object)],x.prototype,"messageChangesCanceled",void 0),(0,s.__decorate)([(0,o.CrtOutput)(),(0,s.__metadata)("design:type",a.EventEmitter)],x.prototype,"messagePosted",void 0),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",String),(0,s.__metadata)("design:paramtypes",[String])],x.prototype,"parentMessageId",null),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",String),(0,s.__metadata)("design:paramtypes",[String])],x.prototype,"messageId",null),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",String),(0,s.__metadata)("design:paramtypes",[String])],x.prototype,"message",null),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",String),(0,s.__metadata)("design:paramtypes",[String])],x.prototype,"schemaUId",null),(0,s.__decorate)([(0,o.CrtInput)(),(0,s.__metadata)("design:type",Boolean),(0,s.__metadata)("design:paramtypes",[Boolean])],x.prototype,"forExternal",null),x=(0,s.__decorate)([(0,o.CrtViewElement)({type:"crt.FeedComposer",contentSlots:["channelsPanel","selectionActions"],reuseStrategy:o.ViewElementReuseStrategy.Reuse}),(0,o.CrtInterfaceDesignerItem)({propertiesPanelComponentTypeName:"crt.FeedComposerPropertiesPanel",viewElementGroupType:o.ViewElementGroupType.CustomElements,typeCaption:"MessageComposer.Feed.Caption"}),(0,s.__metadata)("design:paramtypes",[a.Injector,W,S.MessageDialogProvider,w.MaskService,$,B.TranslateService,u.UserInfo])],x);let he=class{convert(e){const t=e[1],n=e[0];return t?null:n}};he=(0,s.__decorate)([(0,o.CrtConverter)({type:"crt.ConditionalEmailId"})],he);let Ce=class{constructor(e,t){this._mailboxesService=e,this._userInfoService=t}convert(){return(0,p.lastValueFrom)(this._userInfoService.loadCurrentUserInfo().pipe((0,p.concatMap)(e=>this._mailboxesService.getMailboxesForSend(e?.userInfo.id))))}};Ce=(0,s.__decorate)([(0,o.CrtConverter)({type:"crt.ToSendersMailboxes"}),(0,s.__metadata)("design:paramtypes",[H,u.UserInfoService])],Ce);let ge=class{constructor(e){this._recipientsService=e}convert(e){return(0,p.lastValueFrom)(this._recipientsService.getRecipients(e.event.query,e.event.recipientsLength).pipe((0,p.map)(t=>({recipients:t,loadStamp:(0,o.generateGuid)()}))))}};ge=(0,s.__decorate)([(0,o.CrtConverter)({type:"crt.ToRecipientsMailboxes"}),(0,s.__metadata)("design:paramtypes",[Z])],ge);let _e=class extends o.BaseRequestHandler{constructor(e){super(),this._service=e}handle(e){var t=this;return(0,E.A)(function*(){t._service.openComposer(e.composerSchemaType),yield t.next?.handle(e)})()}};_e=(0,s.__decorate)([(0,o.CrtRequestHandler)({type:"crt.ChangeComposerHandler",requestType:"crt.ChangeComposerRequest"}),(0,s.__metadata)("design:paramtypes",[N])],_e);class re extends o.BaseRequestHandler{constructor(){super(...arguments),this.action=v.Reply}_processReply(e){const t=Object.keys(e.$context.attributes).filter(n=>n.startsWith(u.COMPOSER_EVENT_ATTRIBUTE_PREFIX));t.length&&t.forEach(n=>e.$context[n]=[{name:oe,params:{emailId:e.recordId,action:this.action}}])}handle(e){return new Promise(t=>{this._processReply(e),t()})}}let fe=class extends re{constructor(){super(),this.action=v.Forward}handle(e){var t=()=>super.handle,n=this;return(0,E.A)(function*(){yield t().call(n,e),yield n.next?.handle(e)})()}};fe=(0,s.__decorate)([(0,o.CrtRequestHandler)({type:"crt.ForwardEmailComposerRequestHandler",requestType:"crt.ForwardEmailComposerRequest"}),(0,s.__metadata)("design:paramtypes",[])],fe);let be=class extends re{constructor(){super(),this.action=v.ReplyAll}handle(e){var t=()=>super.handle,n=this;return(0,E.A)(function*(){yield t().call(n,e),yield n.next?.handle(e)})()}};be=(0,s.__decorate)([(0,o.CrtRequestHandler)({type:"crt.ReplyAllEmailComposerRequestHandler",requestType:"crt.ReplyAllEmailComposerRequest"}),(0,s.__metadata)("design:paramtypes",[])],be);let ye=class extends re{constructor(){super(),this.action=v.Reply}handle(e){var t=()=>super.handle,n=this;return(0,E.A)(function*(){yield t().call(n,e),yield n.next?.handle(e)})()}};ye=(0,s.__decorate)([(0,o.CrtRequestHandler)({type:"crt.ReplyEmailComposerRequestHandler",requestType:"crt.ReplyEmailComposerRequest"}),(0,s.__metadata)("design:paramtypes",[])],ye);let Se=class extends o.BaseRequestHandler{constructor(e){super(),this._service=e}handle(e){var t=this;return(0,E.A)(function*(){const n=e.recordId,i=yield(0,p.firstValueFrom)(t._service.getCaseDefaultMailbox(n));return i?.senderEmailAddress?i?.senderEmailAddress:yield t.next?.handle(e)})()}};Se=(0,s.__decorate)([(0,o.CrtRequestHandler)({type:"crt.CaseSenderComposerHandler",requestType:"crt.CaseSenderComposerRequest"}),(0,s.__metadata)("design:paramtypes",[H])],Se);let ve=class extends o.BaseRequestHandler{constructor(e){super(),this._service=e}handle(e){var t=this;return(0,E.A)(function*(){const n=e.recordId,i=yield(0,p.firstValueFrom)(t._service.getDefaultMailboxForSend(n));return i?.senderEmailAddress?i?.senderEmailAddress:yield t.next?.handle(e)})()}};ve=(0,s.__decorate)([(0,o.CrtRequestHandler)({type:"crt.DefaultSenderComposerHandler",requestType:"crt.DefaultSenderComposerRequest"}),(0,s.__metadata)("design:paramtypes",[H])],ve);let Ee=class extends re{constructor(){super(),this.action=v.EditDraft}handle(e){var t=()=>super.handle,n=this;return(0,E.A)(function*(){yield t().call(n,e),yield n.next?.handle(e)})()}};Ee=(0,s.__decorate)([(0,o.CrtRequestHandler)({type:"crt.EditDraftEmailComposerRequestHandler",requestType:"crt.EditDraftEmailComposerRequest"}),(0,s.__metadata)("design:paramtypes",[])],Ee);var Qt=_(23958);let Te=class extends re{constructor(e,t,n,i){super(),this._featureService=e,this._entityConnectionService=t,this._sysSettingsService=n,this._window=i,this._freedomUiType="f4d757e1-2aeb-496f-b751-3d5b39708ea3",this._uiTypeSysSettingCode="EditPagesUITypeForFreedomHost",this.action=v.EditDraft}_openEditPage(e){var t=this;return(0,E.A)(function*(){let n;const i=(0,m.get)(t._window,["Terrasoft","isAngularHost"]),r=yield(0,p.lastValueFrom)(t._sysSettingsService.getValueByCode(t._uiTypeSysSettingCode));i&&r===t._freedomUiType?n={type:"crt.OpenPageRequest",schemaName:"EmailMiniPage",modelInitConfigs:[{recordId:e.recordId,action:o.ModelInPageAction.Edit}],$context:e.$context}:n={type:"crt.UpdateRecordRequest",entityName:"Activity",recordId:e.recordId,$context:e.$context},yield t.handlerChain.process(n)})()}_openAddPage(e){var t=this;return(0,E.A)(function*(){const n=yield Qt.NavigationUtils.getPageSchemaNameForAction({entityName:"Activity",action:o.ModelInPageAction.Add,typeColumnValue:u.ACTIVITY_TYPE_EMAIL.toLowerCase()}),i=yield t._getDefaultValues(e),r={type:"crt.CreateRecordRequest",entityName:"Activity",entityPageName:n,defaultValues:i,$context:e.$context};yield t.handlerChain.process(r)})()}_getDefaultValues(e){var t=this;return(0,E.A)(function*(){const n=[{attributeName:"Type",value:u.ACTIVITY_TYPE_EMAIL}],i=yield e.$context.getPrimaryDataSchema(),r=i.name,c=yield e.$context[i.primaryAttributeName],C=yield t._entityConnectionService.getEntityConnectionColumns("Activity",r),{$context:y}=e;return e.bindingColumns&&(yield Promise.all(e.bindingColumns.map(function(){var f=(0,E.A)(function*(T){const I=yield y[T.formAttributeName];I&&n.push({attributeName:T.activityColumnName,value:I.value||I.activityAttributeName})});return function(T){return f.apply(this,arguments)}}()))),C&&C.forEach(f=>{n.push({attributeName:f.name,value:c})}),n})()}handle(e){var t=()=>super.handle,n=this;return(0,E.A)(function*(){(yield(0,p.lastValueFrom)(n._featureService.getFeatureState("UseEmailComposer")))?yield t().call(n,{recordId:e.recordId,type:"crt.ReplyEmailComposerRequest",$context:e.$context}):(0,m.isEmpty)(e.recordId)?yield n._openAddPage(e):yield n._openEditPage(e),yield n.next?.handle(e)})()}};Te=(0,s.__decorate)([(0,o.CrtRequestHandler)({type:"crt.CreateEmailRequestHandler",requestType:"crt.CreateEmailRequest"}),(0,s.__param)(3,(0,o.CrtInject)(F.WINDOW_TOKEN)),(0,s.__metadata)("design:paramtypes",[k.FeatureService,S.EntityConnectionService,k.SysSettingsService,Window])],Te);let Le=class extends o.BaseRequest{};Le=(0,s.__decorate)([(0,o.CrtRequest)({type:"crt.EmailComposerSavedRequest"})],Le);let Me=class extends o.BaseRequestHandler{constructor(e){super(),this._composerEventAttrName="ComposerEvent",this._emailsService=e.get(z)}handle(e){var t=this;return(0,E.A)(function*(){const n=e.$context,i=e.emailWithParams;if(!i)return Promise.resolve();const r=i.params,C=n.modelInitConfigs.filter(y=>y.action==="add");return C.length===1&&C[0].defaultValues.forEach(f=>{r.defaultValues.push({attributeName:f.attributeName,value:f.value})}),r.bindingColumns&&(yield Promise.all(r.bindingColumns.map(function(){var y=(0,E.A)(function*(f){const T=yield n[f.formAttributeName];T&&r.defaultValues.push({attributeName:f.activityColumnName,value:T.value||T.activityAttributeName})});return function(f){return y.apply(this,arguments)}}()))),(0,p.lastValueFrom)(t._emailsService.saveEmail(i.email,i.params).pipe((0,d.switchMap)(y=>{const f=Object.keys(e.$context.attributes).filter(T=>T.startsWith(t._composerEventAttrName));return f.length&&f.forEach(T=>e.$context[T]=[{name:ke,params:{response:y}}]),(0,p.of)({})})))})()}};Me=(0,s.__decorate)([(0,o.CrtRequestHandler)({type:"crt.EmailComposerSavedHandler",requestType:"crt.EmailComposerSavedRequest"}),(0,s.__metadata)("design:paramtypes",[a.Injector])],Me);let Ne=class extends o.BaseRequest{};Ne=(0,s.__decorate)([(0,o.CrtRequest)({type:"crt.RefreshEmailRecipientsRequest"})],Ne);let Re=class extends o.BaseRequestHandler{handle(e){var t=this;return(0,E.A)(function*(){yield t.next?.handle(e)})()}};Re=(0,s.__decorate)([(0,o.CrtRequestHandler)({type:"crt.RefreshEmailRecipientsHandler",requestType:"crt.RefreshEmailRecipientsRequest"})],Re);var Kt=_(10850);let Ie=class extends o.BaseRequestHandler{_subscribeViewModelEvents(e){var t=this;const n=new p.Subscription;n.add(e.events$.pipe((0,p.filter)(({type:i})=>i===Kt.ViewModelEventType.FinishLoadModelAttributes)).subscribe({next:function(){var i=(0,E.A)(function*(r){yield t._updateComposerVisibility(r,e),yield t._updateEmailBody(r,e)});return function(c){return i.apply(this,arguments)}}(),complete:()=>{n.unsubscribe()}}))}_updateComposerVisibility(e,t){return(0,E.A)(function*(){if((yield t.getPrimaryModelMode())!==u.ModelMode.Update||!e?.payload?.SendDate||!e?.payload?.Id)return;const i=yield t.Id,r=!!(yield t.SendDate);!i||r||(t.ComposerVisible=!0)})()}_updateEmailBody(e,t){return(0,E.A)(function*(){if((yield t.getPrimaryModelMode())!==u.ModelMode.Update||!e?.payload?.EmailBody||!e?.payload?.IsHtmlBody)return;const i=yield t.IsHtmlBody,r=yield t.EmailBody;!i&&!m.isEmpty(r)&&!r.startsWith("<pre>")&&(t.EmailBody=`<pre>${m.escape(r)}</pre>`)})()}handle(e){var t=this;return(0,E.A)(function*(){yield t.next?.handle(e),t._subscribeViewModelEvents(e.$context)})()}};Ie=(0,s.__decorate)([(0,o.CrtRequestHandler)({type:"crt.EmailFormPageViewModelInitRequestHandler",requestType:"crt.HandleViewModelInitRequest",scopes:["EmailFormPage"]})],Ie);let xe=class extends o.BaseRequestHandler{_getNeedClosePage(e){var t=this;return(0,E.A)(function*(){return(yield e.$context.IsChanged)?!1:(yield e.$context.ElementExecutionData)?!(yield t._getActualSendDate(e)):!0})()}_getActualSendDate(e){return(0,E.A)(function*(){const t=yield e.$context.Id;return((yield(yield o.Model.create("Activity")).load({attributes:["SendDate"],parameters:[{type:o.ModelParameterType.PrimaryColumnValue,value:t}]}))[0]||{}).SendDate})()}handle(e){var t=this;return(0,E.A)(function*(){if(!(yield e.$context.ComposerVisible)){yield t.next?.handle(e);return}e.$context.ComposerVisible=!1,(yield e.$context.IsReplyMode)?e.$context.IsReplyMode=!1:(yield t._getNeedClosePage(e))&&(yield t.handlerChain.process({type:"crt.ClosePageRequest",$context:e.$context})),yield t.next?.handle(e)})()}};xe=(0,s.__decorate)([(0,o.CrtRequestHandler)({type:"crt.EmailFormPageComposerClearedHandler",requestType:"crt.onEmailComposerClearedRequest",scopes:["EmailFormPage"]})],xe);class le{constructor(e){this._featureValues=e,this._selectedChannelAttributeName="SelectedComposerChannelIndex",this._channelsAttributeName="ComposerChannels",this._selectedChannelAttributeDefValue=0,this._channelSelectorItemName="ChannelSelector",this._channelSelectorTypeName="crt.ChannelSelector",this._parentComposerType="crt.MessageComposerSelector"}_getViewConfigs(e,t){return u.MetadataSchemaUtils.getViewConfigInfoByProperty("type",t,e.viewConfig).map(n=>n?.viewConfig).filter(Boolean)}_createAndBindExtendableComposerAttributes(e,t){t.forEach((n,i)=>{if(!Array.isArray(n.items)||!n.items.length)return;let r;(0,m.isEmpty)(n.selectedComposerChannelIndex)?(r=`${this._selectedChannelAttributeName}_${i}`,e[r]={value:this._selectedChannelAttributeDefValue},n.selectedComposerChannelIndex=`$${r}`):r=n.selectedComposerChannelIndex;const c=`${this._channelsAttributeName}_${i}`,C=[];n.items.forEach(y=>{this._createChannelSelector(y,r,c,C)}),e[c]={value:C}})}_createChannelSelector(e,t,n,i){const r=e.data;if(!(!r||(0,m.isEmpty)(r.schemaType))&&(i.push({visible:e.visible,data:{icon:r.icon,schemaType:r.schemaType,caption:r.caption}}),(0,m.isEmpty)(e.channelsPanel))){const c={name:`${this._channelSelectorItemName}_${e.name}`,type:this._channelSelectorTypeName,selectedChannelIndex:`$${t}`,channels:`$${n}`};e.channelsPanel=[c]}}_createAndBindComposerEventAttribute(e,t){t.forEach((n,i)=>{if(!Array.isArray(n.items)||!n.items.length)return;const r=`${u.COMPOSER_EVENT_ATTRIBUTE_PREFIX}_${i}`;e[r]={value:[]},n.composerEvent="$"+r,n.items.forEach(c=>{c.composerEvent="$"+r})})}_createAndBindComposerAttributes(e){const t=this._getViewConfigs(e,this._parentComposerType),n=e.viewModelConfig.attributes;this._createAndBindComposerEventAttribute(n,t),this._featureValues.ExtendableMessageComposer&&this._createAndBindExtendableComposerAttributes(n,t)}crtOnMetaDataInit(e){const t=e;return this._createAndBindComposerAttributes(t),Promise.resolve(e)}static{this.\u0275fac=function(t){return new(t||le)(a.\u0275\u0275inject(u.FEATURE_VALUES))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:le,factory:le.\u0275fac})}}class ce{constructor(e){this._selectionActionsMetadataService=e,this._pageSize=150}_getViewConfigs(e,t){return u.MetadataSchemaUtils.getViewConfigInfoByProperty("type",t,e.viewConfig).map(n=>n?.viewConfig).filter(Boolean)}_setCrudEventsBindings(e){e.emailComposerSaved={request:"crt.EmailComposerSavedRequest",params:{emailWithParams:"@event"}},e.refreshRecipients={request:"crt.RefreshEmailRecipientsRequest",params:{event:"@event"}}}_setAttributes(e,t){t.from=`$${this._createAttribute(e,`${t.name}_From`,"")}`,t.to=`$${this._createAttribute(e,`${t.name}_To`,[])}`,t.cc=`$${this._createAttribute(e,`${t.name}_Cc`,[])}`,t.bcc=`$${this._createAttribute(e,`${t.name}_Bcc`,[])}`,t.subject=`$${this._createAttribute(e,`${t.name}_Subject`,"")}`,t.headerExpanded=`$${this._createAttribute(e,`${t.name}_HeaderExpanded`,"")}`,t.visibleCc=`$${this._createAttribute(e,`${t.name}_VisibleCc`,"")}`,t.visibleBcc=`$${this._createAttribute(e,`${t.name}_VisibleBcc`,"")}`}_setCalculatedAttributes(e,t){t.sendersMailboxes=`$${this._getOrAddEmailSendersAttribute(e,t,t.recordId)}`,t.recipientsMailboxes=`$${this._getOrAddEmailRecipientsAttribute(e,t,t.recordId)}`}_findCalculatedAttribute(e,t,n){const i=e.viewModelConfig.attributes,r=Object.keys(i).find(c=>{const C=i[c]??{};return C.from===t&&C.converter===n});return(0,m.isEmpty)(r)?void 0:r}_createAttribute(e,t,n){const i=e.viewModelConfig.attributes;return i[t]={value:n},t}_createCalculatedAttribute(e,t,n,i){const r=e.viewModelConfig.attributes;return r[t]={from:n,converter:i},t}_getOrAddEmailSendersAttribute(e,t,n){return this._findCalculatedAttribute(e,n,"crt.ToSendersMailboxes")||this._createCalculatedAttribute(e,`${t.name}_SendersMailboxes`,n,"crt.ToSendersMailboxes")}_getOrAddEmailRecipientsAttribute(e,t,n){return this._findCalculatedAttribute(e,n,"crt.ToRecipientsMailboxes")||this._createCalculatedAttribute(e,`${t.name}_RecipientsMailboxes`,"crt.RefreshEmailRecipientsRequest","crt.ToRecipientsMailboxes")}crtOnMetaDataInit(e){var t=this;return(0,E.A)(function*(){const n=e,i=t._getViewConfigs(n,"crt.EmailComposer");for(const r of i)t._setCrudEventsBindings(r),t._setAttributes(n,r),t._setCalculatedAttributes(n,r),yield t._selectionActionsMetadataService.setRewriteOptions(n,r);return Promise.resolve(e)})()}static{this.\u0275fac=function(t){return new(t||ce)(a.\u0275\u0275inject(Q.SelectionActionsMetadataService))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:ce,factory:ce.\u0275fac})}}class pe{constructor(e){this._selectionActionsMetadataService=e}_getViewConfigs(e,t){return u.MetadataSchemaUtils.getViewConfigInfoByProperty("type",t,e.viewConfig).map(n=>n?.viewConfig).filter(Boolean)}crtOnMetaDataInit(e){var t=this;return(0,E.A)(function*(){const n=e,i=t._getViewConfigs(n,"crt.FeedComposer");for(const r of i)yield t._selectionActionsMetadataService.setRewriteOptions(n,r);return Promise.resolve(e)})()}static{this.\u0275fac=function(t){return new(t||pe)(a.\u0275\u0275inject(Q.SelectionActionsMetadataService))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:pe,factory:pe.\u0275fac})}}let we=class Ye{constructor(e,t){this._matIconRegistry=e,this._domSanitizer=t,this._registerIcons()}_registerIcons(){["reply-message","reply-all-message","reply-message"].forEach(t=>{const n=_(41056)("./"+t+".svg");this._matIconRegistry.addSvgIconLiteral(t,this._domSanitizer.bypassSecurityTrustHtml(n))})}static{this.\u0275fac=function(t){return new(t||Ye)(a.\u0275\u0275inject(L.MatIconRegistry),a.\u0275\u0275inject(G.DomSanitizer))}}static{this.\u0275mod=a.\u0275\u0275defineNgModule({type:Ye})}static{this.\u0275inj=a.\u0275\u0275defineInjector({providers:[u.FileReaderService,V,N,z,H,J,q,K,Z,Y,W,u.FeedNotificationService,$,ne,{provide:F.CustomEventServiceToken,useFactory:e=>new F.CustomEventService(e),deps:[M.DOCUMENT]},{provide:u.CRT_METADATA_PREPROCESSOR,useClass:le,multi:!0},{provide:u.CRT_METADATA_PREPROCESSOR,useClass:ce,multi:!0},{provide:u.CRT_METADATA_PREPROCESSOR,useClass:pe,multi:!0}],imports:[M.CommonModule,F.CrtLibTranslateModule.forRoot({i18n:et}),u.BypassSecurityTrustModule,S.CrtButtonModule,w.CrtSkeletonLoaderModule,w.TooltipModule,S.CrtComboBoxModule,S.CrtLabelModule,S.CrtInputModule,S.CrtMenuModule,w.SlideToggleModule,L.MatIconModule,P.MatSnackBarModule,Q.CrtRichTextEditorModule,w.CrtKeyboardHotkeysModule,u.MemoryFormattingModule]})}};we=(0,s.__decorate)([(0,o.CrtModule)({viewElements:[A,h,x,g,te,j],requestHandlers:[_e,ye,be,fe,ve,Se,Ee,Te,Me,Re,Ie,xe],converters:[he,Ce,ge]}),(0,s.__metadata)("design:paramtypes",[L.MatIconRegistry,G.DomSanitizer])],we),function(){(typeof ngJitMode>"u"||ngJitMode)&&a.\u0275\u0275setNgModuleScope(we,{declarations:[A,h,x,ie,X,ee,g,te,U,j],imports:[M.CommonModule,F.CrtLibTranslateModule,u.BypassSecurityTrustModule,S.CrtButtonModule,w.CrtSkeletonLoaderModule,w.TooltipModule,S.CrtComboBoxModule,S.CrtLabelModule,S.CrtInputModule,u.EncodeHtmlPipe,S.CrtMenuModule,w.SlideToggleModule,L.MatIconModule,P.MatSnackBarModule,Q.CrtRichTextEditorModule,w.CrtKeyboardHotkeysModule,u.MemoryFormattingModule],exports:[A,h,x,g,te,j]})}();let He=class extends o.BaseRequest{};He=(0,s.__decorate)([(0,o.CrtRequest)({type:"crt.ChangeComposerRequest"})],He);let me=class extends o.BaseRequest{};me=(0,s.__decorate)([(0,o.CrtRequest)({type:"crt.ReplyEmailComposerRequest"})],me);let ze=class extends me{};ze=(0,s.__decorate)([(0,o.CrtRequest)({type:"crt.ForwardEmailComposerRequest"})],ze);let Ue=class extends me{};Ue=(0,s.__decorate)([(0,o.CrtRequest)({type:"crt.ReplyAllEmailComposerRequest"})],Ue);let qe=class extends o.BaseRequest{};qe=(0,s.__decorate)([(0,o.CrtRequest)({type:"crt.DefaultSenderComposerRequest"})],qe);let We=class extends o.BaseRequest{};We=(0,s.__decorate)([(0,o.CrtRequest)({type:"crt.CaseSenderComposerRequest"})],We);let $e=class extends o.BaseRequest{};$e=(0,s.__decorate)([(0,o.CrtRequest)({type:"crt.EditDraftEmailComposerRequest"})],$e)},71348:D=>{D.exports=`<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path d="M11.41 9.7832L14.41 6.7832L11.41 3.7832" stroke="#0D2E4E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
	<path d="M2.41003 12.7832C2.41003 11.1919 3.04218 9.66578 4.16739 8.54056C5.29261 7.41534 6.81874 6.7832 8.41003 6.7832H14.41" stroke="#0D2E4E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`},62127:D=>{D.exports=`<svg width="73" height="64" viewBox="0 0 73 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M39.6128 25.1749H18.6128C16.9559 25.1749 15.6128 26.5181 15.6128 28.1749C15.6128 29.8318 16.9559 31.1749 18.6128 31.1749H39.6128C41.2696 31.1749 42.6128 29.8318 42.6128 28.1749C42.6128 26.5181 41.2696 25.1749 39.6128 25.1749Z" fill="#D1D1D1"/>
<path d="M53.6128 35.1749H18.6128C16.9559 35.1749 15.6128 36.5181 15.6128 38.1749C15.6128 39.8318 16.9559 41.1749 18.6128 41.1749H53.6128C55.2696 41.1749 56.6128 39.8318 56.6128 38.1749C56.6128 36.5181 55.2696 35.1749 53.6128 35.1749Z" fill="#D1D1D1"/>
<path d="M53.998 27.454V30.9513C53.998 31.1514 54.2593 31.2275 54.3667 31.0587L56.0831 28.3619L53.998 27.454Z" fill="#004FD6"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M61.9104 17.6219C61.9908 16.803 61.103 16.2429 60.3985 16.6681L48.9928 23.5514C48.2977 23.9709 48.3658 25.0001 49.1101 25.3243L52.1202 26.6359L58.0677 21.0965C58.2443 20.932 58.5071 21.1632 58.3665 21.3593L53.998 27.454L56.0831 28.3619L59.3996 29.8074C60.022 30.0787 60.7281 29.6641 60.7944 28.9884L61.9104 17.6219Z" fill="#004FD6"/>
<path d="M46.834 17.1179H11.25C9.59315 17.1179 8.25 18.4611 8.25 20.1179V46.2319C8.25 47.8888 9.59314 49.2319 11.25 49.2319H61.25C62.9069 49.2319 64.25 47.8888 64.25 46.2319V36.1749" stroke="#70ACEE" stroke-linecap="round"/>
</svg>
`},90277:D=>{D.exports=`<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path d="M5.41003 9.7832L2.41003 6.7832L5.41003 3.7832" stroke="#0D2E4E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
	<path d="M8.41003 9.7832L5.41003 6.7832L8.41003 3.7832" stroke="#0D2E4E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
	<path d="M14.41 12.7832C14.41 11.1919 13.7779 9.66578 12.6527 8.54056C11.5275 7.41534 10.0013 6.7832 8.41003 6.7832H5.41003" stroke="#0D2E4E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`},5719:D=>{D.exports=`<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path d="M5.41003 9.7832L2.41003 6.7832L5.41003 3.7832" stroke="#0D2E4E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
	<path d="M14.41 12.7832C14.41 11.1919 13.7779 9.66578 12.6527 8.54056C11.5275 7.41534 10.0013 6.7832 8.41003 6.7832H2.41003" stroke="#0D2E4E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`}}]);
