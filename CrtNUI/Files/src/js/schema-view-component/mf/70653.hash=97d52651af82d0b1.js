(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[70653],{40969:(N,M,v)=>{v.d(M,{A:()=>g});var x=v(98218),I=v.n(x),d=v(12266),h=v(52965),_=v(52687),m=v.n(_),f=v(33225),T=v(10018);function g(s,o){this._eventBus=s,this._elementRegistry=o}g.$inject=["eventBus","elementRegistry"],g.prototype._getChildrenContainer=function(s){var o=this._elementRegistry.getGraphics(s),a;return s.parent?(a=(0,d.i)(o),a||(a=(0,f.vt)("g"),(0,f.Ly)(a).add("djs-children"),(0,f.BC)(o.parentNode,a))):a=o,a},g.prototype._clear=function(s){var o=(0,d.P)(s);return(0,_.clear)(o),o},g.prototype._createContainer=function(s,o,a,C){var O=(0,f.vt)("g");(0,f.Ly)(O).add("djs-group"),typeof a<"u"?A(O,o,o.childNodes[a]):(0,f.BC)(o,O);var E=(0,f.vt)("g");(0,f.Ly)(E).add("djs-element"),(0,f.Ly)(E).add("djs-"+s),C&&(0,f.Ly)(E).add("djs-frame"),(0,f.BC)(O,E);var L=(0,f.vt)("g");return(0,f.Ly)(L).add("djs-visual"),(0,f.BC)(E,L),E},g.prototype.create=function(s,o,a){var C=this._getChildrenContainer(o.parent);return this._createContainer(s,C,a,(0,T.eb)(o))},g.prototype.updateContainments=function(s){var o=this,a=this._elementRegistry,C;C=(0,x.reduce)(s,function(O,E){return E.parent&&(O[E.parent.id]=E.parent),O},{}),(0,x.forEach)(C,function(O){var E=O.children;if(E){var L=o._getChildrenContainer(O);(0,x.forEach)(E.slice().reverse(),function(S){var w=a.getGraphics(S);A(w.parentNode,L)})}})},g.prototype.drawShape=function(s,o){var a=this._eventBus;return a.fire("render.shape",{gfx:s,element:o})},g.prototype.getShapePath=function(s){var o=this._eventBus;return o.fire("render.getShapePath",s)},g.prototype.drawConnection=function(s,o){var a=this._eventBus;return a.fire("render.connection",{gfx:s,element:o})},g.prototype.getConnectionPath=function(s){var o=this._eventBus;return o.fire("render.getConnectionPath",s)},g.prototype.update=function(s,o,a){if(o.parent){var C=this._clear(a);if(s==="shape")this.drawShape(C,o),(0,h.Tl)(a,o.x,o.y);else if(s==="connection")this.drawConnection(C,o);else throw new Error("unknown type: "+s);o.hidden?(0,f.CF)(a,"display","none"):(0,f.CF)(a,"display","block")}},g.prototype.remove=function(s){var o=this._elementRegistry.getGraphics(s);(0,f.TF)(o.parentNode)};function A(s,o,a){var C=a||o.firstChild;s!==C&&o.insertBefore(s,C)}},6587:(N,M,v)=>{v.d(M,{A:()=>d});var x=v(98218),I=v.n(x);function d(h){this._eventBus=h,this._selectedElements=[];var _=this;h.on(["shape.remove","connection.remove"],function(m){var f=m.element;_.deselect(f)}),h.on(["diagram.clear"],function(m){_.select(null)})}d.$inject=["eventBus"],d.prototype.deselect=function(h){var _=this._selectedElements,m=_.indexOf(h);if(m!==-1){var f=_.slice();_.splice(m,1),this._eventBus.fire("selection.changed",{oldSelection:f,newSelection:_})}},d.prototype.get=function(){return this._selectedElements},d.prototype.isSelected=function(h){return this._selectedElements.indexOf(h)!==-1},d.prototype.select=function(h,_){var m=this._selectedElements,f=m.slice();(0,x.isArray)(h)||(h=h?[h]:[]),_?(0,x.forEach)(h,function(T){m.indexOf(T)===-1&&m.push(T)}):this._selectedElements=m=h.slice(),this._eventBus.fire("selection.changed",{oldSelection:f,newSelection:m})}},74419:(N,M,v)=>{v.d(M,{WI:()=>b,Z9:()=>W,d7:()=>H});var x=v(98218),I=v.n(x),d=v(65911),h=v(92159),_=20,m=5,f=Math.round,T=20,g={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function A(t,n){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[n].test(t)}function s(t,n){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[t].test(n)}function o(t,n,e){var r=(0,d.vc)(n,t,m),u=e.split(":")[0],i=f((n.x-t.x)/2+t.x),y=f((n.y-t.y)/2+t.y),p,l,R=s(u,r),c=/h|r|l/.test(u),B=!1,D=!1;return R?(p=c?{x:i,y:t.y}:{x:t.x,y},l=c?"h:h":"v:v"):(B=A(r,u),l=c?"h:v":"v:h",B?c?(D=y===t.y,p={x:t.x+_*(/l/.test(u)?-1:1),y:D?y+_:y}):(D=i===t.x,p={x:D?i+_:i,y:t.y+_*(/t/.test(u)?-1:1)}):p={x:i,y}),{waypoints:S(t,p,l).concat(p),directions:l,turnNextDirections:D}}function a(t,n,e){return o(t,n,e)}function C(t,n,e){var r=o(n,t,E(e));return{waypoints:r.waypoints.slice().reverse(),directions:E(r.directions),turnNextDirections:r.turnNextDirections}}function O(t,n){var e=t.directions.split(":")[1],r=n.directions.split(":")[0];t.turnNextDirections&&(e=e=="h"?"v":"h"),n.turnNextDirections&&(r=r=="h"?"v":"h");var u=e+":"+r,i=S(t.waypoints[t.waypoints.length-1],n.waypoints[0],u);return{waypoints:i,directions:u}}function E(t){return t.split(":").reverse().join(":")}function L(t,n,e){var r=f((n.x-t.x)/2+t.x),u=f((n.y-t.y)/2+t.y);if(e==="h:v")return[{x:n.x,y:t.y}];if(e==="v:h")return[{x:t.x,y:n.y}];if(e==="h:h")return[{x:r,y:t.y},{x:r,y:n.y}];if(e==="v:v")return[{x:t.x,y:u},{x:n.x,y:u}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}function S(t,n,e){if(e=e||"h:h",!Z(e))throw new Error("unknown directions: <"+e+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(G(e)){var r=a(t,n,e),u=C(t,n,e),i=O(r,u);return[].concat(r.waypoints,i.waypoints,u.waypoints)}return L(t,n,e)}function w(t,n,e){var r=S(t,n,e);return r.unshift(t),r.push(n),H(r)}function W(t,n,e,r,u){var i=u&&u.preferredLayouts||[],y=(0,x.without)(i,"straight")[0]||"h:h",p=g[y]||0,l=(0,d.vc)(t,n,p),R=X(l,y);e=e||(0,d.pp)(t),r=r||(0,d.pp)(n);var c=R.split(":"),B=j(e,t,c[0],J(l)),D=j(r,n,c[1],l);return w(B,D,R)}function b(t,n,e,r,u,i){(0,x.isArray)(e)&&(u=e,i=r,e=(0,d.pp)(t),r=(0,d.pp)(n)),i=(0,x.assign)({preferredLayouts:[]},i),u=u||[];var y=i.preferredLayouts,p=y.indexOf("straight")!==-1,l;return l=p&&$(t,n,e,r,i),l||(l=i.connectionEnd&&V(n,t,r,u),l)||(l=i.connectionStart&&z(t,n,e,u),l)?l:!i.connectionStart&&!i.connectionEnd&&u&&u.length?u:W(t,n,e,r,i)}function F(t,n,e){return t>=n&&t<=e}function K(t,n,e){var r={x:"width",y:"height"};return F(n[t],e[t],e[t]+e[r[t]])}function $(t,n,e,r,u){var i={},y,p;return p=(0,d.vc)(t,n),/^(top|bottom|left|right)$/.test(p)?(/top|bottom/.test(p)&&(y="x"),/left|right/.test(p)&&(y="y"),u.preserveDocking==="target"?K(y,r,t)?(i[y]=r[y],[{x:i.x!==void 0?i.x:e.x,y:i.y!==void 0?i.y:e.y,original:{x:i.x!==void 0?i.x:e.x,y:i.y!==void 0?i.y:e.y}},{x:r.x,y:r.y}]):null:K(y,e,n)?(i[y]=e[y],[{x:e.x,y:e.y},{x:i.x!==void 0?i.x:r.x,y:i.y!==void 0?i.y:r.y,original:{x:i.x!==void 0?i.x:r.x,y:i.y!==void 0?i.y:r.y}}]):null):null}function z(t,n,e,r){return U(t,n,e,r)}function V(t,n,e,r){var u=r.slice().reverse();return u=U(t,n,e,u),u?u.reverse():null}function U(t,n,e,r){function u(c){return c.length<3?!0:c.length>4?!1:!!(0,x.find)(c,function(B,D){var P=c[D-1];return P&&(0,h.cK)(B,P)<3})}function i(c,B,D){var P=(0,h.ke)(B,c);switch(P){case"v":return{x:D.x,y:c.y};case"h":return{x:c.x,y:D.y}}return{x:c.x,y:c.y}}function y(c,B,D){var P;for(P=c.length-2;P!==0;P--)if((0,h.El)(c[P],B,T)||(0,h.El)(c[P],D,T))return c.slice(P);return c}if(u(r))return null;var p=r[0],l=r.slice(),R;return l[0]=e,l[1]=i(l[1],p,e),R=y(l,t,n),R!==l&&(l=U(t,n,e,R)),l&&(0,h.ke)(l)?null:l}function X(t,n){if(G(n))return n;switch(t){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return n}}function Z(t){return t&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(t)}function G(t){return t&&/t|r|b|l/.test(t)}function J(t){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[t]}function j(t,n,e,r){if(e==="h"&&(e=/left/.test(r)?"l":"r"),e==="v"&&(e=/top/.test(r)?"t":"b"),e==="t")return{original:t,x:t.x,y:n.y};if(e==="r")return{original:t,x:n.x+n.width,y:t.y};if(e==="b")return{original:t,x:t.x,y:n.y+n.height};if(e==="l")return{original:t,x:n.x,y:t.y};throw new Error("unexpected dockingDirection: <"+e+">")}function H(t){return t.reduce(function(n,e,r){var u=n[n.length-1],i=t[r+1];return(0,h.XP)(u,i,e,0)||n.push(e),n},[])}},12266:(N,M,v)=>{v.d(M,{P:()=>x,i:()=>I});function x(d){return d.childNodes[0]}function I(d){return d.parentNode.childNodes[1]}}}]);
