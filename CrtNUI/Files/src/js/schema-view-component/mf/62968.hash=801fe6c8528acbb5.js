(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[62968],{52811:(A,M,n)=>{n.d(M,{_:()=>s,x:()=>m});const s="DataService/json/SyncReply",m="DataService/ssp/json/SyncReply"},28020:(A,M,n)=>{n.d(M,{Aw:()=>o,Pe:()=>I,er:()=>O,e_:()=>d,LK:()=>h,Iq:()=>E,zY:()=>R,zc:()=>S,k6:()=>_,Ov:()=>C,s5:()=>p,d9:()=>a,_6:()=>F,im:()=>c,_h:()=>w._,NK:()=>s,Vh:()=>T,p0:()=>D,D5:()=>y,x1:()=>w.x,xQ:()=>N,K4:()=>l,M:()=>f});const s="#GenerateGUID#";var m=n(38495);const c=[m.DataValueType.DateTime,m.DataValueType.Date,m.DataValueType.Time],D=new Map([[m.DataValueType.Integer,0],[m.DataValueType.Float,2],[m.DataValueType.Money,2],[m.DataValueType.FLOAT1,1],[m.DataValueType.FLOAT2,2],[m.DataValueType.FLOAT3,3],[m.DataValueType.FLOAT4,4],[m.DataValueType.FLOAT8,8]]),y=[m.DataValueType.Float,m.DataValueType.FLOAT1,m.DataValueType.FLOAT2,m.DataValueType.FLOAT3,m.DataValueType.FLOAT4,m.DataValueType.FLOAT8,m.DataValueType.Integer,m.DataValueType.Money],T="^[a-zA-Z]+[a-zA-Z0-9_]*$",f="/img/entity/hash/SysImage/Data/",l="/DataService/json/SyncReply",p="ec5fd902-66ce-4139-a241-10ebd8addc40",_="0c5cfb7a-1ed9-41b8-905e-9a38c6915550",C="ecdcc8ff-272c-4957-9381-7d74ce17e140",a="b11e72c4-3787-407e-9415-9d499413d5b8",S="eb4d4a67-25d8-fcfa-7851-c4c91efb7b9c",h="C449D832-A4CC-4B01-B9D5-8A12C42A9F89",d="Activity",E="E2831DEC-CFC0-DF11-B00F-001D60E938C6",R="fbe0acdc-cfc0-df11-b00f-001d60e938c6",I="42c74c49-58e6-df11-971b-001d60e938c6",O="f51c4643-58e6-df11-971b-001d60e938c6",o="8038A396-7825-E011-8165-00155D043204";var w=n(52811);const F="ComposerEvent",N="WorkplaceNavigationPanelVisibleAttribute"},61843:(A,M,n)=>{n.d(M,{Jy:()=>s,dJ:()=>m,fX:()=>c});const s="A5420246-0A8E-E111-84A3-00155D054C03",m="en-US";class c{constructor(y){Object.assign(this,y)}static getDefaultCulture(){return new c({sysCultureId:s,sysCultureName:m,decimalSeparator:".",thousandSeparator:","})}}},47149:(A,M,n)=>{n.d(M,{P:()=>y,Q:()=>D});var s=n(38495),m=n.n(s);const c="DataValueType",D={[s.DataValueType.Date]:{type:s.DataValueType.Date,id:"603d4960-a1a2-45e9-b232-206a54421b01",name:"Date",icon:"data-type-date-icon.svg",designerIcon:n(26861),translateKey:`${c}.DateCaption`},[s.DataValueType.Time]:{type:s.DataValueType.Time,id:"04cc757b-8f06-482c-8a1a-0c0e171d2410",name:"Time",icon:"data-type-time-icon.svg",designerIcon:n(8510),translateKey:`${c}.TimeCaption`},[s.DataValueType.DateTime]:{type:s.DataValueType.DateTime,id:"d21e9ef4-c064-4012-b286-fa1a8171da44",name:"DateTime",icon:"data-type-datetime-icon.svg",designerIcon:n(55146),translateKey:`${c}.DateTimeCaption`},[s.DataValueType.Text]:{type:s.DataValueType.Text,id:"8b3f29bb-ea14-4ce5-a5c5-293a929b6ba2",name:"Text",icon:"data-type-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:n(97180),designerAutonumberIcon:n(78683),translateKey:`${c}.TextCaption`},[s.DataValueType.SHORT_TEXT]:{type:s.DataValueType.SHORT_TEXT,id:"325a73b8-0f47-44a0-8412-7606f78003ac",name:"ShortText",icon:"data-type-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:n(97180),designerAutonumberIcon:n(78683),translateKey:`${c}.ShortTextCaption`},[s.DataValueType.PHONE_TEXT]:{type:s.DataValueType.PHONE_TEXT,id:"26cba63c-daf1-4f36-b2ea-73c0d675d90c",name:"PhoneText",icon:"data-type-phone-icon.svg",designerIcon:n(59155),translateKey:`${c}.PhoneTextCaption`},[s.DataValueType.WEB_TEXT]:{type:s.DataValueType.WEB_TEXT,id:"26cba64c-daf1-4f36-b2ea-73c0d695d90c",name:"WebText",icon:"data-type-text-icon.svg",designerIcon:n(64337),translateKey:`${c}.WebTextCaption`},[s.DataValueType.EMAIL_TEXT]:{type:s.DataValueType.EMAIL_TEXT,id:"66cba64c-daf1-4f36-b8ea-73c0d695d90c",name:"EmailText",icon:"data-type-text-icon.svg",designerIcon:n(71011),translateKey:`${c}.EmailTextCaption`},[s.DataValueType.MEDIUM_TEXT]:{type:s.DataValueType.MEDIUM_TEXT,id:"ddb3a1ee-07e8-4d62-b7a9-d0e618b00fbd",name:"MediumText",icon:"data-type-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:n(97180),designerAutonumberIcon:n(78683),translateKey:`${c}.MediumTextCaption`},[s.DataValueType.LONG_TEXT]:{type:s.DataValueType.LONG_TEXT,id:"5ca35f10-a101-4c67-a96a-383da6afacfc",name:"LongText",icon:"data-type-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:n(97180),designerAutonumberIcon:n(78683),translateKey:`${c}.LongTextCaption`},[s.DataValueType.MAXSIZE_TEXT]:{type:s.DataValueType.MAXSIZE_TEXT,id:"c0f04627-4620-4bc0-84e5-9419dc8516b1",name:"MaxSizeText",icon:"data-type-unlimited-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:n(97180),designerAutonumberIcon:n(78683),translateKey:`${c}.MaxSizeTextCaption`},[s.DataValueType.Integer]:{type:s.DataValueType.Integer,id:"6b6b74e2-820d-490e-a017-2b73d4ccf2b0",name:"Integer",icon:"data-type-integer-icon.svg",designerIcon:n(60521),translateKey:`${c}.IntegerCaption`},[s.DataValueType.FLOAT1]:{type:s.DataValueType.FLOAT1,id:"07ba84ce-0bf7-44b4-9f2c-7b15032eb98c",name:"Float1",icon:"data-type-float1-icon.svg",designerIcon:n(68877),translateKey:`${c}.FLOAT1Caption`},[s.DataValueType.FLOAT2]:{type:s.DataValueType.FLOAT2,id:"5cc8060d-6d10-4773-89fc-8c12d6f659a6",name:"Float2",icon:"data-type-float2-icon.svg",designerIcon:n(68877),translateKey:`${c}.FLOAT2Caption`},[s.DataValueType.FLOAT3]:{type:s.DataValueType.FLOAT3,id:"3f62414e-6c25-4182-bcef-a73c9e396f31",name:"Float3",icon:"data-type-float3-icon.svg",designerIcon:n(68877),translateKey:`${c}.FLOAT3Caption`},[s.DataValueType.FLOAT4]:{type:s.DataValueType.FLOAT4,id:"ff22e049-4d16-46ee-a529-92d8808932dc",name:"Float4",icon:"data-type-float4-icon.svg",designerIcon:n(68877),translateKey:`${c}.FLOAT4Caption`},[s.DataValueType.FLOAT8]:{type:s.DataValueType.FLOAT8,id:"a4aaf398-3531-4a0d-9d75-a587f5b5b59e",name:"Float8",icon:"data-type-float8-icon.svg",designerIcon:n(68877),translateKey:`${c}.FLOAT8Caption`},[s.DataValueType.Guid]:{type:s.DataValueType.Guid,id:"23018567-a13c-4320-8687-fd6f9e3699bd",name:"Guid",icon:"data-type-guid-icon.svg",designerIcon:n(92458),translateKey:`${c}.GuidCaption`},[s.DataValueType.Lookup]:{type:s.DataValueType.Lookup,id:"b295071f-7ea9-4e62-8d1a-919bf3732ff2",name:"Lookup",icon:"data-type-lookup-icon.svg",designerIcon:n(61631),translateKey:`${c}.LookupCaption`},[s.DataValueType.Boolean]:{type:s.DataValueType.Boolean,id:"90b65bf8-0ffc-4141-8779-2420877af907",name:"Boolean",icon:"data-type-boolean-icon.svg",designerIcon:n(36659),translateKey:`${c}.BooleanCaption`},[s.DataValueType.HASH_TEXT]:{type:s.DataValueType.HASH_TEXT,id:"ecbcce18-2a17-4ead-829a-9d02fa9578a4",name:"HashText",icon:"data-type-crs-text-icon.svg",designerIcon:n(97180),translateKey:`${c}.HashTextCaption`},[s.DataValueType.SECURE_TEXT]:{type:s.DataValueType.SECURE_TEXT,id:"3509b9dd-2c90-4540-b82e-8f6ae85d8248",name:"SecureText",icon:"data-type-encrypted-text-icon.svg",designerIcon:n(28010),translateKey:`${c}.SecureTextCaption`},[s.DataValueType.IMAGELOOKUP]:{type:s.DataValueType.IMAGELOOKUP,id:"b039feb0-ee7c-4884-8aa6-d6d45d84316f",name:"ImageLookup",icon:"data-type-image-link-icon.svg",designerIcon:n(65689),translateKey:`${c}.ImageLookupCaption`},[s.DataValueType.Money]:{type:s.DataValueType.Money,id:"969093e2-2b4e-463b-883a-3d3b8c61f0cd",name:"Money",icon:"data-type-float2-icon.svg",designerIcon:n(32643),translateKey:`${c}.MoneyCaption`},[s.DataValueType.Float]:{type:s.DataValueType.Float,id:"57ee4c31-5ec4-45fa-b95d-3a2868aa89a8",name:"Float",icon:"data-type-float1-icon.svg",designerIcon:n(68877),translateKey:`${c}.FloatCaption`},[s.DataValueType.FILE]:{type:s.DataValueType.FILE,id:"a33c9252-d401-453e-949d-169157067ed9",name:"File",icon:"data-type-file-icon.svg",designerIcon:n(55039),translateKey:`${c}.FileCaption`},[s.DataValueType.Image]:{type:s.DataValueType.Image,id:"fa6e6e49-b996-475e-a77e-73904e4c5a88",name:"Image",icon:"data-type-image-icon.svg",designerIcon:n(55039),translateKey:`${c}.ImageCaption`},[s.DataValueType.Blob]:{type:s.DataValueType.Blob,id:"b7342b7a-5dde-40de-aa7c-24d2a57b3202",name:"Blob",icon:"data-type-blob-icon.svg",designerIcon:n(55039),translateKey:`${c}.BlobCaption`},[s.DataValueType.Color]:{type:s.DataValueType.Color,id:"dafb71f9-ee9f-4e0b-a4d7-37aa15987155",name:"Color",icon:"data-type-color-icon.svg",designerIcon:n(39078),translateKey:`${c}.ColorCaption`},[s.DataValueType.RICH_TEXT]:{type:s.DataValueType.RICH_TEXT,id:"79bccffa-8c8b-4863-b376-a69d2244182b",name:"RichText",icon:"data-type-rich-text-icon.svg",designerIcon:n(67021),translateKey:`${c}.RichCaption`},[s.DataValueType.ENTITY]:{type:s.DataValueType.ENTITY,id:"ebd85d37-0abf-4bbf-bb32-97dc3dffcc8c",name:"Entity",icon:"data-type-other-icon.svg",designerIcon:n(97180),translateKey:`${c}.Entity`},[s.DataValueType.ENTITY_COLLECTION]:{type:s.DataValueType.ENTITY_COLLECTION,id:"51fb23ba-3eb2-11e2-b7d5-b0c76188709b",name:"EntityCollection",icon:"data-type-other-icon.svg",designerIcon:n(97180),translateKey:`${c}.EntityCollection`},[s.DataValueType.ENTITY_COLUMN_MAPPING_COLLECTION]:{type:s.DataValueType.ENTITY_COLUMN_MAPPING_COLLECTION,id:"b53eaa2a-4bb7-4a6b-9f4f-58ccab293e31",name:"EntityColumnMappingCollection",icon:"data-type-other-icon.svg",designerIcon:n(97180),translateKey:`${c}.EntityColumnMappingCollection`},[s.DataValueType.CUSTOM_OBJECT]:{type:s.DataValueType.CUSTOM_OBJECT,id:"84ed6865-9692-4c98-aaed-4d15b96a95c2",name:"CustomObject",icon:"data-type-other-icon.svg",designerIcon:n(97180),translateKey:`${c}.CustomObject`},[s.DataValueType.OBJECT_LIST]:{type:s.DataValueType.OBJECT_LIST,id:"4b51a8b5-1ee9-4437-9d58-f35e083cbcdf",name:"ObjectList",icon:"data-type-other-icon.svg",designerIcon:n(97180),translateKey:`${c}.ObjectList`},[s.DataValueType.COMPOSITE_OBJECT_LIST]:{type:s.DataValueType.COMPOSITE_OBJECT_LIST,id:"651ec16f-d140-46db-b9e2-825c985a8ac2",name:"CompositeObjectList",icon:"data-type-other-icon.svg",designerIcon:n(97180),translateKey:`${c}.CompositeObjectList`},[s.DataValueType.COMPOSITE_OBJECT]:{type:s.DataValueType.COMPOSITE_OBJECT,id:"632e4371-0a7f-46cd-a284-a623b3933027",name:"CompositeObject",icon:"data-type-composite-object-icon.svg",designerIcon:n(97180),translateKey:`${c}.CompositeObject`},[s.DataValueType.COLLECTION]:{type:s.DataValueType.COLLECTION,name:"Collection",icon:"data-type-other-icon.svg",designerIcon:n(97180),translateKey:`${c}.Collection`},[s.DataValueType.LOCALIZABLE_STRING]:{type:s.DataValueType.LOCALIZABLE_STRING,id:"95c6e6c4-2cc8-46be-a1cb-96f942655f86",name:"LocalizableString",icon:"data-type-text-icon.svg",designerIcon:n(97180),translateKey:`${c}.LocalizableString`},[s.DataValueType.METADATA_TEXT]:{type:s.DataValueType.METADATA_TEXT,id:"394e160f-c8e0-46fa-9c0d-75d97e9e9169",name:"MetaDataText",icon:"data-type-text-icon.svg",designerIcon:n(97180),translateKey:`${c}.MetaDataText`}},y={DateTime:[s.DataValueType.Date,s.DataValueType.Time,s.DataValueType.DateTime],Text:[s.DataValueType.Text,s.DataValueType.SHORT_TEXT,s.DataValueType.MEDIUM_TEXT,s.DataValueType.LONG_TEXT,s.DataValueType.PHONE_TEXT,s.DataValueType.WEB_TEXT,s.DataValueType.EMAIL_TEXT,s.DataValueType.MAXSIZE_TEXT,s.DataValueType.LOCALIZABLE_STRING,s.DataValueType.RICH_TEXT],Number:[s.DataValueType.FLOAT1,s.DataValueType.FLOAT2,s.DataValueType.FLOAT3,s.DataValueType.FLOAT4,s.DataValueType.FLOAT8,s.DataValueType.Integer,s.DataValueType.Money,s.DataValueType.Float],Lookup:[s.DataValueType.Lookup,s.DataValueType.IMAGELOOKUP]}},47788:(A,M,n)=>{n.d(M,{Ql:()=>y,b1:()=>s,dV:()=>c});class s{}var m=n(59131);class c{constructor(){this._defaultShortDatePattern="M/D/YYYY"}convert(f){if(f)return{...f,shortDatePattern:f?.shortDatePattern?.toUpperCase()??this._defaultShortDatePattern,shortTimePattern:f?.shortTimePattern?.replace("tt","A")}}static{this.\u0275fac=function(l){return new(l||c)}}static{this.\u0275prov=m.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"})}}var D=n(89979);const y=new m.InjectionToken("DateTimeFormatInfo",{providedIn:"root",factory:()=>{const T=(0,m.inject)(c),f=(0,m.inject)(D.oq);return T.convert(f?.cultureInfo?.dateTimeFormat)}})},10305:(A,M,n)=>{n.d(M,{ub:()=>l,Fm:()=>O,Uq:()=>a,ZX:()=>C,TE:()=>h,tT:()=>p,WZ:()=>E,M7:()=>R,K1:()=>s,As:()=>m,Dp:()=>S,cb:()=>_,Go:()=>c,JQ:()=>y,pA:()=>T,y:()=>D.y,xx:()=>f,Uo:()=>d,t0:()=>I});var s;(function(o){o[o.General=0]="General",o[o.Advanced=1]="Advanced",o[o.None=2]="None"})(s||(s={}));const m={[s.General]:{type:s.General,name:"General"},[s.Advanced]:{type:s.Advanced,name:"Advanced"},[s.None]:{type:s.None,name:"None"}};var c;(function(o){o[o.Error=1]="Error",o[o.Warning=2]="Warning",o[o.Information=4]="Information"})(c||(c={}));var D=n(77794),y;(function(o){o[o.Asc=0]="Asc",o[o.Desc=1]="Desc"})(y||(y={}));var T;(function(o){o.METADATA_INIT="METADATA_INIT",o.MODEL_INIT="MODEL_INIT",o.VIEW_MODEL_INIT="VIEW_MODEL_INIT"})(T||(T={}));var f;(function(o){o.Blank="_blank",o.Self="_self"})(f||(f={}));var l;(function(o){o.BusinessRule="BusinessRule",o.RelatedPage="RelatedPage",o.TimelineEntity="TimelineEntity",o.AppearanceSettings="AppearanceSettings",o.Sidebar="Sidebar",o.UCTestAddon="UCTestAddon"})(l||(l={}));var p;(function(o){o[o.None=0]="None",o[o.Module=1]="Module",o[o.EditViewModelSchema=2]="EditViewModelSchema",o[o.ModuleViewModelSchema=3]="ModuleViewModelSchema",o[o.DetailViewModelSchema=4]="DetailViewModelSchema",o[o.GridDetailViewModelSchema=5]="GridDetailViewModelSchema",o[o.EditControlsDetailViewModelSchema=6]="EditControlsDetailViewModelSchema",o[o.UnitTestModule=7]="UnitTestModule",o[o.GridEditDetailViewModelSchema=8]="GridEditDetailViewModelSchema",o[o.AngularSchema=9]="AngularSchema"})(p||(p={}));var _;(function(o){o.Byte="Byte",o.Kilobyte="Kilobyte",o.Megabyte="Megabyte",o.Gigabyte="Gigabyte"})(_||(_={}));var C;(function(o){o.Const="Const",o.SysValue="SysValue",o.SysSetting="SysSetting",o.AttributeValue="AttributeValue",o.AttributeProperty="AttributeProperty",o.Formula="Formula"})(C||(C={}));var a;(function(o){o[o.IsNull=0]="IsNull",o[o.IsNotNull=1]="IsNotNull",o[o.Equal=2]="Equal",o[o.NotEqual=3]="NotEqual",o[o.Contain=11]="Contain",o[o.NotContain=12]="NotContain"})(a||(a={}));var S;(function(o){o[o.None=0]="None",o[o.And=1]="And",o[o.Or=2]="Or"})(S||(S={}));var h;(function(o){o.ChangeAttributeValue="ChangeAttributeValue",o.ChangeAttributeProperty="ChangeAttributeProperty",o.DataLoaded="DataLoaded",o.ContextReady="ContextReady"})(h||(h={}));var d;(function(o){o[o.General=0]="General",o[o.External=1]="External"})(d||(d={}));var E;(function(o){o.LightGreen="#A6DE00",o.Green="#20A959",o.DarkGreen="#22AC14",o.Orange="#FFAC07",o.OrangeRed="#FF8800",o.Coral="#F9307F",o.BrightRed="#FF602E",o.Red="#FF4013",o.Purple="#B87CCF",o.Violet="#7848EE",o.CelestialBlue="#247EE5",o.Blue="#0058EF",o.LightBlue="#009DE3",o.NavyBlue="#4F43C2",o.DarkTurquoise="#08857E",o.Turquoise="#00BFA5",o.BurntCoral="#BE1B5A",o.CadmiumRed="#E00022",o.ForestGreen="#0B6A32",o.SteelBlue="#1566B9",o.VividPurple="#9641A9",o.RustyOrange="#F86700",o.DarkBlue="#0D2E4E"})(E||(E={}));var R;(function(o){o.LightGreen="#7DA112",o.Green="#008537",o.DarkGreen="#0B8500",o.Orange="#EF6F00",o.OrangeRed="#DB3C00",o.Coral="#C2185B",o.BrightRed="#DC3A00",o.Red="#DB2D00",o.Purple="#A400AA",o.Violet="#512DA8",o.CelestialBlue="#0058EF",o.Blue="#014BCB",o.LightBlue="#0073EA",o.NavyBlue="#28216B",o.DarkTurquoise="#00665C",o.Turquoise="#118574",o.BurntCoral="#A10E47",o.CadmiumRed="#B8001C",o.ForestGreen="#0A592A",o.SteelBlue="#145597",o.VividPurple="#7B2D8D",o.RustyOrange="#9C3305",o.DarkBlue="#071D35"})(R||(R={}));const I={LightGreen:E.LightGreen,Green:E.Green,DarkGreen:E.DarkGreen,Orange:E.Orange,OrangeRed:E.OrangeRed,Coral:E.Coral,BrightRed:E.BrightRed,Red:E.Red,Purple:E.Purple,Violet:E.Violet,CelestialBlue:E.CelestialBlue,Blue:E.Blue,LightBlue:E.LightBlue,NavyBlue:E.NavyBlue,DarkTurquoise:E.DarkTurquoise,Turquoise:E.Turquoise},O={LightGreen:"#71CD1A",Green:"#00C853",BrightRed:"#D32F2F",CelestialBlue:"#0091EA",LightBlue:"#1F97DB",DarkTurquoise:"#009688"}},77794:(A,M,n)=>{n.d(M,{y:()=>s});var s;(function(m){m.Contains="contains",m.StartsWith="starts-with",m.Equals="equals"})(s||(s={}))},23529:(A,M,n)=>{n.d(M,{r:()=>m,K:()=>s});var s;(function(c){c.PDS="Page PDS",c.SectionAccess="Section access",c.PageAccess="Object page settings rule"})(s||(s={}));class m extends Error{constructor(D,y,T){super(),this._schemaName=D,this._userName=y,this._rule=T}get message(){return this._schemaName?`${this._schemaName} is not allowed due to ACL setup for ${this._userName}. Failed rules: - ${this._rule}.`:"Page is not allowed due to ACL setup. Check application logs for more details."}}},30467:(A,M,n)=>{n.d(M,{u:()=>s,z:()=>m});const s="",m=1024},84743:(A,M,n)=>{n.d(M,{WR:()=>m,Wc:()=>s,eA:()=>c});const s=0,m=20,c="."},15766:(A,M,n)=>{n.d(M,{g:()=>y});var s=n(59131),m=n.n(s),c=n(20364),D=n(27708);class y{static _createFormattersRegistrationMap(f){const l=new Map;return f=f??[],f.forEach(({predicat:p,formatter:_})=>{l.set(p,_)}),l}static forRoot(f){const l=f?.default??c.yt,p=this._createFormattersRegistrationMap(f?.customs),_=p.values();return{ngModule:y,providers:[l,..._,c.$7,{provide:D.HI,useClass:l},{provide:D.DK,useValue:p}]}}static{this.\u0275fac=function(l){return new(l||y)}}static{this.\u0275mod=s.\u0275\u0275defineNgModule({type:y})}static{this.\u0275inj=s.\u0275\u0275defineInjector({})}}},41886:(A,M,n)=>{n.d(M,{d:()=>y});var s=n(89979),m=n(84743),c=n(30467),D=n(59131);class y{constructor(f){this._userInfo=f}_adjustDecimalPrecision(f){return f==null||(f=parseInt(`${f}`,10),isNaN(f))?null:(f=Math.min(f,m.WR),f=Math.max(f,m.Wc),f)}_adjustDecimalSeparator(f){const l=this._userInfo?.cultureInfo?.decimalSeparator;return typeof l=="string"?l:f||m.eA}_adjustThousandSeparator(f){const l=this._userInfo?.cultureInfo?.thousandSeparator;return typeof l=="string"?l:f||c.u}adjust(f){const{decimalPrecision:l,decimalSeparator:p,thousandSeparator:_,thousandAbbreviation:C,trimTrailingZeros:a}=f||{};return{type:"number",decimalPrecision:this._adjustDecimalPrecision(l),decimalSeparator:this._adjustDecimalSeparator(p),trimTrailingZeros:a??!1,thousandSeparator:this._adjustThousandSeparator(_),thousandAbbreviation:{enabled:C?.enabled===!0}}}static{this.\u0275fac=function(l){return new(l||y)(D.\u0275\u0275inject(s.oq,8))}}static{this.\u0275prov=D.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"})}}},70990:(A,M,n)=>{n.d(M,{k:()=>f});var s=n(30046),m=n.n(s),c=n(13113),D=n(20083),y=n(59131),T=n.n(y);class f extends D.Z{constructor(p){super(),this._momentDateTimeFormatter=p}format(p,_){if(!p)return"";const C=new Date(p);if(isNaN(C))return"";const a=this._momentDateTimeFormatter.getFormat(_);return m()(C).format(a)}static{this.\u0275fac=function(_){return new(_||f)(y.\u0275\u0275inject(c.Z))}}static{this.\u0275prov=y.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac,providedIn:"root"})}}},58687:(A,M,n)=>{n.d(M,{tT:()=>y,Kd:()=>l,XV:()=>T,St:()=>_,j0:()=>f,dD:()=>p});var s=n(96590),m=n(47788),c=n(59131);const D="M/D/YYYY";class y extends s.AbstractHandler{constructor(a){super(),this._dateTimeFormat=a}_castToDateTimeFormat(a){const S=a.format;if(!S)return a;const h=S.split(" ").length>=2;return{type:a.type,date:{display:!0},time:{display:h}}}_getDateTimeFormatMoment(a){let S="";const{shortDatePattern:h,shortTimePattern:d}=this._dateTimeFormat??{};if(!h&&!d)return D;const{date:E,time:R}=a??{},{display:I=!1}=E??{},{display:O=!1}=R??{};return I&&(S+=h),O&&(S+=` ${d}`),S.trim()}handle(a){const{dateTimeFormat:S,handledMomentFormat:h}=a,d=this._castToDateTimeFormat(S),E=this._getDateTimeFormatMoment(d);this.format=d?.date?.format;let R=this.internalHandler(h??E);if(R!==E){const I=new RegExp(`^\\${this._dateTimeFormat.dateSeparator}+`),O=new RegExp(`\\${this._dateTimeFormat.dateSeparator}+$`),o=new RegExp(`\\${this._dateTimeFormat.dateSeparator}{2,}`,"g");R=R.replace(I,"").replace(O,"").replace(o,this._dateTimeFormat.dateSeparator)}return a.handledMomentFormat=R,super.handle(a)??R}static{this.\u0275fac=function(S){return new(S||y)(c.\u0275\u0275inject(m.Ql))}}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"})}}class T extends s.AbstractHandler{handle(a){return a?.dateTimeFormat?.time?.format==="hour"?"H":super.handle(a)}static{this.\u0275fac=(()=>{let a;return function(h){return(a||(a=c.\u0275\u0275getInheritedFactory(T)))(h||T)}})()}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac,providedIn:"root"})}}class f extends s.AbstractHandler{handle(a){return a.dateTimeFormat?.date?.format==="week"?"W":super.handle(a)}static{this.\u0275fac=(()=>{let a;return function(h){return(a||(a=c.\u0275\u0275getInheritedFactory(f)))(h||f)}})()}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac,providedIn:"root"})}}class l extends y{internalHandler(a){return this.format&&!this.format.has("days")?a.replace(/D/g,""):a}static{this.\u0275fac=(()=>{let a;return function(h){return(a||(a=c.\u0275\u0275getInheritedFactory(l)))(h||l)}})()}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}class p extends y{internalHandler(a){return this.format&&!this.format?.has("years")?a.replace(/Y/g,""):a}static{this.\u0275fac=(()=>{let a;return function(h){return(a||(a=c.\u0275\u0275getInheritedFactory(p)))(h||p)}})()}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"})}}class _ extends y{internalHandler(a){return this.format&&!this.format?.has("months")?a.replace(/M/g,""):a}static{this.\u0275fac=(()=>{let a;return function(h){return(a||(a=c.\u0275\u0275getInheritedFactory(_)))(h||_)}})()}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"})}}},20083:(A,M,n)=>{n.d(M,{Z:()=>s});class s{}},47486:(A,M,n)=>{n.d(M,{tT:()=>m.tT,kC:()=>s.k,Kd:()=>m.Kd,ZA:()=>D.Z,XV:()=>m.XV,ZQ:()=>f,St:()=>m.St,KD:()=>l.K,yt:()=>p.y,j0:()=>m.j0,dD:()=>m.dD});var s=n(70990),m=n(58687),c=n(96590),D=n(20083),y=n(59131);const T=new Map([["default",{ADD_TAGS:["#comment","signature"],FORCE_BODY:!0}],["textOnly",{ALLOWED_TAGS:["#text"],FORBID_CONTENTS:c.DOM_PURIFIER_DEFAULT_FORBID_CONTENTS}]]);class f extends D.Z{constructor(C){super(),this._domPurifier=C,this._defaultFormat={type:"sanitizeHtml",mode:"default"},this._sanitizationConfigsByMode=T}_sanitizeHtml(C,a){const S=a.mode??"default",h=this._sanitizationConfigsByMode.get(S);return this._domPurifier.sanitize(C,h).toString()}format(C,a){return C?this._sanitizeHtml(C,a??this._defaultFormat):""}static{this.\u0275fac=function(a){return new(a||f)(y.\u0275\u0275inject(c.DOM_PURIFIER))}}static{this.\u0275prov=y.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac,providedIn:"root"})}}var l=n(2157),p=n(96705)},2157:(A,M,n)=>{n.d(M,{K:()=>R});var s=n(96590),m=n.n(s),c=n(28399),D=n.n(c),y=n(4166),T=n.n(y),f=n(20083),l=n(84743),p=n(30467),_=n(41886),C=n(59131),a=n.n(C);const S=",",h="a",d="#DECIMAL_SEPARATOR#",E="#THOUSAND_SEPARATOR#";class R extends f.Z{constructor(O){super(),this._formatAdjuster=O}_isNaN(O){const o=parseFloat(O);return isNaN(o)}_createNumeralFormat(O,o){const w="0,0",[F,N]=O.split(l.eA),$=Math.abs(parseInt(F,10))>=1e3,Z=!!o.thousandAbbreviation?.enabled;if($&&Z)return`${w}${h}.[0]`;const k=this._getFractionLength(N,o),q="0".repeat(k);return`${w}.${q}`}_getFractionLength(O,o){if(!o.trimTrailingZeros)return o.decimalPrecision??O?.length??0;const w=(0,c.trimEnd)(O,"0");return(0,c.isNil)(o.decimalPrecision)?w.length:Math.min(w.length,o.decimalPrecision)}_replaceSeparators(O,o){const{decimalSeparator:w,thousandSeparator:F}=o,N=[{searchValue:l.eA,replaceMacros:d,replaceValue:w},{searchValue:S,replaceMacros:E,replaceValue:F}];return(0,s.replaceSubstring)(O,N)}_undoReplaceSeparators(O,o){const{decimalSeparator:w,thousandSeparator:F}=o,N=[{searchValue:w,replaceMacros:d,replaceValue:l.eA},{searchValue:F,replaceMacros:E,replaceValue:p.u}];return(0,s.replaceSubstring)(O,N)}format(O,o){if(this._isNaN(O))return"";o||(o={type:"number"});const w=this._formatAdjuster.adjust(o),F=this._createNumeralFormat(O,w),N=T()(O).format(F);return this._isNaN(N)?"":this._replaceSeparators(N,w)}undoFormat(O,o){if(this._isNaN(O))return"";o||(o={type:"number"});const w=this._formatAdjuster.adjust(o);return this._undoReplaceSeparators(O,w)}static{this.\u0275fac=function(o){return new(o||R)(C.\u0275\u0275inject(_.d))}}static{this.\u0275prov=C.\u0275\u0275defineInjectable({token:R,factory:R.\u0275fac,providedIn:"root"})}}},96705:(A,M,n)=>{n.d(M,{y:()=>_});var s=n(20083),m=n(59131),c=n.n(m);const D="-",y="...",T=-1,f=2,l=4,p={type:"string",wordSeparator:" ",wordConnector:" ",maxLinesCount:T,maxLineLength:T};class _ extends s.Z{_fillInFormat(a){const{maxLinesCount:S,maxLineLength:h,wordSeparator:d,wordConnector:E}=p;return{type:"string",maxLinesCount:a?.maxLinesCount??S,maxLineLength:a?.maxLineLength??h,wordSeparator:a?.wordSeparator??d,wordConnector:a?.wordConnector??E}}_splitTextToWords(a,S){return a.split(S).map(h=>h.trim()).filter(h=>h!=="")}_wrapWordsToLines(a,S){const h=[];for(;a.length>0;){const d=a.shift(),E=this._getLinesState(h,S);if(this._canAddWordIntoLine(d,E)){this._addWordToLine(d,h);continue}if(this._canAddWordIntoNextLine(d,a,E)){h.push([]),a.unshift(d);continue}const{remainderLineLength:R}=E;if(this._canBreakWordIntoSyllables(E)){const I=this._breakWordIntoSyllables(d,h,R);h.push([]),a.unshift(I);continue}this._canTruncateWordWithEllipsis(E)?this._truncateWordWithEllipsis(d,h,R):this._addWordToLine(y,h);break}return h}_getLinesState(a,S){let{maxLinesCount:h,maxLineLength:d}=S;h<T&&(h=T),d<T&&(d=T);const E=a.length,R=E>0?a[E-1]:[],I=this._getTotalWordsLength(R),O=h===T?T:h-E,o=d===T?T:d-I;return{maxLineLength:d,maxLinesCount:h,currentLinesCount:E,remainderLineLength:o,remainderLinesCount:O}}_getTotalWordsLength(a){return a.reduce((S,h)=>S+h.length,0)}_canAddWordIntoLine(a,S){const{remainderLineLength:h}=S;return a.length<=h||h===T}_canAddWordIntoNextLine(a,S,h){const{maxLineLength:d,remainderLineLength:E,remainderLinesCount:R}=h;if(R===0)return!1;if(R===T)return!0;const I=a.length;if(I<l||E<f)return!0;if(I>d)return!1;const F=this._getTotalWordsLength(S),N=(R-1)*d;return F<=N}_canBreakWordIntoSyllables(a){const{remainderLinesCount:S,remainderLineLength:h}=a,d=S===T||S>0,E=h>=f;return d&&E}_canTruncateWordWithEllipsis(a){return a.remainderLineLength>0}_addWordToLine(a,S){const h=S.pop()??[];h.push(a),S.push(h)}_breakWordIntoSyllables(a,S,h){const d=a.length;d-h===1&&h--;const R=a.substring(0,h),I=a.substring(h,d);return this._addWordToLine(R+D,S),I}_truncateWordWithEllipsis(a,S,h){const d=a.substring(0,h);d.length===1?this._addWordToLine(y,S):this._addWordToLine(d+y,S)}format(a,S){if(typeof a!="string")return[];S=this._fillInFormat(S);const h=this._splitTextToWords(a,S.wordSeparator);return this._wrapWordsToLines(h,S).map(E=>E.join(S.wordConnector))}static{this.\u0275fac=(()=>{let a;return function(h){return(a||(a=m.\u0275\u0275getInheritedFactory(_)))(h||_)}})()}static{this.\u0275prov=m.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"})}}},20364:(A,M,n)=>{n.d(M,{tT:()=>c.tT,kC:()=>c.kC,Kd:()=>c.Kd,ZA:()=>c.ZA,$7:()=>D,XV:()=>c.XV,ZQ:()=>c.ZQ,St:()=>c.St,dv:()=>y.d,KD:()=>c.KD,yt:()=>c.yt,j0:()=>c.j0,dD:()=>c.dD});var s=n(59131),m=n(27708),c=n(47486);class D{constructor(f,l,p){this._injector=f,this._defaultFormatter=l,this._formattersMap=p}_getFormatterByType(f){const{type:l}=f;if(this._formattersMap.has(l)){const p=this._formattersMap.get(l);return this._injector.get(p)}}_getFormatterByPredicat(f){for(const[l,p]of this._formattersMap)if(typeof l=="function"&&l(f))return this._injector.get(p)}resolveFormatter(f){return f?this._getFormatterByType(f)??this._getFormatterByPredicat(f)??this._defaultFormatter:this._defaultFormatter}static{this.\u0275fac=function(l){return new(l||D)(s.\u0275\u0275inject(s.Injector),s.\u0275\u0275inject(m.HI),s.\u0275\u0275inject(m.DK))}}static{this.\u0275prov=s.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac,providedIn:"root"})}}var y=n(41886)},27708:(A,M,n)=>{n.d(M,{On:()=>D,HI:()=>y,DK:()=>a,hi:()=>f,ZJ:()=>c.Z,TF:()=>l});var s=n(59131),m=n(47486),c=n(13113);const D=new s.InjectionToken("Represents a datetime data formatter",{factory:()=>new m.kC((0,s.inject)(c.Z)),providedIn:"root"}),y=new s.InjectionToken("Represents a default data formatter",{factory:()=>new m.yt,providedIn:"root"});var T=n(96590);const f=new s.InjectionToken("Represents a sanitize html formatter",{factory:()=>new m.ZQ((0,s.inject)(T.DOM_PURIFIER)),providedIn:"root"}),l=new s.InjectionToken("Represents a number data formatter",{factory:()=>(0,s.inject)(m.KD),providedIn:"root"});var p=n(70990),_=n(2157),C=n(96705);const a=new s.InjectionToken("Represents a registration map of formatters",{factory:()=>new Map([["string",C.y],["number",_.K],["datetime",p.k]]),providedIn:"root"})},13113:(A,M,n)=>{n.d(M,{Z:()=>D});var s=n(59131),m=n.n(s),c=n(58687);const D=new s.InjectionToken("Represents the moment date time format",{factory:()=>{const y=(0,s.inject)(c.j0),T=(0,s.inject)(c.XV),f=(0,s.inject)(c.Kd),l=(0,s.inject)(c.St),p=(0,s.inject)(c.dD);return{getFormat:_=>(y.setNext(T).setNext(f).setNext(l).setNext(p),y.handle({dateTimeFormat:_}))}},providedIn:"root"})},87084:(A,M,n)=>{n.d(M,{S:()=>m});var s=n(59131);class m{constructor(){const D=this.constructor;if((0,s.inject)(D,s.InjectFlags.Optional|s.InjectFlags.SkipSelf))throw Error(`[${D.name}]: trying to create multiple instances,
			but this service should be a singleton.`)}}},13732:(A,M,n)=>{n.d(M,{jj:()=>s,M1:()=>c,rI:()=>T,bt:()=>m,cI:()=>y,zR:()=>D,cQ:()=>l});var s;(function(p){p.Reload="reload",p.Merge="merge"})(s||(s={}));var m;(function(p){p.Init="init",p.Create="create",p.Update="update",p.Copy="copy",p.Delete="delete",p.Unknown="unknown"})(m||(m={}));const c="crt.EntityDataSource",D="crt.PageParametersDataSource",y="PageParameters";var T;(function(p){p[p.None=0]="None",p[p.Small=1]="Small",p[p.Medium=2]="Medium",p[p.Large=3]="Large",p[p.ExtraLarge=4]="ExtraLarge",p[p.Custom=5]="Custom"})(T||(T={}));var f=n(59131);const l=new f.InjectionToken("sessionEndNotifier")},26544:(A,M,n)=>{n.d(M,{D:()=>s});class s{constructor(c){c&&(this.uId=c.uId,this.name=c.name,this.caption=c.caption,this.extendParent=c.extendParent,this.packageUId=c.packageUId)}}},4583:(A,M,n)=>{n.d(M,{V:()=>s});class s{static{this.instance=new s}wait(c){return c()}}},62299:(A,M,n)=>{n.d(M,{DQ:()=>s.D,Uh:()=>m,V_:()=>c.V,YJ:()=>p,ol:()=>O,uB:()=>D,XM:()=>y,a8:()=>T,xR:()=>f,hd:()=>l,m3:()=>C,c2:()=>h,L8:()=>d,ck:()=>S,fT:()=>I,Wd:()=>a,s7:()=>E});var s=n(26544),m;(function(o){o.Replace="replace",o.InsertAbove="insertAbove",o.InsertBelow="insertBelow"})(m||(m={}));var c=n(4583),D;(function(o){o.SetHighlighting="setHighlighting",o.RemoveHighlighting="removeHighlighting"})(D||(D={}));class y{}class T{constructor(w,F,N){this.path=w,this.value=F,this.type=N}}class f{}class l extends Array{constructor(w){super(),Object.setPrototypeOf(this,Object.create(l.prototype)),Array.isArray(w)&&this._fillFromSource(w)}_fillFromSource(w){w.filter(F=>F?.cultureName!=null).forEach(F=>{this.setValueLocalizableString(F.cultureName,F.value)})}getValue(w){const F=this.getLocalizableString(w);return F?F.value:""}hasCultureValue(w,F=!1){const N=this.getLocalizableString(w);return F?(N?.value||null)!=null:N?.value!=null}getLocalizableString(w){return this.find(F=>F.cultureName===w)||null}setValueLocalizableString(w,F){const N=this.getLocalizableString(w);return N?N.value=F:this.push({cultureName:w,value:F}),this}setValues(w,F=!1){return w.forEach(N=>{this.hasCultureValue(N.cultureName)&&F||this.setValueLocalizableString(N.cultureName,N.value)}),this}clone(){return new l(this)}}var p;(function(o){o.OnDemand="OnDemand",o.OnInit="OnInit"})(p||(p={}));var _=n(59131);const C=new _.InjectionToken("navigation_handler_token"),a=o=>o.replace(/\./g,"")+"_PropertiesBindingAttribute";var S;(function(o){o.string="Strings",o.image="Images"})(S||(S={}));const h="Resources";var d;(function(o){o[o.EntitySchema=3]="EntitySchema",o[o.ClientUnitSchema=4]="ClientUnitSchema"})(d||(d={}));function E(o){return new class{execute(){o()}}}var R=n(28399);class I{constructor(w={preventAttributeChangeRequest:!1,preventRunBusinessRules:!1,preventStateChange:!1}){this._preventAttributeChangeRequest=!1,this._preventStateChange=!1,this._preventRunBusinessRules=!1,this._setOptions(w)}_setUsingSilent(w){this._preventStateChange=w,this._preventRunBusinessRules=w,this._preventAttributeChangeRequest=!1}_setOptions(w){this._preventAttributeChangeRequest=w?.preventAttributeChangeRequest??this._preventAttributeChangeRequest,this._preventStateChange=w?.preventStateChange??this._preventStateChange,this._preventRunBusinessRules=w?.preventRunBusinessRules??this._preventRunBusinessRules}getAsSilent(){return this._preventRunBusinessRules&&this._preventStateChange}setOptions(w){if((0,R.isUndefined)(w?.silent)){const F=(0,R.pick)(w,"preventAttributeChangeRequest","preventStateChange","preventRunBusinessRules");this._setOptions(F)}else this._setUsingSilent(w?.silent)}getOptions(){return{preventAttributeChangeRequest:this._preventAttributeChangeRequest,preventRunBusinessRules:this._preventRunBusinessRules,preventStateChange:this._preventStateChange}}reset(){this._preventAttributeChangeRequest=!1,this._preventRunBusinessRules=!1,this._preventStateChange=!1}}var O;(function(o){o.EntityDataSource="crt.EntityDataSource",o.WebServiceDataSource="crt.WebServiceDataSource",o.PageParametersDataSource="crt.PageParametersDataSource"})(O||(O={}))},70570:(A,M,n)=>{n.d(M,{Y:()=>_,Q:()=>T});var s=n(62278),m=n(36486),c=n(62299),D=n(51462),y=n(59131);class T{constructor(a){this._entitySchemaService=a,this.schemaType=c.L8.EntitySchema}_getSchema(a){return a.pipe((0,m.switchMap)(S=>S.success===!0?(0,s.of)(S):(0,s.throwError)(()=>new Error(S.errorInfo.message))),(0,m.map)(S=>S.entitySchema))}_getScheme(a){return a.pipe((0,m.switchMap)(S=>S.success===!0?(0,s.of)(S):(0,s.throwError)(()=>new Error(S.errorInfo.message))),(0,m.map)(S=>S.schemes))}getSchemaByUId(a){const S=this._entitySchemaService.getEntitySchemaByUId(a);return this._getSchema(S)}getSchemaByName(a){const S=this._entitySchemaService.getEntitySchemaByName(a);return this._getSchema(S)}getSchemes(a){const S=this._entitySchemaService.getEntitySchemes(a);return this._getScheme(S)}static{this.\u0275fac=function(S){return new(S||T)(y.\u0275\u0275inject(D.eu))}}static{this.\u0275prov=y.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac,providedIn:"root"})}}var f=n(52811),l=n(23092),p=n(45988);const _={provide:p.o,useFactory:C=>C?.isSSP?f.x:f._,deps:[[new y.Optional,l.oq]]}},39820:(A,M,n)=>{n.d(M,{_:()=>y,x:()=>c});var s=n(62278),m=n(36486);class c{handleRequest(f,l={}){let p=f;return p=this.processResponse(l,p),p.pipe((0,m.catchError)(_=>{let C;return _ instanceof Error?C=_.message:(typeof _.error?.errorInfo=="object"&&(C=_.error.errorInfo.message),typeof _.error=="string"&&(C=_.error)),C||(C=JSON.stringify(_.message)),this.processErrorMessage(C),(0,s.throwError)(()=>new Error(C))}))}processResponse(f,l){return f.skipUnsuccessfulResponse||(l=l.pipe((0,m.tap)(p=>this.processUnsuccessfulResponse(p)))),l}processUnsuccessfulResponse(f){const{success:l,errorInfo:p}=f||{};!l&&p&&this.processErrorMessage(p.message)}}var D=n(28399);class y extends c{constructor(){super(...arguments),this._accumulatedErrorResponses=[]}_accumulateError(f){const l=(0,D.cloneDeep)(f);this._accumulatedErrorResponses.push(l)}_stopAccumulatingErrors(){this._accumulatedErrorResponses=[]}get accumulatedErrorResponses(){return this._accumulatedErrorResponses}processUnsuccessfulResponse(f){if(this._accumulateErrors&&this.canAccumulate(f)){this._accumulateError(f),this.processAccumulatedResponse(f);return}this.processSeparatedResponse(f)}handleRequestWithAccumulation(f,l){let p=!1;return this._accumulateErrors||(this._accumulateErrors=!0,p=!0),this.handleRequest(f,l).pipe((0,m.tap)(()=>{p&&(this.showAccumulatedErrors(),this._stopAccumulatingErrors())}),(0,m.catchError)(_=>{throw this._stopAccumulatingErrors(),_}))}}},22457:(A,M,n)=>{n.d(M,{D:()=>s});class s{}},39220:(A,M,n)=>{n.d(M,{I:()=>d,m:()=>E});var s=n(5960),m=n.n(s),c=n(63721),D=n.n(c),y=n(59131),T=n.n(y),f=n(96590),l=n.n(f),p=n(62278),_=n.n(p),C=n(36486),a=n.n(C),S=n(92141);let h=S.z.create({serviceUrl:"",clientConnectionClassName:""});const d={provide:S.z,useFactory:()=>h};let E=class Je{constructor(I){this._httpClient=I,this._serviceEndpoint="ServiceModel/ApplicationInfoService.svc/"}_initApplicationInfo(){const I=this._serviceEndpoint+"GetApplicationInfo";this._applicationInfoObservable$=this._httpClient.post(I,null).pipe((0,C.map)(O=>{const o=O&&O.applicationInfo;return h=S.z.create(o),O}),(0,C.shareReplay)(1)),this._applicationInfoObservable$.subscribe()}loadApplicationInfo(){return this._applicationInfoObservable$||this._initApplicationInfo(),this._applicationInfoObservable$}loadSysValues(){return this.loadApplicationInfo().pipe((0,C.map)(I=>I?.applicationInfo?.sysValues))}getCoreVersion(){return this._coreVersion?(0,p.of)(this._coreVersion):this.loadSysValues().pipe((0,p.tap)(I=>this._coreVersion=I?.coreVersion),(0,C.map)(()=>this._coreVersion))}static{this.\u0275fac=function(O){return new(O||Je)(y.\u0275\u0275inject(c.HttpClient))}}static{this.\u0275prov=y.\u0275\u0275defineInjectable({token:Je,factory:Je.\u0275fac,providedIn:"root"})}};E=(0,s.__decorate)([(0,f.CrtHandlerChainAdapter)({requestType:"crt.SysValuesService"}),(0,s.__metadata)("design:paramtypes",[c.HttpClient])],E)},92141:(A,M,n)=>{n.d(M,{z:()=>c});var s=n(59131),m=n.n(s);class c{static create(y){const T=new c;return Object.assign(T,y),T}get isDebugEnabled(){return!!window.Terrasoft?.isDebug}static{this.\u0275fac=function(T){return new(T||c)}}static{this.\u0275prov=s.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"})}}},41562:(A,M,n)=>{n.d(M,{Iw:()=>s.I,my:()=>s.m,zX:()=>m.z});var s=n(39220),m=n(92141)},51462:(A,M,n)=>{n.d(M,{vr:()=>C,M5:()=>o,t6:()=>D,PY:()=>m,eu:()=>k});var s=n(38495);class m{get isLookupType(){return this.dataValueType?this.dataValueType===s.DataValueType.Lookup:!1}constructor(i){i&&(this.uId=i.uId,this.name=i.name,this.caption=i.caption,this.columnCaptionPath=i.columnCaptionPath,this.dataValueType=i.dataValueType,this.usageType=i.usageType,this.referenceSchemaUId=i.referenceSchemaUId,this.referenceSchemaName=i.referenceSchemaName,this.isRequired=i.isRequired,this.isValueCloneable=i.isValueCloneable,this.isMasked=i.isMasked,this.isFormatValidated=i.isFormatValidated,this.isSensitiveData=i.isSensitiveData,this.defaultValueSchema=i.defaultValueSchema,this.lookupMode=i.lookupMode)}}var c=n(26544);class D extends c.D{getPrimaryColumn(){return this.primaryColumnUId&&this.columns?.find(i=>i.uId===this.primaryColumnUId)}getPrimaryDisplayColumn(){return this.primaryDisplayColumnUId&&this.columns?.find(i=>i.uId===this.primaryDisplayColumnUId)}getPrimaryColorColumn(){return this.primaryColorColumnUId&&this.columns?.find(i=>i.uId===this.primaryColorColumnUId)}getHierarchyColumn(){return this.hierarchyColumnUId&&this.columns?.find(i=>i.uId===this.hierarchyColumnUId)}getCreatedOnColumn(){return this.createdOnColumnUId&&this.columns?.find(i=>i.uId===this.createdOnColumnUId)}getCreatedByColumn(){return this.createdByColumnUId&&this.columns?.find(i=>i.uId===this.createdByColumnUId)}getModifiedOnColumn(){return this.modifiedOnColumnUId&&this.columns?.find(i=>i.uId===this.modifiedOnColumnUId)}getModifiedByColumn(){return this.modifiedByColumnUId&&this.columns?.find(i=>i.uId===this.modifiedByColumnUId)}}var y=n(63721),T=n(31589),f=n(62278),l=n(36486),p=n(23092),_=n(59131);class C{constructor(i,g){this._userInfo=i,this._httpClient=g}_getServiceUrlSspPart(){return this._userInfo.isSSP?"ssp/":""}_getDataServiceUrlWithSspPart(){return`DataService/${this._getServiceUrlSspPart()}`}getSchemaDesignerServiceEndpoint(){return this._getDataServiceUrlWithSspPart()+"json/SyncReply/SchemaDesignerRequest"}getRuntimeEntitySchemaServiceEndpoint(){return this._getDataServiceUrlWithSspPart()+"json/SyncReply/RuntimeEntitySchemaRequest"}getEntitySchemaServiceEndpoint(){return this._getDataServiceUrlWithSspPart()+"json/SyncReply/EntitySchemaRequest"}getRuntimeEntitySchemeServiceEndpoint(){return this._getDataServiceUrlWithSspPart()+"json/SyncReply/RuntimeEntitySchemesRequest"}getEntity(i){return(0,f.lastValueFrom)(this._httpClient.post(this.getRuntimeEntitySchemaServiceEndpoint(),{name:i}))}getEntities(i){return(0,f.lastValueFrom)(this._httpClient.post(this.getRuntimeEntitySchemeServiceEndpoint(),i))}static{this.\u0275fac=function(g){return new(g||C)(_.\u0275\u0275inject(p.oq),_.\u0275\u0275inject(y.HttpClient))}}static{this.\u0275prov=_.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac,providedIn:"root"})}}var a=n(73308),S=n(96590),h=n(47149);class d{static _getDefaultValue(i){if(!i)return null;if(i.source===s.DefaultValueSource.Sequence)return{valueSourceType:s.DefaultValueSource.Sequence,value:"Sequence",sequencePrefix:i.sequencePrefix,sequenceNumberOfChars:i.sequenceNumberOfChars};if(i.source===s.DefaultValueSource.Const){const g=i.value,v=typeof g=="string"?g:g.value;return{valueSourceType:s.DefaultValueSource.Const,value:v,valueSource:v,sequenceNumberOfChars:0}}return i.source===s.DefaultValueSource.Settings?{valueSourceType:s.DefaultValueSource.Settings,value:i.calculatedValue,valueSource:i.value,sequenceNumberOfChars:0}:i.source===s.DefaultValueSource.SystemValue?{valueSourceType:s.DefaultValueSource.SystemValue,value:i.calculatedValue,valueSource:i.sourceValue,sequenceNumberOfChars:0}:{valueSourceType:i.source,value:null,sequenceNumberOfChars:0}}static _getPrimaryDisplayColorColumnUId(i){if(!i.primaryColorColumnName)return null;const g=Object.values(i.columns).find(v=>v.name===i.primaryColorColumnName);if(!g)throw new Error(`Primary color column set in object ${i.name} but column ${i.primaryColorColumnName} does not exist`);return g?.uId}static map(i,g){const v={};return Object.entries(i.columns).forEach(([,L])=>{const P=L,V=P.dataValueTypeName==="Binary"?"Blob":P.dataValueTypeName,K=Object.entries(h.Q).find(([,X])=>X.name===V),W=K?Number(K[0]):P.dataValueType,G=this._getDefaultValue(P.defaultValue);v[P.uId]={uId:P.uId,name:P.name,caption:{[g]:P.caption},dataValueType:W,isInherited:!!P.isInherited,isRequired:!!P.isRequired,isValueCloneable:!!P.isValueCloneable,usageType:P.usageType,referenceSchemaName:P.referenceSchemaName,isMasked:!!P.isMasked,isFormatValidated:!!P.isFormatValidated,isSimpleLookup:!!P.isSimpleLookup,isSensitiveData:!!P.isSensitiveData,defValue:G}}),{administratedByOperations:i.administratedByOperations,administratedByRecords:i.administratedByRecords,useMasterRecordRights:i.useMasterRecordRights,masterRecordSchemaName:i.masterRecordSchemaName,primaryColumnUId:i.primaryColumn?.uId,primaryDisplayColumnUId:i.primaryDisplayColumn?.uId,primaryColorColumnUId:this._getPrimaryDisplayColorColumnUId(i),hierarchyColumnUId:i.hierarchyColumnUId,createdOnColumnUId:i.createdOnColumnUId,createdByColumnUId:i.createdByColumnUId,modifiedOnColumnUId:i.modifiedOnColumnUId,modifiedByColumnUId:i.modifiedByColumnUId,uId:i.uId,name:i.name,caption:{[g]:i.caption},columns:{Items:v},isVirtual:!!i.isVirtual,isDBView:!!i.isDBView,administratedByColumns:!!i.administratedByColumns,description:{[g]:i.description},parentUId:i.parentUId,isTrackChangesInDB:!!i.isTrackChangesInDB,extendParent:!!i.extendParent}}}var E=n(67847),R=n(5960);let I=class{constructor(i){this._window=i}_getItems(i,g=[]){var v=this;let L=[];const P=[...g];return new Promise(V=>{this._window.require(i,(0,a.A)(function*(...K){L=yield Promise.all(K.map(W=>v.map(W))),V({schemes:L,notFoundSchemes:P})}),K=>{const W=K.requireModules??[];P.push(...W),i=i.filter(G=>!W.includes(G)),i.length===0&&V({schemes:L,notFoundSchemes:P}),V(this._getItems(i,P))})})}map(i){return Promise.resolve(i)}get(i){var g=this;return new Promise(v=>{this._window.require([i],function(){var L=(0,a.A)(function*(P){const V=yield g.map(P);v(V)});return function(P){return L.apply(this,arguments)}}(),()=>{v(null)})})}getItems(i){return this._getItems(i,[])}};I=(0,R.__decorate)([(0,R.__param)(0,(0,_.Inject)(S.WINDOW_TOKEN)),(0,R.__metadata)("design:paramtypes",[Object])],I);const O=["SysSettings"];class o extends I{constructor(i,g,v){super(i),this._userInfo=g,this._entityHttpService=v}map(i){return Promise.resolve(d.map(i,this._userInfo.cultureInfo.sysCultureName))}_getLookupEntities(i){const g=i.flatMap(L=>Object.values(L.columns.Items).filter(P=>P.dataValueType===s.DataValueType.Lookup&&P.referenceSchemaName&&!i.find(V=>V.name===P.referenceSchemaName)).map(P=>P.referenceSchemaName)),v=[...new Set(g)];return this.getItems(v)}_getReferenceEntityNameFromBackReferencePath(i){return E.h.getPathItemInfo(i).referenceSchemaName}_getReferenceSchemaName(i,g){const v=this._getReferenceEntityNameFromBackReferencePath(i);let L;if(v)L=v;else{const P=Object.entries(g.columns.Items).find(([,K])=>K.name===i);if(!P)throw new Error(`Can't find column '${i}' in EntitySchema '${g.name}'`);const[,V]=P;L=V.referenceSchemaName}return L}_loadSchemasByPath(i,g,v){var L=this;return(0,a.A)(function*(){const P=v.find(J=>J.name===i);if(!P)return{schemas:[],notFoundSchemas:[i]};const V=[...g],K=V.shift(),W=L._getReferenceSchemaName(K,P);if(!W)return{schemas:[],notFoundSchemas:[]};let G=v.find(J=>J.name===W);if(!G)try{if(G=yield L.get(W),G)v.push(G);else return{schemas:[],notFoundSchemas:[W]}}catch{return{schemas:[],notFoundSchemas:[W]}}const X=V.length?yield L._loadSchemasByPath(G.name,V,v):{schemas:[],notFoundSchemas:[]};return{schemas:[G,...X.schemas],notFoundSchemas:X.notFoundSchemas}})()}_getForwardReferenceSchemas(i,g){var v=this;return(0,a.A)(function*(){const L=yield Promise.all(i.filter(P=>P.forwardReferencePaths).flatMap(P=>P.forwardReferencePaths.flatMap(V=>v._loadSchemasByPath(P.name,V.split("."),g))));return{schemes:L.flatMap(P=>P.schemas),notFoundSchemes:L.flatMap(P=>P.notFoundSchemas)}})()}_getEntitiesToLoadLookups(i,g){return g.schemes.filter(v=>i.requests.find(L=>L.loadLookupColumns===!0&&L.name===v.name))}get(i){var g=()=>super.get,v=this;return(0,a.A)(function*(){return O.includes(i)?(yield v._entityHttpService.getEntity(i)).schema:g().call(v,i)})()}getItems(i){var g=()=>super.getItems,v=this;return(0,a.A)(function*(){const L=i.filter(W=>O.includes(W)),P=i.filter(W=>!O.includes(W));let V={success:!0,schemes:[],notFoundSchemes:[]};if(L.length!==0){const W={requests:L.map(G=>({name:G,loadLookupColumns:!1}))};V=yield v._entityHttpService.getEntities(W)}const K=yield g().call(v,P);return{schemes:[...K.schemes,...V.schemes],notFoundSchemes:[...K.notFoundSchemes,...V.notFoundSchemes]}})()}getEntity(i){var g=this;return(0,a.A)(function*(){const v=yield g.get(i);return{success:!!v,schema:v}})()}getEntities(i){var g=this;return(0,a.A)(function*(){const v=i.requests.map(W=>W.name),L=yield g.getItems(v),P=g._getEntitiesToLoadLookups(i,L),V=yield g._getLookupEntities(P),K=yield g._getForwardReferenceSchemas(i.requests,[...L.schemes,...V.schemes]);return{success:!0,schemes:[...L.schemes,...V.schemes,...K.schemes],notFoundSchemes:[...L.notFoundSchemes,...V.notFoundSchemes,...K.notFoundSchemes]}})()}static{this.\u0275fac=function(g){return new(g||o)(_.\u0275\u0275inject(S.WINDOW_TOKEN),_.\u0275\u0275inject(p.oq),_.\u0275\u0275inject(C))}}static{this.\u0275prov=_.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"})}}var w=n(62299),F=n(26594);class N{constructor(i,g,v,L){this.httpClient=i,this._entityRequire=g,this._entityHttp=v,this._featureValues=L}_useRequire(){return this._featureValues?.UseRequireEntitySchema8x??!1}getEntity(i){var g=this;return(0,a.A)(function*(){return g._useRequire()?g._entityRequire.getEntity(i):g._entityHttp.getEntity(i)})()}getEntities(i){var g=this;return(0,a.A)(function*(){return g._useRequire()?g._entityRequire.getEntities(i):g._entityHttp.getEntities(i)})()}static{this.\u0275fac=function(g){return new(g||N)(_.\u0275\u0275inject(y.HttpClient),_.\u0275\u0275inject(o),_.\u0275\u0275inject(C),_.\u0275\u0275inject(F.G,8))}}static{this.\u0275prov=_.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac,providedIn:"root"})}}var $=n(61843),Z=n(89979);class k{constructor(i,g,v,L){this.httpClient=i,this._userInfo=g,this._schemaLoader=v,this._entityHttp=L,this._entitySchemaServiceRequests=new Map,this._destroyed$=new f.Subject}_convertToEntitySchema(i){const g=new D;return g.uId=i.uId,g.name=i.name,g.caption=this._getCaptionElement(i),g.extendParent=i.extendParent,g.packageUId=i.packageUId,g.administratedByColumns=i.administratedByColumns,g.administratedByOperations=i.administratedByOperations,g.administratedByRecords=i.administratedByRecords,g.description=i.description,g.isDBView=i.isDBView,g.isTrackChangesInDB=i.isTrackChangesInDB,g.isVirtual=i.isVirtual,g.masterRecordSchemaName=i.masterRecordSchemaName,g.primaryColumnUId=i.primaryColumnUId,g.primaryDisplayColumnUId=i.primaryDisplayColumnUId,g.primaryColorColumnUId=i.primaryColorColumnUId,g.hierarchyColumnUId=i.hierarchyColumnUId,g.createdOnColumnUId=i.createdOnColumnUId,g.createdByColumnUId=i.createdByColumnUId,g.modifiedOnColumnUId=i.modifiedOnColumnUId,g.modifiedByColumnUId=i.modifiedByColumnUId,g.useMasterRecordRights=i.useMasterRecordRights,g.parentUId=i.parentUId,g.columns=Object.values(i.columns.Items).map(v=>{const L=new m;return L.uId=v.uId,L.name=v.name,L.caption=this._getCaptionElement(v),L.dataValueType=v.dataValueType,L.usageType=v.usageType,L.referenceSchemaUId=v.referenceSchemaUId,L.referenceSchemaName=v.referenceSchemaName,L.isRequired=v.isRequired,L.isValueCloneable=v.isValueCloneable,L.isMasked=v.isMasked,L.isFormatValidated=v.isFormatValidated,L.isSensitiveData=v.isSensitiveData,L.defaultValueSchema=v.defValue,L.lookupMode=v.isSimpleLookup?T.LookupMode.List:T.LookupMode.SelectionWindow,L}),g}_getCaptionElement(i){return i.caption[this._userInfo.cultureInfo.sysCultureName]||i.caption[$.dJ]}_createEntitySchemaColumnFromInformationObject(i){const g=new m;return g.uId=i.columnUId,g.name=i.columnName,g.caption=i.columnCaption,g.dataValueType=i.columnDataValueType,g.usageType=i.columnUsageType,g.referenceSchemaUId=i.referenceSchemaUId,g.referenceSchemaName=i.referenceSchemaName,g.columnCaptionPath=i.columnCaptionPath,g}_getEntitySchemaFromEndpoint(i,g){return this.httpClient.post(i,g).pipe((0,l.mergeMap)(v=>v.schema?(0,f.of)({success:!0,entitySchema:this._convertToEntitySchema(v.schema)}):(0,f.throwError)({success:!1,entitySchema:null,errorInfo:v.errorInfo})))}_getEntitySchemaColumnByPath(i,g,v="."){const L=`${i}_${v}_${g}`;if(this._entitySchemaServiceRequests.has(L))return this._entitySchemaServiceRequests.get(L);const P=this.httpClient.post(this._entityHttp.getSchemaDesignerServiceEndpoint(),{getSchemaColumnInformation:{entitySchemaUId:i,schemaColumnPath:g,schemaColumnCaptionPathDelimiter:v}}).pipe((0,l.tap)(({success:V})=>{if(!V)throw new Error("SchemaDesignerService request has failed")}),(0,l.map)(({getSchemaColumnInformationResponse:V})=>this._createEntitySchemaColumnFromInformationObject(V)),(0,l.tap)(()=>this._entitySchemaServiceRequests.delete(L)),(0,l.share)());return this._entitySchemaServiceRequests.set(L,P),P}_combineEntitySchemaColumnInformationRequestsWithPaths(i,g){return g.reduce((v,L)=>({...v,[L]:this._getEntitySchemaColumnByPath(i,L)}),{})}getEntitySchemaByUId(i,g){const v=`${i}_${g}`;if(this._entitySchemaServiceRequests.has(v))return this._entitySchemaServiceRequests.get(v);const L=g?this._entityHttp.getEntitySchemaServiceEndpoint():this._entityHttp.getRuntimeEntitySchemaServiceEndpoint(),P={uId:i};g&&(P.packageUId=g);const V=this._getEntitySchemaFromEndpoint(L,P).pipe((0,l.tap)(()=>this._entitySchemaServiceRequests.delete(v)),(0,l.share)());return this._entitySchemaServiceRequests.set(v,V),V}getEntitySchemaByName(i){if(this._entitySchemaServiceRequests.has(i))return this._entitySchemaServiceRequests.get(i);const g=(0,f.from)(this._schemaLoader.getEntity(i)).pipe((0,l.map)(v=>({success:v.success,entitySchema:v.schema?this._convertToEntitySchema(v.schema):null,errorInfo:v.errorInfo})),(0,l.tap)(()=>this._entitySchemaServiceRequests.delete(i)),(0,l.share)(),(0,l.catchError)(v=>(this._entitySchemaServiceRequests.delete(i),(0,f.throwError)(()=>v))));return this._entitySchemaServiceRequests.set(i,g),g}getEntitySchemes(i){const g=JSON.stringify(i);if(this._entitySchemaServiceRequests.has(g))return this._entitySchemaServiceRequests.get(g);const v=(0,f.from)(this._schemaLoader.getEntities(i)).pipe((0,l.map)(L=>({success:L.success,schemes:L.schemes.map(P=>this._convertToEntitySchema(P)),notFoundSchemes:L.notFoundSchemes})),(0,l.tap)(()=>this._entitySchemaServiceRequests.delete(g)),(0,l.share)(),(0,l.catchError)(L=>(0,f.throwError)(()=>L)));return this._entitySchemaServiceRequests.set(g,v),v}getEntitySchemaColumnsInformationByMetaPath(i,g){const v={getSchemaColumnsInformation:{entitySchemaUId:i,schemaColumnMetaPaths:g}};return this.httpClient.post(this._entityHttp.getSchemaDesignerServiceEndpoint(),v).pipe((0,l.tap)(({success:L})=>{if(!L)throw new Error("SchemaDesignerService request is failed")}),(0,l.map)(({getSchemaColumnsInformationResponse:L})=>L.map(P=>({column:this._createEntitySchemaColumnFromInformationObject(P),columnMetaPath:P.columnMetaPath,columnPath:P.columnPath,columnCaptionPath:P.columnCaptionPath}))))}getEntitySchemaColumnsInformationByPath(i,g,v){return this._getEntitySchemaColumnByPath(i,g,v)}getEntitySchemaColumnsInformationByPathsArray(i,g){return(0,f.forkJoin)(this._combineEntitySchemaColumnInformationRequestsWithPaths(i,g))}getColumnCaptionPathByMetaPath(i){const g={getColumnCaptionPathByMetaPath:i};return this.httpClient.post(this._entityHttp.getSchemaDesignerServiceEndpoint(),g).pipe((0,l.tap)(({success:v})=>{if(!v)throw new Error("SchemaDesignerService request is failed")}),(0,l.map)(({columnCaptionPath:v})=>v))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(g){return new(g||k)(_.\u0275\u0275inject(y.HttpClient),_.\u0275\u0275inject(Z.oq),_.\u0275\u0275inject(N),_.\u0275\u0275inject(C))}}static{this.\u0275prov=_.\u0275\u0275defineInjectable({token:k,factory:k.\u0275fac,providedIn:"root"})}}},83208:(A,M,n)=>{n.d(M,{Iw:()=>s.Iw,To:()=>Ke,Ng:()=>Me,zX:()=>s.zX,my:()=>s.my,P4:()=>p,TQ:()=>S,do:()=>K,kG:()=>ft,XA:()=>Dt,Rl:()=>_t,gB:()=>gt,Gi:()=>ue,cu:()=>he,lv:()=>At,vc:()=>Re,$:()=>ce,Ki:()=>Be,Ik:()=>Pe,GS:()=>Ne,dK:()=>Ee,iK:()=>Ue,oX:()=>dt,K:()=>de,ns:()=>i,sI:()=>me,oY:()=>mt,iT:()=>Mt,J3:()=>ct,BC:()=>at,nb:()=>ne,iN:()=>He,_G:()=>oe,fJ:()=>se,vr:()=>m.vr,M5:()=>m.M5,t6:()=>m.t6,PY:()=>m.PY,vp:()=>pe,eu:()=>m.eu,x$:()=>Ge,Zg:()=>Te,Gf:()=>o,kz:()=>w,j8:()=>ke,DG:()=>I,dh:()=>F,Ts:()=>q,VO:()=>N,jG:()=>ye,BE:()=>st,$E:()=>Se,YU:()=>g,oA:()=>le,b2:()=>we,gc:()=>Le,Aw:()=>v.A,o_:()=>V,aP:()=>fe,WK:()=>Z,e8:()=>Ve,Qe:()=>W,u_:()=>qe,qc:()=>X,av:()=>re,ur:()=>Oe,Qh:()=>et.Q,eQ:()=>xe,BG:()=>Ce,Ac:()=>Y,Oj:()=>We,jr:()=>Ie,LM:()=>Ae,l2:()=>te,Te:()=>Xe,rY:()=>J,n$:()=>_e,qQ:()=>ae,vo:()=>Fe,tc:()=>ge,v7:()=>$e,KF:()=>je,_T:()=>be,vn:()=>$.vn,oq:()=>$.oq,sU:()=>$.sU,fv:()=>$.fv,j0:()=>De,Vz:()=>L.Vz,Zs:()=>L.qQ,ml:()=>L.ml,k0:()=>L.k0,Si:()=>L.Si,Hf:()=>L.Hf,gt:()=>L.gt,sG:()=>ve,MH:()=>C,pZ:()=>_});var s=n(41562),m=n(51462),c=n(73308),D=n(38495),y=n(79772),T=n(28399),f=n.n(T),l=n(29957);const p=1048576;function _(B,e,t){const r=t?Math.min(e,t):e,u=r*p,b=B.filter(U=>U.size<=u&&U.size>0),j=B.filter(U=>U.size>u),x=B.filter(U=>U.size===0);return{allowed:b,oversized:j,zerosized:x,maxFileSizeMB:r}}function C(B,e,t){return{file:B,error:e,message:t}}var a=n(59131);class S{constructor(e,t){this._translateService=e,this._sysSettingsService=t}_getMaxFileSizeExceededExceptionCode(){return"MaxFileSizeExceededException"}_getIsOversizedErrorExist(e){return e&&e.some(t=>t.error===this._getMaxFileSizeExceededExceptionCode())}_getOversizeErrorTipMessage(e){const t=this._getIsOversizedErrorExist(e),r=`{0}\r
\r
`;return t?l.String.format(r,this._translateService.instant("InfoDialog.FileUpload.ChangeFileSizeInfoMessage")):l.String.empty}_getFormattedFilesNames(e){return e.map(t=>"- "+t.file.name).join(`\r
`)}_getOversizedFilesLogs(e,t){const r=l.String.format(this._translateService.instant("InfoDialog.FileUpload.MaxFileSizeExceededExceptionMessage"),t);return e.map(u=>C(u,this._getMaxFileSizeExceededExceptionCode(),r))}_getZerosizedFilesLogs(e){return e.map(t=>C(t,"FileWithZeroSizeException",this._translateService.instant("InfoDialog.FileUpload.EmptyFileMessage")))}_buildMessage(e){const t=this._translateService.instant("InfoDialog.FileUpload.InvalidExtension.Deny"),r=`\r
\r
`,u=this._translateService.instant("InfoDialog.FileUpload.FileListHeader");let b="";for(const j in e)if(Object.prototype.hasOwnProperty.call(e,j)){const x=e[j];let U=(0,l.formatString)(t+r+u+`:\r
`,j);x.forEach(z=>{U+="- "+z.name+`\r
`}),b+=U+`\r
`}return b}isFileExtensionDeny(e){var t=this;return(0,c.A)(function*(){const r=e.name.split(".").pop().toLowerCase();return(yield t._sysSettingsService.getByCode("FileExtensionsDenyList"))?.value.toLowerCase().indexOf(r)>-1})()}createExtensionAttachmentsErrorMessage(e){const t=(0,T.groupBy)(e,r=>r.name.split(".").pop().toLowerCase());return this._buildMessage(t)}createFileErrorMessageForLogs(e){e=e.reverse();const t=`\r
\r
`,r=this._translateService.instant("InfoDialog.FileUpload.FileListHeader"),u="{0}"+t+r+`:\r
{1}`,b=f().groupBy(e,"message");let j="";for(const[x,U]of Object.entries(b)){const z=this._getFormattedFilesNames(U);j+=l.String.format(u,x,z),j+=t}return j+=this._getOversizeErrorTipMessage(e),j.slice(0,j.length-t.length)}processSelectedFiles(e,t){var r=this;return(0,c.A)(function*(){const u=[...e],j=(yield r._sysSettingsService.getByCode("MaxFileSize"))?.value||0,{allowed:x,oversized:U,zerosized:z,maxFileSizeMB:ot}=_(u,j,t),it=r._getOversizedFilesLogs(U,ot).concat(r._getZerosizedFilesLogs(z));return{files:x,errors:it}})()}static{this.\u0275fac=function(t){return new(t||S)(a.\u0275\u0275inject(y.TranslateService),a.\u0275\u0275inject(D.SysSettingsService))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"})}}var h=n(63721),d=n(62278),E=n(36486),R=n(40297);class I{constructor(e){this._document=e}_getDownloadFileUrl(e){const t=new Blob([e],{type:"octet/stream"});return window.URL.createObjectURL(t)}_getDownloadFileName(e){const t=e.headers.get("Content-Disposition");return t?t.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/)[1]:null}download(e,t){const r=this._getDownloadFileUrl(e);this.downloadFromUrl(r,t)}downloadFromResponse(e,t){t=t||this._getDownloadFileName(e),this.download(e.body,t)}downloadFromUrl(e,t){const r=this._document,u=r.createElement("a");u.href=e,u.download=t,r.body.appendChild(u),u.click(),r.body.removeChild(u)}static{this.\u0275fac=function(t){return new(t||I)(a.\u0275\u0275inject(R.DOCUMENT))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac})}}var O=n(23092);class o{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}class w{constructor(e,t,r){this.http=e,this._fileDownloadService=t,this._userInfo=r,this._baseEndpoint="rest/FileApiService/",this._uploadFileMethodName="UploadFile",this._uploadAndAttachMethodName="UploadAndAttachFile",this._getFileSchemasMethodName="GetAllFileSchemas",this._chunkSize=5e5}_getEndpoint(e){return(this._userInfo.isSSP?"ssp/":"")+`${this._baseEndpoint}${e}`}_prepareError(e,t){const r={...e,file:t.file};return(0,d.throwError)(()=>r)}_sendWithChunks(e,t,r,u=this._chunkSize){const b=new Uint8Array(e.content),j=new Array;for(let U=0;U<b.length;U+=u){const z=Math.min(U+u,b.length),ot=new Blob([b.subarray(U,z)]),it={start:U,end:z,content:ot};j.push(it)}let x=0;return(0,d.from)(j).pipe((0,E.concatMap)(U=>(x++,e.progress=Math.floor(x/j.length*100),this.http.post(r,U.content,{headers:new h.HttpHeaders({"Content-Range":`bytes ${U.start}-${U.end-1}/${e.file.size}`,"Content-Type":e.file.type,"Content-Disposition":`attachment; filename=${encodeURIComponent(e.file.name)}`}),params:t}).pipe((0,E.retry)(2),(0,E.switchMap)(z=>!z||!z.success?(0,d.throwError)(()=>z.errorInfo):(0,d.of)(z)),(0,E.catchError)(z=>this._prepareError(z,e))))),(0,E.toArray)())}upload(e){let t=new h.HttpParams({encoder:new o}).set("fileId",e.id).set("totalFileLength",e.file.size).set("mimeType",e.file.type).set("fileName",e.file.name).set("columnName","Data").set("entitySchemaName",e.fileEntitySchemaName).set("parentColumnName",e.recordColumnName).set("parentColumnValue",e.recordId);const r={...e.fileGroup&&{FileGroupId:e.fileGroup},...e.tag&&{Tag:e.tag},...e.recordEntitySchemaName&&{RecordSchemaName:e.recordEntitySchemaName}};Object.keys(r).length&&(t=t.append("AdditionalParams",JSON.stringify(r)));const u=this._getEndpoint(this._uploadFileMethodName);return this._sendWithChunks(e,t,u)}uploadAsColumn(e){const t=new h.HttpParams({encoder:new o}).set("fileId",e.id).set("totalFileLength",e.file.size).set("mimeType",e.file.type).set("columnName","Data").set("fileName",e.file.name).set("entitySchemaName",e.fileEntitySchemaName),r=this._getEndpoint(this._uploadFileMethodName);return this._sendWithChunks(e,t,r)}uploadAndAttach(e){const t=new h.HttpParams({encoder:new o}).set("fileId",e.id).set("totalFileLength",e.file.size).set("mimeType",e.file.type).set("columnName","Data").set("fileName",e.file.name).set("parentEntitySchemaName",e.recordEntitySchemaName).set("entitySchemaName",e.fileEntitySchemaName).set("parentColumnValue",e.recordId),r=this._getEndpoint(this._uploadAndAttachMethodName);return this._sendWithChunks(e,t,r)}uploadToCustomEndpoint(e,t,r){const u=new h.HttpParams({encoder:new o}).set("totalFileLength",e.file.size).set("mimeType",e.file.type).set("fileName",e.file.name);return this._sendWithChunks(e,u,t,r)}download(e,t){this._fileDownloadService.downloadFromUrl(e,t)}getAllFileSchemas(){const e=this._getEndpoint(this._getFileSchemasMethodName);return this.http.get(e)}static{this.\u0275fac=function(t){return new(t||w)(a.\u0275\u0275inject(h.HttpClient),a.\u0275\u0275inject(I),a.\u0275\u0275inject(O.oq))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac})}}class F{read(e){return new d.Observable(t=>{const r=new FileReader;r.onloadend=function(){var u=(0,c.A)(function*(b){t.next({content:b.target?.result,file:e}),t.complete()});return function(b){return u.apply(this,arguments)}}(),r.readAsArrayBuffer(e)})}static{this.\u0275fac=function(t){return new(t||F)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:F,factory:F.\u0275fac})}}class N{constructor(e,t){this._httpClient=e,this._translateService=t}_generateFileDestinationUrl(e,t){return`ImageAPIService/upload?fileapi${t.lastModified}&totalFileLength=${t.size}&fileId=${e}&mimeType=${encodeURIComponent(t.type)}`}upload(e,t){const r=this._generateFileDestinationUrl(e,t);return this._httpClient.post(r,t,{headers:{"Content-Range":`bytes 0-${t.size}/${t.size}`,"Content-Type":t.type,"Content-Disposition":`attachment; filename=${encodeURIComponent(t.name)}`}}).pipe((0,E.catchError)(u=>(0,d.of)({error:u.error?.error||this._translateService.instant("InfoDialog.FileUpload.UnknownServerError")})))}static{this.\u0275fac=function(t){return new(t||N)(a.\u0275\u0275inject(h.HttpClient),a.\u0275\u0275inject(y.TranslateService))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac,providedIn:"root"})}}var $=n(89979);class Z{constructor(e,t){this._translateService=e,this._userInfo=t,this._defaultCulture="en-US"}initialize(){const e=this._userInfo?.cultureInfo?.sysCultureName??this._defaultCulture;this._translateService.setDefaultLang(this._defaultCulture),this._translateService.currentLang=e,this._translateService.getTranslation(e)}static{this.\u0275fac=function(t){return new(t||Z)(a.\u0275\u0275inject(y.TranslateService),a.\u0275\u0275inject($.oq))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Z,factory:Z.\u0275fac,providedIn:"root"})}}var k=n(96590);const q=new a.InjectionToken("Custom event name for get translations");class i extends y.TranslateLoader{constructor(e,t,r){super(),this.customEventService=e,this._store=t,this._getTranslationsEventName=r,this._destroyed$=new d.Subject}getTranslation(e){return new d.Observable(t=>{this.customEventService.subscribe(this._getTranslationsEventName).pipe((0,E.takeUntil)(this._destroyed$),(0,E.tap)(r=>{this._store.langs.forEach(u=>{const b=this._store.translations[u];this._store.translations[u]=T.merge(b,r)})})).subscribe(r=>{t.next(r)},d.noop,()=>{t.complete()}),this.customEventService.createOutboundChannel(this._getTranslationsEventName).next()})}ngOnDestroy(){this._destroyed$.next()}static{this.\u0275fac=function(t){return new(t||i)(a.\u0275\u0275inject(k.CustomEventService),a.\u0275\u0275inject(y.TranslateStore),a.\u0275\u0275inject(q))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac})}}class g{constructor(e){this._httpClient=e,this._serviceEndpoint="rest/MainMenuService/"}logout(){const e=this._serviceEndpoint+"Logout";return this._httpClient.post(e,{}).pipe((0,E.map)(t=>({redirectLocation:t.RedirectLocation})))}static{this.\u0275fac=function(t){return new(t||g)(a.\u0275\u0275inject(h.HttpClient))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:g,factory:g.\u0275fac,providedIn:"root"})}}var v=n(6438),L=n(14932),P=n(10305);class V{constructor(e){this.window=e}navigate(e,t,r=P.xx.Blank){this.window.open(e,t||r)}static{this.\u0275fac=function(t){return new(t||V)(a.\u0275\u0275inject(k.WINDOW_TOKEN))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"})}}class K{}const W=new a.InjectionToken("CRT_REQUIRE_JS");var G=n(88920);class X extends K{constructor(e,t){super(),this._requireJs=e,this._httpClient=t,this._serviceEndpoint="ServiceModel/ClientUnitSchemaPathService.svc/",this.paths=new Map}_loadPartOfSchema(e){const t=this._serviceEndpoint+"GetPathsBySchemaName/"+e;return this._httpClient.post(t,null).pipe((0,E.map)(r=>r?.paths??[]))}register(e){return this.paths.has(e)?(0,d.of)(void 0):this._loadPartOfSchema(e).pipe((0,E.map)(t=>{const r=Object.fromEntries(t.map(u=>[u.name,R.Location.joinWithSlash((0,G.cI)(),u.path)]));this._requireJs.config({paths:r});for(const{name:u,path:b}of t)this.paths.set(u,b)}))}registerDescriptors(e){const t=Object.fromEntries(e.map(r=>[r.schemaName,R.Location.joinWithSlash(R.Location.joinWithSlash((0,G.cI)(),r.path),r.schemaName)]));this._requireJs.config({paths:t})}static{this.\u0275fac=function(t){return new(t||X)(a.\u0275\u0275inject(W),a.\u0275\u0275inject(h.HttpClient))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:X,factory:X.\u0275fac})}}class J extends K{constructor(e,t){super(),this._requireJs=e,this._appInfo=t,this._hashParamName="hash",this._workspaceBaseUrl=(0,G.cI)(),this._emptyResourcesModulePath="Terrasoft/configuration/resources/empty-resources.js"}_getSchemaRuntimePath(e){return R.Location.joinWithSlash(this._workspaceBaseUrl,e.staticFileContent.schemasRuntimePath)}_getResourceRuntimePath(e){return R.Location.joinWithSlash(this._workspaceBaseUrl,e.staticFileContent.resourcesRuntimePath)}_getEmptyResourcesPath(e){const t=R.Location.joinWithSlash(this._workspaceBaseUrl,e.coreModulesPath),r=new URL(R.Location.joinWithSlash(t,this._emptyResourcesModulePath));return r.searchParams.set(this._hashParamName,e.configurationContentHash),r.toString()}_getSchemaPath(e,t){const r=new URL(R.Location.joinWithSlash(this._getSchemaRuntimePath(t),`${e}.js`));return r.searchParams.set(this._hashParamName,t.configurationContentHash),r.toString()}_getResourcePath(e,t){const r=new URL(R.Location.joinWithSlash(this._getResourceRuntimePath(t),`${e}Resources.js`));return r.searchParams.set(this._hashParamName,t.configurationContentHash),r.toString()}register(e){return this._requireJs.config({paths:{[e]:this._getSchemaPath(e,this._appInfo),[`${e}Resources`]:[this._getResourcePath(e,this._appInfo),this._getEmptyResourcesPath(this._appInfo)]}}),(0,d.of)(void 0)}registerDescriptors(e,t){e.forEach(r=>{const u=r.schemaName;this._requireJs.config({paths:{[u]:this._getSchemaPath(u,t),[`${u}Resources`]:[this._getResourcePath(u,t),this._getEmptyResourcesPath(t)]}})})}static{this.\u0275fac=function(t){return new(t||J)(a.\u0275\u0275inject(W),a.\u0275\u0275inject(s.zX))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:J,factory:J.\u0275fac})}}const qe={provide:K,useFactory:(B,e)=>B.useStaticFileContent?e.get(J):e.get(X),deps:[s.zX,a.Injector]};class ae extends K{register(){return(0,d.of)(void 0)}registerDescriptors(e){}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.\u0275\u0275getInheritedFactory(ae)))(r||ae)}})()}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:ae,factory:ae.\u0275fac})}}class re{constructor(e){this._window=e}get(){return this._window.requirejs}static{this.\u0275fac=function(t){return new(t||re)(a.\u0275\u0275inject(k.WINDOW_TOKEN))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:re,factory:re.\u0275fac})}}var et=n(57852),H=n(62299);const Y=new a.InjectionToken("Represents a list of schema change message predicates"),We=new a.InjectionToken("Represents a list of schema remove message predicates");class te{constructor(e,t,r){this._messageChannelService=e,this._changePredicates=t,this._removePredicates=r,this._destroyed$=new d.Subject,this.schemaChanged$=new d.Subject,this.schemaRemoved$=new d.Subject,this._subscribeMessageChannelEvent()}_getSchemaType(e){let t;switch(e){case"ClientUnitSchemaManager":t=H.L8.ClientUnitSchema;break;case"EntitySchemaManager":t=H.L8.EntitySchema;break}return t}_processMessage(e,t){const r=e.body,u=this._getSchemaType(r.ManagerName);u&&t.next({name:r.Name,uId:r.UId,schemaType:u})}_subscribeMessageChannelEvent(){this._messageChannelService.messageEvent$.pipe((0,E.filter)(e=>this._changePredicates?.some(t=>t(e))),(0,E.takeUntil)(this._destroyed$)).subscribe(e=>this._processMessage(e,this.schemaChanged$)),this._messageChannelService.messageEvent$.pipe((0,E.filter)(e=>this._removePredicates?.some(t=>t(e))),(0,E.takeUntil)(this._destroyed$)).subscribe(e=>this._processMessage(e,this.schemaRemoved$))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),this.schemaChanged$.complete()}static{this.\u0275fac=function(t){return new(t||te)(a.\u0275\u0275inject(v.A),a.\u0275\u0275inject(Y,8),a.\u0275\u0275inject(We,8))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:te,factory:te.\u0275fac,providedIn:"root"})}}class Q{constructor(e){this.schemaChangeListener=e,this._repository=new Map,this._uIdMap=new Map,this._destroyed$=new d.Subject,this.schemaChangeListener.schemaChanged$.pipe((0,E.filter)(t=>t.schemaType===this.provider.schemaType),(0,E.takeUntil)(this._destroyed$)).subscribe(t=>this.clearSchemaCacheByUId(t.uId))}add(e){this._repository.set(e.name,e),this._uIdMap.set(e.uId,e.name)}getCachedSchema(e){return this._repository.get(e)}getIsSchemaCached(e){return this._repository.has(e)}getCachedSchemesNames(){return[...this._repository.keys()]}getSchemaByName(e){const t=this.getCachedSchema(e);return t?(0,d.of)(t):this.provider.getSchemaByName(e).pipe((0,E.tap)(r=>this.add(r)))}getSchemaByUId(e){const t=this._uIdMap.get(e),r=t&&this.getCachedSchema(t);return r?(0,d.of)(r):this.provider.getSchemaByUId(e).pipe((0,E.tap)(u=>this.add(u)))}clearSchemaCacheByName(e){const t=this.getCachedSchema(e);t&&this._uIdMap.delete(t.uId),this._repository.delete(e)}clearSchemaCacheByUId(e){const t=this._uIdMap.get(e);t&&this._repository.delete(t),this._uIdMap.delete(e)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(t){return new(t||Q)(a.\u0275\u0275inject(te))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Q,factory:Q.\u0275fac})}}var Et=n(70570),tt=n(67847);class pe extends Q{constructor(e,t){super(t),this.provider=e,this.schemaChangeListener=t}_checkPath(e){if(!e||e.length===0)throw new Error("Path is null or empty")}_checkLookupColumn(e,t){if(!e.isLookupType)throw new Error(`Column '${e.name}' for schema '${t.name}' is not lookup`)}_getEntitySchemaColumn(e,t){const r=e.columns.find(u=>u.name===t);if(!r)throw new Error(`Can not find column '${t}' in schema '${e.name}'`);return r}_findEntitySchemesByPath(e,t){this._checkPath(t);const r=[...t],u=this.getCachedSchema(e);if(!u)return null;const b=r.shift(),j=tt.h.getPathItemInfo(b);let x=[];if(j.isBackReference)x=this._findEntitySchemesByPath(j.referenceSchemaName,r);else{const z=this._getEntitySchemaColumn(u,j.columnName);if(r.length===0)return[u];this._checkLookupColumn(z,u),x=this._findEntitySchemesByPath(z.referenceSchemaName,r)}if(!x)return null;const U=x.filter(z=>z.name!==u.name);return[u,...U]}_getAreSchemesCached(e){for(const t of e){const r=this.getCachedSchema(t.name);if(!r)return!1;const u=r.columns.filter(j=>j.isLookupType).every(j=>this.getIsSchemaCached(j.referenceSchemaName));if(t.loadLookupColumns&&!u)return!1;const b=t.forwardReferencePaths??[];for(const j of b){const x=j.split(".");if(!this.findEntitySchemaColumnByPath(t.name,x))return!1}}return!0}_addSchemaIfNotExists(e,t){e.has(t.name)||e.set(t.name,t)}_addSchemesIfNotExists(e,t){t.forEach(r=>{this._addSchemaIfNotExists(e,r)})}_getCachedSchemes(e){const t=new Map;return e.forEach(r=>{const u=this.getCachedSchema(r.name);if(!u)return;if(this._addSchemaIfNotExists(t,u),r.loadLookupColumns){const j=u.columns.filter(x=>x.isLookupType).map(x=>this.getCachedSchema(x.referenceSchemaName)).filter(x=>x!=null);this._addSchemesIfNotExists(t,j)}(r.forwardReferencePaths??[]).forEach(j=>{const x=j.split("."),U=this._findEntitySchemesByPath(r.name,x);U&&this._addSchemesIfNotExists(t,U)})}),[...t.values()]}getSchemes(e){if(this._getAreSchemesCached(e))return(0,d.of)(this._getCachedSchemes(e));const t={requests:e,cachedSchemesNames:this.getCachedSchemesNames()};return this.provider.getSchemes(t).pipe((0,E.tap)(r=>r.forEach(u=>this.add(u))),(0,E.map)(()=>this._getCachedSchemes(e)))}findEntitySchemaByPath(e,t){this._checkPath(t);const r=this.getCachedSchema(e);if(!r)return null;const u=[...t],b=u.shift(),j=tt.h.getPathItemInfo(b);if(j.isBackReference)return this.findEntitySchemaByPath(j.referenceSchemaName,u);const x=this._getEntitySchemaColumn(r,j.columnName);return u.length===0?r:(this._checkLookupColumn(x,r),this.findEntitySchemaByPath(x.referenceSchemaName,u))}findEntitySchemaColumnByPath(e,t){const r=this.findEntitySchemaByPath(e,t);if(!r)return null;const u=[...t].pop(),b=tt.h.getPathItemInfo(u);return this._getEntitySchemaColumn(r,b.columnName)}static{this.\u0275fac=function(t){return new(t||pe)(a.\u0275\u0275inject(Et.Q),a.\u0275\u0275inject(te))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:pe,factory:pe.\u0275fac,providedIn:"root"})}}class ge{constructor(e){this.translateService=e}_getTranslations(e){const t=this.translateService.translations[e];return t?(0,d.of)({translation:t,cultureName:e}):this.translateService.currentLoader.getTranslation(e).pipe((0,E.map)(r=>({translation:r,cultureName:e})))}getAllCultureValues(e,t){return(0,d.forkJoin)(e.map(r=>this._getTranslations(r))).pipe((0,E.map)(r=>{const u=new H.hd;for(const{translation:b,cultureName:j}of r){const x=(0,T.get)(b,t);u.setValueLocalizableString(j,x)}return u}))}isTranslateKey(e){return/^\S+\.\S+$/.test(e)}static{this.\u0275fac=function(t){return new(t||ge)(a.\u0275\u0275inject(y.TranslateService))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:ge,factory:ge.\u0275fac})}}class _e{constructor(e){this._window=e}get(e){return this._window.localStorage.getItem(e)}set(e,t){this._window.localStorage.setItem(e,t)}remove(e){this._window.localStorage.removeItem(e)}static{this.\u0275fac=function(t){return new(t||_e)(a.\u0275\u0275inject(k.WINDOW_TOKEN))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:_e,factory:_e.\u0275fac})}}class Ee{get availableColors(){return["linear-gradient(226.56deg, #E92170 2.58%, #9C1548 100%)","linear-gradient(223.63deg, #E23911 0%, #A11818 102.51%)","linear-gradient(265.43deg, #118F45 0.43%, #085C2B 92.69%)","linear-gradient(226.04deg, #078A7E 3.14%, #084C45 94.22%)","linear-gradient(224.97deg, #057ADD 5.35%, #274D8F 100%)","linear-gradient(220.79deg, #A758C5 2.27%, #841189 95.92%)","linear-gradient(143.25deg, #7848EE 1.25%, #512DA8 101.21%)","linear-gradient(223.46deg, #0058EF -4.85%, #0042B5 103.03%)","linear-gradient(143.8deg, #4F43C2 6.59%, #282261 95.27%)","linear-gradient(223.63deg, #06427C 0%, #0D2E4E 102.51%)"]}constructor(e){this.window=e,this.STORAGE_KEY="freedomContactColor",this._currentIndex=0,this._currentIndex=this._getIndexFromStorage()}_getIndexStorageKey(){return`${this.STORAGE_KEY}_index`}_getStorageKey(e){return`${this.STORAGE_KEY}_${e}`}_saveIndexToStorage(){this.window.localStorage.setItem(this._getIndexStorageKey(),this._currentIndex.toString())}_saveToStorage(e,t){this.window.localStorage.setItem(this._getStorageKey(e),t)}_removeFromStorage(e){this.window.localStorage.removeItem(this._getStorageKey(e))}_getIndexFromStorage(){const e=this.window.localStorage?.getItem(this._getIndexStorageKey());return e?Number(e):0}_getFromStorage(e){let t=this.window.localStorage.getItem(this._getStorageKey(e));return t&&!this.availableColors.some(r=>r===t)&&(this._removeFromStorage(e),t=""),t}getNextColor(e){let t=this._getFromStorage(e)||"";return t.indexOf("#")===-1&&(this._currentIndex>=this.availableColors.length&&(this._currentIndex=0),t=this.availableColors[this._currentIndex],this._currentIndex++,this._saveIndexToStorage(),this._saveToStorage(e,t)),t}static{this.\u0275fac=function(t){return new(t||Ee)(a.\u0275\u0275inject(k.WINDOW_TOKEN))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}}class Ke{}class ne extends Ke{toDataSourceAttribute(e,t){const{path:r,aggregationConfig:u}=t??{};return!e||!r||!u?null:{type:"aggregation",name:e,path:r,aggregationConfig:u}}toEntityDataSourceAttribute(e){const{path:t,aggregationConfig:r}=e??{};if(!t||!r)return null;const u=r.filter?.items?Object.keys(r.filter?.items)[0].slice(0,8):r.aggregationFunction;return e.name+=u,{type:"Aggregation",path:t,aggregationConfig:r}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.\u0275\u0275getInheritedFactory(ne)))(r||ne)}})()}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:ne,factory:ne.\u0275fac})}}class oe extends Ke{toDataSourceAttribute(e,t){const{path:r}=t??{};return!e||!r?null:{type:"default",path:r,name:e}}toEntityDataSourceAttribute(e){const{path:t}=e??{};return t?{type:/\./.test(t)?"ForwardReference":"Own",path:t}:null}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.\u0275\u0275getInheritedFactory(oe)))(r||oe)}})()}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:oe,factory:oe.\u0275fac})}}class se extends Ke{toDataSourceAttribute(e,t){const{path:r,functionConfig:u}=t??{};return!e||!r||!u?null:{type:"function",name:e,path:r,functionConfig:u}}toEntityDataSourceAttribute(e){const{path:t,functionConfig:r}=e??{};return!t||!r?null:{type:"Function",path:t,functionConfig:r}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.\u0275\u0275getInheritedFactory(se)))(r||se)}})()}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:se,factory:se.\u0275fac})}}const ct=new a.InjectionToken("Represents a factory of entity data source attribute config converters");function yt(){return k.FactoryProvider.create({token:ct,mappings:[{predicate:"aggregation",injectable:ne},{predicate:"Aggregation",injectable:ne},{predicate:"function",injectable:se},{predicate:"Function",injectable:se}],default:{injectable:oe}})}class He{static{this.\u0275fac=function(t){return new(t||He)}}static{this.\u0275mod=a.\u0275\u0275defineNgModule({type:He})}static{this.\u0275inj=a.\u0275\u0275defineInjector({providers:[ne,oe,se,yt()]})}}class ye{getInitials(e,t){if(!e||e==="")return"";const r=t||(u=>u.substr(0,1).toUpperCase());return e.trim().split(" ",2).map(r).join("")}static{this.\u0275fac=function(t){return new(t||ye)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:ye,factory:ye.\u0275fac,providedIn:"root"})}}class Se{constructor(e){this._httpClient=e,this._serviceEndpoint="rest/MacrosHelperService"}static isMacros(e){return typeof e!="string"?!1:e?.startsWith("#")??!1}getTemplate(e,t){return this.getTemplateByEntity({textTemplate:e},t)}getTemplateByEntity(e,t){const r=`${this._serviceEndpoint}/GetTemplate`;return this._httpClient.post(r,{request:e}).pipe((0,E.map)(u=>{const b=u?.GetTemplateResult;return b?.success?t?b.textTemplate:b.textTemplate.replace(/\s?<.+?>(.+?)<(.+?)\/?(.+?)>/g,""):e.textTemplate}))}getMultiLanguageTemplate(e,t,r){const u=`${this._serviceEndpoint}/GetMultiLanguageTextTemplate`;return this._httpClient.post(u,{request:{entityId:e,entityName:t,templateId:r}}).pipe((0,E.map)(b=>b?.GetMultiLanguageTextTemplateResult))}static{this.\u0275fac=function(t){return new(t||Se)(a.\u0275\u0275inject(h.HttpClient))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Se,factory:Se.\u0275fac,providedIn:"root"})}}class Ie{constructor(e){this._elementRef=e,this._scrollPositions=new Map,this._saveScrollPosition=t=>{const r=t.target;if(r){const u=this._findRef(r)||new WeakRef(r);this._scrollPositions.set(u,{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop})}}}get scrollPositions(){return this._scrollPositions}set scrollPositions(e){this._scrollPositions=e}_findRef(e){for(const[t]of this._scrollPositions)if(t.deref()===e)return t;return null}_onScrollEnd(){const e=this._elementRef.nativeElement;return(0,d.fromEventPattern)(t=>e.addEventListener("scroll",t,!0),t=>e.removeEventListener("scroll",t,!0)).pipe((0,d.debounceTime)(200))}startScrollTracking(){this._subscription?.unsubscribe(),this._subscription=this._onScrollEnd().subscribe(e=>this._saveScrollPosition(e))}stopScrollTracking(){this._subscription?.unsubscribe()}restoreScrollPosition(){for(const[e,t]of this._scrollPositions){const r=e.deref();r?.isConnected?r.scroll(t.scrollLeft,t.scrollTop):this._scrollPositions.delete(e)}}ngOnDestroy(){this.stopScrollTracking(),this._scrollPositions.clear()}static{this.\u0275fac=function(t){return new(t||Ie)(a.\u0275\u0275inject(a.ElementRef))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac})}}var lt=n(12841);class dt{constructor(e,t){this.id=e,this._baseHostInjector=t,this._hostModuleTypes=[],this._hostModuleRefs=[],this._lazyModulesBySource=new Map,this._hostInjector=this._baseHostInjector}_createDynamicNgModule(e){const r=this._hostInjector.get(lt.m,[]).map(j=>({provide:lt.m,useValue:j,multi:!0})),u=(0,a.NgModule)({providers:r})(class{}),b=(0,a.NgModule)({imports:[u,...e]})(class{});return(0,a.createNgModule)(b,this._hostInjector)}inject(e){return this._hostInjector.get(e)}addLazyModule(e){const t=D.bootstrappedCrtModules.get(e);if(!t)throw new Error("Module was not bootstrapped");const{source:r}=t;this._lazyModulesBySource.has(r)||this._lazyModulesBySource.set(r,new Set),this._lazyModulesBySource.get(r).add(e)}getLazyModules(e){return[...this._lazyModulesBySource.get(e)??[]]}connectHostLazyModules(){const e=this.getLazyModules("host");if((0,T.isEqual)(e,this._hostModuleTypes))return;const t=this._createDynamicNgModule(e);this._hostModuleTypes=e,this._hostModuleRefs.push(t),this._hostInjector=t.injector}destroy(){for(const e of this._hostModuleRefs)e.destroy();this._hostModuleRefs=[]}}var nt=n(87084);class de extends nt.S{constructor(){super(...arguments),this._injectionContextsMap=new Map}createContext(e,t){const r=new dt(e,t);return this._injectionContextsMap.set(e,r),r}injectFromContext(e,t){return this._injectionContextsMap.get(e).inject(t)}removeContext(e){return this._injectionContextsMap.get(e)?.destroy(),this._injectionContextsMap.delete(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.\u0275\u0275getInheritedFactory(de)))(r||de)}})()}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:de,factory:de.\u0275fac,providedIn:"root"})}}var Ge;(function(B){B.Insert="insert",B.Update="update",B.Delete="delete",B.ForceUpdate="forceUpdate"})(Ge||(Ge={}));class Te{constructor(e,t){this._messageChannelService=e,this._userInfo=t,this._subscriptions=[],this.newMessageEvent=new a.EventEmitter,this.feedPostPublishedEvent=new a.EventEmitter,this._subscribeMessageChannelEvents()}_subscribeMessageChannelEvents(){this._subscriptions.push(this._messageChannelService.messageEvent$.pipe((0,d.filter)(e=>e.header.sender==="UpdateSocialMessage"),(0,d.map)(e=>{const t=e.body;return{MessageId:e.id.toString(),AuthorId:t.sysAdminUnitId,Operation:t.operation,EntityId:t.channelId,ParentId:t.parentId,EntityName:t.entityName}})).subscribe(e=>this.newMessageEvent.emit(e)))}onFeedPostPublished(e,t){const r={MessageId:e,Operation:Ge.Insert,EntityId:t};this.feedPostPublishedEvent.emit(r)}ngOnDestroy(){this._subscriptions.forEach(e=>e?.unsubscribe())}static{this.\u0275fac=function(t){return new(t||Te)(a.\u0275\u0275inject(v.A),a.\u0275\u0275inject($.oq))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Te,factory:Te.\u0275fac})}}class ve{constructor(e){this._httpClient=e,this._workplaceServiceUrl="/rest/WorkplaceService/"}resetWorkplaceScriptCache(){const e=this._workplaceServiceUrl+"ResetScriptCache";return this._httpClient.post(e,null)}static{this.\u0275fac=function(t){return new(t||ve)(a.\u0275\u0275inject(h.HttpClient))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:ve,factory:ve.\u0275fac,providedIn:"root"})}}class ue{constructor(){this._customEventService=(0,a.inject)(k.CustomEventService),this._listeners=new Map,this.destroyed$=new d.Subject,this.addDefaultListeners(),this.initChannels(),this._startListening()}_startListening(){this.inboundChannel$.pipe((0,d.takeUntil)(this.destroyed$)).subscribe(e=>{if(!this._listeners.has(e.type))throw new Error(`No listener for "${e.type}" request`);const t=this._listeners.get(e.type),r=b=>{const j={body:b,requestId:e.id,requestType:e.type};this.outboundChannel$.next(j)},u=t(e);u instanceof Promise?u.then(r):r(u)})}addDefaultListeners(){this.addListener("ping",()=>"pong")}initChannels(){this.inboundChannel$=this._customEventService.subscribe("CreatioBrowserExtensionRequest"),this.outboundChannel$=this._customEventService.createOutboundChannel("CreatioBrowserExtensionResponse")}addListener(e,t){this._listeners.set(e,t)}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}static{this.\u0275fac=function(t){return new(t||ue)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:ue,factory:ue.\u0275fac,providedIn:"root"})}}class he extends ue{initChannels(){this.inboundChannel$=new d.Subject,this.outboundChannel$=new d.Subject}simulateBrowserExtensionRequest(e){const t=(0,d.firstValueFrom)(this.outboundChannel$.pipe((0,d.first)(r=>r.requestId===e.id)));return this.inboundChannel$.next(e),t}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.\u0275\u0275getInheritedFactory(he)))(r||he)}})()}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:he,factory:he.\u0275fac})}}class Ce{constructor(e){this._environment=e}getUrl(){const e=this._environment.runtimeApplicationUrl||this._environment.defaultApplicationUrl;return R.Location.joinWithSlash(this._environment.workspaceBaseUrl,e)}static{this.\u0275fac=function(t){return new(t||Ce)(a.\u0275\u0275inject("environment"))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}}var ie=n(13732),St=n(40177),It=n(60297);const st=new Map([[ie.rI.Small,"modal-size-small"],[ie.rI.Medium,"modal-size-medium"],[ie.rI.Large,"modal-size-large"],[ie.rI.ExtraLarge,"modal-size-extra-large"]]);class Me{constructor(){this._appearanceSettingsLoader=(0,a.inject)(It.N,{optional:!0}),this._appearanceSettingsDefaultLoader=(0,a.inject)(St.L,{optional:!0})}_getEmptyAppearanceSettings(){const e={modalSettings:{size:ie.rI.None}};return Promise.resolve(e)}_getAppearanceSettings(e){return this._appearanceSettingsLoader?(0,d.lastValueFrom)(this._appearanceSettingsLoader.getAppearanceSettings(e)):this._getEmptyAppearanceSettings()}_getDefaultAppearanceSettings(e){return this._appearanceSettingsDefaultLoader?(0,d.lastValueFrom)(this._appearanceSettingsDefaultLoader.getDefaultAppearanceSettings(e)):this._getEmptyAppearanceSettings()}getSchemaModalClasses(e){var t=this;return(0,c.A)(function*(){let r;const u=yield t._getAppearanceSettings(e),b=yield t._getEmptyAppearanceSettings(),j=u?.modalSettings??b.modalSettings;if(j?.size!==ie.rI.None)r=st.get(j.size);else{const U=(yield t._getDefaultAppearanceSettings(e)).modalSettings;r=st.get(U.size)}return[r]})()}static{this.\u0275fac=function(t){return new(t||Me)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}class at{}const Tt="/",ze="#DATE_SEPARATOR#",ut=`--${ze}--${ze}----`,ht="00:00",vt=`${ut} ${ht}`,Ct={[D.DataValueType.Date]:ut,[D.DataValueType.Time]:ht,[D.DataValueType.DateTime]:vt};class me extends at{constructor(e){super(),this._dateTimeFormat=e?.cultureInfo?.dateTimeFormat}create(e){const t=Ct[e];return t?(0,k.replaceSubstring)(t,[{searchValue:ze,replaceMacros:ze,replaceValue:this._dateTimeFormat?.dateSeparator??Tt}]):""}static{this.\u0275fac=function(t){return new(t||me)(a.\u0275\u0275inject($.oq))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:me,factory:me.\u0275fac})}}var rt=n(28020);class fe extends at{constructor(e){super(),this._decimalSeparator=e?.cultureInfo?.decimalSeparator}create(e){const t=rt.p0.get(e);return t?"0"+(this._decimalSeparator??".")+"0".repeat(t):"0"}static{this.\u0275fac=function(t){return new(t||fe)(a.\u0275\u0275inject($.oq))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:fe,factory:fe.\u0275fac})}}const mt=new a.InjectionToken("A factory of empty placeholder creators"),Mt=k.FactoryProvider.create({token:mt,mappings:[{predicate:B=>rt.im.includes(B),injectable:me},{predicate:B=>rt.D5.includes(B),injectable:fe}]});var Ze=n(23529);class ft{}var Rt=n(45988),Re;(function(B){B[B.Error=0]="Error",B[B.Debugger=1]="Debugger",B[B.Info=2]="Info"})(Re||(Re={}));class At{}class ce{get dataServiceUri(){return this._dataServiceUri||(this._dataServiceUri=this._injector.get(Rt.o)),this._dataServiceUri}constructor(e,t){this._httpClient=e,this._injector=t}_createClientLogMessage(e,t){return{message:e,messageType:t,loggerName:"Client"}}_sendData(e){return this._httpClient.post(this.dataServiceUri+"/PostClientLog",{LogItems:[e]})}logError(e){const t=this._createClientLogMessage(e.message,Re.Error);return this._sendData(t)}logMessage(e,t,r){const u={message:e,messageType:t,loggerName:r};return this._sendData(u)}static{this.\u0275fac=function(t){return new(t||ce)(a.\u0275\u0275inject(h.HttpClient),a.\u0275\u0275inject(a.Injector))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}class Ae{constructor(e){this._injector=e,this._userInfo=this._injector.get($.oq),this._rightsService=this._injector.get(ft),this._featureService=this._injector.get(D.FeatureService),this._clientLogService=this._injector.get(ce)}checkAccess(e){var t=this;return(0,c.A)(function*(){if(!(yield t._featureService.getFeatureState("EnablePageOpeningRestrictions"))||(yield(0,d.firstValueFrom)(t._rightsService.getCanExecuteOperation("CanBypassPageOpeningRestrictions"))))return;if(!(yield t._rightsService.getAclGranted(e.name)))throw console.error(new Ze.r().message),t._clientLogService.logError(new Ze.r(e.name,t._userInfo.contactName,Ze.K.PDS)).subscribe(),new Ze.r})()}static{this.\u0275fac=function(t){return new(t||Ae)(a.\u0275\u0275inject(a.Injector))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Ae,factory:Ae.\u0275fac,providedIn:"root"})}}var Lt=n(26594);class Le{constructor(e){this._featureValues=e,this._consequentMeasureStartTimeCorrection=.001,this.rendering$=new d.BehaviorSubject(null),this._lastNowStartTime=0,this._useMeasurePerformanceTools=this._featureValues?.UseMeasurePerformanceTools}_getNowStartTimeWithCorrection(){const e=performance.now(),t=e<=this._lastNowStartTime?this._lastNowStartTime+this._consequentMeasureStartTimeCorrection:e;return this._lastNowStartTime=t,t}measure(e,t,r){if(!this._useMeasurePerformanceTools)return t();const u=r||this._getNowStartTimeWithCorrection(),b=t();return performance.measure(e,{start:u}),b}measureCallback(e,t){var r=this;return(0,c.A)(function*(){if(!r._useMeasurePerformanceTools)return t();const u=r._getNowStartTimeWithCorrection(),b=yield t();return performance.measure(e,{start:u}),b})()}measure$(e){if(!this._useMeasurePerformanceTools)return r=>r;let t;return r=>(0,d.of)(null).pipe((0,E.tap)(()=>t=this._getNowStartTimeWithCorrection()),(0,d.switchMap)(()=>r),(0,E.tap)(()=>{const u=typeof e=="string"?e:e();performance.measure(u,{start:t})}))}static{this.\u0275fac=function(t){return new(t||Le)(a.\u0275\u0275inject(Lt.G,8))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Le,factory:Le.\u0275fac,providedIn:"root"})}}class De{constructor(e,t,r){this._messageChannelService=e,this._httpClient=t,this._injector=r,this._onSessionEnding=new d.Subject,this._subscription=new d.Subscription}get window(){return this._window??(this._window=this._injector.get(k.WINDOW_TOKEN))}get isSessionExpired(){return(this.window.Terrasoft??{}).SessionEndUserNotification?.sessionExpired??!1}get sessionEndNotifier(){return this._sessionEndNotifier??(this._sessionEndNotifier=this._injector.get(ie.cQ))}get onSessionEnding$(){return this._onSessionEnding.asObservable()}setUpSessionExpired(){const e=this.window.Terrasoft??{};this.isSessionExpired||(e.SessionEndUserNotification.sessionExpired=!0)}_processSessionEndMessage(e){return this.sessionEndNotifier.notify(e).pipe((0,E.tap)(()=>{this.setUpSessionExpired(),this.window.location.reload()}))}_processSessionEndSoonMessage(e){return this.sessionEndNotifier.notifyGently(e).pipe((0,E.switchMap)(t=>t===k.NotifyGentlyDialogResult.StayLoggedIn?this._httpClient.post("api/ShellSession/KeepAlive",{}).pipe((0,E.map)(()=>{})):t===k.NotifyGentlyDialogResult.Exit?(this.setUpSessionExpired(),this._httpClient.post("rest/MainMenuService/Logout",{}).pipe((0,E.map)(()=>this.window.location.reload()))):(0,d.of)(void 0)),(0,E.catchError)(()=>this._httpClient.post("rest/MainMenuService/Logout",{}).pipe((0,E.map)(()=>this.window.location.reload()))))}_getIsMessageValid(e,t){return e?.header.sender==="WebApp"&&e.header.bodyTypeName===t&&e.body.SessionId===this._getSessionId()}_getSessionId(){return(this.window.Terrasoft??{}).sessionId}handleSessionEnd(){this._subscription.add(this._messageChannelService.getMessages("WebApp").pipe((0,E.filter)(e=>this._getIsMessageValid(e,"SessionEnd")),(0,E.switchMap)(e=>(this._onSessionEnding.next(),this._processSessionEndMessage(e.body.Message)))).subscribe())}handleSessionEndSoon(){this._subscription.add(this._messageChannelService.getMessages("WebApp").pipe((0,E.filter)(e=>this._getIsMessageValid(e,"SessionEndSoon")),(0,E.switchMap)(e=>this._processSessionEndSoonMessage(e.body.Message))).subscribe())}ngOnDestroy(){this._onSessionEnding.complete(),this._subscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||De)(a.\u0275\u0275inject(v.A),a.\u0275\u0275inject(h.HttpClient),a.\u0275\u0275inject(a.Injector))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac})}}class Oe{constructor(){this._requireJsProvider=(0,a.inject)(re),this._requireJs=this._requireJsProvider.get(),this._destroy$=new d.Subject,this._cachedModuleMap=new Map([])}deleteCachedModule(e){this._isAllowToCacheCalls&&this._cachedModuleMap.delete(e)}set allowToCacheCalls(e){this._isAllowToCacheCalls=e}get allowToCacheCalls(){return this._isAllowToCacheCalls}load(e,t){if(!this.allowToCacheCalls){this._requireJs(e,(...b)=>{t(...b)});return}const r=[],u=[];for(const b of e)if(this._cachedModuleMap.has(b)){const j=this._cachedModuleMap.get(b);r.push(j)}else u.push(b);r.length&&t(...r),u.length&&this._requireJs(u,(...b)=>{u.forEach((j,x)=>this._cachedModuleMap.set(j,b[x])),t(...b)})}ngOnDestroy(){this._cachedModuleMap.clear(),this._destroy$.next(),this._destroy$.complete()}static{this.\u0275fac=function(t){return new(t||Oe)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}}class Pe{constructor(e){this._entitySchemaService=e}_loadPrimaryColumns(e){return this._entitySchemaService.getEntitySchemaByName(e).pipe((0,E.map)(t=>{const r=t.entitySchema.getPrimaryColumn(),u=t.entitySchema.getPrimaryDisplayColumn();if((0,T.isEmpty)(u))throw new Error(`Entity ${e} should have primary display column`);return{primaryColumnName:r.name,primaryDisplayColumnName:u?.name}}))}getColumnLookupValues(e){if((0,T.isEmpty)(e))return(0,d.of)(null);const t=this._loadPrimaryColumns(e),r=(0,d.from)(D.Model.create(e));return(0,d.forkJoin)([t,r]).pipe((0,E.switchMap)(([u,b])=>(0,d.from)(b.load({attributes:[u.primaryColumnName,u.primaryDisplayColumnName]})).pipe((0,E.map)(x=>x.map(U=>({value:U[u.primaryColumnName],displayValue:U[u.primaryDisplayColumnName]}))))))}static{this.\u0275fac=function(t){return new(t||Pe)(a.\u0275\u0275inject(m.eu))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}}var Ye=n(75232);const pt=100;class le extends nt.S{constructor(){super(...arguments),this._window=(0,a.inject)(k.WINDOW_TOKEN),this._requestBuffer=[],this._requestIter=0,this._cachedRequestIter=0,this._compressedRequestIter=0}_onRequest(e){const t=e.getEntries();for(const r of t){if(!r.name.startsWith(this._window.location.origin))return;this._requestIter++,r.transferSize||this._cachedRequestIter++,r.encodedBodySize!==r.decodedBodySize&&this._compressedRequestIter++,r.fetchStart&&r.responseStart&&r.responseEnd&&this._requestBuffer.push({name:r.name,initiatorType:r.initiatorType,transferSize:r.transferSize,responseStart:r.responseStart,responseEnd:r.responseEnd,fetchStart:r.fetchStart})}}_calculateLatency(e,t){return e/(t/1e3)/1e3/1e3||0}_normalizeUrl(e,t){try{return(e+new URL(t)?.pathname.replace("/0/","/")).slice(0,pt)}catch{return t?.slice(0,pt)}}_reset(){this._resourcePerformanceObserver?.disconnect(),this._markPerformanceObserver?.disconnect(),this._requestBuffer=[],this._compressedRequestIter=0,this._cachedRequestIter=0,this._requestIter=0}_downlink(){let e=0,t=0;return this._requestBuffer.forEach(u=>{u.initiatorType==="xmlhttprequest"&&(e+=u.transferSize,t+=u.responseEnd-u.responseStart)}),+this._calculateLatency(e,t).toFixed(1)}_withCache(){return Math.round(this._cachedRequestIter/this._requestIter*100)||0}_withCompression(){return Math.round(this._compressedRequestIter/this._requestIter*100)||0}_topRequests(e){const t=[];for(let r=this._requestBuffer.length-1;r>=0;r--){const u=this._requestBuffer[r],b=Math.round(u.responseEnd-u.fetchStart);if(b>=e.topRequestThreshold&&t.length<e.topRequestCount){const j=this._normalizeUrl(b,u.name);if(t.push(j),t.length===e.topRequestThreshold)return t}}return t}start(){this._reset(),this._resourcePerformanceObserver=this._resourcePerformanceObserver??new PerformanceObserver(this._onRequest.bind(this)),this._resourcePerformanceObserver.observe({type:"resource",buffered:!this._firstStart}),this._firstStart=!0}measure(e={topRequestThreshold:400,topRequestCount:5}){const t={transferred:0};return this._requestBuffer.sort((r,u)=>r.fetchStart-u.fetchStart),t.duration=this._calculateDuration(),t.transferred=this._calculateTransferred(),t.downlink=this._downlink(),t.cache=this._withCache(),t.compression=this._withCompression(),t.topRequests=this._topRequests(e),this._reset(),t}_calculateDuration(){let e=this._requestBuffer[0]?.responseEnd,t=this._requestBuffer[0]?.responseEnd-this._requestBuffer[0]?.fetchStart;return this._requestBuffer.forEach(r=>{e<r.fetchStart?t+=r.responseEnd-r.fetchStart:e<r.responseEnd&&(t+=r.responseEnd-e),e=Math.max(e,r.responseEnd)}),Math.round(t)||0}_calculateTransferred(){let e=this._requestBuffer.reduce((t,r)=>t+r.transferSize,0);return e=Math.round(e/1e3)||0,e}ngOnDestroy(){this._reset()}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.\u0275\u0275getInheritedFactory(le)))(r||le)}})()}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:le,factory:le.\u0275fac,providedIn:"root"})}}var ee;(function(B){B.PageStartLoading="PageStartLoading",B.PageFinishLoading="PageFinishLoading"})(ee||(ee={}));class we extends nt.S{constructor(){super(),this._ngZone=(0,a.inject)(a.NgZone),this._window=(0,a.inject)(k.WINDOW_TOKEN),this._featureValues=(0,a.inject)(Ye.G2,{optional:!0}),this._isAngularHost=(0,a.inject)(Ye.xZ,{optional:!0}),this._performanceNetworkObserver=(0,a.inject)(le),this._measureName="PageLoadDuration",this._debounceTime=100,this._subscriptions=new d.Subscription,this._measurements=[],this._tasks=new Set,this._loadingStarted=!1,this._loadingStartedCount=new Set,this._loadingFinishedCount=new Set,this._tasksQueueSubject=new d.Subject,this._pageLoadLifeCycleSubject=new d.Subject,this._iterationCounter=0,this.pageLoadDuration$=new d.Subject,this._enableMeasurement=!!this._isAngularHost&&!this._featureValues?.DisablePerformancePageLoadMeasurement,this._initSubscriptions(),(0,T.set)(this._window,"creatio.performance.measurePerformancePageLoadService",this)}_initSubscriptions(){this._enableMeasurement&&(this._subscriptions.add(this._tasksQueueSubject.pipe((0,d.debounceTime)(this._debounceTime),(0,E.filter)(e=>this._loadingStartedCount.size===this._loadingFinishedCount.size&&this._loadingStarted&&e.size===1&&e.has(ee.PageStartLoading))).subscribe({next:()=>this._pageLoadLifeCycleSubject.next(ee.PageFinishLoading)})),this._subscriptions.add(this._pageLoadLifeCycleSubject.subscribe({next:e=>{this._ngZone.runOutsideAngular(()=>{e===ee.PageStartLoading&&this._onStartPageLoadMeasure(),e===ee.PageFinishLoading&&this._onEndPageLoadMeasure()})}})))}_onStartPageLoadMeasure(){this.addTask(ee.PageStartLoading)}getMeasureDataOnTimeout$(){const e={start:this._startTime,end:this._window.performance.now(),detail:this._getMeasurementDetail(),timeout:!0};return this._measurements.push(()=>this._window.performance.measure(this._measureName,e)),this._reset(),(0,d.of)(e)}_getLocationInfo(){const e=this._window.location.hash,[t,r]=e.slice(1).split("/");return{moduleName:t,schemaName:r,hash:e}}_getMeasurementDetail(){const t=((0,T.get)(this._window,"creatio.performance")??{}).focusLossDuringLoad,r={iteration:this._iterationCounter++,location:this._getLocationInfo(),isReuse:!!this._isReuseMode,focusLossDuringLoad:!!t};return this._featureValues.DisablePerformancePageNetworkMeasurement||(r.network=this._performanceNetworkObserver.measure()),r}_onEndPageLoadMeasure(){this.removeTask(ee.PageFinishLoading),this.removeTask(ee.PageStartLoading);const e={start:this._startTime,detail:this._getMeasurementDetail(),end:this._window.performance.now()};this._measurements.push(()=>this._window.performance.measure(this._measureName,e)),this.pageLoadDuration$.next(e),this._reset()}_reset(){const e=(0,T.get)(this._window,"creatio.performance");e.initialLoad?e.initialLoad=!1:e.focusLossDuringLoad=null,this._startTime=null,this._tasks.clear(),this._loadingStarted=!1,this._loadingStartedCount.clear(),this._loadingFinishedCount.clear(),this._isReuseMode=null}setReuseMode(e){this._enableMeasurement&&this._isReuseMode===null&&(this._isReuseMode=e)}startPageLoadMeasure(e=performance.now()){this._enableMeasurement&&this._ngZone.runOutsideAngular(()=>{this._reset(),this._startTime=e,this._pageLoadLifeCycleSubject.next(ee.PageStartLoading),this._featureValues.DisablePerformancePageNetworkMeasurement||this._performanceNetworkObserver.start()})}addTask(e,t={}){this._enableMeasurement&&this._ngZone.runOutsideAngular(()=>{t.targetTask&&(this._loadingStartedCount.add(e),this._loadingStarted=!0),this._tasks.add(e),this._tasksQueueSubject.next(this._tasks)})}removeTask(e,t={}){this._enableMeasurement&&this._ngZone.runOutsideAngular(()=>{t.targetTask&&this._loadingFinishedCount.add(e),this._tasks.delete(e),this._tasksQueueSubject.next(this._tasks)})}getMeasurements(){const e=this._measurements.map(t=>t());return this._measurements=[],e}ngOnDestroy(){this._reset(),this._subscriptions.unsubscribe(),this._tasksQueueSubject.complete(),this._pageLoadLifeCycleSubject.complete(),this.pageLoadDuration$.complete()}static{this.\u0275fac=function(t){return new(t||we)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:we,factory:we.\u0275fac,providedIn:"root"})}}class gt{}var Xe;(function(B){B.Passed="Passed",B.InvalidSecondFactor="InvalidSecondFactor",B.Logout="Logout",B.SecondFactorCodeRequired="SecondFactorCodeRequired"})(Xe||(Xe={}));class _t{}class be{constructor(e,t){this._dialogService=e,this._twoFaReferrerService=t}intercept(e,t){return e.headers.has("X-Second-Factor-Resend-Request")?t.handle(e):t.handle(e).pipe((0,E.switchMap)(r=>{if(r instanceof h.HttpResponse&&r.status===200){const b=r.headers.get("X-Second-Factor-Validation-Status");if(b&&b===Xe.SecondFactorCodeRequired)return this._handleTwoFaFlow(e,this._twoFaReferrerService.getReferrer())}return(0,d.of)(r)}))}_handleTwoFaFlow(e,t){return(0,d.from)(this._dialogService.resendRequestWithTwoFactor(e,t,this._twoFaReferrerService.getIsFullPage())).pipe((0,E.switchMap)(r=>{if(r.resultCode===2){const u=new h.HttpErrorResponse({error:"Request canceled by interceptor",status:499,statusText:"Client Closed Request"});return(0,d.throwError)(()=>u)}return(0,d.of)(r.response)}))}static{this.\u0275fac=function(t){return new(t||be)(a.\u0275\u0275inject(gt),a.\u0275\u0275inject(_t))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:be,factory:be.\u0275fac})}}class je{getReferrer(){return"interceptor"}getIsFullPage(){return!1}static{this.\u0275fac=function(t){return new(t||je)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:je,factory:je.\u0275fac})}}class Fe{getBaseUrl(){let e=window.location.pathname;e=e.replace("/0","");const t=e.toLowerCase().indexOf("/shell");if(t!==-1)return e.substring(0,t);const r=e.toLowerCase().indexOf("/nui/viewmodule.aspx");if(r!==-1)return e.substring(0,r);const u=e.toLowerCase().indexOf("/login/");return u!==-1?e.substring(0,u):e==="/"?"":e}setupTotpShow(e){const t="/Login/app#totp-setup",r=this.getBaseUrl(),u=new URLSearchParams(window.location.search);u.has("referrer")?u.set("referrer",e):u.append("referrer",e),window.location.assign(`${r}${t}?${u.toString()}`)}static{this.\u0275fac=function(t){return new(t||Fe)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}}class Dt{}class Ne{logSplashScreenTime(e){return console.log("Performance ::","splashScreenTime:",e.splashScreenTime,"ms, module:",`${e.location.moduleName},`,"schema:",e.location.schemaName),Promise.resolve()}logMeasureData(e){const t=e?.detail,r=t?.focusLossDuringLoad?["focus lost"]:[],u=r.length===0?"":` (${r.join(", ")})`;return console.log(`Performance${u} ::`,"reuse:",+t?.isReuse,", page:",Math.round(e?.end-e?.start),", startTime:",e?.start,", moduleName:",t?.location?.moduleName,", schemaName:",t?.location?.schemaName,"ms, network:",t?.network?.duration,"ms, trf:",t?.network?.transferred,"kB, spd:",t?.network?.downlink,"mb/s, cache:",t?.network?.cache,"%, zip:",t?.network?.compression,"%,",t?.location?.hash),Promise.resolve()}static{this.\u0275fac=function(t){return new(t||Ne)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}}class Be{constructor(e,t){this._clientLogService=e,this._applicationInfoService=t}_getLogMeasureMessage(e){var t=this;return(0,c.A)(function*(){const r=e?.detail;return(yield t._getUserInfo())+`startTime: ${e?.start};focusLossDuringLoad: ${r?.focusLossDuringLoad};reuse: ${r?.isReuse};page: ${Math.round(e?.end-e?.start)};moduleName: ${r?.location?.moduleName};schemaName: ${r?.location?.schemaName};network: ${r?.network?.duration};trf: ${r?.network?.transferred};kB spd mb/s: ${r?.network?.downlink};cache%: ${r?.network?.cache};zip%: ${r?.network?.compression};hash: ${r?.location?.hash};`})()}_getUserInfo(){var e=this;return(0,c.A)(function*(){const r=(yield(0,d.lastValueFrom)(e._applicationInfoService.loadSysValues())).user;return`userId: '${r.value}';userName: '${r.displayValue}';`})()}_logMessage(e){return(0,d.lastValueFrom)(this._clientLogService.logMessage(e,Re.Info,"ClientMeasure"))}logSplashScreenTime(e){var t=this;return(0,c.A)(function*(){const u=(yield t._getUserInfo())+`splashScreenTime: ${e.splashScreenTime};module: '${e.location.moduleName}';schema: '${e.location.schemaName}';`;return t._logMessage(u)})()}logMeasureData(e){var t=this;return(0,c.A)(function*(){const r=yield t._getLogMeasureMessage(e);return t._logMessage(r)})()}static{this.\u0275fac=function(t){return new(t||Be)(a.\u0275\u0275inject(ce),a.\u0275\u0275inject(s.my))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Be,factory:Be.\u0275fac,providedIn:"root"})}}class Ve{constructor(e){this._services=e}logSplashScreenTime(e){const t=this._services.map(r=>r.logSplashScreenTime(e));return Promise.all(t).then(()=>Promise.resolve())}logMeasureData(e){const t=this._services.map(r=>r.logMeasureData(e));return Promise.all(t).then(()=>Promise.resolve())}static{this.\u0275fac=function(t){return new(t||Ve)(a.\u0275\u0275inject(Ye.rm))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}}class xe{_buildResourcePath(e){const t=`terrasoft.axd?${e}`;return(0,G.uJ)((0,G.cI)(),"img",t)}getSysSettingUrl(e){return this._buildResourcePath(`s=nui-binary-syssetting&r=${e}`)}getSourceCodeSchemaUrl(e,t){return this._buildResourcePath(`s=scs&sn=${e}&r=${t}`)}static{this.\u0275fac=function(t){return new(t||xe)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:xe,factory:xe.\u0275fac,providedIn:"root"})}}class Ue{constructor(){this._currentSubscriptionIdentifier=null,this._currentSubscription=null,this._replaceSelectionSubject=new d.Subject}_unsubscribeLastEditor(){if(this._currentSubscription){const e={editorAction:H.uB.RemoveHighlighting};this._replaceSelectionSubject?.next(e),this._currentSubscriptionIdentifier=null,this._currentSubscription.unsubscribe()}}subscribeToNotifications(e,t){this._currentSubscriptionIdentifier!==e&&(this._unsubscribeLastEditor(),this._currentSubscriptionIdentifier=e,this._currentSubscription=this._replaceSelectionSubject.subscribe(t))}notify(e){this._replaceSelectionSubject?.next(e)}static{this.\u0275fac=function(t){return new(t||Ue)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}}class ke{constructor(){this._descriptorService=(0,a.inject)(Ye.vp)}getUrl(e,t,r){let u=(0,G.cI)()+["Terrasoft.Configuration/Pkg",e,"Files",t].join("/");const b=this._descriptorService.descriptors[e+"/"+t];return u+="?hash="+(b?.Hash||r||"empty"),u}static{this.\u0275fac=function(t){return new(t||ke)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}class $e{constructor(){this._enabled=(0,a.signal)(!1),this._detached=new d.Subject}set enabled(e){this._enabled.set(e)}get enabled(){return this._enabled.asReadonly()}get detached$(){return this._detached.asObservable()}detach(){this._detached.next()}static{this.\u0275fac=function(t){return new(t||$e)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:$e,factory:$e.\u0275fac})}}},6438:(A,M,n)=>{n.d(M,{A:()=>a});var s=n(5960),m=n(59131),c=n(38495),D=n(96590),y=n(52874),T=n(62278),f=n(36486),l=n(66736);class p{constructor(h){this._zone=h,this._message$=new T.Subject}init(h){return this._zone.runOutsideAngular(()=>(this._connection=new l.HubConnectionBuilder().withUrl(h).withAutomaticReconnect().withHubProtocol(new l.JsonHubProtocol).build(),this._connection.on("ServerMessage",d=>this._zone.run(()=>this._message$.next(d))),(0,T.from)(this._connection.start())))}sendMessage(h){return(0,T.from)(this._connection.send("SendMessage",h))}subscribe(){return this._message$}ngOnDestroy(){this._connection.off("ServerMessage"),this._message$.complete(),this._connection.stop().then()}static{this.\u0275fac=function(d){return new(d||p)(m.\u0275\u0275inject(m.NgZone))}}static{this.\u0275prov=m.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"})}}var _=n(14932),C=n(41562);let a=class Qe{constructor(h,d,E){this.applicationInfo=h,this.injector=d,this.applicationInfoService=E,this._destroyed$=new T.Subject,this.init$=new T.ReplaySubject(1),this.messageEvent$=new T.Subject,!h.clientConnectionClassName||h.clientConnectionClassName===""?this.applicationInfoService.loadApplicationInfo().subscribe(R=>{this._initialize(R.applicationInfo)}):this._initialize(h)}_initialize(h){this.msgChannel=this._getChannel(h.clientConnectionClassName),this._initChannel(h.serviceUrl)}_getChannel(h){switch(h){case"Terrasoft.WebSocketChannel":return this.injector.get(_.gt);case"Terrasoft.SignalRChannel":return this.injector.get(p)}}_buildMessageEvent(h){let d;if(h.Body&&typeof h.Body=="string")try{d=JSON.parse(h.Body)}catch(E){return(0,m.isDevMode)()&&console.warn(`MessageChannelService. Parse error: ${E}`),null}else h.Body&&typeof h.Body=="object"&&(d=h.Body);return{header:{sender:h?.Header?.Sender,bodyTypeName:h?.Header?.BodyTypeName},body:d,id:h.Id}}_subscribeToMsgChannel(){this.msgChannel.subscribe().pipe((0,f.takeUntil)(this._destroyed$)).subscribe(h=>{const d=this._buildMessageEvent(h);d&&this.messageEvent$.next(d)})}_initChannel(h){this.msgChannel.init(h).subscribe({complete:()=>{this.init$.next(this.msgChannel),this._subscribeToMsgChannel()}})}_sendMessageInternal(h,d,E){const R={Id:y.Guid.create().toString(),Header:{Sender:h,BodyTypeName:"System.String",ChannelType:d},Body:JSON.stringify(E)};return this.init$.pipe((0,T.take)(1),(0,f.switchMap)(()=>this.msgChannel.sendMessage(R)))}getMessages(h){return c.ValidationUtilities.checkArgumentEmpty("sender",h),this.messageEvent$.pipe((0,f.filter)(d=>d.header.sender===h))}subscribe(h,d){c.ValidationUtilities.checkArgumentEmpty("sender",h),c.ValidationUtilities.checkArgumentEmpty("callback",d);const E=this.getMessages(h).subscribe(d);return Promise.resolve(new c.Subscription(()=>E.unsubscribe()))}sendMessage(h,d,E){let R,I;const O=!!E;O?(R=h,I=d,c.ValidationUtilities.checkStringIsNotEmpty("sender",R),c.ValidationUtilities.checkEnumOutOfRange("channelType",E,c.MessageChannelType)):(I=h,R=d,c.ValidationUtilities.checkArgumentEmpty("channelType",R),c.ValidationUtilities.checkEnumOutOfRange("channelType",R,c.MessageChannelType));const o=this._sendMessageInternal(R,E,I);return O?(0,T.firstValueFrom)(o):o}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),this.init$.complete(),this.messageEvent$.complete()}static{this.\u0275fac=function(d){return new(d||Qe)(m.\u0275\u0275inject(C.zX),m.\u0275\u0275inject(m.Injector),m.\u0275\u0275inject(C.my))}}static{this.\u0275prov=m.\u0275\u0275defineInjectable({token:Qe,factory:Qe.\u0275fac,providedIn:"root"})}};a=(0,s.__decorate)([(0,D.CrtHandlerChainAdapter)({requestType:"crt.MessageChannelService"}),(0,s.__metadata)("design:paramtypes",[C.zX,m.Injector,C.my])],a)},14932:(A,M,n)=>{n.d(M,{Hf:()=>p,Si:()=>a,Vz:()=>_,gt:()=>d,k0:()=>h,ml:()=>S,qQ:()=>C});var s=n(59131),m=n.n(s),c=n(38495),D=n.n(c),y=n(62278),T=n.n(y),f=n(5766),l=n.n(f);const p=2e3,_=1e3,C=3e4,a=1e4,S="ping",h="pong";class d{constructor(R){this._ngZone=R}_createHeartbeatRequestMessage(){return{Id:(0,c.generateGuid)(),Header:{Sender:"ConsoleCommand",BodyTypeName:"System.String"},Body:S}}_isHeartbeatResponseMessage(R){const I=R.Header?.Sender==="CommandService",O=R.Body===h;return I&&O}_startHeartbeat(){this._stopHeartbeat(),this._ngZone.runOutsideAngular(()=>{console.log(`WS-Heartbeat: connection ping scheduled for every [${C/1e3}] sec`);const R=(0,y.timer)(_,C).pipe((0,y.tap)(()=>{this._webSocket$.next(this._createHeartbeatRequestMessage())}),(0,y.concatMap)(()=>(0,y.race)(this._webSocket$.pipe((0,y.filter)(I=>this._isHeartbeatResponseMessage(I)),(0,y.map)(I=>I.Body),(0,y.catchError)(()=>(0,y.of)("error"))),(0,y.of)("timeout").pipe((0,y.delay)(a)))));this._heartbeatSubscription=R.subscribe(I=>{switch(I){case h:console.log(`WS-Heartbeat: Server responded with: ${h}`);break;case"timeout":console.error(`WS-Heartbeat: Server failed to respond in ${a/1e3} seconds`);break;case"error":console.error("WS-Heartbeat: Server errored out");break}})})}_stopHeartbeat(){this._heartbeatSubscription&&this._heartbeatSubscription.unsubscribe()}init(R){return new y.Observable(I=>{this._webSocket$=(0,f.webSocket)({url:R,openObserver:{next:()=>{console.log(`Websocket channel opened for url: ${R}`),this._startHeartbeat(),I.complete()}}}),this._subscription=this._webSocket$.subscribe()})}sendMessage(R){return new y.Observable(I=>{this._webSocket$.next(R),I.next(),I.complete()})}subscribe(){const R={delay:p};return this._webSocket$.pipe((0,y.retry)(R),(0,y.filter)(I=>!this._isHeartbeatResponseMessage(I)))}ngOnDestroy(){this._stopHeartbeat(),this._webSocket$.complete(),this._subscription.unsubscribe()}static{this.\u0275fac=function(I){return new(I||d)(s.\u0275\u0275inject(s.NgZone))}}static{this.\u0275prov=s.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac,providedIn:"root"})}}},57852:(A,M,n)=>{n.d(M,{Q:()=>T});var s=n(73308),m=n(62299),c=n(89979),D=n(59131),y=n.n(D);class T{constructor(l){this.userInfo=l,this._resourceMacrosRegExpPattern="(?<macrosBody>#ResourceString\\((?<macrosArgs>[^)]*)\\)#)",this._viewModelAttributeRegExpPattern=`\\$${m.c2}.${m.ck.string}.(?<macrosArgs>[\\S\\s]*)`,this._sysCultureName=this.userInfo.cultureInfo.sysCultureName,this._defCultureName=this.userInfo.defCultureInfo.sysCultureName}_getLczResource(l){const p={};return l.forEach(_=>p[_.cultureName]=_.value),p}_getResourceValueMatches(l){const p=new RegExp(this._resourceMacrosRegExpPattern,"g"),_=new RegExp(this._viewModelAttributeRegExpPattern,"g");let C=[...(l??"").matchAll(_)];return C.length||(C=[...(l??"").matchAll(p)]),C}_findStringPropertyResource(l,p){const{resourceName:_,useMacrosTemplate:C}=this.findResourcesName(l);if(_)return{path:p,resourceName:_,useMacrosTemplate:C}}_findArrayPropertyResources(l,p=""){return l.flatMap((_,C)=>this.findPropertyResources(_,p?`${p}.${C}`:`${C}`))}_findObjectPropertyResources(l,p=""){return Object.entries(l).flatMap(([_,C])=>this.findPropertyResources(C,p?`${p}.${_}`:_))}findLocalizableValue(l){if(typeof l=="string")return l;if(!l||typeof l!="object")return null;let p;return Array.isArray(l)?p=l?.filter(_=>_.value).reduce((_,C)=>Object.assign(_,{[C.cultureName]:C.value}),{}):p=l,(p[this._sysCultureName]??p[this._defCultureName])?.toString()??null}findResourcesName(l){const _=this._getResourceValueMatches(l)[0]?.groups.macrosArgs,C=l?.startsWith("#MacrosTemplateString");return{resourceName:_,useMacrosTemplate:C}}findLocalizationFromResourceString(l,p){const{resourceName:_}=this.findResourcesName(l),C=_!==void 0&&p.strings[_];if(C){const h=Object.entries(C).map(([d,E])=>({cultureName:d,value:E}));return new m.hd(h)}const a=_===void 0&&l||"",S=this._sysCultureName||this._defCultureName;return new m.hd([{cultureName:S,value:a}])}findValueFromResource(l,p){const _=this.findLocalizationFromResourceString(l,p),C=this._getLczResource(_);return this.findLocalizableValue(C)}findViewModelResourceValue(l,p,_){var C=this;return(0,s.A)(function*(){const{resourceName:a}=C.findResourcesName(l);let S;return a&&(S=yield p.Strings[a]),S||_||l})()}findPropertyResources(l,p=""){return l?Array.isArray(l)?this._findArrayPropertyResources(l,p):typeof l=="object"?this._findObjectPropertyResources(l,p):typeof l=="string"?[this._findStringPropertyResource(l,p)].filter(Boolean):[]:[]}static{this.\u0275fac=function(p){return new(p||T)(D.\u0275\u0275inject(c.oq))}}static{this.\u0275prov=D.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac,providedIn:"root"})}}},89979:(A,M,n)=>{n.d(M,{vn:()=>s.vn,oq:()=>s.oq,sU:()=>y,fv:()=>s.fv});var s=n(23092),m=n(59131),c=n(62278);function D(T){return()=>(0,c.lastValueFrom)(T.loadCurrentUserInfo(),{defaultValue:null})}class y{static{this.\u0275fac=function(l){return new(l||y)}}static{this.\u0275mod=m.\u0275\u0275defineNgModule({type:y})}static{this.\u0275inj=m.\u0275\u0275defineInjector({providers:[s.vn,{provide:m.APP_INITIALIZER,useFactory:D,deps:[s.fv],multi:!0}]})}}},23092:(A,M,n)=>{n.d(M,{fv:()=>d,oq:()=>p,vn:()=>h});var s=n(63721),m=n.n(s),c=n(59131),D=n.n(c),y=n(62278),T=n.n(y),f=n(61843),l=n(87084);class p{constructor(){this.cultureInfo=new f.fX,this.defCultureInfo=new f.fX}}const _="Information about the current user is not initialized yet. Use UserInfoService to load current user information.";function C(){return{get id(){throw new ReferenceError(_)},get contactId(){throw new ReferenceError(_)},get contactName(){throw new ReferenceError(_)},get accountId(){throw new ReferenceError(_)},get accountName(){throw new ReferenceError(_)},get isSSP(){throw new ReferenceError(_)},get timeZoneId(){throw new ReferenceError(_)},get cultureInfo(){throw new ReferenceError(_)},get defCultureInfo(){throw new ReferenceError(_)},get timeZoneOffsetHours(){throw new ReferenceError(_)},get photoId(){throw new ReferenceError(_)},get accessType(){throw new ReferenceError(_)},get sessionId(){throw new ReferenceError(_)}}}const a=C(),S={get id(){return a.id},get contactId(){return a.contactId},get contactName(){return a.contactName},get accountId(){return a.accountId},get accountName(){return a.accountName},get isSSP(){return a.isSSP},get timeZoneId(){return a.timeZoneId},get cultureInfo(){return a.cultureInfo},get defCultureInfo(){return a.defCultureInfo},get timeZoneOffsetHours(){return a.timeZoneOffsetHours},get photoId(){return a.photoId},get accessType(){return a.accessType},get sessionId(){return a.sessionId}};Object.freeze(S);const h={provide:p,useFactory:()=>S};class d extends l.S{constructor(R){super(),this._httpClient=R,this._serviceEndpoint="ServiceModel/UserInfoService.svc"}_applyUserInfo(R){Object.keys(a).forEach(I=>{delete a[I]}),Object.assign(a,R)}loadCurrentUserInfo(){if(!this._userInfo$){const R=`${this._serviceEndpoint}/GetCurrentUserInfo`;this._userInfo$=this._httpClient.post(R,null).pipe((0,y.tap)(I=>{this._applyUserInfo(I?.userInfo)}),(0,y.shareReplay)({bufferSize:1,refCount:!1}))}return this._userInfo$}static{this.\u0275fac=function(I){return new(I||d)(c.\u0275\u0275inject(s.HttpClient))}}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac,providedIn:"root"})}}},40177:(A,M,n)=>{n.d(M,{L:()=>c});var s=n(59131),m=n.n(s);const c=new s.InjectionToken("APPEARANCE_SETTINGS_DEFAULT_LOADER")},60297:(A,M,n)=>{n.d(M,{N:()=>c});var s=n(59131),m=n.n(s);const c=new s.InjectionToken("APPEARANCE_SETTINGS_LOADER")},45988:(A,M,n)=>{n.d(M,{o:()=>c});var s=n(59131),m=n.n(s);const c=new s.InjectionToken("DataServiceUri")},26594:(A,M,n)=>{n.d(M,{G:()=>c});var s=n(59131),m=n.n(s);const c=new s.InjectionToken("FEATURE_VALUES",{factory:()=>({})})},75232:(A,M,n)=>{n.d(M,{Vv:()=>qe,pF:()=>m,Ly:()=>c.L,N6:()=>D.N,i_:()=>et,om:()=>T,Xo:()=>p,m9:()=>ae.m,Vi:()=>f,VT:()=>y,ot:()=>N.o,mT:()=>l,VM:()=>C,Uo:()=>i,ow:()=>g,G2:()=>a.G,vp:()=>X,Vk:()=>J,H3:()=>S,xZ:()=>q,w9:()=>h,N0:()=>v,jy:()=>P,tQ:()=>L,rm:()=>re,me:()=>V,lr:()=>K,kN:()=>w,sT:()=>F,h8:()=>W,a5:()=>G,N5:()=>I,Aw:()=>o,v0:()=>O});var s=n(59131);const m=new s.InjectionToken("Flag indicating that allow open designer page using design button");var c=n(40177),D=n(60297);class y{}const T=new s.InjectionToken("ContextService"),f=new s.InjectionToken("CrtNavigationLock"),l=new s.InjectionToken("Default item property values"),p=new s.InjectionToken("CRT_DESIGN_TIME_METADATA_PREPROCESSOR");var _=n(38495);const C=new s.InjectionToken("DEVKIT_MASK_SERVICE",{providedIn:"root",factory:()=>new _.MaskService});var a=n(26594);const S=new s.InjectionToken("Represents the static height for the header."),h=new s.InjectionToken("IS_DESIGN_TIME");var d=n(62278),E=n(36486),R=n(89979);const I=new s.InjectionToken("Use UI optimization - simple animations, glassmorphism, etc",{providedIn:"root",factory:()=>{try{const H=new d.BehaviorSubject(void 0),Y=(0,s.inject)(R.fv),We=(0,s.inject)(s.Injector),te=Y.loadCurrentUserInfo().pipe((0,E.map)(()=>We.get(_.SysSettingsService)),(0,d.switchMap)(Q=>Q.getByCode("DisableAdvancedVisualEffects")),(0,E.map)(Q=>!!Q?.value),(0,d.take)(1));return H.pipe((0,d.switchMap)(Q=>typeof Q=="boolean"?(0,d.of)(Q):te))}catch(H){return console.error(H),new d.BehaviorSubject(!1)}}}),O=new s.InjectionToken("Window payload values"),o=new s.InjectionToken("USE_SAVE_SCROLL_POSITION_SERVICE"),w=new s.InjectionToken("Save entity schema message identifier for entity object designer web token"),F={provide:w,useFactory:()=>(0,_.generateGuid)()};var N=n(45988),$=n(28399),Z=n(96590);const k=new s.InjectionToken("Terrasoft global object",{providedIn:"root",factory:()=>(0,$.get)((0,s.inject)(Z.WINDOW_TOKEN),["Terrasoft"])||{}}),q=new s.InjectionToken("Flag indicating that this is an angular host",{providedIn:"root",factory:()=>(0,$.get)((0,s.inject)(k),["isAngularHost"])}),i=new s.InjectionToken("Entity structure from Terrasoft.configuration",{providedIn:"root",factory:()=>{const H=(0,s.inject)(k);return new g((0,$.get)(H,["configuration","EntityStructure"]))}});class g{constructor(Y){this.items=Y}}const v=new s.InjectionToken("Module structure from Terrasoft.configuration",{providedIn:"root",factory:()=>{const H=(0,s.inject)(k);return new L((0,$.get)(H,["configuration","ModuleStructure"]))}});class L{constructor(Y){this.items=Y}}const P=new s.InjectionToken("Module utils from Terrasoft",{providedIn:"root",factory:()=>(0,$.get)((0,s.inject)(k),["ModuleUtils"])}),V=new s.InjectionToken("Root schema descriptors from Terrasoft.configuration",{providedIn:"root",factory:()=>{const H=(0,s.inject)(k);return new K((0,$.get)(H,["configuration","RootSchemaDescriptors"]))}});class K{constructor(Y){this.items=Y}}const W=new s.InjectionToken("Structures from Terrasoft.configuration",{providedIn:"root",factory:()=>{const H=(0,s.inject)(k);return new G((0,$.get)(H,["configuration","Structures"]))}});class G{constructor(Y){this.items=Y}}const X=new s.InjectionToken("File content descriptor from Terrasoft.configuration",{providedIn:"root",factory:()=>{const H=(0,s.inject)(Z.WINDOW_TOKEN);return new J(H)}});class J{get descriptors(){return(0,$.get)(this._window,"Terrasoft.configuration.FileContentDescriptors")??{}}constructor(Y){this._window=Y}}const qe=new s.InjectionToken("AC whitelist");var ae=n(12841);const re=new s.InjectionToken("PERFORMANCE_LOGGERS"),et=new s.InjectionToken("CkeditorUrl")},12841:(A,M,n)=>{n.d(M,{m:()=>c});var s=n(59131),m=n.n(s);const c=new s.InjectionToken("CRT_METADATA_PREPROCESSOR")},67847:(A,M,n)=>{n.d(M,{h:()=>s});class s{static getPathItemInfo(c){const y=/\[([\w-]+):([\w-]+):?([\w-]*)]$/g.exec(c);if(y){const T=y[1],f=y[2],l=y[3];return{isBackReference:!0,referenceSchemaName:T,referenceSchemaColumnName:f,columnName:l}}return{isBackReference:!1,columnName:c}}}},88920:(A,M,n)=>{n.d(M,{BK:()=>l,Oi:()=>R,TX:()=>S,Wb:()=>T,Xq:()=>_,ab:()=>h,cI:()=>f,co:()=>p,gd:()=>C,i5:()=>E,j_:()=>y,uJ:()=>a,zB:()=>d});var s=n(28020);function m(I){return I.endsWith("/")||(I+="/"),I}function c(I){return I.replace(/(^([/\\])+)|(([/\\])+$)/,"")}function D(I){return I=I.replace(location.hash,""),I.replace(location.search,"")}function y(I){return`${C()}/Navigation/Navigation.aspx?schemaName=${I}`}function T(){return"/"}function f(){let I=location.pathname;const O=I.match(/.*?\/\d\/?/);return O&&O.length===1?I=m(O[0]):I="",a(location.origin,I)}function l(){let I=location.href.replace(f(),"");return I=D(I),I||"/"}function p(){let I=location.href;return I=D(I),I||"/"}function _(){let O=f().replace(location.origin,"");return O.endsWith("/")&&(O=O.substring(0,O.length-1)),O}function C(){return f().replace(/\/0\/?$|\/+$/,"")}function a(...I){return I.map(O=>c(O)).join("/")}function S(I,O){return`${y(I)}&recordId=${O}`}function h(I,O){function o($,Z){return $.toLowerCase().replace(Z,"").split("/").filter(k=>k).join("/")}const w=f().toLowerCase(),F=o(I,w),N=o(O,w);return F===N}function d(I){return I?_()+s.M+I:null}function E(){return _()+s.K4}function R(I){const{uId:O,name:o,packageUId:w}=I;if(!O&&!o)throw new Error("uId or name is required");const F=f(),N=l();let $=`${F}${N}#/InterfaceDesigner/${O||o}`;return w&&($+=`?packageUId=${w}`),$}},78683:A=>{A.exports=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0 1.49845H0.783829V4.00128H2.48383V0.000488281H0V1.49845Z" fill="#FF4013"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M14 1.00089H5.08699V3.00089H14V1.00089ZM14 6.00052H5.08699V8.00052H14V6.00052ZM0 12.7274V13.9998H3.19044V9.99979H0V11.1761H1.5V11.5073H0.75V12.3962H1.5V12.7274H0ZM14 10.9998H5.08699V12.9998H14V10.9998Z" fill="#FF4013"/>
<path d="M2.14577e-05 7.56383V8.99972L3.15902 8.99977V7.56383L2.26167 7.56378L3.15902 6.86625L3.15902 5.00135L2.14577e-05 5.00128L0 6.43327H1.5L2.14577e-05 7.56383Z" fill="#FF4013"/>
</svg>
`},36659:A=>{A.exports=`<svg id="Boolean_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Rectangle_12" transform="translate(1 1)" fill="none" stroke="#ff4013" stroke-width="2"><rect width="14" height="14" stroke="none"/><rect x="1" y="1" width="12" height="12" fill="none"/></g><path id="Path_30" d="M10.5,4.5,5.912,9,4,7.162" transform="translate(1 0.5)" fill="rgba(0,0,0,0)" stroke="#ff4013" stroke-width="2"/></svg>
`},39078:A=>{A.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M8.183.779c2.084.007 2.813.35 4.468 1.861l-1.875 2.424-2.95-1.229Z" fill="#ff1c06"/><path d="M7.643 14.846c-2.083-.006-2.813-.35-4.467-1.861l1.875-2.424L8 11.79Z" fill="#ffc6b8"/><path d="M15.024 8.156c-.064 2.22-.431 3.006-2 4.809l-2.4-1.931 1.322-3.175Z" fill="#ff4013"/><path d="M13.074 3.143c1.5 1.443 1.8 2.195 1.949 4.431l-3.03.46-1.286-2.925Z" fill="#ff320e"/><path d="M3.224 12.86c-1.5-1.443-1.795-2.195-1.948-4.43l3.029-.46 1.287 2.925Z" fill="#ffe8e3"/><path d="M12.999 12.98c-1.578 1.562-2.386 1.878-4.769 2.1l-.4-3.055 3.149-1.384Z" fill="#ff795a"/><g transform="translate(-798.326 92.909)" fill="none"><path d="M798.326-92.909h16v16h-16z"/><circle cx="7" cy="7" r="7" transform="translate(799.326 -91.909)" stroke="#ff4013" stroke-width="2"/><circle cx="3" cy="3" r="3" transform="translate(803.326 -87.909)" stroke="#ff4013" stroke-width="2"/><g stroke="#ff4013" stroke-width="2"><path d="M806.326-81.454v3.686"/><path d="M806.326-88.519v-3.386"/><path d="M803.211-84.909h-3.685"/><path d="M812.826-84.909h-3.387"/><path d="M804.126-87.162c-.8-.8-2.306-2.252-3.1-3.05"/><path d="M811.628-79.605c-.729-.73-2.31-2.2-3.04-2.926"/><path d="m804.02-82.6-3 3"/><path d="m811.629-90.213-3.088 2.978"/></g></g></svg>
`},26861:A=>{A.exports=`<svg id="Date_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Rectangle_6448" transform="translate(1 3)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><rect width="14" height="12" stroke="none"/><rect x="1" y="1" width="12" height="10" fill="none"/></g><line id="Line_764" x2="12" transform="translate(2 7)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_11729" d="M176.171,1073.754v3" transform="translate(-171.171 -1072.754)" fill="none" stroke="#ff4013" stroke-width="2"/><path id="Path_11730" d="M176.171,1073.754v3" transform="translate(-165.171 -1072.754)" fill="none" stroke="#ff4013" stroke-width="2"/></svg>
`},55146:A=>{A.exports=`<svg id="Datetime_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g id="Icon_left_panel_date_time_16x16_heavy" transform="translate(0)"><rect id="Rectangle_6448" width="16" height="16" fill="none"/><path id="Path_6271" d="M1895.033,260.278h-4.149v-9h12v2" transform="translate(-1889.884 -248.278)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7772" d="M0,0H4.5" transform="translate(1 6)" fill="none" stroke="#ff4013" stroke-width="2"/><line id="Line_771" y2="4" transform="translate(4)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><line id="Line_772" y2="4" transform="translate(10)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><g id="Path_6272" transform="translate(-1889.764 -248.582)" fill="none" stroke-miterlimit="10"><path d="M1905.764,258.584a5,5,0,1,1-5-5A5,5,0,0,1,1905.764,258.584Z" stroke="none"/><path d="M 1900.7626953125 261.5840454101562 C 1902.417602539062 261.5840454101562 1903.763916015625 260.23828125 1903.763916015625 258.5840759277344 C 1903.763916015625 256.9292602539062 1902.417602539062 255.5829772949219 1900.7626953125 255.5829772949219 C 1899.109130859375 255.5829772949219 1897.763916015625 256.9292602539062 1897.763916015625 258.5840759277344 C 1897.763916015625 260.23828125 1899.109130859375 261.5840454101562 1900.7626953125 261.5840454101562 M 1900.7626953125 263.5840454101562 C 1898.000244140625 263.5840454101562 1895.763916015625 261.3454284667969 1895.763916015625 258.5840759277344 C 1895.763916015625 255.8215942382812 1898.000244140625 253.5829772949219 1900.7626953125 253.5829772949219 C 1903.524169921875 253.5829772949219 1905.763916015625 255.8215942382812 1905.763916015625 258.5840759277344 C 1905.763916015625 261.3454284667969 1903.524169921875 263.5840454101562 1900.7626953125 263.5840454101562 Z" stroke="none" fill="#ff4013"/></g><path id="Path_6273" d="M1900.1,255.194v4h2.5" transform="translate(-1889.098 -249.194)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></g></svg>
`},71011:A=>{A.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M2 3.5H14V12C14 12.1326 13.9473 12.2598 13.8536 12.3536C13.7598 12.4473 13.6326 12.5 13.5 12.5H2.5C2.36739 12.5 2.24021 12.4473 2.14645 12.3536C2.05268 12.2598 2 12.1326 2 12V3.5Z" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M14 3.5L8 9L2 3.5" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`},55039:A=>{A.exports=`<svg id="File_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Group_7055" transform="translate(-733.278 92.545)"><g id="Rectangle_6454" transform="translate(735.278 -91.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><rect width="12" height="14" stroke="none"/><rect x="1" y="1" width="10" height="12" fill="none"/></g><line id="Line_774" x2="6" transform="translate(738.278 -87.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><line id="Line_775" x2="6" transform="translate(738.278 -84.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><line id="Line_777" x2="4" transform="translate(738.278 -81.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></g></svg>
`},68877:A=>{A.exports=`<svg id="Float_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g id="Group_14515" transform="translate(-144 -422)"><rect id="Rectangle_39433" width="16" height="16" transform="translate(144 422)" fill="none"/></g><path id="Path_11302" d="M6.957-4.64a6.469,6.469,0,0,1-.8,3.6A2.764,2.764,0,0,1,3.707.127,2.732,2.732,0,0,1,1.285-1.079,6.377,6.377,0,0,1,.47-4.64a6.53,6.53,0,0,1,.793-3.621A2.752,2.752,0,0,1,3.707-9.426,2.739,2.739,0,0,1,6.135-8.208,6.39,6.39,0,0,1,6.957-4.64Zm-4.539,0a7.22,7.22,0,0,0,.3,2.447,1.022,1.022,0,0,0,.993.74A1.033,1.033,0,0,0,4.7-2.2,7.02,7.02,0,0,0,5-4.64a7,7,0,0,0-.308-2.453,1.034,1.034,0,0,0-.987-.746,1.025,1.025,0,0,0-.99.746A7.208,7.208,0,0,0,2.418-4.64ZM7.759-.908a1.064,1.064,0,0,1,.286-.806,1.158,1.158,0,0,1,.832-.273,1.125,1.125,0,0,1,.816.279,1.061,1.061,0,0,1,.289.8,1.061,1.061,0,0,1-.292.79,1.105,1.105,0,0,1-.812.289,1.138,1.138,0,0,1-.825-.282A1.057,1.057,0,0,1,7.759-.908ZM13.69,0H11.728V-5.37l.019-.882.032-.965q-.489.489-.679.641l-1.066.857L9.088-6.9l2.99-2.38H13.69Z" transform="translate(0.53 12.426)" fill="#ff4013"/></svg>
`},92458:A=>{A.exports=`<svg id="Guid_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_42308" width="16" height="16" fill="none"/><path id="Path_11737" d="M1.162,0H3.43V-9.8H1.162Zm9.926-10.388v3.654a2.894,2.894,0,0,0-2.254-.91A3.661,3.661,0,0,0,5.068-3.766,3.661,3.661,0,0,0,8.834.112a2.9,2.9,0,0,0,2.352-.98V0h2.086V-10.388ZM9.212-1.68A1.911,1.911,0,0,1,7.28-3.766,1.911,1.911,0,0,1,9.212-5.852,1.908,1.908,0,0,1,11.13-3.766,1.908,1.908,0,0,1,9.212-1.68Z" transform="translate(0.838 13)" fill="#ff4013" stroke="rgba(0,0,0,0)" stroke-width="1"/></svg>
`},65689:A=>{A.exports=`<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_1742_819)">
<path d="M10.913 8.99277L7.40833 13.0074H13.0074V11.2395L10.913 8.99277ZM10.8641 6.00745L15.0074 10.4519V15.0074H3.00745L10.8641 6.00745Z" fill="#ff4013"/>
<path d="M3.43597 9.72806C2.87697 10.2871 2.20496 9.92807 1.64496 9.37007C1.08596 8.81107 0.726988 8.13807 1.28699 7.57907L3.07794 5.78806C3.63694 5.22906 4.30898 5.58806 4.86798 6.14606C5.42798 6.70506 5.78595 7.37706 5.22595 7.93706L3.43597 9.72806Z" stroke="#ff4013" stroke-width="2" stroke-miterlimit="10"/>
<path d="M7.93689 5.22705C7.37689 5.78605 6.70591 5.42704 6.14691 4.86804C5.58691 4.30904 5.22894 3.63704 5.78894 3.07804L7.57892 1.28704C8.13892 0.728043 8.80993 1.08704 9.36993 1.64604C9.92993 2.20504 10.2879 2.87704 9.72888 3.43704L7.93689 5.22705Z" stroke="#ff4013" stroke-width="2" stroke-miterlimit="10"/>
<path d="M4.70691 6.51907L6.51791 4.70807" stroke="#ff4013" stroke-width="2"/>
<path d="M11.301 2.00702H14.0079V14.007H2.00793V11.581" stroke="#ff4013" stroke-width="2"/>
</g>
<defs>
<clipPath id="clip0_1742_819">
<rect width="16.007" height="16.007" fill="#ff4013"/>
</clipPath>
</defs>
</svg>
`},60521:A=>{A.exports=`<svg id="Integer_icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M8.99433 4.65198C9.48732 5.09802 9.74027 5.69781 9.74027 6.39946C9.74027 7.11039 9.46186 7.74386 8.95863 8.29085L8.95331 8.29664C8.68048 8.58037 8.17318 8.98047 7.44252 9.47417L7.44143 9.4749C7.00788 9.76552 6.67964 10.0338 6.4484 10.2773C6.39755 10.3308 6.35224 10.3822 6.31202 10.4316H9.03463C9.42976 10.4316 9.75009 10.7519 9.75009 11.1471C9.75009 11.5422 9.42976 11.8625 9.03463 11.8625H4.36201V11.5055C4.36201 10.774 4.62396 10.1113 5.14954 9.53003C5.45393 9.18287 5.98212 8.74216 6.73359 8.22779C7.28336 7.835 7.61754 7.57002 7.77738 7.40238C8.08169 7.07198 8.22096 6.73348 8.22096 6.38964C8.22096 6.03409 8.11952 5.81409 7.95289 5.66027C7.78277 5.50324 7.51683 5.40148 7.12478 5.40148C6.72877 5.40148 6.47218 5.52561 6.29884 5.75228L6.29169 5.76164L6.28392 5.77051C6.13055 5.94579 6.0142 6.20942 5.96505 6.5873C5.91679 6.95826 5.61042 7.29659 5.18377 7.29659C4.7751 7.29659 4.39395 6.95656 4.44447 6.49553C4.51728 5.83108 4.75991 5.26428 5.17392 4.82141C5.68203 4.26788 6.36125 4 7.15424 4C7.87626 4 8.49451 4.21025 8.99122 4.6492L8.99433 4.65198ZM14.8743 4.5961C15.3635 5.01371 15.6083 5.57814 15.6083 6.262C15.6083 6.71398 15.4974 7.12093 15.2526 7.45671C15.1531 7.59318 15.0352 7.71289 14.9008 7.81669C15.0605 7.92572 15.2015 8.0545 15.3211 8.20545C15.6165 8.55303 15.7556 8.98069 15.7556 9.46307C15.7556 10.1963 15.4914 10.8144 14.9713 11.2883C14.4419 11.7715 13.7612 12 12.9634 12C12.2299 12 11.6078 11.8045 11.1119 11.4124L11.1064 11.408C10.628 11.014 10.3332 10.4794 10.2052 9.83055C10.1107 9.35139 10.5042 8.97835 10.9288 8.97835C11.3492 8.97835 11.6378 9.30727 11.7079 9.64478C11.7693 9.94025 11.9002 10.158 12.0891 10.3154C12.3147 10.495 12.5969 10.5985 12.9634 10.5985C13.3872 10.5985 13.6961 10.4769 13.9229 10.2668C14.1282 10.0596 14.2363 9.80805 14.2363 9.49253C14.2363 9.15687 14.1319 8.93882 13.9486 8.7817C13.7609 8.62082 13.483 8.52399 13.0419 8.52399H12.7866C12.4159 8.52399 12.1154 8.22345 12.1154 7.85271C12.1154 7.48197 12.4159 7.18143 12.7866 7.18143H13.0125C13.4306 7.18143 13.6903 7.08609 13.85 6.9535C14.0037 6.81675 14.0989 6.61783 14.0989 6.31109C14.0989 6.00164 14.0017 5.79895 13.8513 5.66111L13.8504 5.66027C13.6842 5.50686 13.4217 5.4113 13.0223 5.4113C12.6106 5.4113 12.3484 5.51295 12.1702 5.68456L12.1656 5.68906C12.0215 5.82278 11.914 6.00455 11.8495 6.25293C11.766 6.57474 11.481 6.87436 11.0816 6.87436C10.6572 6.87436 10.2506 6.49494 10.3668 6.00508C10.4953 5.4634 10.7597 5.01133 11.1524 4.66211C11.6438 4.20736 12.2763 4 13.0125 4C13.739 4 14.3777 4.18225 14.8711 4.59337L14.8743 4.5961ZM3.41307 4.92822V11.1029C3.41307 11.5224 3.07297 11.8625 2.65342 11.8625C2.23388 11.8625 1.89377 11.5224 1.89377 11.1029V6.23307C1.68552 6.37174 1.46266 6.49124 1.22573 6.59268C0.723506 6.80771 0.244141 6.40276 0.244141 5.92406C0.244141 5.5872 0.467589 5.3135 0.755873 5.2089C0.963927 5.13341 1.17934 5.03405 1.39555 4.90741C1.64533 4.74519 1.85627 4.57307 2.04007 4.3863C2.18718 4.23681 2.39336 4.13748 2.62233 4.13748C3.05905 4.13748 3.41307 4.4915 3.41307 4.92822Z" fill="#ff4013"/>
</svg>
`},61631:A=>{A.exports=`<svg id="Lookup_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g id="Group_6916" transform="translate(2.277 2)"><g id="Group_6915" transform="translate(-0.277)"><circle id="Ellipse_237" cx="4.5" cy="4.5" r="4.5" fill="none" stroke="#ff4013" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path id="Path_6243" d="M.344.344,4.123,4.123" transform="translate(7.877 7.876)" fill="none" stroke="#ff4013" stroke-width="2"/></g></g><rect id="Rectangle_24756" width="16" height="16" fill="none"/></svg>
`},32643:A=>{A.exports=`<svg id="Money_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><path id="Path_7070" d="M-318.645,863.293h-6v-8h14v4" transform="translate(325.645 -852.293)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7071" d="M-322.646,855.292a2,2,0,0,1-2,2" transform="translate(326.646 -851.292)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7072" d="M-312.246,857.292a2,2,0,0,1-2-2" transform="translate(326.246 -851.292)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7073" d="M-324.646,861.692a2,2,0,0,1,2,2" transform="translate(326.646 -853.692)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><g id="Ellipse_1363" transform="translate(6 5)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><circle cx="2" cy="2" r="2" stroke="none"/><circle cx="2" cy="2" r="1" fill="none"/></g><path id="Path_7074" d="M-310.846,861.425c0,.737-1.12,1.333-2.5,1.333s-2.5-.6-2.5-1.333,1.12-1.333,2.5-1.333S-310.846,860.69-310.846,861.425Z" transform="translate(325.846 -851.092)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7075" d="M-310.846,863.292c0,.589-1.12,1.333-2.5,1.333s-2.5-.744-2.5-1.333" transform="translate(325.846 -850.292)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></svg>
`},59155:A=>{A.exports=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5.3353 1.83815L6.26378 1.46676L6.26378 1.46676L5.3353 1.83815ZM6.03813 3.59524L5.10965 3.96663L5.10965 3.96663L6.03813 3.59524ZM5.82454 4.94398L5.05632 4.3038L5.0563 4.30383L5.82454 4.94398ZM5.44629 5.39792L6.21451 6.03811L6.21453 6.03808L5.44629 5.39792ZM5.52758 7.19434L4.82047 7.90144L4.8205 7.90147L5.52758 7.19434ZM6.8057 8.47236L7.5128 7.76526L7.51278 7.76523L6.8057 8.47236ZM8.60205 8.55382L7.96198 7.7855L7.96187 7.78559L8.60205 8.55382ZM9.05613 8.17554L9.69619 8.94386L9.69631 8.94376L9.05613 8.17554ZM10.4048 7.96192L10.7762 7.03345L10.7761 7.03344L10.4048 7.96192ZM12.1617 8.66476L11.7903 9.59322L11.7903 9.59323L12.1617 8.66476ZM12.9999 9.90268H11.9999V9.90272L12.9999 9.90268ZM13 11.7369H14V11.7368L13 11.7369ZM4.09733 2C4.23363 2 4.3562 2.08298 4.40682 2.20954L6.26378 1.46676C5.90943 0.580885 5.05144 0 4.09733 0V2ZM4.40682 2.20953L5.10965 3.96663L6.96661 3.22386L6.26378 1.46676L4.40682 2.20953ZM5.10965 3.96663C5.15517 4.08044 5.13462 4.20985 5.05632 4.3038L6.59277 5.58417C7.14152 4.92566 7.28485 4.01947 6.96661 3.22385L5.10965 3.96663ZM5.0563 4.30383L4.67804 4.75777L6.21453 6.03808L6.59279 5.58414L5.0563 4.30383ZM4.67807 4.75774C3.90567 5.68462 3.96693 7.0479 4.82047 7.90144L6.23468 6.48723C6.11298 6.36552 6.10396 6.17076 6.21451 6.03811L4.67807 4.75774ZM4.8205 7.90147L6.09862 9.17949L7.51278 7.76523L6.23466 6.4872L4.8205 7.90147ZM6.09859 9.17947C6.95196 10.0328 8.31517 10.0946 9.24224 9.32204L7.96187 7.78559C7.82939 7.89599 7.63468 7.88713 7.5128 7.76526L6.09859 9.17947ZM9.24212 9.32213L9.69619 8.94386L8.41606 7.40722L7.96198 7.7855L9.24212 9.32213ZM9.69631 8.94376C9.79033 8.86541 9.91963 8.8449 10.0334 8.8904L10.7761 7.03344C9.98045 6.71516 9.07438 6.85861 8.41594 7.40732L9.69631 8.94376ZM10.0333 8.89039L11.7903 9.59322L12.5331 7.73629L10.7762 7.03345L10.0333 8.89039ZM11.7903 9.59323C11.917 9.64389 11.9999 9.76649 11.9999 9.90268H13.9999C13.9999 8.94847 13.4189 8.09059 12.5331 7.73628L11.7903 9.59323ZM11.9999 9.90272L12 11.7369L14 11.7368L13.9999 9.90264L11.9999 9.90272ZM12 11.7369C12 11.8823 11.8822 12 11.737 12V14C12.987 14 14 12.9867 14 11.7369H12ZM11.737 12C6.35945 12 2 7.64067 2 2.26318H0C0 8.74528 5.25492 14 11.737 14V12ZM2 2.26318C2 2.11782 2.11785 2 2.26316 2V0C1.01322 0 0 1.0133 0 2.26318H2ZM2.26316 2H4.09733V0H2.26316V2Z" fill="#FF4013"/>
</svg>
`},67021:A=>{A.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13 1H3C1.89543 1 1 1.89543 1 3V13C1 14.1046 1.89543 15 3 15H13C14.1046 15 15 14.1046 15 13V3C15 1.89543 14.1046 1 13 1Z" stroke="#FF4013" stroke-width="2" stroke-miterlimit="10"/>
<path d="M9 12H7V6H4V4H12V6H9V12Z" fill="#FF4013"/>
</svg>
`},28010:A=>{A.exports=`<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.14 6.90901C5.13775 7.50618 5.25259 8.098 5.478 8.65101L1.5 12.629V15.229H4.1V13.669H5.66V12.109H7.22L8.078 11.251C8.631 11.4764 9.22282 11.5912 9.82 11.589C10.7456 11.589 11.6504 11.3145 12.4201 10.8003C13.1897 10.286 13.7895 9.55512 14.1438 8.69996C14.498 7.84481 14.5907 6.90381 14.4101 5.99598C14.2295 5.08815 13.7838 4.25426 13.1293 3.59975C12.4747 2.94524 11.6409 2.49951 10.733 2.31893C9.82519 2.13835 8.8842 2.23103 8.02904 2.58525C7.17388 2.93947 6.44297 3.53932 5.92872 4.30894C5.41448 5.07856 5.14 5.98339 5.14 6.90901ZM12.4832 5.95178C12.4832 6.84671 11.7577 7.57221 10.8628 7.57221C9.96785 7.57221 9.24236 6.84671 9.24236 5.95178C9.24236 5.05684 9.96785 4.33135 10.8628 4.33135C11.7577 4.33135 12.4832 5.05684 12.4832 5.95178Z" fill="#FF4013"/>
</svg>
`},97180:A=>{A.exports=`<svg id="Text_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_39432" width="16" height="16" fill="none"/><path id="Path_11304" d="M5.113,0H2.994V-8.23H.28V-9.994H7.827V-8.23H5.113Z" transform="translate(4 13)" fill="#ff4013"/></svg>
`},8510:A=>{A.exports=`<svg id="Time_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Ellipse_1346" transform="translate(1 1)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><circle cx="7" cy="7" r="7" stroke="none"/><circle cx="7" cy="7" r="6" fill="none"/></g><path id="Path_6908" d="M1824.814,31.345v6h3" transform="translate(-1816.814 -29.345)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></svg>
`},64337:A=>{A.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14Z" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M2 8H14" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M8 13.8375C9.38071 13.8375 10.5 11.2239 10.5 7.99998C10.5 4.77601 9.38071 2.16248 8 2.16248C6.61929 2.16248 5.5 4.77601 5.5 7.99998C5.5 11.2239 6.61929 13.8375 8 13.8375Z" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`}}]);
