(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[30301],{30301:(A,C,l)=>{l.r(C),l.d(C,{BaseEditableTableCellComponent:()=>p,BaseTableCellComponent:()=>u,BaseTableColumnDataSchema:()=>_,TableAllRowsSelectState:()=>T,TableCdkModule:()=>d,TableCellComponent:()=>m,TableColumnDataSchema:()=>O,TableCustomColumnDataSchema:()=>$,TableDataSchema:()=>B,TreeTableDataSchema:()=>R});var t=l(59131);class u{constructor(){this.getRegisteredEvents=()=>[]}set eventHandlers(e){this._eventHandlers=e,this._validateEventHandlers()}get eventHandlers(){return this._eventHandlers}_stringify(e){const n=[()=>JSON.stringify(e),()=>e.toString()];for(let a=0;a<n.length;a++){const o=n[a];try{return o()}catch{}}return""}_checkEventCanBeHandled(e){const n=this.getRegisteredEvents();if(!n||n.some(c=>c.name===e))return;const a=n.map(c=>c.name).join(", ");let o=`Handler for event "${e}" can not be specified because the event was not registered in table cell class. Registered table column events to subscribe: ${a}.`;throw this.columnDataSchema&&(o+=` Column name: "${this.columnDataSchema.name}".`),new Error(o)}_checkHandlerIsFunction(e,n){if(typeof n!="function")throw new TypeError(`Handler for event with name "${e}" must be a function, but actual is"${this._stringify(n)}".`)}_validateEventHandlers(){if(!this.eventHandlers)return;Object.keys(this.eventHandlers).forEach(n=>{this._checkEventCanBeHandled(n),this._checkHandlerIsFunction(n,this.eventHandlers[n])})}_checkEventDataType(e,n){return e instanceof n||e.constructor===n}_validateFiringEvent(e,n){const a=this._registeredEvents.find(c=>c.name===e);if(!a)throw new Error(`Event with name "${e}" is not registered in the cell class and can not be fired.`);const o=a.dataType;if(n&&(!o||!this._checkEventDataType(n,o)))throw new TypeError(`Type of the data in the event "${e}" must be "${o}", but actual data is "${this._stringify(n)}".`)}_getValidEventHandler(e){const n=this.eventHandlers&&this.eventHandlers[e];if(n)return this._checkHandlerIsFunction(e,n),n}isEmpty(){return!(this.columnDataSchema&&this.record)}fireEvent(e,n){this._validateFiringEvent(e,n);const a=this._getValidEventHandler(e);return a&&a(this.record,n)}ngOnInit(){this._registeredEvents=this.getRegisteredEvents()}getValue(){const e=this.record[this.columnDataSchema.name],n=this.columnDataSchema.formatter;return n?n(e,this.record):e}static{this.\u0275fac=function(n){return new(n||u)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:u,inputs:{columnDataSchema:"columnDataSchema",record:"record",eventHandlers:"eventHandlers"}})}}class p extends u{constructor(){super(...arguments),this.valueChange=new t.EventEmitter}setRecordValue(e){this.record[this.columnDataSchema.name]=e}setValue(e){this.setRecordValue(e),this.valueChange.emit(e)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(p)))(a||p)}})()}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:p,outputs:{valueChange:"valueChange"},features:[t.\u0275\u0275InheritDefinitionFeature]})}}var i=l(38495),s=l(21018),g=l(40297),h=l(53135),f=l(27397);const k=r=>({$implicit:r});function S(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"a",7),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(2).$implicit,o=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("routerLink",o.getLinkUrl(n))("target",o.getLinkTarget(n)),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(o.formatTextValue(a))}}function L(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"a",8),t.\u0275\u0275listener("click",function(o){t.\u0275\u0275restoreView(n);const c=t.\u0275\u0275nextContext().$implicit,w=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(w.onLinkClick(o,c))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(2).$implicit,o=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("href",o.getLinkUrl(n),t.\u0275\u0275sanitizeUrl)("target",o.getLinkTarget(n)),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(o.formatTextValue(a))}}function M(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,S,3,3,"ng-container",6)(2,L,2,3,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275reference(3),o=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",o.getIsRouterLink(n))("ngIfElse",a)}}function I(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(a.formatTextValue(n))}}function F(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,M,4,2,"ng-container",6)(2,I,2,1,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.getLink(a.record))("ngIfElse",n)}}function H(r,e){if(r&1&&t.\u0275\u0275element(0,"mat-checkbox",9),r&2){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("checked",!!n)}}function N(r,e){if(r&1&&t.\u0275\u0275template(0,F,4,2,"ng-container",3)(1,H,1,1,"mat-checkbox",5),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngIf",n.isDisplayedAsText()),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.isDisplayedAsBoolean())}}function j(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,N,2,2,"ng-template",4,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275reference(2),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(2,k,a.getValue()))("ngTemplateOutlet",n)}}class m extends u{constructor(e,n){super(),this.numberUtils=n,this._textValueTypes=[i.DataValueType.Guid].concat(s.DataValueTypeGroup.DateTime).concat(s.DataValueTypeGroup.Number).concat(s.DataValueTypeGroup.Text).concat(s.DataValueTypeGroup.Lookup),this.getRegisteredEvents=()=>[{name:"click"}],this.userCulture=e.cultureInfo.sysCultureName}getLink(e){return this.columnDataSchema.linkGenerator?this.columnDataSchema.linkGenerator(e):""}getLinkUrl(e){return typeof e=="string"?e:e.url}getLinkTarget(e){const n="_self";return typeof e=="string"?n:e.target||n}getIsRouterLink(e){return e?typeof e=="string"?!0:e.useRouterLink||!1:!1}onLinkClick(e,n){n&&typeof n!="string"&&n.preventDefaultClick===!0&&(e.preventDefault(),this.fireEvent("click"))}isDisplayedAsText(){return!this.columnDataSchema.valueType||this._textValueTypes.indexOf(this.columnDataSchema.valueType)!==-1}isDisplayedAsBoolean(){return this.columnDataSchema.valueType===i.DataValueType.Boolean}formatTextValue(e){if(e==null)return"";switch(this.columnDataSchema.valueType){case i.DataValueType.Date:return e.toLocaleDateString(this.userCulture);case i.DataValueType.Time:return e.toLocaleTimeString(this.userCulture);case i.DataValueType.DateTime:return e.toLocaleString(this.userCulture);case i.DataValueType.Integer:return this.numberUtils.formatNumberValue(e,new s.NumberFormatConfig({precision:0}));case i.DataValueType.Float:case i.DataValueType.Money:return this.numberUtils.formatNumberValue(e);case i.DataValueType.FLOAT1:return this.numberUtils.formatNumberValue(e,new s.NumberFormatConfig({precision:1}));case i.DataValueType.FLOAT2:return this.numberUtils.formatNumberValue(e,new s.NumberFormatConfig({precision:2}));case i.DataValueType.FLOAT3:return this.numberUtils.formatNumberValue(e,new s.NumberFormatConfig({precision:3}));case i.DataValueType.FLOAT4:return this.numberUtils.formatNumberValue(e,new s.NumberFormatConfig({precision:4}));case i.DataValueType.FLOAT8:return this.numberUtils.formatNumberValue(e,new s.NumberFormatConfig({precision:8}));case i.DataValueType.IMAGELOOKUP:case i.DataValueType.Lookup:{const a=e;return a?.displayValue||a?.value}case i.DataValueType.LOCALIZABLE_STRING:{const a=e;return a&&a.getValue(this.userCulture)}default:return e}}static{this.\u0275fac=function(n){return new(n||m)(t.\u0275\u0275directiveInject(s.UserInfo),t.\u0275\u0275directiveInject(s.NumberFormatUtility))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:m,selectors:[["ts-table-cell"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["t",""],["textBlock",""],["hyperlinkBlock",""],[4,"ngIf"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],["disabled","true",3,"checked",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"routerLink","target"],[3,"click","href","target"],["disabled","true",3,"checked"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,j,3,4,"ng-container",3),n&2&&t.\u0275\u0275property("ngIf",!a.isEmpty())},dependencies:[g.NgIf,g.NgTemplateOutlet,h.MatLegacyCheckbox,f.RouterLink],encapsulation:2})}}class _{constructor(e){Object.assign(this,e)}}class O extends _{constructor(e){super(e),this.externalLink=!1}}class $ extends _{}class B{}var T;(function(r){r.None="none",r.Intermediate="intermediate",r.All="all"})(T||(T={}));class R{}var y=l(49391),x=l(52989),v=l(23023),D=l(14715),b=l(17499),E=l(79772),V=l(6900);class d{static{this.\u0275fac=function(n){return new(n||d)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:d})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[V.AngularTreeGridModule,g.CommonModule,y.DragDropModule,v.MatLegacyButtonModule,x.MatIconModule,h.MatLegacyCheckboxModule,b.MatSortModule,D.MatLegacyTableModule,f.RouterModule,E.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(d,{declarations:[m],imports:[V.AngularTreeGridModule,g.CommonModule,y.DragDropModule,v.MatLegacyButtonModule,x.MatIconModule,h.MatLegacyCheckboxModule,b.MatSortModule,D.MatLegacyTableModule,f.RouterModule,E.TranslateModule],exports:[m]})})()}}]);
