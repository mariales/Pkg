(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[74057],{62929:(y,Rt,S)=>{var i={"./arrow-down.svg":79066,"./change-layout-icon.svg":19693,"./chart-show-data-as-table.icon.svg":75470,"./chart-show-data.icon.svg":83894,"./chart-widget-area-menu.icon.svg":58054,"./chart-widget-area.icon.svg":44100,"./chart-widget-bar-menu.icon.svg":68354,"./chart-widget-bar.icon.svg":71104,"./chart-widget-doughnut-menu.icon.svg":77271,"./chart-widget-doughnut.icon.svg":30215,"./chart-widget-horizontal-bar-menu.icon.svg":73825,"./chart-widget-horizontal-bar.icon.svg":95161,"./chart-widget-line-menu.icon.svg":62011,"./chart-widget-line.icon.svg":27035,"./chart-widget-scatter-menu.icon.svg":4967,"./chart-widget-scatter.icon.svg":50423,"./chart-widget-spline-menu.icon.svg":90766,"./chart-widget-spline.icon.svg":62284,"./chart-widget-tsfunnel-menu.icon.svg":97422,"./chart-widget-tsfunnel.icon.svg":27532,"./dot.icon.svg":34880,"./full-pipeline-widget.icon.svg":40178,"./funnel-widget.icon.svg":91020,"./gauge-widget-icon.svg":23066,"./gear-icon.svg":86363,"./hide.svg":82142,"./indicator-widget.icon.svg":75327,"./layout-position-column.svg":81279,"./layout-position-row-reverse.svg":18650,"./layout-position-row.svg":98207,"./maximize-icon.svg":19146,"./menu.svg":66255,"./minimize-icon.svg":73144,"./refresh-icon.svg":56055,"./show.svg":7477,"./switch-chart-type.svg":30766,"./widget-header-arrow.svg":54008};function v(g){var J=re(g);return S(J)}function re(g){if(!S.o(i,g)){var J=new Error("Cannot find module '"+g+"'");throw J.code="MODULE_NOT_FOUND",J}return i[g]}v.keys=function(){return Object.keys(i)},v.resolve=re,y.exports=v,v.id=62929},9402:(y,Rt,S)=>{var i={"./chart-widget-area-menu.icon.svg":58054,"./chart-widget-area.icon.svg":44100,"./chart-widget-bar-menu.icon.svg":68354,"./chart-widget-bar.icon.svg":71104,"./chart-widget-doughnut-menu.icon.svg":77271,"./chart-widget-doughnut.icon.svg":30215,"./chart-widget-horizontal-bar-menu.icon.svg":73825,"./chart-widget-horizontal-bar.icon.svg":95161,"./chart-widget-line-menu.icon.svg":62011,"./chart-widget-line.icon.svg":27035,"./chart-widget-scatter-menu.icon.svg":4967,"./chart-widget-scatter.icon.svg":50423,"./chart-widget-spline-menu.icon.svg":90766,"./chart-widget-spline.icon.svg":62284,"./chart-widget-tsfunnel-menu.icon.svg":97422,"./chart-widget-tsfunnel.icon.svg":27532};function v(g){var J=re(g);return S(J)}function re(g){if(!S.o(i,g)){var J=new Error("Cannot find module '"+g+"'");throw J.code="MODULE_NOT_FOUND",J}return i[g]}v.keys=function(){return Object.keys(i)},v.resolve=re,y.exports=v,v.id=9402},66030:(y,Rt,S)=>{S.r(Rt),S.d(Rt,{TrapezoidElement:()=>g});var i=S(16318),v=S(69524);const re=function(de,m){const C=de[0],h=de[1];let T=!1;for(let _=0,M=m.length-1;_<m.length;M=_++){const E=m[_][0],O=m[_][1],G=m[M][0],R=m[M][1];O>h!=R>h&&C<(G-E)*(h-O)/(R-O)+E&&(T=!T)}return T};class g extends i.E8{static id="trapezoid";static defaults={backgroundColor:i.t1.defaults.backgroundColor,borderWidth:0,borderColor:i.t1.defaults.borderColor,borderSkipped:"bottom",type:"isosceles"};constructor(){super()}get _isLastElement(){return this.$context?.dataIndex===this.$context?.dataset?.data.length-1}_normalizeVector(m){const C=Math.sqrt(m[0]**2+m[1]**2);return[m[0]/C,m[1]/C]}_getArcPoints(m,C,h,T){const _=this._normalizeVector([m[0]-C[0],m[1]-C[1]]),M=this._normalizeVector([h[0]-C[0],h[1]-C[1]]),E=[C[0]+_[0]*T,C[1]+_[1]*T],O=[C[0]+M[0]*T,C[1]+M[1]*T];return[E,O]}_getCornerBorderRadius(m){const h=[this.borderRadius.bottomLeft,this.borderRadius.topLeft,this.borderRadius.topRight,this.borderRadius.bottomRight][m],_=(this.base-this.y)/2;return Math.min(h,_)}_getDrawingStartCorner(){let C=["bottom","left","top","right"].indexOf(this.options.borderSkipped,0);return C!==-1?C:0}_getBottomCornerOffsetCoefficient(m){const C=this.getUpperWidth()/2,h=this.getBottomWidth()/2,T=C-h,_=this.base-this.y,M=T/_,E=_-m,O=M*E;return T-O}getCorners(){let m=[],C=this.type||this.options.type,h=this.y,T=this.borderWidth||this.options.borderWidth,_=this.getUpperWidth()/2,M=this.getBottomWidth()/2,E=T/2;E=E<0?0:E;const O=this._getBottomCornerOffsetCoefficient(T);if(C=="isosceles"){const G=this.x,R=this._isLastElement?E:0,W=this._isLastElement?O/2:0;m=[[G-M+E-W,this.base-R],[G-_+E+O/2,h+E],[G+_-E-O/2,h+E],[G+M-E+W,this.base-R]]}else if(C=="scalene"){const G=this.x1,R=this.x2;m=[[R-M+E,this.base],[G-_+E,h+E],[G+_-E,h+E],[R+M-E,this.base]]}return m}draw(m){m.save();const C=this.getCorners();this._cornersCache=C;const h=this._getDrawingStartCorner(),T=M=>(h+M+4)%4,_=M=>C[T(M)];m.beginPath(),m.fillStyle=this.options?.backgroundColor,m.strokeStyle=this.options?.borderColor,m.lineWidth=this.options?.borderWidth;for(let M=0;M<4;M++){const E=_(M),O=_(M-1),G=_(M+1),R=this._getCornerBorderRadius(T(M)),[W,Q]=this._getArcPoints(O,E,G,R);M===0&&m.moveTo(W[0],W[1]),m.arcTo(E[0],E[1],Q[0],Q[1],R)}this.options.borderSkipped||this._isLastElement&&m.closePath(),m.fill(),(this.borderWidth||this.options.borderWidth)&&m.stroke(),m.restore()}height(){return this.base-this.y}inRange(m,C){const h=this._cornersCache?this._cornersCache:this.getCorners();return re([m,C],h)}getBottomWidth(){return this.bottomWidth+(this.additionalWidth||0)}getUpperWidth(){return this.upperWidth+(this.additionalWidth||0)}inLabelRange(m){const C=this.getBottomWidth(),h=this.getUpperWidth();if(this.type=="scalene")return this.x1>this.x2?m>=this.x2-C/2&&m<=this.x1+h/2:m<=this.x2+C/2&&m>=this.x1-h/2;const T=Math.max(h,C);return m>=this.x-T/2&&m<=this.x+T/2}tooltipPosition(){return{x:this.x||this.x2,y:this.base-(this.base-this.y)/2}}getArea(){let m=0;const C=this._cornersCache?this._cornersCache:this.getCorners();for(let h=0,T=C.length;h<T;h++){const _=C[h][0],M=C[h==C.length-1?0:h+1][1],E=C[h==C.length-1?0:h+1][0],O=C[h][1];m+=_*M*.5,m-=E*O*.5}return Math.abs(m)}getCenterPoint(){const m=this._cornersCache?this._cornersCache:this.getCorners(),C=m.reduce((T,_)=>T+_[0],0)/m.length,h=m.reduce((T,_)=>T+_[1],0)/m.length;return{x:C,y:h}}}class J extends i.A6{static id="tsfunnel";static defaults=(0,v.a4)({},[i.A6.defaults,{dataElementType:g.id,barPercentage:1,align:"center",categoryPercentage:.98,gap:0,upperWidth:.8,bottomWidth:.45,keep:"auto",elements:{minHeight:18,borderWidth:0},labelConfig:{font:"12px Open Sans",lineHeight:18,offset:{top:4,bottom:0,left:0,right:0}},animations:{numbers:{type:"number",properties:["upperWidth","bottomWidth","height","width"]}}}]);static overrides=(0,v.a4)({},[i.A6.overrides,{plugins:{legend:{display:!1},colors:{enabled:!1}},scales:{_index_:{display:!1,padding:10,grid:{display:!1}},_value_:{display:!1,beginAtZero:!1,grace:0,grid:{display:!1}}}}]);getAvailableHeight(){return this.chart.chartArea.bottom-this.chart.chartArea.top}getAvailableWidth(){return this.chart.chartArea.right-this.chart.chartArea.left}getMinHeight(m){const C=this.getAvailableHeight();let h=this.options.elements.minHeight;for(;m.length*h>C&&h!==0;)h--;return h}getTotalSum(m){let C=0;for(let h=0,T=m.length;h<T;h++)C+=m[h];return C}reCalculateValuesForMinValue(m,C){const h=this.getTotalSum(m),T=h*C/this.getAvailableHeight();let _=0,M=0;const E=[];for(let R=0,W=m.length;R<W;R++){const Q=m[R];Q<=T&&(M+=T,_+=Q,E[R]=T)}let O=(h-M)/(h-_);O=Math.ceil(O*Math.pow(10,10))/Math.pow(10,10);let G=!1;for(let R=0,W=m.length;R<W;R++)if(E[R]===void 0){const Q=m[R]*O;Q<T&&(G=!0),E[R]=Q}return G?this.reCalculateValuesForMinValue(E,C):E}calculateDrawOptions(m){const C=this.getMinHeight(m),h=this.chart.chartArea,T=this.getAvailableWidth(),_=this.getAvailableHeight(),M=this.options.upperWidth,E=this.options.bottomWidth,O=T*M,G=T===0?0:Math.atan(2*_/(O-T*E)),R=[];C!==0&&(m=this.reCalculateValuesForMinValue(m,C));const W=this.getTotalSum(m),Q=(h.left+h.right)/2,ie=_/W;let ee=0,$=O;for(let je=0,He=m.length;je<He;je++){const s=m[je],q=h.top+ee;let x=s*ie;x<C&&(x=C),ee+=x;const U=h.top+ee,I=G===0?$:$-2*x/Math.tan(G);R.push({upperWidth:$,bottomWidth:I,x:Q,y:q,base:U}),$=I}return R}update(m){super.update(m);const C=this.chart,T=this.getMeta().data,_=this.getDataset(),M=[],E=this.calculateDrawOptions(_.data);for(let O=0;O<_.data.length;O++){const G=_.data[O],W=(typeof _.backgroundColor=="function"?_.backgroundColor():_.backgroundColor)[O];M.push({orgIndex:O,value:G,backgroundColor:W,borderColor:Array.isArray(_.borderColor)?(0,v.a)(_.borderColor,this,O):W,label:C.data.labels[O]??_.label,drawOptions:E[O]})}this.elementsData=M,T.forEach((O,G)=>this._updateElement(O,G,m))}_getElementBorderRadius(m){const C=m===0,h=m===this.elementsData.length-1,T=this.options.borderRadius??0;return{topLeft:C?T:0,topRight:C?T:0,bottomLeft:h?T:0,bottomRight:h?T:0}}_updateElement(m,C,h){const T=this.elementsData[C],_=T.drawOptions,M={type:"isosceles",y:_.y,base:_.base,x:_.x,x1:0,x2:0,upperWidth:h==="reset"?0:_.upperWidth,bottomWidth:h==="reset"?0:_.bottomWidth,borderWidth:0,backgroundColor:T&&T.backgroundColor,borderColor:T&&T.borderColor,borderRadius:this._getElementBorderRadius(C)};this.updateElement(m,C,M,h)}draw(){super.draw(),this.drawLabels()}drawLabels(){const m=this.chart.ctx;m.save(),m.textAlign="center",m.textBaseline="top",m.font=this.options.labelConfig?.font,m.font='500 13px Montserrat, "Open Sans", "Bpmonline Open Sans", "sans-serif"',m.fillStyle="white",m.strokeStyle="rgba(24, 24, 24, 0.3)",m.lineWidth=2,this.elementsData.forEach(C=>this.drawLabel(C)),m.restore()}drawLabel(m){const C=this.chart.ctx,h=m.drawOptions,T=Array.isArray(m.label)?m.label:[m.label],_=this.options?.labelConfig,M=_.lineHeight,E=h.base-h.y,O=Math.floor(E/M),G=h.bottomWidth;let R=[];T.forEach(function($){if(C.measureText($).width>G){const He=this.splitLabelText($,G,O);R=R.concat(He)}else R.push($)},this),R=R.slice(0,O||1);const W=R.length,Q=_.offset&&_.offset.top||0,ie=(E-W*M)/2+Q,ee=h.x;R.forEach(($,je)=>{const He=h.y+ie+je*M;C.save(),C.shadowColor="rgba(24, 24, 24, 0.66)",C.shadowBlur=4,C.shadowOffsetY=2,C.strokeText($,ee,He),C.restore(),C.fillText($,ee,He)})}splitLabelText(m,C,h){const T=[""],_=m.length;let M=0;for(let E=0;E<_;E++){const O=m.charAt(E);if(this.chart.ctx.measureText(T[M]+O).width>C){if(M++,M==h)break;T[M]=O}else T[M]+=O}return T}}i.t1.register(J,g)},74057:(y,Rt,S)=>{S.r(Rt),S.d(Rt,{AGGREGATION_COLUMN_ALIAS:()=>ln,AbstractChartWidgetPaletteProvider:()=>ha,AbstractChartWidgetSeriesDataGroupingConfigCreator:()=>nr,AbstractWidgetDataProvidingMetadataCompressor:()=>Na,AbstractWidgetDataProvidingMetadataGenerator:()=>Wa,AggregationChartSeriesDataSorter:()=>Ct,AggregationSeriesOrderConfig:()=>Rs,AnalyticsDataGridGetColumnsHandler:()=>ra,AnalyticsDataGridGetColumnsRequest:()=>Ha,AnalyticsDataGridSaveToProfileHandler:()=>aa,AnalyticsDataGridSaveToProfileRequest:()=>ja,AnalyticsDataStructureExplorerDataGridColumnSelectionService:()=>li,AnalyticsWidgetComponent:()=>Te,AnalyticsWidgetModule:()=>pe,AreaChartJsDataSetsBuilder:()=>ze,AreaSeries:()=>Pa,AreaSeriesBuilder:()=>gn,AreaSeriesConfig:()=>Is,BarChartJsDataSetsBuilder:()=>$e,BarSeries:()=>Zi,BarSeriesBuilder:()=>hn,BarSeriesConfig:()=>Xr,BaseChartSeriesDataConverter:()=>Za,BasePieChartJsDataSetsBuilder:()=>Ke,BaseTextRenderer:()=>Ui,BoundingCircle:()=>Gr,BoundingLinesMeasurer:()=>Ye,CHART_JS_ANIMATIONS_CREATOR_FACTORY:()=>Da,CHART_JS_AREA_SIDES_BORDER_PLUGIN:()=>Lr,CHART_JS_DATA_SETS_BUILDER_FACTORY:()=>Ta,CHART_LABELS_CREATOR_FACTORY:()=>ca,CHART_PRESET_COLORS:()=>Y,CHART_SCREEN_READER_PLUGINS_FACTORY:()=>xa,CHART_SERIES_BUILDERS:()=>Ja,CHART_SERIES_DATA_CONFIG_CONVERTER_FACTORY:()=>Ka,CHART_SERIES_DATA_CONVERTER_FACTORY:()=>ua,CHART_SERIES_DATA_SORTER_FACTORY:()=>ga,CHART_SERIES_GROUPED_DATA_CONVERTER_FACTORY:()=>Xa,CHART_TOOLTIP_PLUGINS_FACTORY:()=>Ma,CHART_WIDGET_DEFAULT_PALETTE_CONFIGURATIONS:()=>Ya,CHART_WIDGET_DRILLDOWN_BY_SERIES_FEATURE_NAME:()=>co,CHART_WIDGET_DRILLDOWN_FEATURE_NAME:()=>lo,CHART_WIDGET_LEGEND_CLICK_MENU_FEATURE_NAME:()=>uo,CHART_WIDGET_NOT_NULL_GROUPING_VALUE_FILTER_NAME:()=>la,CHART_WIDGET_PALETTE_CONFIGURATIONS:()=>er,CHART_WIDGET_SERIES_CHANGE_TYPE_FEATURE_NAME:()=>go,CHART_WIDGET_SERIES_DATA_GROUPING_CONFIG_CREATOR_FACTORY:()=>ir,CHART_WIDGET_SERIES_DATA_GROUPING_VIEW_CONFIG_CREATOR_FACTORY:()=>ar,CHART_WIDGET_SERIES_DATA_SOURCE_INSTANCE_CONFIG_CREATOR_FACTORY:()=>sr,CHART_WIDGET_SERIES_MODEL_CONFIG_CREATOR:()=>mi,CHART_WIDGET_SERIES_VIEW_MODEL_DATA_CONVERTER_FACTORY:()=>cr,CHART_WIDGET_VIEW_ELEMENT_TYPE:()=>al,CardWidgetHeaderComponent:()=>ci,ChartComponent:()=>_e,ChartConfigBuilder:()=>yt,ChartConfigProvider:()=>bt,ChartGroupingType:()=>te,ChartJsA11yLegendPluginCreator:()=>$n,ChartJsAnimationsCreatorModule:()=>ii,ChartJsConfigConverterService:()=>Ce,ChartJsDataLabelFormatter:()=>J,ChartJsDataSetsBuilder:()=>Ue,ChartJsDataSetsBuildersModule:()=>Qn,ChartJsDoughnutScreenReaderPlugin:()=>Gt,ChartJsDoughnutTooltipPlugin:()=>Bt,ChartJsDoughnutTooltipPluginMock:()=>os,ChartJsDoughnutTooltipRenderer:()=>Zn,ChartJsFunnelScreenReaderPlugin:()=>jt,ChartJsFunnelTooltipPlugin:()=>Je,ChartJsHorizontalBarScalesPluginCreator:()=>Wt,ChartJsKeyboardNavigationState:()=>_,ChartJsLayoutBuilder:()=>Yt,ChartJsLegendBuilder:()=>Jt,ChartJsMenuOpenPluginCreator:()=>Xn,ChartJsPieTooltipPlugin:()=>Vt,ChartJsScalesBuilder:()=>Kt,ChartJsScalesPluginCreator:()=>Nt,ChartJsScreenReaderPlugin:()=>ue,ChartJsTooltipPlugin:()=>Ee,ChartLabelsCreator:()=>sl,ChartLabelsCreatorModule:()=>ui,ChartOrderType:()=>ye,ChartPieTooltipModule:()=>Qt,ChartResizeObserverDirective:()=>Zt,ChartSeries:()=>Ki,ChartSeriesBooleanGroupedDataConverter:()=>pt,ChartSeriesBuilder:()=>we,ChartSeriesBuilderFactory:()=>ut,ChartSeriesConfigConverterService:()=>Et,ChartSeriesConverter:()=>Mn,ChartSeriesDataConfigConverter:()=>qa,ChartSeriesDataConfigConvertersModule:()=>gi,ChartSeriesDataConverter:()=>mt,ChartSeriesDataConvertersModule:()=>hi,ChartSeriesDataNormalizer:()=>Sn,ChartSeriesDataProvider:()=>po,ChartSeriesDataProviderFactory:()=>Tn,ChartSeriesDataSorter:()=>Qa,ChartSeriesDataSortersModule:()=>pi,ChartSeriesDatePartDataConfigConverter:()=>gt,ChartSeriesDatePartDataConverter:()=>vn,ChartSeriesGroupedDataConverter:()=>ke,ChartSeriesLookupGroupedDataConverter:()=>ft,ChartSeriesValueDataConfigConverter:()=>ht,ChartStructureExplorerService:()=>wt,ChartTooltipModule:()=>Xt,ChartType:()=>b,ChartWidgetDataProvidingMetadataCompressor:()=>fi,ChartWidgetDataProvidingMetadataCompressorModule:()=>Ri,ChartWidgetDataProvidingMetadataGenerator:()=>_i,ChartWidgetDataProvidingMetadataGeneratorModule:()=>Li,ChartWidgetPaletteProvider:()=>xn,ChartWidgetSeriesDataGroupingViewConfigCreator:()=>rr,ChartWidgetSeriesDataProvidingConfigCreator:()=>In,ChartWidgetSeriesDataProvidingConfigCreatorModule:()=>En,ChartWidgetSeriesDataProvidingViewConfigCreator:()=>Be,ChartWidgetSeriesDataProvidingViewConfigCreatorModule:()=>Ve,ChartWidgetSeriesDataSortingViewConfigCreator:()=>or,ChartWidgetSeriesDatePartDataGroupingConfigCreator:()=>vt,ChartWidgetSeriesDatePartDataGroupingViewConfigCreator:()=>Tt,ChartWidgetSeriesDefaultDataGroupingViewConfigCreator:()=>Dt,ChartWidgetSeriesEntityDataSourceInstanceCreator:()=>xt,ChartWidgetSeriesModelConfigCreatorModule:()=>Pn,ChartWidgetSeriesValueDataGroupingConfigCreator:()=>St,ChartWidgetSeriesViewModelAttributesConfigCreator:()=>Se,ChartWidgetSeriesViewModelAttributesConfigCreatorModule:()=>Ci,ChartWidgetSeriesViewModelCollectionConverter:()=>An,ChartWidgetSeriesViewModelCollectionConvertingModule:()=>yi,ChartWidgetSeriesViewModelDataConverter:()=>lr,ChartWidgetSeriesViewModelDatePartDataConverter:()=>Mt,ChartWidgetSeriesViewModelValueDataConverter:()=>It,CommonComponentModule:()=>ce,ConfigsConverter:()=>$i,ContentSizeMode:()=>Pi,CrtBaseWidgetComponent:()=>X,CrtChartA11yLegendComponent:()=>en,CrtChartA11yLegendModule:()=>tn,CrtChartModule:()=>Fe,CrtChartScreenReaderComponent:()=>nn,CrtChartScreenReaderModule:()=>an,CrtChartWidgetComponent:()=>De,CrtChartWidgetModule:()=>fa,CrtFunnelWidgetComponent:()=>xe,CrtFunnelWidgetModule:()=>Ca,CrtGaugeChartComponent:()=>Gn,CrtGaugeChartModule:()=>jn,CrtGaugeWidgetModule:()=>_a,CrtIndicatorWidgetComponent:()=>fe,CrtIndicatorWidgetModule:()=>vi,CrtWidgetHeaderComponent:()=>dt,DATE_PART_GROUPING_COLUMN_ALIAS_PREFIX:()=>wn,DEFAULT_COLORS:()=>x,DEFAULT_ENTITY_COLOR:()=>To,DEFAULT_FONT:()=>Br,DEFAULT_FONT_COLOR:()=>Pe,DEFAULT_FONT_FAMILY:()=>kt,DEFAULT_GAUGE_WIDGET_PALETTE:()=>Mo,DEFAULT_GAUGE_WIDGET_THEME_PALETTE_MAP:()=>Io,DEFAULT_GRADIENTS:()=>I,DEFAULT_INCREMENT_STEP:()=>Pr,DISABLE_SUPPORT_WIDGET_DATA_SOURCE_FEATURE_NAME:()=>Ba,DefaultChartLabelsCreator:()=>dn,DefaultDoughnutTooltipOptions:()=>qn,DesignerChartWidgetDataProvidingMetadataGenerator:()=>Fn,DoughnutChartJsDataSetsBuilder:()=>zt,DoughnutSeries:()=>Fa,DoughnutSeriesBuilder:()=>pn,DoughnutSeriesConfig:()=>Es,ENTITY_COLORS:()=>Do,FILLED_CHART_WIDGET_CONFIG:()=>oo,FUNNEL_DATA_RESPONSE_DATA:()=>mc,FUNNEL_KEYBOARD_NAVIGATION_PLUGIN:()=>G,FullPipelineWidgetComponent:()=>Nn,FullPipelineWidgetLegendComponent:()=>Vn,FullScreenDirective:()=>Ae,FunnelChartJsDataSetsBuilder:()=>Ut,FunnelChartLabelsCreator:()=>un,FunnelColorsProviderService:()=>Ht,FunnelDataFormatterService:()=>Ln,FunnelDataProviderService:()=>Pt,FunnelDataTransformerService:()=>Bn,FunnelLegendDataProviderService:()=>At,FunnelSeries:()=>Ra,FunnelSeriesBuilder:()=>bn,FunnelSeriesConfig:()=>Os,FunnelSliceType:()=>K,FunnelTooltipDataService:()=>Ft,FunnelWidgetService:()=>Ge,FunnelWidgetTooltipComponent:()=>Wn,GAUGE_WIDGET_THEME_PALETTE_MAP:()=>yr,GAUGE_WIDGET_VIEW_ELEMENT_TYPE:()=>yc,GROUPING_COLUMN_ALIAS:()=>da,GaugeWidgetComponent:()=>Ot,GroupingChartSeriesDataSorter:()=>_t,GroupingSeriesOrderConfig:()=>Ls,HOVER_COLORS:()=>U,HorizontalBarChartJsDataSetsBuilder:()=>Ze,HorizontalBarSeries:()=>Aa,HorizontalBarSeriesBuilder:()=>fn,HorizontalBarSeriesConfig:()=>Ps,INDICATOR_VALUE_PLACEHOLDER_CREATOR_FACTORY_PROVIDER:()=>wo,INDICATOR_WIDGET_DEFAULT_THEME:()=>hr,INDICATOR_WIDGET_SKELETONS_HEIGHTS_MAP:()=>pr,INDICATOR_WIDGET_VIEW_ELEMENT_TYPE:()=>Vl,IndicatorDateTimeValuePlaceholderCreator:()=>On,IndicatorNumericValuePlaceholderCreator:()=>fr,IndicatorStringValuePlaceholderCreator:()=>Rn,IndicatorTextLinesBuilder:()=>We,IndicatorValuePlaceholderCreator:()=>ma,IndicatorWidgetDataProvidingMetadataCompressor:()=>bi,IndicatorWidgetDataProvidingMetadataCompressorModule:()=>Bi,IndicatorWidgetDataProvidingMetadataGenerator:()=>wi,IndicatorWidgetDataProvidingMetadataGeneratorModule:()=>Vi,KEYBOARD_NAVIGATION_PLUGIN:()=>E,LEGEND_PLUGIN:()=>$r,LineChartJsDataSetsBuilder:()=>me,LineSeries:()=>xi,LineSeriesBuilder:()=>mn,LineSeriesConfig:()=>Qi,MultipleChartSeriesDataProvider:()=>Dn,PIE_CHART_PRESET_COLORS:()=>wa,PROVIDE_CHART_SERIES_BUILDER:()=>ve,PieChartJsDataLabelFormatter:()=>C,PieChartJsDataSetsBuilder:()=>qe,PieSeries:()=>Mi,PieSeriesBuilder:()=>Cn,PieSeriesConfig:()=>La,RELOAD_DRILL_DOWN_DATASOURCE:()=>ks,RenderingContext:()=>kr,RenderingOptionsConverter:()=>Yn,ResizeObserverDirective:()=>qt,SAVE_DRILL_DOWN_STATE:()=>Va,SCALES_PLUGIN_FACTORY:()=>Ea,ScatterChartJsDataSetsBuilder:()=>Xe,ScatterSeries:()=>Oa,ScatterSeriesBuilder:()=>_n,ScatterSeriesConfig:()=>Fs,SeriesBorderConfig:()=>Ms,SeriesConfig:()=>Xi,SeriesOrderConfig:()=>ka,SplineChartJsDataSetsBuilder:()=>Ie,SplineSeries:()=>qi,SplineSeriesBuilder:()=>yn,SplineSeriesConfig:()=>As,TEXT_RENDERER_FACTORY:()=>Wr,TextNoWrapRenderer:()=>Jn,TextRendererMock:()=>Si,TextWrapRenderer:()=>Kn,TooltipMissingTranslationHandlerMock:()=>Cc,USE_CLASSIC_METRIC_SIZES:()=>eo,WHITE_COLOR:()=>q,WIDGET_DATA_SOURCE_INSTANCE_CONFIG_CREATOR_FACTORY:()=>Ga,WIDGET_PREDEFINED_FILTER_ATTRIBUTE_POSTFIX:()=>ta,WIDGET_PRESET_COLORS:()=>Wi,WidgetClearDisplayDataListMetadataHandler:()=>oa,WidgetColor:()=>s,WidgetDataAggregationConfigCreator:()=>Qe,WidgetDataAggregationViewConfigCreator:()=>et,WidgetDataDependenciesConfigCreator:()=>tt,WidgetDataFilteringViewConfigConverter:()=>na,WidgetDataFilteringViewConfigCreator:()=>nt,WidgetDataFiltersConfigCreator:()=>ot,WidgetDataGridToolbarItemsProvider:()=>ae,WidgetDataProvider:()=>he,WidgetDataProviderMock:()=>za,WidgetDataProvidingConfigCreator:()=>st,WidgetDataProvidingConfigCreatorModule:()=>lt,WidgetDataProvidingMetadataCleaner:()=>Oe,WidgetDataProvidingViewConfigCreator:()=>it,WidgetDataProvidingViewConfigCreatorModule:()=>be,WidgetDataSourceInstanceConfigCreator:()=>to,WidgetDrilldownHandler:()=>ia,WidgetEntityDataSourceInstanceConfigCreatorModule:()=>on,WidgetEntityDataSourceInstanceCreator:()=>ct,WidgetFullScreenStateChangesRequest:()=>Ua,WidgetModelConfigCreator:()=>Re,WidgetModelConfigCreatorModule:()=>ge,WidgetTheme:()=>H,WidgetViewModelAttributesConfigCreator:()=>at,WidgetViewModelAttributesConfigCreatorModule:()=>rt,calculatePercentage:()=>de,createIndicatorWidgetDataAttributeName:()=>bo,getAggregationDataSourceAttributeName:()=>ml,getDatePartGroupingDataSourceAttributeName:()=>fl,getGroupingDataSourceAttributeName:()=>pl,getSeriesDataAttributeName:()=>pa,getSeriesDataProvidingConfigsAttributeName:()=>Oi,getViewElementName:()=>yo,incrementHexColor:()=>va,provideChartJsDataSetsBuilderFactory:()=>Yr,provideChartScalesPluginFactory:()=>qr,provideChartScreenReaderPluginsFactory:()=>Kr,provideChartSeriesDataConfigConverterFactory:()=>ho,provideChartSeriesDataSorterFactory:()=>fo,provideChartTooltipPluginsFactory:()=>Ia,resolveChartPalette:()=>se,resolveWidgetPalette:()=>zn});var i=S(59131),v=S(28399),re=S(85259),g=S(21018);class J{constructor(e){this._formatterFactory=e}formatData(e,t){return this._formatterFactory.resolveFormatter(t).format(e,t)}format(e,t){const{dataSet:n}=t||{},{formatting:a}=n||{};return this.formatData(e?.toString(),a)}static{this.\u0275fac=function(t){return new(t||J)(i.\u0275\u0275inject(g.FormatterFactory))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:J,factory:J.\u0275fac,providedIn:"root"})}}const de=(o,e)=>{const t=typeof o=="number"?o:parseFloat(o),n=e?.reduce((a,r)=>a+r,0);return n?Math.round(t*100/n):0},m={type:"string",maxLineLength:10,maxLinesCount:2};class C extends J{constructor(e){super(e)}_getFormattedLabel(e){const{chart:t,dataIndex:n}=e??{},r=(t?.data?.labels??[])[n]??"",l=super.formatData(r?.toString(),m);return Array.isArray(l)?l:[l]}_getPercentageLabel(e,t){const n=t?.dataSet?.data??[];return`${de(e,n)}%`}_appendPercentageLabelPostfix(e,t){if(e.length===0)return[t];let n=e.pop()??"";return n=n===""?t:`${n} - ${t}`,[...e,n]}format(e,t){const n=this._getFormattedLabel(t),a=this._getPercentageLabel(e,t);return this._appendPercentageLabelPostfix(n,a)}static{this.\u0275fac=function(t){return new(t||C)(i.\u0275\u0275inject(g.FormatterFactory))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac,providedIn:"root"})}}var h=S(96590),T=S(89422);class _{static{this._state=new Map}static get(e){return _._state.get(e)}static set(e,t){_._state.set(e,t)}static delete(e){_._state.delete(e)}}class M{constructor(){this.id="crt-chart-js-keyboard-navigation-plugin"}_initChartState(e){_.set(e.id,{selectedPointIndex:this._isChartJsDataEmpty(e)?void 0:0,selectedVisibleDatasetIndex:0,visibleDatasetsIndexes:this._getVisibleDatasetsIndexes(e),canvasKeydownListener:this._handleCanvasKeydown.bind(this,e),canvasFocusListener:this._canvasFocusListener.bind(this,e),canvasBlurListener:this._canvasBlurListener.bind(this,e),documentMousedownListener:this._documentMousedownListener.bind(this,e),documentKeydownListener:this._documentKeydownListener.bind(this,e),highlightColor:!1})}_isChartJsDataEmpty(e){return e.data.datasets.every(t=>t.data.length===0)}_getVisibleDatasetsIndexes(e){return e.data.datasets.map((t,n)=>t.hidden?-1:n).filter(t=>t!==-1)}_handleCanvasKeydown(e,t){const n=_.get(e.id);switch(n.lastInputMethod="keyboard",t.key){case T.Key.ArrowRight:this.arrowRightHandler(e,t);break;case T.Key.ArrowLeft:this.arrowLeftHandler(e,t);break;case T.Key.ArrowUp:this.arrowUpHandler(e,t);break;case T.Key.ArrowDown:this.arrowDownHandler(e,t);break;case T.Key.Tab:case T.Key.Escape:this.escapeHandler(e);break;default:return}e.canvas.dispatchEvent(new CustomEvent("afterkeyboardnavigation"))}_canvasFocusListener(e){this._updateActiveElements(e)}_getActiveDatasetDataLength(e){const t=_.get(e.id);return e.data.datasets[this._getOriginalVisibleDatasetIndex(t)]?.data?.length??0}_updateActiveElements(e){const t=_.get(e.id);if(isNaN(t.selectedPointIndex))return;const n={datasetIndex:this._getOriginalVisibleDatasetIndex(t),index:t.selectedPointIndex};isNaN(n.datasetIndex)||this._setHighlightElements(e,[n])}_getOriginalVisibleDatasetIndex(e){return e.visibleDatasetsIndexes[e.selectedVisibleDatasetIndex]}_canvasBlurListener(e){this._setHighlightElements(e,[])}_documentMousedownListener(e,t){const n=_.get(e.id);n.lastInputMethod="mouse",n.highlightColor&&(n.highlightColor=!1,e.update("none"))}_documentKeydownListener(e,t){const n=_.get(e.id);n.lastInputMethod="keyboard"}_setHighlightElements(e,t){const n=_.get(e.id);n.lastInputMethod==="keyboard"&&(e.setActiveElements(t),t[0]&&(n.highlightColor=!0),e.update("none"),e.tooltip.setActiveElements(t,{x:0,y:0}))}_initCanvasListeners(e){const t=_.get(e.id);e.canvas.addEventListener("keydown",t.canvasKeydownListener),e.canvas.addEventListener("focus",t.canvasFocusListener),e.canvas.addEventListener("blur",t.canvasBlurListener),document.addEventListener("mousedown",t.documentMousedownListener),document.addEventListener("keydown",t.documentKeydownListener)}_updateVisibleDatasetsIndexes(e){if(this._isVisibleDatasetsNotChanged(e))return;const t=_.get(e.id);t.visibleDatasetsIndexes=this._getVisibleDatasetsIndexes(e),t.selectedPointIndex=0,t.selectedVisibleDatasetIndex=0}_isVisibleDatasetsNotChanged(e){const t=_.get(e.id);return(0,v.isEqual)(this._getVisibleDatasetsIndexes(e),t.visibleDatasetsIndexes)}_removeCanvasListeners(e){const t=_.get(e.id);e.canvas.removeEventListener("keydown",t.canvasKeydownListener),e.canvas.removeEventListener("focus",t.canvasFocusListener),e.canvas.removeEventListener("blur",t.canvasBlurListener),document.removeEventListener("mousedown",t.documentMousedownListener),document.removeEventListener("keydown",t.documentKeydownListener)}arrowRightHandler(e,t){const n=_.get(e.id),a=this._getActiveDatasetDataLength(e);t.preventDefault(),n.selectedPointIndex<a-1&&(n.selectedPointIndex++,this._updateActiveElements(e))}arrowLeftHandler(e,t){const n=_.get(e.id);t.preventDefault(),n.selectedPointIndex>0&&(n.selectedPointIndex--,this._updateActiveElements(e))}arrowUpHandler(e,t){const n=_.get(e.id),a=n.visibleDatasetsIndexes.length,r=this._getActiveDatasetDataLength(e);t.preventDefault(),n.selectedVisibleDatasetIndex<a-1&&(n.selectedVisibleDatasetIndex++,n.selectedPointIndex=Math.min(n.selectedPointIndex,r-1),this._updateActiveElements(e))}arrowDownHandler(e,t){const n=_.get(e.id),a=this._getActiveDatasetDataLength(e);t.preventDefault(),n.selectedVisibleDatasetIndex>0&&(n.selectedVisibleDatasetIndex--,n.selectedPointIndex=Math.min(n.selectedPointIndex,a-1),this._updateActiveElements(e))}escapeHandler(e){const t=_.get(e.id);t?.highlightColor&&(t.highlightColor=!1,e.update("none"))}beforeInit(e){this._initChartState(e),this._initCanvasListeners(e),e.canvas.setAttribute("tabIndex","0"),e.canvas.setAttribute("role","application")}afterDatasetsUpdate(e){this._updateVisibleDatasetsIndexes(e)}beforeDestroy(e){this._removeCanvasListeners(e),_.delete(e.id)}}const E=new M;class O extends M{arrowDownHandler(e,t){}arrowUpHandler(e,t){}}const G=new O,R="#FFFFFF",W=.6,Q=.2;function ie(o){return o&&o.length>0}function ee(o,e){return o.some(t=>t.datasetIndex===e&&t.index===null)}function $(o,e,t){return o.some(n=>n.datasetIndex===e&&n.index===t)}function je(o,e,t,n){const a=_.get(o.chart?.id);return a?.highlightColor?He(o,e,t,a,n):!ie(t)||ee(t,o.datasetIndex)?e:$(t,o.datasetIndex,o.dataIndex)?(0,h.lightenHex)(e,60):(0,h.lightenHex)(e,80)}function He(o,e,t,n,a){const r=n.visibleDatasetsIndexes?.[n.selectedVisibleDatasetIndex]===o.datasetIndex,l=a==="glassmorphism"?h.darkenHex:h.lightenHex,c=a==="glassmorphism"?(0,h.lightenHex)(e,20):e;return ee(t,o.datasetIndex)||$(t,o.datasetIndex,o.dataIndex),r?c:l(e,70)}var s;(function(o){o.BurntCoral="burnt-coral",o.CadmiumRed="cadmium-red",o.ForestGreen="forest-green",o.SteelBlue="steel-blue",o.VividPurple="vivid-purple",o.RustyOrange="rusty-orange",o.DarkTurquoise="dark-turquoise",o.Green="green",o.LightBlue="light-blue",o.CelestialBlue="celestial-blue",o.BrightRed="bright-red",o.OrangeRed="orange-red",o.Orange="orange",o.LightGreen="light-green",o.Turquoise="turquoise",o.DarkGreen="dark-green",o.Red="red",o.Coral="coral",o.Purple="purple",o.Violet="violet",o.Blue="blue",o.NavyBlue="navy-blue",o.DarkBlue="dark-blue"})(s||(s={}));const q="#FFFFFF",x=new Map([[s.BurntCoral,g.DefaultColors.BurntCoral],[s.CadmiumRed,g.DefaultColors.CadmiumRed],[s.ForestGreen,g.DefaultColors.ForestGreen],[s.SteelBlue,g.DefaultColors.SteelBlue],[s.VividPurple,g.DefaultColors.VividPurple],[s.RustyOrange,g.DefaultColors.RustyOrange],[s.DarkTurquoise,g.DefaultColors.DarkTurquoise],[s.Green,g.DefaultColors.Green],[s.LightBlue,g.DefaultColors.LightBlue],[s.CelestialBlue,g.DefaultColors.CelestialBlue],[s.BrightRed,g.DefaultColors.BrightRed],[s.OrangeRed,g.DefaultColors.OrangeRed],[s.Orange,g.DefaultColors.Orange],[s.LightGreen,g.DefaultColors.LightGreen],[s.Turquoise,g.DefaultColors.Turquoise],[s.DarkGreen,g.DefaultColors.DarkGreen],[s.Red,g.DefaultColors.Red],[s.Coral,g.DefaultColors.Coral],[s.Purple,g.DefaultColors.Purple],[s.Violet,g.DefaultColors.Violet],[s.Blue,g.DefaultColors.Blue],[s.NavyBlue,g.DefaultColors.NavyBlue],[s.DarkBlue,g.DefaultColors.DarkBlue]]),U=new Map([[s.BurntCoral,g.DefaultColorsHover.BurntCoral],[s.CadmiumRed,g.DefaultColorsHover.CadmiumRed],[s.ForestGreen,g.DefaultColorsHover.ForestGreen],[s.SteelBlue,g.DefaultColorsHover.SteelBlue],[s.VividPurple,g.DefaultColorsHover.VividPurple],[s.RustyOrange,g.DefaultColorsHover.RustyOrange],[s.DarkTurquoise,g.DefaultColorsHover.DarkTurquoise],[s.Green,g.DefaultColorsHover.Green],[s.LightBlue,g.DefaultColorsHover.LightBlue],[s.CelestialBlue,g.DefaultColorsHover.CelestialBlue],[s.BrightRed,g.DefaultColorsHover.BrightRed],[s.OrangeRed,g.DefaultColorsHover.OrangeRed],[s.Orange,g.DefaultColorsHover.Orange],[s.LightGreen,g.DefaultColorsHover.LightGreen],[s.Turquoise,g.DefaultColorsHover.Turquoise],[s.DarkGreen,g.DefaultColorsHover.DarkGreen],[s.Red,g.DefaultColorsHover.Red],[s.Coral,g.DefaultColorsHover.Coral],[s.Purple,g.DefaultColorsHover.Purple],[s.Violet,g.DefaultColorsHover.Violet],[s.Blue,g.DefaultColorsHover.Blue],[s.NavyBlue,g.DefaultColorsHover.NavyBlue],[s.DarkBlue,g.DefaultColorsHover.DarkBlue]]),I=new Map([[s.BurntCoral,{angle:224,colors:[{value:"#E92170",stop:0},{value:"#9C1548",stop:100}],clip:"padding-box"}],[s.CadmiumRed,{angle:224,colors:[{value:"#E23911",stop:0},{value:"#A11818",stop:100}],clip:"padding-box"}],[s.ForestGreen,{angle:224,colors:[{value:"#118F45",stop:0},{value:"#085C2B",stop:100}],clip:"padding-box"}],[s.SteelBlue,{angle:224,colors:[{value:"#057ADD",stop:0},{value:"#274D8F",stop:100}],clip:"padding-box"}],[s.VividPurple,{angle:224,colors:[{value:"#A758C5",stop:0},{value:"#841189",stop:100}],clip:"padding-box"}],[s.RustyOrange,{angle:224,colors:[{value:"#DE5C14",stop:0},{value:"#B51E00",stop:100}],clip:"padding-box"}],[s.LightGreen,{angle:224,colors:[{value:"#A6DE00",stop:0},{value:"#98CB00",stop:100}],clip:"padding-box"}],[s.Green,{angle:224,colors:[{value:"#20A959",stop:0},{value:"#007E37",stop:100}],clip:"padding-box"}],[s.DarkGreen,{angle:224,colors:[{value:"#22AC14",stop:100},{value:"#0B8500",stop:100}],clip:"padding-box"}],[s.Orange,{angle:224,colors:[{value:"#FFAC07",stop:0},{value:"#FF7700",stop:100}],clip:"padding-box"}],[s.OrangeRed,{angle:224,colors:[{value:"#FF8800",stop:0},{value:"#FF4E00",stop:100}],clip:"padding-box"}],[s.Coral,{angle:224,colors:[{value:"#F9307F",stop:0},{value:"#C2185B",stop:100}],clip:"padding-box"}],[s.BrightRed,{angle:224,colors:[{value:"#FF6534",stop:0},{value:"#DB2D00",stop:100}],clip:"padding-box"}],[s.Red,{angle:224,colors:[{value:"#FF4013",stop:0},{value:"#D32F2F",stop:100}],clip:"padding-box"}],[s.Purple,{angle:224,colors:[{value:"#B87CCF",stop:0},{value:"#A400AA",stop:100}],clip:"padding-box"}],[s.Violet,{angle:224,colors:[{value:"#7848EE",stop:0},{value:"#512DA8",stop:100}],clip:"padding-box"}],[s.CelestialBlue,{angle:224,colors:[{value:"#0091EA",stop:0},{value:"#0058EF",stop:100}],clip:"padding-box"}],[s.Blue,{angle:224,colors:[{value:"#0058EF",stop:0},{value:"#014BCB",stop:100}],clip:"padding-box"}],[s.LightBlue,{angle:224,colors:[{value:"#03A9F4",stop:0},{value:"#0075EA",stop:100}],clip:"padding-box"}],[s.NavyBlue,{angle:224,colors:[{value:"#4F43C2",stop:0},{value:"#28216B",stop:100}],clip:"padding-box"}],[s.DarkBlue,{angle:224,colors:[{value:"#06427C",stop:0},{value:"#0D2E4E",stop:100}],clip:"padding-box"}],[s.DarkTurquoise,{angle:224,colors:[{value:"#078A7E",stop:0},{value:"#084C45",stop:100}],clip:"padding-box"}],[s.Turquoise,{angle:224,colors:[{value:"#00BFA5",stop:0},{value:"#04A58F",stop:100}],clip:"padding-box"}]]),Wi=new Map([[s.BurntCoral,{color:x.get(s.BurntCoral),gradient:I.get(s.BurntCoral)}],[s.CadmiumRed,{color:x.get(s.CadmiumRed),gradient:I.get(s.CadmiumRed)}],[s.ForestGreen,{color:x.get(s.ForestGreen),gradient:I.get(s.ForestGreen)}],[s.SteelBlue,{color:x.get(s.SteelBlue),gradient:I.get(s.SteelBlue)}],[s.VividPurple,{color:x.get(s.VividPurple),gradient:I.get(s.VividPurple)}],[s.RustyOrange,{color:x.get(s.RustyOrange),gradient:I.get(s.RustyOrange)}],[s.DarkTurquoise,{color:x.get(s.DarkTurquoise),gradient:I.get(s.DarkTurquoise)}],[s.Green,{color:x.get(s.Green),gradient:I.get(s.Green)}],[s.LightBlue,{color:x.get(s.LightBlue),gradient:I.get(s.LightBlue)}],[s.CelestialBlue,{color:x.get(s.CelestialBlue),gradient:I.get(s.CelestialBlue)}],[s.BrightRed,{color:x.get(s.BrightRed),gradient:I.get(s.BrightRed)}],[s.OrangeRed,{color:x.get(s.OrangeRed),gradient:I.get(s.OrangeRed)}],[s.Orange,{color:x.get(s.Orange),gradient:I.get(s.Orange)}],[s.LightGreen,{color:x.get(s.LightGreen),gradient:I.get(s.LightGreen)}],[s.Turquoise,{color:x.get(s.Turquoise),gradient:I.get(s.Turquoise)}],[s.DarkGreen,{color:x.get(s.DarkGreen),gradient:I.get(s.DarkGreen)}],[s.Red,{color:x.get(s.Red),gradient:I.get(s.Red)}],[s.Coral,{color:x.get(s.Coral),gradient:I.get(s.Coral)}],[s.Purple,{color:x.get(s.Purple),gradient:I.get(s.Purple)}],[s.Violet,{color:x.get(s.Violet),gradient:I.get(s.Violet)}],[s.Blue,{color:x.get(s.Blue),gradient:I.get(s.Blue)}],[s.NavyBlue,{color:x.get(s.NavyBlue),gradient:I.get(s.NavyBlue)}],[s.DarkBlue,{color:x.get(s.DarkBlue),gradient:I.get(s.DarkBlue)}]]),Y=new Map([[s.BurntCoral,{default:{color:x.get(s.BurntCoral),gradient:I.get(s.BurntCoral)},hover:{color:U.get(s.BurntCoral)}}],[s.CadmiumRed,{default:{color:x.get(s.CadmiumRed),gradient:I.get(s.CadmiumRed)},hover:{color:U.get(s.CadmiumRed)}}],[s.ForestGreen,{default:{color:x.get(s.ForestGreen),gradient:I.get(s.ForestGreen)},hover:{color:U.get(s.ForestGreen)}}],[s.SteelBlue,{default:{color:x.get(s.SteelBlue),gradient:I.get(s.SteelBlue)},hover:{color:U.get(s.SteelBlue)}}],[s.VividPurple,{default:{color:x.get(s.VividPurple),gradient:I.get(s.VividPurple)},hover:{color:U.get(s.VividPurple)}}],[s.RustyOrange,{default:{color:x.get(s.RustyOrange),gradient:I.get(s.RustyOrange)},hover:{color:U.get(s.RustyOrange)}}],[s.DarkTurquoise,{default:{color:x.get(s.DarkTurquoise),gradient:I.get(s.DarkTurquoise)},hover:{color:U.get(s.DarkTurquoise)}}],[s.Green,{default:{color:x.get(s.Green),gradient:I.get(s.Green)},hover:{color:U.get(s.Green)}}],[s.LightBlue,{default:{color:x.get(s.LightBlue),gradient:I.get(s.LightBlue)},hover:{color:U.get(s.LightBlue)}}],[s.CelestialBlue,{default:{color:x.get(s.CelestialBlue),gradient:I.get(s.CelestialBlue)},hover:{color:U.get(s.CelestialBlue)}}],[s.BrightRed,{default:{color:x.get(s.BrightRed),gradient:I.get(s.BrightRed)},hover:{color:U.get(s.BrightRed)}}],[s.OrangeRed,{default:{color:x.get(s.OrangeRed),gradient:I.get(s.OrangeRed)},hover:{color:U.get(s.OrangeRed)}}],[s.Orange,{default:{color:x.get(s.Orange),gradient:I.get(s.Orange)},hover:{color:U.get(s.Orange)}}],[s.LightGreen,{default:{color:x.get(s.LightGreen),gradient:I.get(s.LightGreen)},hover:{color:U.get(s.LightGreen)}}],[s.Turquoise,{default:{color:x.get(s.Turquoise),gradient:I.get(s.Turquoise)},hover:{color:U.get(s.Turquoise)}}],[s.DarkGreen,{default:{color:x.get(s.DarkGreen),gradient:I.get(s.DarkGreen)},hover:{color:U.get(s.DarkGreen)}}],[s.Coral,{default:{color:x.get(s.Coral),gradient:I.get(s.Coral)},hover:{color:U.get(s.Coral)}}],[s.Red,{default:{color:x.get(s.Red),gradient:I.get(s.Red)},hover:{color:U.get(s.Red)}}],[s.Purple,{default:{color:x.get(s.Purple),gradient:I.get(s.Purple)},hover:{color:U.get(s.Purple)}}],[s.Violet,{default:{color:x.get(s.Violet),gradient:I.get(s.Violet)},hover:{color:U.get(s.Violet)}}],[s.Blue,{default:{color:x.get(s.Blue),gradient:I.get(s.Blue)},hover:{color:U.get(s.Blue)}}],[s.NavyBlue,{default:{color:x.get(s.NavyBlue),gradient:I.get(s.NavyBlue)},hover:{color:U.get(s.NavyBlue)}}],[s.DarkBlue,{default:{color:x.get(s.DarkBlue),gradient:I.get(s.DarkBlue)},hover:{color:U.get(s.DarkBlue)}}]]),wa=new Map([[s.Blue,Y.get(s.Blue)],[s.Coral,Y.get(s.Coral)],[s.DarkTurquoise,Y.get(s.DarkTurquoise)],[s.RustyOrange,Y.get(s.RustyOrange)],[s.NavyBlue,Y.get(s.NavyBlue)],[s.Green,Y.get(s.Green)],[s.LightBlue,Y.get(s.LightBlue)],[s.Red,Y.get(s.Red)],[s.Purple,Y.get(s.Purple)],[s.DarkGreen,Y.get(s.DarkGreen)],[s.CelestialBlue,Y.get(s.CelestialBlue)],[s.BrightRed,Y.get(s.BrightRed)],[s.VividPurple,Y.get(s.VividPurple)],[s.ForestGreen,Y.get(s.ForestGreen)],[s.CadmiumRed,Y.get(s.CadmiumRed)],[s.SteelBlue,Y.get(s.SteelBlue)],[s.BurntCoral,Y.get(s.BurntCoral)],[s.Violet,Y.get(s.Violet)],[s.DarkBlue,Y.get(s.DarkBlue)]]);function se(o){return{get color(){return Y.get(o)?.default?.color||o},get hoverColor(){return Y.get(o)?.hover?.color||o}}}function zn(o){return{get color(){return Wi.get(o)?.color||o},get gradient(){let e=o;const t=Wi.get(o),n=t?.gradient;if(n){const l=n.colors.map(({value:c,stop:u})=>`${c} ${u}%`);e=`linear-gradient(${n.angle}deg, ${l.join(",")}) ${n.clip}`}const r="radial-gradient(85% 85% at 50% 50%, "+(t?.color||o)+"99 21.17%, rgb(0 0 0 / 0%) 100%), rgb(24 24 24 / 50%)";return{linear:e,radial:r}}}}const Pr=-2048;function va(o,e=Pr){let t=parseInt(o.substr(1),16);if(!isNaN(t)){t+=e;let n=t.toString(16);if(n="#"+new Array(7-n.length).join("0")+n,/^#[0-9a-f]{6}$/i.test(n))return n}return o}function Eo(o,e,t,n){const a=n==="glassmorphism"?e:R;return!ie(t)||ee(t,o.datasetIndex)||$(t,o.datasetIndex,o.dataIndex)?a:(0,h.hexToRGBA)(e,W)}function Po(o,e,t){const n=_.get(o.chart?.id);return n?.highlightColor?Fo(o,e,t,n):!ie(t)||ee(t,o.datasetIndex)||$(t,o.datasetIndex,o.dataIndex)?e:R}function Fo(o,e,t,n){const a=n.visibleDatasetsIndexes?.[n.selectedVisibleDatasetIndex]===o.datasetIndex;return ie(t)?ee(t,o.datasetIndex)||$(t,o.datasetIndex,o.dataIndex)?(0,h.hexToRGBA)(e,a?1:W):R:(0,h.hexToRGBA)(e,a?1:Q)}function Ao(o,e,t){return ie(t)&&(ee(t,o.datasetIndex)||$(t,o.datasetIndex,o.dataIndex))?e:R}function Oo(o,e,t){const n=_.get(o.chart?.id);return n?.highlightColor?Ro(o,e,t,n):!ie(t)||ee(t,o.datasetIndex)?e:(0,h.hexToRGBA)(e,W)}function Ro(o,e,t,n){const a=n.visibleDatasetsIndexes?.[n.selectedVisibleDatasetIndex]===o.datasetIndex;return ie(t)&&ee(t,o.datasetIndex)?(0,h.hexToRGBA)(e,a?1:W):(0,h.hexToRGBA)(e,a?1:Q)}const Fr=["circle","rectRounded","rectRot","triangle","rect"],Lo=5,ko=4;function Ar(o){return Fr[o.datasetIndex%Fr.length]}function Sa(o){return Ar(o)==="circle"?ko:Lo}function Bo(o,e){return e&&$(e,o.datasetIndex,o.dataIndex)?Sa(o):0}var Gi=S(16318);function Vo(o,e){const{x:t,y:n}=o;return Math.sqrt((t-e.x)**2+(n-e.y)**2)<=12}function No(o){const e=o.getProps(["x","y","base","width","height","horizontal"]),t=Math.max(24,e.width),n=Math.max(24,e.height);return e.horizontal?{left:e.base,top:e.y-n/2,right:e.base+t,bottom:e.y+n/2}:{left:e.x-t/2,top:e.base-n,right:e.x+t/2,bottom:e.base}}function Wo(o,e){const t=No(e);return o.x>=t.left&&o.x<=t.right&&o.y>=t.top&&o.y<=t.bottom}function Go(o,e){return e instanceof Gi.FN?Vo(o,e):e instanceof Gi.E8?Wo(o,e):!1}function Or(o,e){let t=o.getElementsAtEventForMode(e.native,"nearest",{intersect:!0},!1);return t.length?t[0]:(t=o.getElementsAtEventForMode(e.native,"index",{intersect:!1},!1),t.find(n=>Go(e,n.element)))}function jo(o,e,t){const n=Or(e,o);if(!n)return;const r=e.data?.datasets?.[n.datasetIndex]?.dataItems?.[n.index],l=t.click,c={datasetIndex:n.datasetIndex,index:n.index};typeof l=="function"&&l.call(null,r,c,o.native)}function Ho(o,e){const t=Or(e,o),n=o.native.target,a=t?"pointer":"auto";n.style.cursor=a}function Uo(o,e,t){if(!e)return;const n=e.dataset?.dataItems[e.dataIndex]||{},a={datasetIndex:e.datasetIndex,index:e.dataIndex},r=t.click;typeof r=="function"&&r.call(null,n,a,o?.native)}class Ue{get useDividers(){return!this.features?.DisableUseChartElementDividers&&this.theme!=="glassmorphism"}constructor(e,t){this._chartJsDataLabelFormatter=e,this.features=t}getDataLabels(){const e=this.handlers;return{display:!1,color:(this.series?.dataLabel??{}).color??q,listeners:{click:function(n,a){Uo(a,n,e)},enter:function(n){return n.hovered=!0,!0},leave:function(n){return n.hovered=!1,!0}}}}formatDataLabel(e,t){const{chart:n,dataset:a,dataIndex:r}=t;return this._chartJsDataLabelFormatter.format(e,{chart:n,dataSet:a,dataIndex:r})}setScale(e){return this.scale=e,this}setSeries(e){return this.series=e,this}setFocusPoints(e){return this.focusPoints=e,this}setHandlers(e){return this.handlers=e,this}setTheme(e){return this.theme=e,this}createDataSets(){const{dataSet:e,label:t,legend:n,dataItems:a,providing:r,border:l}=this.series||{};return{data:e?.data??[],dataSetLabels:e?.labels,dataItems:a,providing:r,label:t??"",datalabels:this.getDataLabels(),formatting:e?.formatting,isLegendEnabled:!!n?.enabled,borderColor:l?.color,hoverBorderColor:l?.hoverColor,borderWidth:l?.width,hidden:e?.hidden}}static{this.\u0275fac=function(t){return new(t||Ue)(i.\u0275\u0275inject(J),i.\u0275\u0275inject(g.FEATURE_VALUES))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ue,factory:Ue.\u0275fac})}}class me extends Ue{createDataSets(){const{color:e}=this.series,t=(0,h.lightenHex)(se(e).color,40),n=se(e).color,a=this.theme==="glassmorphism"?t:n,r=this.focusPoints,l=(0,v.cloneDeep)(super.createDataSets());return delete l.borderColor,delete l.borderWidth,delete l.hoverBorderColor,{...l,type:"line",tension:0,borderColor:function(c){return Oo(c,a,r)},backgroundColor:"transparent",pointBorderColor:c=>Eo(c,a,r,this.theme),pointBackgroundColor:c=>Po(c,a,r),pointHoverBorderColor:a,pointHoverBackgroundColor:c=>Ao(c,a,r),legendColor:a,pointStyle:c=>Ar(c),pointRadius:c=>Sa(c),pointHoverRadius:c=>Sa(c)}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(me)))(n||me)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:me,factory:me.\u0275fac})}}class Ie extends me{createDataSets(){const e=this.focusPoints;return{...super.createDataSets(),pointRadius:function(t){return Bo(t,e)},pointHitRadius:5,tension:.4,cubicInterpolationMode:"monotone"}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Ie)))(n||Ie)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac})}}class ze extends Ie{get _borderWidth(){return this.theme==="glassmorphism"?1:this.useDividers?2:0}get _borderColor(){return this.theme==="glassmorphism"?(0,h.lightenHex)(se(this.series.color).color,60):this.useDividers?"white":void 0}createDataSets(){const{color:e}=this.series,t=this.focusPoints,n=se(e).color;return{...super.createDataSets(),fill:!0,backgroundColor:r=>je(r,n,t,this.theme),borderWidth:this._borderWidth,borderColor:this._borderColor}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(ze)))(n||ze)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:ze,factory:ze.\u0275fac})}}var Lt=S(13053);function Rr(o,e,t){const n=_.get(o.chart?.id);return n?.highlightColor?zo(o,e,t,n):!ie(t)||ee(t,o.datasetIndex)||$(t,o.datasetIndex,o.dataIndex)?e:(0,h.hexToRGBA)(e,W)}function zo(o,e,t,n){const a=n.visibleDatasetsIndexes?.[n.selectedVisibleDatasetIndex]===o.datasetIndex;return ie(t)&&(ee(t,o.datasetIndex)||$(t,o.datasetIndex,o.dataIndex))?(0,h.hexToRGBA)(e,a?1:W):(0,h.hexToRGBA)(e,a?1:Q)}class $e extends Ue{get stack(){return this.isStacked?this.series.stack||"stack":void 0}get isStacked(){return!!this.scale?.stacked}get useDividers(){return super.useDividers&&this.isStacked}constructor(e,t,n){super(e,n),this._directionality=t,this._defaultDataLabelOptions={offset:0,formatter:this.formatDataLabel.bind(this),padding:{top:2,bottom:2,left:2,right:2}},this._defaultInnerDataLabelOptions={...this._defaultDataLabelOptions,align:"center",anchor:"center",color:q,font:{family:'Montserrat, "Open Sans", "Bpmonline Open Sans", "sans-serif"',size:13,weight:500},textShadowBlur:2,textShadowColor:"rgba(24, 24, 24, 0.66)",textStrokeColor:"rgba(24, 24, 24, 0.3)",textStrokeWidth:2},this._defaultOuterDataLabelOptions={...this._defaultDataLabelOptions,align:"end",anchor:"end"}}_isBottomBar(e){if(e.dataset.hidden)return!1;for(let t=0;t<e.datasetIndex;t++){const n=e.chart.data.datasets[t];if(n.type==="bar"&&!n.hidden)return!1}return!0}_isTopBar(e){if(e.dataset.hidden)return!1;for(let t=e.datasetIndex+1;t<e.chart.data.datasets.length;t++){const n=e.chart.data.datasets[t];if(n.type==="bar"&&!n.hidden)return!1}return!0}_getConfigForGlassmorhismTheme(){const e=se(this.series.color),t=this.focusPoints,n=this.getTopBarBorderRadiusForGlassmorphism(),a=this.isStacked;return{borderColor:r=>{const l=Rr(r,e.color,t);return(l.startsWith("#")?h.lightenHex:h.lightenRgba)(l,60)},borderWidth:1.5,borderRadius:r=>!a||this._isTopBar(r)?n:0,borderSkipped:"start"}}_getConfigForFilledTheme(e){const t=this.isStacked;return{borderColor:e.borderColor??"transparent",borderWidth:e.borderWidth??this.useDividers?1:0,borderRadius:{topLeft:3,topRight:3,bottomLeft:3,bottomRight:3},borderSkipped:n=>!t||this._isBottomBar(n)?"start":!1}}getTopBarBorderRadiusForGlassmorphism(){return{topLeft:3,topRight:3,bottomLeft:0,bottomRight:0}}getDataLabels(){const e=this.isStacked?this._defaultInnerDataLabelOptions:this._defaultOuterDataLabelOptions;this._directionality?.value==="rtl"&&(e.textAlign="right");const t=super.getDataLabels(),n=this.series?.dataLabel?.display;return{...t,...e,display:n==null||n}}formatDataLabel(e,t){return t.dataset.stack&&typeof e=="number"&&e===0?"":super.formatDataLabel(e,t)}createDataSets(){const{color:e}=this.series,t=se(e),n=this.focusPoints,a=super.createDataSets();return{...a,type:"bar",stack:this.stack,backgroundColor:r=>Rr(r,t.color,n),hoverBackgroundColor:t.hoverColor,legendColor:t.color,...this.theme==="glassmorphism"?this._getConfigForGlassmorhismTheme():this._getConfigForFilledTheme(a)}}static{this.\u0275fac=function(t){return new(t||$e)(i.\u0275\u0275inject(J),i.\u0275\u0275inject(Lt.Directionality),i.\u0275\u0275inject(g.FEATURE_VALUES))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:$e,factory:$e.\u0275fac})}}var j=S(79772);const ji=6;class Hi{static{this._instances=new Map}constructor(e,t){this.chart=e,this._injector=t,this.canvas=e.canvas,this._translateService=this._injector.get(j.TranslateService)}_getTitle(){const e=this.chart.options.plugins.title?.text??"";return this._translateService.instant("ChartLegend.Title",{chartTitle:e})}_getLegendConfig(){const e=this.chart.canvas.getBoundingClientRect(),t=this.canvas.offsetParent.getBoundingClientRect(),n=(this.chart.legend.legendItems??[]).map(({text:a},r)=>{const l=e.x-t.x,c=e.y-t.y,u=this.chart.legend.legendHitBoxes?.[r],p=l+u.left-ji,w=c+u.top-ji,D=u.width+2*ji,F=u.height+2*ji,k=!this.chart.legend.legendItems[r].hidden;return{left:p,top:w,width:D,height:F,text:a,index:r,selected:k}});return{title:this._getTitle(),items:n}}_createElement(){this.element=document.createElement("crt-chart-a11y-legend-element"),this.element.addEventListener("clicked",e=>{const t=e.detail.item.index,n={type:"click",native:e.detail.nativeEvent};this.chart.options.plugins.legend.onClick?.call(this.chart.legend,n,this.chart.legend.legendItems[t],this.chart.legend),e.preventDefault(),e.stopPropagation()}),this.chart.canvas.insertAdjacentElement("afterend",this.element)}_updateElement(e){if(!e.items.length){this.element?.remove(),this.element=null;return}(!this.element||!this.element.isConnected)&&this._createElement(),this.element.model=e}update(){if(!!this.canvas.offsetParent){const t=this._getLegendConfig();this._updateElement(t)}}destroy(){this.element?.remove(),Hi._instances.delete(this.chart.id)}static get(e,t){let n=this._instances.get(e.id);return n||(n=new Hi(e,t),this._instances.set(e.id,n)),n}}class $n{constructor(){this._injector=(0,i.inject)(i.Injector)}_getLegendManager(e){return Hi.get(e,this._injector)}createPlugin(){return{id:"crt-a11y_legend-plugin",afterInit:e=>{this._getLegendManager(e).update()},beforeDraw:e=>{this._getLegendManager(e).update()},afterDestroy:e=>{this._getLegendManager(e).destroy()}}}static{this.\u0275fac=function(t){return new(t||$n)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:$n,factory:$n.\u0275fac,providedIn:"root"})}}class $o{constructor(){this.id="crt-chart-js-area-sides-border-plugin"}_isAreaTypeChart(e){return e.type==="line"&&e.dataset?.options?.fill}beforeDatasetDraw(e,t){const{meta:n}=t;if(!this._isAreaTypeChart(n))return;const a=n.dataset,r=a.first(),l=a.last();if(!r||!l)return;const{ctx:c,chartArea:u}=e,{bottom:p}=u,w=n.dataset.options||{};c.save(),c.beginPath(),c.moveTo(r.x,r.y),c.lineTo(r.x,p),c.moveTo(l.x,l.y),c.lineTo(l.x,p),c.strokeStyle=w.borderColor,c.lineWidth=w.borderWidth,c.lineJoin="bevel",c.stroke(),c.restore()}}const Lr=new $o;class Yo{constructor(){this.pinned=!1,this.canceled=!1}}class Ee{get pluginId(){return"crt-tooltip-plugin"}get customElementName(){return"crt-chart-tooltip-element"}constructor(e){this.formatterFactory=e,this._tooltipContainerClassName="chart-js-tooltip",this._tooltipPositionOffset=12,this.states=new Map}static _getValidTooltipOffset(e,t,n){let{x:a,y:r}=n;const l=e.maxY-t.height;r=Math.min(r,l),r=Math.max(r,e.minY);const c=e.maxX-t.width;return a=Math.min(a,c),a=Math.max(a,e.minX),{x:a,y:r}}_getPositionOffset(e){const t=e.canvas.parentNode,n=getComputedStyle(t),a=parseInt(n.getPropertyValue("padding-top"),10)||0,r=parseInt(n.getPropertyValue("padding-left"),10)||0,l=getComputedStyle(e.canvas),c=parseInt(l.getPropertyValue("margin-top"),10)||0,u=parseInt(l.getPropertyValue("margin-left"),10)||0,p=parseInt(l.getPropertyValue("padding-top"),10)||0,w=parseInt(l.getPropertyValue("padding-left"),10)||0;return{x:r+u+w,y:a+c+p}}_getAlignment(e){const{chart:t,tooltipBox:n,alignmentPriority:a}=e,r=this._getRestriction(t),l=function(A){switch(A){case"left":{const V=n.x-n.width;return r.minX>V}case"center":{const V=n.x-n.width/2;return r.minX>V}case"right":{const V=n.x;return r.minX>V}}},c=function(A){switch(A){case"left":return r.maxX<n.x;case"center":{const V=n.x+n.width/2;return r.maxX<V}case"right":{const V=n.x+n.width;return r.maxX<V}}},u=A=>c(A)||l(A),p=function(){for(const A of a.x)if(!u(A))return A;return"center"},w=function(A){switch(A){case"bottom":{const V=n.y-n.height;return r.minY>V}case"top":{const V=n.y;return r.minY>V}case"center":{const V=n.y-n.height/2;return r.minY>V}}},D=function(A){switch(A){case"bottom":{const V=n.y;return r.maxY<V}case"top":{const V=n.y+n.height;return r.maxY<V}case"center":{const V=n.y+n.height/2;return r.maxY<V}}},F=A=>w(A)||D(A),k=function(){for(const A of a.y)if(!F(A))return A;return"center"};return{xAlign:p(),yAlign:k()}}_getRestriction(e){const t=e.chartArea;return{minX:t.left,maxX:t.right,minY:t.top,maxY:e.height}}_getTooltipEl(e){const t=e.parentNode;let n=t.querySelector(`.${this._tooltipContainerClassName}`);return n||(n=document.createElement("div"),n.setAttribute("class",this._tooltipContainerClassName),n.setAttribute("aria-hidden","true"),n.style.position="absolute",t.appendChild(n)),n}_createOrUpdateTooltipComponent(e,t){e.querySelectorAll(this.customElementName).forEach(a=>a.remove());const n=document.createElement(this.customElementName);n.setAttribute("config",JSON.stringify(t)),e.append(n)}_updateCanceledState(e,t){e.canceled&&(t.x!==e.lastPosition?.x||t.y!==e.lastPosition?.y)&&(e.canceled=!1)}_updateTooltipElement(e,t,n){if(this._updateCanceledState(n,t),n.pinned||n.canceled)return;const a=this.getTooltipInputModel(t);this._createOrUpdateTooltipComponent(e,a),this._updateTooltipElementStyles(e,t),t.opacity&&(n.lastPosition={x:t.x,y:t.y})}_pinLastTooltip(e,t,n){clearTimeout(n.lastPinTimeout),n.pinned=!0,n.lastPinTimeout=setTimeout(()=>{n.pinned=!1,n.lastPinTimeout=null},1e3),t.opacity=1,this._updateTooltipElementStyles(e,t)}_hideTooltip(e,t){t.opacity=0,this._updateTooltipElementStyles(e,t)}_updateTooltipElementStyles(e,t){if(t?.opacity===0){e.style.opacity="0";return}e.style.pointerEvents="none",e.style.zIndex="2",this.setTooltipPosition({tooltipEl:e,tooltipModel:t}),e.style.opacity="1"}getTooltipInputModel(e){const{chart:t,title:n,body:a,dataPoints:r}=e??{},l=a?.map(k=>k.lines),c=t.config.data.datasets.filter((k,A)=>t.isDatasetVisible(A)),u=c.flatMap(k=>k.data),p=Math.max(...u),w=l?.flat().filter((k,A)=>c[A]).map((k,A)=>{const[V]=k.split(": "),Hn=c[A].formatting,Me=r[A].raw,Un=this.formatterFactory.resolveFormatter({type:"number"}).format(Me?.toString(),Hn),ba=e.labelColors[A],Dc=ba?.backgroundColor??ba;return{name:V,value:Un,progress:de(Me,[p]),background:Dc}}),D=(n??[]).join(" "),F=t?.config?.options?.theme;return{label:D,series:w,theme:F}}getTooltipOptions(e){const t=[...e.config.data.datasets].shift();return{enabled:!1,mode:"index",intersect:!1,external:this.customTooltips.bind(this),pointOffset:this.getPointOffset(t?.type),alignmentPriority:this.getAlignmentPriority(t?.type)}}getAlignmentPriority(e){switch(e){case"pie":case"doughnut":return{x:["center","center","center"],y:["center","center","center"]};case"horizontalBar":return{x:["center","center","center"],y:["top","bottom","center"]};default:return{x:["right","left","center"],y:["center","top","bottom"]}}}getPointOffset(e){switch(e){case"pie":case"doughnut":case"horizontalBar":return{x:0,y:this._tooltipPositionOffset};default:return{x:this._tooltipPositionOffset,y:0}}}setTooltipPosition(e){const{tooltipEl:t,tooltipModel:n}=e,{chart:a,caretX:r,caretY:l}=n,c=a.config.options.plugins.tooltip,{pointOffset:u,alignmentPriority:p}=c,w=this._getPositionOffset(a),D={x:r+w.x,y:l+w.y,height:t.offsetHeight,width:t.offsetWidth},F=this._getAlignment({chart:a,tooltipBox:D,alignmentPriority:p}),k=this._getRestriction(a);let A=0,V=0;switch(F.xAlign){case"left":A=D.x-t.offsetWidth-u.x;break;case"center":A=D.x-t.offsetWidth/2;break;case"right":A=D.x+u.x;break}switch(F.yAlign){case"top":V=D.y+u.y;break;case"center":V=D.y-t.offsetHeight/2;break;case"bottom":V=D.y-t.offsetHeight-u.y;break}const{x:Hn,y:Me}=Ee._getValidTooltipOffset(k,D,{x:A,y:V}),ya=Hn/k.maxX*100,Un=Me/k.maxY*100;t.style.left=`${ya}%`,t.style.top=`${Un}%`;const ba=(k.maxX-Hn)/k.maxX*100;t.style.maxWidth=ba+"%"}customTooltips(e,t){const{chart:n,tooltip:a}=e,r=this.states.get(n.id),l=this._getTooltipEl(n.canvas);l&&(t?.hideTooltip?this._hideTooltip(l,a):t?.pinLastTooltip?this._pinLastTooltip(l,a,r):this._updateTooltipElement(l,a,r))}updateTooltipPlugin(e){if(e.config?.options?.plugins?.tooltip?.external)return!1;const n=this.getTooltipOptions(e);return Object.assign(e.options.plugins.tooltip,n),!0}shouldPreventEvent(e,t){return t.type==="mousemove"&&this.isMouseOverTooltip(e,t.native)}isMouseOverTooltip(e,t){if(!e.tooltip?.opacity)return!1;const a=this._getTooltipEl(e.canvas).getBoundingClientRect();return t.clientX>=a.left&&t.clientX<=a.right&&t.clientY>=a.top&&t.clientY<=a.bottom}listenKeyboard(e){const t=this.states.get(e.id);t.keyboardListener=n=>{n.key==="Escape"&&e.tooltip?.opacity&&(t.canceled=!0,this._hideTooltip(this._getTooltipEl(e.canvas),e.tooltip))},document.addEventListener("keydown",t.keyboardListener)}initState(e){this.states.set(e.id,new Yo)}cleanupState(e){const t=this.states.get(e.id);clearTimeout(t.lastPinTimeout),document.removeEventListener("keydown",t.keyboardListener),this.states.delete(e.id)}createPlugin(){return{id:this.pluginId,beforeInit:e=>{this.initState(e),this.listenKeyboard(e),this.updateTooltipPlugin(e)},beforeUpdate:e=>{this.updateTooltipPlugin(e)&&e.update()},beforeEvent:(e,t)=>{if(this.shouldPreventEvent(e,t.event))return!1;if(t.event.type==="mouseout"){const n=this.states.get(e.id);n.canceled=!1}},afterDestroy:e=>{this.cleanupState(e)}}}static{this.\u0275fac=function(t){return new(t||Ee)(i.\u0275\u0275inject(g.FormatterFactory))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}}const Jo=1.618;class Ye{_getLineWidth(e,t){const{radius:n,center:a}=t,r=Math.abs(a.y-e.y);return 2*Math.sqrt(Math.pow(n,2)-Math.pow(r,2))}_getLineHeight(e,t){const n=e*Jo,a=t.height;return Math.min(n,a)}_getLinesCount(e,t){const{span:n,maxLinesCount:a}=t,r=n.height,l=Math.round(r/e);return a==null?l:Math.min(l,a)}getBoundingLines(e,t){const{span:n,circle:a}=t,r=[],l=this._getLineHeight(e,n),c=this._getLinesCount(l,t),u=n.center;let p;c%2===0?p=u.y-l/2-l*(c/2-1):p=u.y-l*((c-1)/2);for(let w=0;w<c;w++){const D={x:u.x,y:p+w*l},F=this._getLineWidth(D,a);r.push({center:D,width:F,height:l})}return r}static{this.\u0275fac=function(t){return new(t||Ye)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})}}class kr{constructor(e){this._renderingContext=e}_getFont(e){const{size:t,family:n,weight:a}=e;return`${a} ${t}px ${n}`}drawText(e,t){const{center:n,color:a,font:r}=t;this._renderingContext.font=this._getFont(r),this._renderingContext.textAlign="center",this._renderingContext.textBaseline="middle",this._renderingContext.fillStyle=a,this._renderingContext.fillText(e,n.x,n.y)}measureTextWidth(e,t){return this._renderingContext.font=this._getFont(t),this._renderingContext.measureText(e).width}}const kt="'Open Sans', 'Bpmonline Open Sans', 'sans-serif'",Br=`12px ${kt}`,Pe="#757575";function le(o,e,t){return(typeof o=="function"?o(e):o)??t}const Ko=6,qo=50,Zo="normal",Vr=0,Xo="auto",Qo="ellipsis",es="nowrap";class Yn{_toBoundingSpan(e,t,n){const{top:a,bottom:r}=e?.offset??{},{center:l,radius:c,diameter:u}=n??{},p=le(a,t,Vr),w=le(r,t,Vr),D=u*p/100,F=u*w/100,k=l.y-(c-D),A=l.y+(c-F);return{center:{x:l.x,y:(k+A)/2},height:Math.abs(k-A)}}_toTextStyling(e,t){const{font:n,color:a}=e??{},r=le(a,t,Pe);return{font:{family:le(n?.family,t,kt),weight:le(n?.weight,t,Zo),minSize:le(n?.minSize,t,Ko),maxSize:le(n?.maxSize,t,qo)},color:se(r).color}}_toTextRendering(e,t){const{wrapType:n,overflowType:a}=e??{};return{wrapType:le(n,t,es),overflowType:le(a,t,Qo)}}_toTextVisibility(e,t,n){const{display:a,minSupportedWidth:r,maxSupportedWidth:l}=e??{};if(le(a,t,Xo)!=="auto")return!!a;const{diameter:u}=n,p=le(r,t),w=le(l,t);return!(p!=null&&p>u||w!=null&&w<u)}toRenderingOptions(e,t,n){const{text:a,styling:r,placement:l,rendering:c,visibility:u}=e;return{text:le(a,t,""),visible:this._toTextVisibility(u,t,n),styling:this._toTextStyling(r,t),rendering:this._toTextRendering(c,t),boundingSpan:this._toBoundingSpan(l,t,n),boundingCircle:n}}static{this.\u0275fac=function(t){return new(t||Yn)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Yn,factory:Yn.\u0275fac,providedIn:"root"})}}const Nr=2;class Ui{constructor(e){this._boundingLinesMeasurer=e}get fontBounding(){const{minSize:e,maxSize:t}=this.stylingOptions.font;return{minSize:e,maxSize:t}}get text(){return this._renderingOptions.text}get stylingOptions(){return this._renderingOptions.styling}get renderingOptions(){return this._renderingOptions.rendering}get boundingSpan(){return this._renderingOptions.boundingSpan}get boundingCircle(){return this._renderingOptions.boundingCircle}getFont(e){const{family:t,weight:n}=this._renderingOptions.styling.font;return{size:e,family:t,weight:n}}getTextWidth(e,t){const n=this.getFont(t);return this.renderingContext.measureTextWidth(e,n)}getLineWidth(e){const{radius:t,center:n}=this.boundingCircle,a=Math.abs(n.y-e.y);return 2*Math.sqrt(Math.pow(t,2)-Math.pow(a,2))}getDrawOptions(e,t){return{font:this.getFont(e),color:this.stylingOptions.color,center:t}}getBoundingLines(e,t){return this._boundingLinesMeasurer.getBoundingLines(e,{span:this.boundingSpan,circle:this.boundingCircle,maxLinesCount:t})}breakWordIntoSyllables(e,t,n){let a=0;const r=e.length;for(;a<r;){const c=e.slice(0,a);if(this.getTextWidth(c,t)>=n)break;a++}return a<Nr&&(a=0),r-a<Nr&&(a=r),{end:e.slice(a),start:e.slice(0,a)}}render(e,t){this.renderingContext=e,this._renderingOptions=t,this.internalRender()}}const ts="...",ns=1;class Jn extends Ui{constructor(e){super(e)}_getFontSize(e){const{minSize:t,maxSize:n}=this.fontBounding,a=Math.trunc(e*n);return a>n?n:a<t?t:a}_getFontSizeRatio(){const e=this.fontBounding.maxSize,{width:t,height:n}=this._getBoundingLine(e),a=this.getTextWidth(this.text,e),r=t/a,l=n/e;return Math.min(r,l)}_getRenderingText(e){const{overflowType:t}=this.renderingOptions;if(t==="none")return this.text;const n=this.getTextWidth(this.text,e),a=this._getBoundingLine(e).width;if(n<=a)return this.text;const{start:r}=this.breakWordIntoSyllables(this.text,e,a);return r+ts}_getBoundingLine(e){return this.getBoundingLines(e,ns).pop()}internalRender(){const e=this._getFontSizeRatio(),t=this._getFontSize(e),n=this._getRenderingText(t),a=this.getDrawOptions(t,this.boundingSpan.center);this.renderingContext.drawText(n,a)}static{this.\u0275fac=function(t){return new(t||Jn)(i.\u0275\u0275inject(Ye))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Jn,factory:Jn.\u0275fac,providedIn:"root"})}}const is="-",as="...";class Kn extends Ui{constructor(e){super(e)}_appendWord(e,t){return(0,v.isEmpty)(e)?t:e+" "+t}_isTextFit(e){const t=this._getWords();return this.getBoundingLines(e).forEach(({width:a})=>{let r="";for(;t.length>0;){const l=t.shift(),c=this._appendWord(r,l);if(this.getTextWidth(c,e)>=a){t.unshift(l);break}r=c}}),t.length===0}_isTextFitIntoLines(e,t){const n=this._getWords();return this.getBoundingLines(e,t).forEach(({width:r})=>{let l="";for(;n.length>0;){const c=n.shift(),u=(0,v.isEmpty)(l),p=this._appendWord(l,c),w=this.getTextWidth(p,e),D=r-this.getTextWidth(l,e);if(w<r){l=p;continue}const{start:F,end:k}=this.breakWordIntoSyllables(c,e,D);if(k.length===0){l=p;continue}if(u&&F.length>0){n.unshift(k);break}n.unshift(c);break}}),n.length===0}_getWords(){return this.text.split(" ")}_getFontSize(){const{minSize:e,maxSize:t}=this.fontBounding;let n=t;for(;n>e&&!this._isTextFit(n);)n--;return n}_getLinesCount(e){let t=1;const n=this.getBoundingLines(e).length;for(;t<n&&!this._isTextFitIntoLines(e,t);)t++;return t}_renderTextIntoLines(e,t){const n=this._getWords(),a=this.getBoundingLines(e,t);for(let r=0;r<a.length&&n.length!==0;r++){const{center:l,width:c}=a[r],u=this.getDrawOptions(e,l);let p="";for(;n.length>0;){const w=n.shift(),D=p==="",F=this._appendWord(p,w);if(this.getTextWidth(F,e)<c){p=F;continue}const{start:A,end:V}=this.breakWordIntoSyllables(w,e,c-this.getTextWidth(p,e));D&&A.length>0?(p=this._appendWord(p,A),V.length!==0&&n.unshift(V)):n.unshift(w),r===a.length-1&&n.length>0?p+=as:D&&A.length>0&&V.length!==0&&(p+=is);break}this.renderingContext.drawText(p,u)}}internalRender(){const e=this._getFontSize(),t=this._getLinesCount(e);this._renderTextIntoLines(e,t)}static{this.\u0275fac=function(t){return new(t||Kn)(i.\u0275\u0275inject(Ye))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Kn,factory:Kn.\u0275fac,providedIn:"root"})}}const Wr=new i.InjectionToken("Represents a factory of text renderers",{providedIn:"root",factory:()=>new h.Factory((0,i.inject)(i.Injector),new Map([["nowrap",{injectable:Jn}],["word-wrap",{injectable:Kn}]]))}),zi=50;class qn{get value(){return{enabled:!0,paddingInPercent:15,labels:{label:this._defaultLabelOptions,percent:this._defaultPercentOptions,smallMetric:this._defaultSmallMetricOptions,largeMetric:this._defaultLargeMetricOptions}}}constructor(e){this._formatterFactory=e,this._defaultLabelOptions={text:this._getLabelText.bind(this),styling:{font:{minSize:8,maxSize:16},color:this._getLabelColor.bind(this)},placement:{offset:{top:0,bottom:60}},rendering:{wrapType:"word-wrap",overflowType:"ellipsis"},visibility:{display:"auto",minSupportedWidth:zi}},this._defaultPercentOptions={text:this._getPercentText.bind(this),styling:{font:{minSize:8,maxSize:24},color:this._getLabelColor.bind(this)},placement:{offset:{top:45,bottom:40}},rendering:{wrapType:"nowrap",overflowType:"none"},visibility:{display:"auto",minSupportedWidth:zi}},this._defaultMetricOptions={text:this._getMetricText.bind(this),styling:{font:{family:"Montserrat",weight:600,minSize:6,maxSize:70},color:this._getMetricColor.bind(this)},rendering:{wrapType:"nowrap",overflowType:"none"}},this._defaultSmallMetricOptions={...this._defaultMetricOptions,placement:{offset:{top:70,bottom:5}},visibility:{display:"auto",minSupportedWidth:zi}},this._defaultLargeMetricOptions={...this._defaultMetricOptions,placement:{offset:{top:10,bottom:0}},visibility:{display:"auto",maxSupportedWidth:zi}}}_getLabelText(e){const{chart:t,dataIndex:n}=e;return t.data.labels[n]?.toString()}_getPercentText(e){const n=this._getDataSet(e).data??[],a=n[e.dataIndex];return`${de(a,n)}%`}_getMetricText(e){const t=this._getDataSet(e),a=(t?.data??[])[e.dataIndex]?.toString()??"",r=t?.formatting,l=this._formatterFactory.resolveFormatter(r).format(a,t?.formatting);return Array.isArray(l)?l.join(" "):l}_getMetricColor(e){return(this._getDataSet(e)?.hoverBackgroundColor??[])[e.dataIndex]??Pe}_getLabelColor(e){const t=this._getDataSet(e);let n=t?.datalabels?.color;return typeof n=="function"&&(n=n({chart:e.chart,dataIndex:e.dataIndex,dataset:t,datasetIndex:e.dataSetIndex,active:!1})),typeof n=="string"?n:Pe}_getDataSet(e){const{chart:t,dataSetIndex:n}=e;return(t.data.datasets??[])[n]}static{this.\u0275fac=function(t){return new(t||qn)(i.\u0275\u0275inject(g.FormatterFactory))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:qn,factory:qn.\u0275fac,providedIn:"root"})}}class Gr{constructor(e,t){this.radius=e,this.center=t}get diameter(){return 2*this.radius}}const rs=10;class Zn{constructor(e,t){this._textRendererFactory=e,this._renderingOptionsConverter=t}_isTooltipDisable(e){return!e.enabled}_getBoundingCircle(e,t){const n=this._getCircleRadius(e,t.paddingInPercent),a=this._getCircleCenterCoordinate(e);return new Gr(n,a)}_getCircleRadius(e,t){t=t??rs;const n=e.data?.datasets.length,r=e.getDatasetMeta(n-1)?.controller?.innerRadius??0,l=t/100*r;return r-l}_getCircleCenterCoordinate(e){const{top:t=0,left:n=0,right:a=0,bottom:r=0}=e.chartArea||{};return{x:(n+a)/2,y:(t+r)/2}}_getRenderingOptions(e,t,n){const a=Object.values(n.labels),r=this._getBoundingCircle(e,n);return a.map(l=>this._renderingOptionsConverter.toRenderingOptions(l,t,r))}renderTooltip(e,t,n){if(this._isTooltipDisable(n))return;const a=new kr(e.ctx);this._getRenderingOptions(e,t,n).filter(l=>l.visible).forEach(l=>{this._textRendererFactory.create(l.rendering?.wrapType)?.render(a,l)})}static{this.\u0275fac=function(t){return new(t||Zn)(i.\u0275\u0275inject(Wr),i.\u0275\u0275inject(Yn))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Zn,factory:Zn.\u0275fac,providedIn:"root"})}}const jr="crt-doughnut-tooltip-plugin";class Bt{constructor(e,t){this._defaultDoughnutTooltipOptions=e,this._chartJsDoughnutTooltipRenderer=t}_isTooltipVisible(e){return e?.active||e?.dataPoints?.length>0}_getTooltipContext(e,t){const n=t.dataPoints[0];return{chart:e,dataIndex:n.dataIndex,dataSetIndex:n.datasetIndex}}_getTooltipOptions(e){return((e.config.options??{}).plugins??{})[jr]??this._defaultDoughnutTooltipOptions.value}createPlugin(){return{id:jr,beforeTooltipDraw:(e,t)=>{const n=e,a=t,{tooltip:r}=a??{};if(!this._isTooltipVisible(r))return;const l=this._getTooltipContext(n,r),c=this._getTooltipOptions(n);return this._chartJsDoughnutTooltipRenderer.renderTooltip(n,l,c),!1}}}static{this.\u0275fac=function(t){return new(t||Bt)(i.\u0275\u0275inject(qn),i.\u0275\u0275inject(Zn))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Bt,factory:Bt.\u0275fac,providedIn:"root"})}}class os extends Bt{constructor(e,t){super(e,t)}}class Si extends Ui{constructor(e){super(e)}internalRender(){}static{this.\u0275fac=function(t){return new(t||Si)(i.\u0275\u0275inject(Ye))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Si,factory:Si.\u0275fac,providedIn:"root"})}}const ss=50;class Je extends Ee{get pluginId(){return"crt-default-funnel-tooltip-plugin"}_assignTooltipOptions(e){const t=e.options,n=t.plugins.tooltip,a={...this.getTooltipOptions(e),pointOffset:{x:e.width*t.bottomWidth/2-ss,y:0},alignmentPriority:this.getAlignmentPriority()};Object.assign(n,a,{})}getTooltipOptions(e){return Object.assign(super.getTooltipOptions(e),{mode:"nearest",intersect:!0,callbacks:{title:()=>"",label:this.labelCallback}})}labelCallback(e){const t=e.dataset;return`${t?.dataSetLabels?.[e.dataIndex]||t?.label||""}: ${e.formattedValue}`}getTooltipInputModel(e){const t=super.getTooltipInputModel(e);return t.series=t?.series?.map(n=>(Object.assign(n,{progress:-1}),n)),t}getAlignmentPriority(){return{x:["right","center","left"],y:["center","top","bottom"]}}createPlugin(){return{...super.createPlugin(),id:this.pluginId,beforeInit:e=>{this._assignTooltipOptions(e),this.initState(e),this.listenKeyboard(e)},resize:e=>this._assignTooltipOptions(e),beforeUpdate:e=>{const t=e.config.options.plugins.tooltip?.external;this._assignTooltipOptions(e),t||e.update()}}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Je)))(n||Je)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Je,factory:Je.\u0275fac,providedIn:"root"})}}class Vt extends Ee{get customElementName(){return"crt-chart-pie-tooltip-element"}getTooltipOptions(e){return Object.assign(super.getTooltipOptions(e),{mode:"nearest",intersect:!0})}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Vt)))(n||Vt)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Vt,factory:Vt.\u0275fac,providedIn:"root"})}}const Hr=50,Ur=o=>{o.legend.options.labels.filter||(o.legend.options.labels.filter=(t,n)=>n?.datasets?.[t.datasetIndex]?.isLegendEnabled===!0)},zr=o=>{const e=o.legend.options.labels.generateLabels||Gi.t1.defaults.plugins.legend.labels.generateLabels;o.legend.options.labels.generateLabels=t=>{const n=t?.config?.data?.datasets?.map(a=>a.legendColor);return e(t).map(a=>{const r=a.text;if((r?.length??0)>Hr&&(a.text=`${r.substring(0,Hr)}...`),n?.length){const c=n[a.datasetIndex];c&&(a.fillStyle=c,a.strokeStyle=c)}return a})}},$r={id:"crt-legend-plugin",beforeInit:o=>{Ur(o),zr(o)},beforeUpdate:o=>{Ur(o),zr(o)}};class Nt{constructor(){this.beginAtZero=!0}_getAxisStep(e){if(e.ticks.length<2)return null;const t=e.buildTicks(),n=t[0]?.value,a=t[1]?.value;return(0,v.isFinite)(n)&&(0,v.isFinite)(a)?a-n:null}afterUpdateHandler(e){const t=e.type==="linear";if(typeof e.max!="number"||!t)return;const n=!e.options.grace,a=this._getAxisStep(e);a!=null&&(e.options.grace=a/2,e.paddingTop=15,e.options.beginAtZero=this.beginAtZero,n&&e.chart.update())}createPlugin(){return{id:"crt-scales-plugin",beforeBuildTicks:e=>{Object.values(e.config.options.scales??{}).forEach(n=>{n.afterUpdate=this.afterUpdateHandler.bind(this)})}}}static{this.\u0275fac=function(t){return new(t||Nt)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Nt,factory:Nt.\u0275fac,providedIn:"root"})}}class Wt extends Nt{afterUpdateHandler(e){this.beginAtZero=e.max>0,super.afterUpdateHandler(e)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Wt)))(n||Wt)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Wt,factory:Wt.\u0275fac,providedIn:"root"})}}class ue{static{this._chartStates=new Map}get pluginId(){return"crt-chart-js-screen-reader-plugin"}constructor(e){this._translateService=e,this._elementSelector="crt-chart-screen-reader-element"}_initCanvasAttributes(e){e.canvas.setAttribute("role","application"),e.canvas.setAttribute("aria-label"," ,")}_initChartState(e){ue._chartStates.set(e.id,{canvasFocusListener:this._canvasFocusListener.bind(this,e),canvasBlurListener:this._canvasBlurListener.bind(this,e),canvasAfterKeyboardNavigationListener:this._canvasAfterKeyboardNavigationListener.bind(this,e)})}_canvasFocusListener(e){this._updateTitleText(e),this._updateTooltipText(e)}_canvasAfterKeyboardNavigationListener(e){this._updateTooltipText(e)}_canvasBlurListener(){this._screenReaderEl.tooltip="",this._screenReaderEl.title=""}_getAxisLabel(e){return Array.isArray(e)?e.join(`
`):e??""}_updateTitleText(e){const t=(0,v.startCase)(e.options?.chartType).replace(" ",""),n=t?this._translateService.instant(`CDK.ChartWidget.${t}.Caption`):"",a=this._translateService.instant("ChartJsScreenReaderPlugin.Description",{chartTitle:e.options?.plugins?.title?.text??"",chartType:n,groupsCount:e.data?.datasets?.length??0,groupsNames:e.data.datasets.map(r=>r.label).join(", ")??"",xLabel:e.options?.scales?.x?.title?.text??"",yLabel:e.options?.scales?.y?.title?.text??"",xMin:this._getAxisLabel(e.scales.x?.ticks?.at(0)?.label),xMax:this._getAxisLabel(e.scales.x?.ticks?.at(-1)?.label),yMin:this._getAxisLabel(e.scales.y?.ticks?.at(0)?.label),yMax:this._getAxisLabel(e.scales.y?.ticks?.at(-1)?.label)});this._screenReaderEl.title!==a?this._screenReaderEl.title=a:a?.length&&(this._screenReaderEl.title+=" ,")}_updateTooltipText(e){const t=this._getActiveElementScreenReaderText(e);this._screenReaderEl.tooltip!==t?this._screenReaderEl.tooltip=t:t?.length&&(this._screenReaderEl.tooltip+=" ,")}_initCanvasListeners(e){const t=ue._chartStates.get(e.id);e.canvas.addEventListener("focus",t.canvasFocusListener),e.canvas.addEventListener("afterkeyboardnavigation",t.canvasAfterKeyboardNavigationListener),e.canvas.addEventListener("blur",t.canvasBlurListener)}_removeCanvasListeners(e){const t=ue._chartStates.get(e.id);e.canvas.removeEventListener("focus",t.canvasFocusListener),e.canvas.removeEventListener("afterkeyboardnavigation",t.canvasAfterKeyboardNavigationListener),e.canvas.removeEventListener("blur",t.canvasBlurListener)}_getScreenReaderEl(){let e=document.querySelector(this._elementSelector);return e||(e=document.createElement(this._elementSelector),document.body.appendChild(e)),e}_removeScreenReaderEl(){this._screenReaderEl?.remove()}_getActiveElementScreenReaderText(e){const t=e.getActiveElements();if(!t?.length)return"";const n=t[0],a=n.datasetIndex,r=n.index;return this.getActiveElementTranslateText(e,a,r)}getActiveElementTranslateText(e,t,n){const a=e.data.labels[n],r=e.data.datasets[t].data[n],l=e.data.datasets[t].label;return this._translateService.instant("ChartJsScreenReaderPlugin.Tooltip",{xValue:a,yValue:r,label:l})}createPlugin(){return{id:this.pluginId,afterInit:e=>{this._screenReaderEl=this._getScreenReaderEl(),this._initCanvasAttributes(e),this._initChartState(e),this._initCanvasListeners(e)},beforeDestroy:e=>{this._removeCanvasListeners(e),this._removeScreenReaderEl()}}}static{this.\u0275fac=function(t){return new(t||ue)(i.\u0275\u0275inject(j.TranslateService))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:ue,factory:ue.\u0275fac,providedIn:"root"})}}function ls(o){return Array.isArray(o)&&o.every(e=>typeof e=="number")}class Gt extends ue{get pluginId(){return"crt-chart-js-doughnut-screen-reader-plugin"}getActiveElementTranslateText(e,t,n){const a=e.data.datasets[t].data[n],r=e.data.datasets[t].data;if(typeof a=="number"&&ls(r)){const l=de(a,r);return`${e.data.labels[n]} - ${l}%`}return super.getActiveElementTranslateText(e,t,n)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Gt)))(n||Gt)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Gt,factory:Gt.\u0275fac,providedIn:"root"})}}class jt extends ue{_isSalesFunnel(e,t){return!!e.data.datasets[t].tooltipData}get pluginId(){return"crt-chart-js-funnel-screen-reader-plugin"}getActiveElementTranslateText(e,t,n){return this._isSalesFunnel(e,t)?e.data.datasets[t].tooltipData[n].reduce((r,{name:l,value:c})=>`${r} ${l} - ${c}.`,"").trim():super.getActiveElementTranslateText(e,t,n)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(jt)))(n||jt)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:jt,factory:jt.\u0275fac,providedIn:"root"})}}class Ti{static{this._chartStates=new Map}constructor(e){this._handlers=e}_onKeydown(e,t){switch(t.key){case" ":case T.Key.Enter:this._menuOpen(e,t);break;default:return}}_menuOpen(e,t){t.preventDefault();const n=e.getActiveElements()?.[0];if(n){const r=e.data?.datasets?.[n.datasetIndex]?.dataItems?.[n.index],l={datasetIndex:n.datasetIndex,index:n.index};this._handlers?.click(r,l,t)}}afterInit(e){const t={keyboardListener:n=>this._onKeydown.apply(this,[e,n])};e.canvas.addEventListener("keydown",t.keyboardListener),Ti._chartStates.set(e.id,t)}beforeDestroy(e){const t=Ti._chartStates.get(e.id);e.canvas.removeEventListener("keydown",t.keyboardListener),Ti._chartStates.delete(e.id)}}class Xn{createPlugin(e){return new Ti(e)}static{this.\u0275fac=function(t){return new(t||Xn)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Xn,factory:Xn.\u0275fac,providedIn:"root"})}}function cs(o,e,t,n){const a=_.get(t?.chart.id);if(a?.highlightColor)return ds(o,a,n);if(!ie(e)||ee(e,0))return o;const r=[...o];for(let l=0;l<r.length;l++){const c=r[l];$(e,0,l)||(r[l]=(0,h.lightenHex)(c,60))}return r}function ds(o,e,t){const n=t==="glassmorphism"?h.darkenHex:h.lightenHex,a=[...o];for(let r=0;r<a.length;r++){const l=e.selectedPointIndex===r,c=a[r],u=t==="glassmorphism"?(0,h.lightenHex)(c,20):c;a[r]=l?u:n(c,70)}return a}class Ht{static _getWidgetColors(e){switch(e){case 2:return[s.Blue,s.RustyOrange];case 3:return[s.Blue,s.Green,s.RustyOrange];case 4:return[s.Blue,s.Green,s.RustyOrange,s.NavyBlue];case 5:return[s.Blue,s.Green,s.RustyOrange,s.Coral,s.NavyBlue];case 6:return[s.LightBlue,s.Blue,s.Green,s.RustyOrange,s.Coral,s.NavyBlue];case 7:return[s.LightBlue,s.Blue,s.Green,s.RustyOrange,s.Red,s.Coral,s.NavyBlue];case 8:return[s.LightBlue,s.Blue,s.DarkTurquoise,s.Green,s.RustyOrange,s.Red,s.Coral,s.NavyBlue];case 9:return[s.LightBlue,s.Blue,s.DarkTurquoise,s.Green,s.RustyOrange,s.Red,s.Coral,s.Purple,s.NavyBlue];case 10:return[s.LightBlue,s.Blue,s.DarkTurquoise,s.Green,s.RustyOrange,s.Red,s.Coral,s.Purple,s.Violet,s.NavyBlue];case 11:return[s.LightBlue,s.Blue,s.SteelBlue,s.DarkTurquoise,s.Green,s.RustyOrange,s.Red,s.Coral,s.Purple,s.Violet,s.NavyBlue];case 12:return[s.LightBlue,s.Blue,s.SteelBlue,s.DarkTurquoise,s.Green,s.DarkGreen,s.RustyOrange,s.Red,s.Coral,s.Purple,s.Violet,s.NavyBlue];case 13:return[s.LightBlue,s.Blue,s.SteelBlue,s.DarkTurquoise,s.Green,s.DarkGreen,s.RustyOrange,s.Red,s.Coral,s.VividPurple,s.Purple,s.Violet,s.NavyBlue];case 14:return[s.LightBlue,s.CelestialBlue,s.Blue,s.SteelBlue,s.DarkTurquoise,s.Green,s.DarkGreen,s.RustyOrange,s.Red,s.Coral,s.VividPurple,s.Purple,s.Violet,s.NavyBlue];case 15:return[s.LightBlue,s.CelestialBlue,s.Blue,s.SteelBlue,s.DarkTurquoise,s.Green,s.DarkGreen,s.RustyOrange,s.BrightRed,s.Red,s.Coral,s.VividPurple,s.Purple,s.Violet,s.NavyBlue];case 16:return[s.LightBlue,s.CelestialBlue,s.Blue,s.SteelBlue,s.DarkTurquoise,s.Green,s.DarkGreen,s.RustyOrange,s.BrightRed,s.Red,s.Coral,s.BurntCoral,s.VividPurple,s.Purple,s.Violet,s.NavyBlue];default:return[s.LightBlue,s.CelestialBlue,s.Blue,s.SteelBlue,s.ForestGreen,s.DarkTurquoise,s.Green,s.DarkGreen,s.RustyOrange,s.BrightRed,s.Red,s.Coral,s.BurntCoral,s.VividPurple,s.Purple,s.Violet,s.NavyBlue]}}getColors(e){const t=e.length;let n=Ht._getWidgetColors(t);for(;n.length<t;)n=n.concat(n);return n.slice(0,t)}static{this.\u0275fac=function(t){return new(t||Ht)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ht,factory:Ht.\u0275fac,providedIn:"root"})}}function us(o,e,t){const n=_.get(o.chart?.id);if(n?.highlightColor)return gs(o,e,t,n);if(!ie(t))return e;const a=[...e];for(let r=0;r<a.length;r++){const l=a[r];ee(t,o.datasetIndex)||$(t,o.datasetIndex,r)||(a[r]=(0,h.hexToRGBA)(l,Q))}return a}function gs(o,e,t,n){const a=[...e];for(let r=0;r<a.length;r++){const l=n.visibleDatasetsIndexes?.[n.selectedVisibleDatasetIndex]===o.datasetIndex,c=n.selectedPointIndex===r,u=a[r];if(ee(t,o.datasetIndex)&&(a[r]=(0,h.hexToRGBA)(u,W)),$(t,o.datasetIndex,r)){a[r]=(0,h.hexToRGBA)(u,l&&c?1:W);continue}a[r]=(0,h.hexToRGBA)(u,l&&c?1:Q)}return a}class Ke extends Ue{constructor(e,t,n){super(e,n),this._directionality=t,this._defaultDataLabelOptions={display:"auto",font:{family:kt,size:13},align:"end",anchor:"end",formatter:super.formatDataLabel.bind(this)}}getHoverBackgroundColors(){const{colors:e}=this.series,n=e?.map(a=>Y.has(a)?se(a).hoverColor:va(a))||[...wa.values()].map(a=>a.hover.color);return this.getColors(n)}getColors(e){const{dataSet:t}=this.series,n=(t?.data??[]).length;for(;e.length<n;)e=e.concat(e);return e.slice(0,n)}getDataLabels(){const e=super.getDataLabels(),t=this._defaultDataLabelOptions;return this._directionality?.value==="rtl"&&(t.textAlign="right"),{...e,...t}}getBackgroundColors(){const{colors:e}=this.series,n=e?.map(a=>se(a).color)||[...wa.values()].map(a=>a.default.color);return this.getColors(n)}createDataSets(){const e=this.getBackgroundColors(),t=this.focusPoints,n=super.createDataSets();return{...n,borderWidth:n?.borderWidth??1,borderAlign:"inner",backgroundColor:r=>us(r,e,t),hoverBackgroundColor:this.getHoverBackgroundColors()}}static{this.\u0275fac=function(t){return new(t||Ke)(i.\u0275\u0275inject(J),i.\u0275\u0275inject(Lt.Directionality),i.\u0275\u0275inject(g.FEATURE_VALUES))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ke,factory:Ke.\u0275fac})}}class qe extends Ke{createDataSets(){return{...super.createDataSets(),type:"pie"}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(qe)))(n||qe)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:qe,factory:qe.\u0275fac})}}class Ut extends Ke{constructor(e,t,n,a){super(e,t,n),this._colorsProvider=a}get _borderColor(){return this.theme==="glassmorphism"?this.getBackgroundColors().map(t=>(0,h.lightenHex)(t,60)):this.useDividers?"white":void 0}get _borderWidth(){return this.theme==="glassmorphism"?1:this.useDividers?2:0}getBackgroundColors(){const{colors:e,dataSet:t}=this.series,n=(e||this._colorsProvider.getColors(t?.data||[])).map(a=>se(a).color);return this.getColors(n)}getHoverBackgroundColors(){const{colors:e,dataSet:t}=this.series,n=(e??this._colorsProvider.getColors(t?.data||[])).map(a=>Y.has(a)?se(a).hoverColor:va(a));return this.getColors(n)}createDataSets(){const e=this.focusPoints,t=this.getBackgroundColors(),n=(0,v.cloneDeep)(super.createDataSets());return delete n.borderColor,delete n.borderWidth,delete n.hoverBorderColor,{...n,type:"tsfunnel",datalabels:{display:!1},tooltipData:this.series.tooltipData,backgroundColor:a=>cs(t,e,a,this.theme),borderWidth:this._borderWidth,borderColor:this._borderColor,hoverBorderColor:this.useDividers?"white":void 0,borderRadius:9,borderSkipped:!1}}static{this.\u0275fac=function(t){return new(t||Ut)(i.\u0275\u0275inject(J),i.\u0275\u0275inject(Lt.Directionality),i.\u0275\u0275inject(g.FEATURE_VALUES),i.\u0275\u0275inject(Ht))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ut,factory:Ut.\u0275fac})}}class zt extends Ke{constructor(e,t,n){super(e,t,n)}createDataSets(){const e=super.createDataSets();return{...e,type:"doughnut",borderRadius:this.theme==="glassmorphism"?0:3,borderColor:this.theme==="glassmorphism"?(0,h.hexToRGBA)(q,.4):e.borderColor,borderWidth:1}}static{this.\u0275fac=function(t){return new(t||zt)(i.\u0275\u0275inject(C),i.\u0275\u0275inject(Lt.Directionality),i.\u0275\u0275inject(g.FEATURE_VALUES))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:zt,factory:zt.\u0275fac})}}class Ze extends $e{getTopBarBorderRadiusForGlassmorphism(){return{topRight:3,bottomRight:3,topLeft:0,bottomLeft:0}}createDataSets(){return{...super.createDataSets(),indexAxis:"y"}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Ze)))(n||Ze)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ze,factory:Ze.\u0275fac})}}class Xe extends me{createDataSets(){return{...super.createDataSets(),showLine:!1}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Xe)))(n||Xe)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Xe,factory:Xe.\u0275fac})}}const Ta=new i.InjectionToken("Represents a factory of chart series builders");var b;(function(o){o.Area="area",o.Bar="bar",o.Doughnut="doughnut",o.HorizontalBar="horizontal-bar",o.Line="line",o.Pie="pie",o.Scatter="scatter",o.Spline="spline",o.Funnel="tsfunnel"})(b||(b={}));function Yr(){return h.FactoryProvider.create({token:Ta,mappings:[{predicate:b.Area,injectable:ze},{predicate:b.Bar,injectable:$e},{predicate:b.Doughnut,injectable:zt},{predicate:b.Funnel,injectable:Ut},{predicate:b.HorizontalBar,injectable:Ze},{predicate:b.Line,injectable:me},{predicate:b.Pie,injectable:qe},{predicate:b.Scatter,injectable:Xe},{predicate:b.Spline,injectable:Ie}]})}class Qn{static{this.\u0275fac=function(t){return new(t||Qn)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:Qn})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[ze,$e,zt,Ut,Ze,me,qe,Xe,Ie,Yr()]})}}const Da=new i.InjectionToken("Represents a factory of chart animations creators");class ei{createAnimationsOptions(){return{numbers:{type:"number",properties:["base","y"],from:({chart:e})=>e.chartArea.bottom},visible:!1}}static{this.\u0275fac=function(t){return new(t||ei)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:ei,factory:ei.\u0275fac})}}class $t{createAnimationsOptions(){return{numbers:{type:"number",properties:["circumference","endAngle","startAngle","offset","borderWidth","spacing"]}}}static{this.\u0275fac=function(t){return new(t||$t)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:$t,factory:$t.\u0275fac})}}class ti{createAnimationsOptions(){return{numbers:{type:"number",properties:["upperWidth","bottomWidth","height","width"]}}}static{this.\u0275fac=function(t){return new(t||ti)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:ti,factory:ti.\u0275fac})}}class ni{createAnimationsOptions(){return{numbers:{type:"number",properties:["x","width"]},visible:!1}}static{this.\u0275fac=function(t){return new(t||ni)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:ni,factory:ni.\u0275fac})}}function hs(){return h.FactoryProvider.create({token:Da,mappings:[{predicate:b.HorizontalBar,injectable:ni},{predicate:b.Doughnut,injectable:$t},{predicate:b.Pie,injectable:$t},{predicate:b.Funnel,injectable:ti}],default:{injectable:ei}})}class ii{static{this.\u0275fac=function(t){return new(t||ii)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:ii})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[ei,ni,$t,ti,hs()]})}}class Yt{constructor(){this._pieLayout={padding:{top:40,bottom:40,left:40,right:40}}}createLayout(e){const t=e.series||[];if(t.length===0)return{};switch(t[0].type){case b.Pie:case b.Funnel:case b.Doughnut:return e.layout??this._pieLayout;default:return e.layout??{}}}static{this.\u0275fac=function(t){return new(t||Yt)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Yt,factory:Yt.\u0275fac,providedIn:"root"})}}var Jr=S(69524);class Jt{constructor(){this._pieLegend={display:!1},this._defaultLegend={display:!0,align:"end",labels:{boxWidth:5,boxHeight:5,usePointStyle:!0,font:{family:kt,size:12},color:Pe},onHover:e=>e.native.target.style.cursor="pointer",onLeave:e=>e.native.target.style.cursor="default",onClick:Jr.aF}}_getDefaultLegendOptions(e){const t=(0,v.cloneDeep)(this._defaultLegend);return e?(0,v.merge)(t,{labels:{color:e}}):t}createLegend(e,t){const n=e.series||[];if(n.length===0)return{};const a=n[0].type,r=n[0].legend?.color;switch(a){case b.Pie:case b.Funnel:case b.Doughnut:return this._pieLegend;default:return{...this._getDefaultLegendOptions(r),onClick(l,c,u){const p=Gi.t1.defaults.plugins.legend.onClick,w={event:l,legend:u,legendItem:c,parentFunction:p},D=t.legendClick;D&&D.call(this,w)}}}}static{this.\u0275fac=function(t){return new(t||Jt)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Jt,factory:Jt.\u0275fac,providedIn:"root"})}}class Kt{constructor(e,t){this._formatterFactory=e,this._featureValues=t,this._defaultAxis={grid:{display:!0,drawOnChartArea:!1},border:{display:!0},title:{font:{family:kt,size:12,weight:"normal"},color:Pe},ticks:{font:{family:kt,size:12,weight:"normal"},color:Pe,precision:8},suggestedMin:0,suggestedMax:0}}_getDefaultScales(e){const{scales:t}=e??{},{formatting:n}=t?.xAxis||{},{formatting:a}=t?.yAxis||{},r=this._formatterFactory.resolveFormatter(n),l=this._formatterFactory.resolveFormatter(a),c=this._getAxis(!0,t,t?.xAxis),u=this._getAxis(!1,t,t?.yAxis);return{x:(0,v.merge)(c,{ticks:{callback:function(p){const w=this.getLabelForValue(p);return r.format(w?.toString(),n)}}}),y:(0,v.merge)(u,{ticks:{callback:function(p){return l.format(p?.toString(),a)}}})}}_getAxis(e,t,n){const{name:a}=n||{},{stacked:r,color:l}=t||{},c={title:{display:!!a,text:a},offset:e};this._featureValues.DisableOmitChartAxisStacked&&(c.stacked=!!r);const u=(0,v.cloneDeep)(this._defaultAxis);return l&&(0,v.merge)(u,{grid:{color:l},title:{color:l},ticks:{color:l},border:{color:l}}),(0,v.merge)(u,c)}_getHorizontalBarScales(e){const t=this._getDefaultScales(e);return{x:t.y,y:t.x}}createScales(e){const t=e.series||[];if(t.length===0)return{};switch(t[0].type){case b.Pie:case b.Doughnut:case b.Funnel:return{};case b.HorizontalBar:return this._getHorizontalBarScales(e);default:return this._getDefaultScales(e)}}static{this.\u0275fac=function(t){return new(t||Kt)(i.\u0275\u0275inject(g.FormatterFactory),i.\u0275\u0275inject(g.FEATURE_VALUES))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Kt,factory:Kt.\u0275fac,providedIn:"root"})}}class $i{}var ps=S(48621),fs=S.n(ps);const xa=new i.InjectionToken("Represents the collection of chart screen reader plugins");function Kr(){return h.FactoryProvider.create({token:xa,mappings:[{predicate:b.Funnel,injectable:jt},{predicate:b.Doughnut,injectable:Gt}],default:{injectable:ue}})}const Ma=new i.InjectionToken("Represents the collection of chart tooltips");function Ia(o){return h.FactoryProvider.create({token:Ma,mappings:o||[{predicate:"pie",injectable:Vt},{predicate:"doughnut",injectable:Bt},{predicate:"tsfunnel",injectable:Je}],default:{injectable:Ee}})}const Ea=new i.InjectionToken("Represents the collection of scales plugins");function qr(){return h.FactoryProvider.create({token:Ea,mappings:[{predicate:b.HorizontalBar,injectable:Wt}],default:{injectable:Nt}})}class Ce{constructor(e,t,n,a,r,l,c,u,p,w,D){this._chartJsDataSetsBuilderFactory=e,this._chartJsAnimationsCreatorFactory=t,this._chartJsScalesBuilder=n,this._chartJsLegendBuilder=a,this._chartJsLayoutBuilder=r,this._chartJsScalesPluginFactory=l,this._chartTooltipsPluginsFactory=c,this._a11yLegendPluginCreator=u,this._chartScreenReaderPluginsFactory=p,this._chartJsMenuOpenPluginCreator=w,this._featureValues=D}static _getLabelConfig(e){return e==="tsfunnel"?{font:Br}:null}static _getHoverOptions(e){switch(e){case"pie":case"tsfunnel":case"doughnut":return{intersect:!0};default:return{intersect:!1,mode:"index"}}}static _getCutoutPercentage(e){return e==="doughnut"?"70%":void 0}_createChartDataSets(e,t,n,a,r){return this._chartJsDataSetsBuilderFactory.create(e.type).setScale(t).setSeries(e).setFocusPoints(n).setHandlers(a).setTheme(r).createDataSets()}_getPlugins(e,t){const n=this.createTooltipPlugin(e),a=this.createScalesPlugin(e),r=this.createScreenReaderPlugin(e),l=this._a11yLegendPluginCreator.createPlugin(),c=this._chartJsMenuOpenPluginCreator.createPlugin(t);let u=[];if(e===b.Funnel){const p=[n,r,c];return this._featureValues.DisableKeyboardNavigationInCharts||p.push(G),p}else this._featureValues.DisableKeyboardNavigationInCharts||u.push(E);return u=u.concat(Lr,$r,a,n,fs(),l,r,c),u}_getAnimation(e){return{duration:e.animation??1e3,onProgress:n=>{n.chart.canvas.setAttribute("animation","progress")},onComplete:n=>{n.chart.canvas.setAttribute("animation","end")}}}_getAnimations(e){return this._chartJsAnimationsCreatorFactory.create(e).createAnimationsOptions()}createTooltipPlugin(e){return this._chartTooltipsPluginsFactory.create(e).createPlugin()}createScalesPlugin(e){return this._chartJsScalesPluginFactory.create(e).createPlugin()}createScreenReaderPlugin(e){return this._chartScreenReaderPluginsFactory.create(e).createPlugin()}convert(e,t){const{scales:n,labels:a,series:r=[],focusPoints:l,theme:c}=e??{},u=r.map(Me=>this._createChartDataSets(Me,n,l,t,c));if(u.length===0)return;const p=r[0].type,w=u[0].type,D=this._chartJsScalesBuilder.createScales(e),F=this._chartJsLegendBuilder.createLegend(e,t),k=this._chartJsLayoutBuilder.createLayout(e),A=Ce._getLabelConfig(p),V=Ce._getHoverOptions(p),Hn=u[0].indexAxis;return{type:w,data:{labels:a,datasets:u},options:{interaction:{axis:Hn},chartType:p,indexAxis:Hn,animation:this._getAnimation(e),animations:this._getAnimations(p),labelConfig:A,responsive:!0,aspectRatio:null,maintainAspectRatio:!1,hover:V,scales:D,layout:k,theme:e.theme,plugins:{legend:F,title:{display:!1,text:e.title}},cutout:Ce._getCutoutPercentage(p),onClick:function(Me,ya,Un){jo(Me,Un,t)},onHover:function(Me,ya,Un){Ho(Me,Un)}},plugins:this._getPlugins(p,t)}}static{this.\u0275fac=function(t){return new(t||Ce)(i.\u0275\u0275inject(Ta),i.\u0275\u0275inject(Da),i.\u0275\u0275inject(Kt),i.\u0275\u0275inject(Jt),i.\u0275\u0275inject(Yt),i.\u0275\u0275inject(Ea),i.\u0275\u0275inject(Ma),i.\u0275\u0275inject($n),i.\u0275\u0275inject(xa),i.\u0275\u0275inject(Xn),i.\u0275\u0275inject(g.FEATURE_VALUES))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ce,factory:Ce.\u0275fac})}}var P=S(40297),ms=S(18081),Cs=S(4659);class qt{constructor(e,t){this._renderer=e,this._elementRef=t,this._resizeDebounceFn=(0,v.debounce)(n=>this.resized.emit(n[0]),100),this.resized=new i.EventEmitter}_createResizeElement(e){const t=document.createElement("div");return t.className="resize-element",t.style.position="absolute",t.style.left="0",t.style.top="0",t.style.right="0",t.style.bottom="0",t.style.overflow="hidden",t.style.pointerEvents="none",t.style.visibility="hidden",t.style.zIndex="-1",this._renderer.appendChild(e,t),t}createResizeObserver(){const t=this._elementRef.nativeElement.parentElement;if(!t)return;const n=this._createResizeElement(t);this._resizeObserver=new Cs.A(this._resizeDebounceFn),this._resizeObserver.observe(n)}ngAfterViewInit(){this.createResizeObserver()}ngOnDestroy(){this._resizeObserver?.disconnect()}static{this.\u0275fac=function(t){return new(t||qt)(i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275directiveInject(i.ElementRef))}}static{this.\u0275dir=i.\u0275\u0275defineDirective({type:qt,selectors:[["","crtResizeObserver",""]],outputs:{resized:"resized"}})}}class Zt extends qt{constructor(e,t,n){super(e,t),this._platform=n}createResizeObserver(){this._platform.SAFARI&&super.createResizeObserver()}static{this.\u0275fac=function(t){return new(t||Zt)(i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(ms.Platform))}}static{this.\u0275dir=i.\u0275\u0275defineDirective({type:Zt,selectors:[["","crtChartResizeObserver",""]],features:[i.\u0275\u0275InheritDefinitionFeature]})}}function _s(o,e){if(o&1){const t=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"canvas",1),i.\u0275\u0275listener("resized",function(){i.\u0275\u0275restoreView(t);const a=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(a.chartElement==null||a.chartElement.chart==null?null:a.chartElement.chart.resize())}),i.\u0275\u0275elementEnd()}if(o&2){const t=i.\u0275\u0275nextContext();i.\u0275\u0275property("type",t.convertedConfig.type)("options",t.convertedConfig.options)("datasets",t.convertedConfig.data.datasets)("labels",t.convertedConfig.data.labels)("plugins",t.convertedConfig.plugins)}}class _e{set config(e){const t=this._adjustConfig(e);(0,v.isEqual)(this._config,t)||(this._config=t,this.convertedConfig=this._configConverter.convert(this._config,{click:this.onSeriesClick.bind(this),legendClick:this.onLegendClick.bind(this)}),this._setOnResizeHandler())}get chartSize(){return{height:this.chartElement.chart.height,width:this.chartElement.chart.width}}constructor(e){this._configConverter=e,this.seriesClick=new i.EventEmitter,this.legendClick=new i.EventEmitter}_adjustConfig(e){return e&&{...e,animation:e.animation??null,focusPoints:e.focusPoints??[]}}_setOnResizeHandler(){this.convertedConfig?.options&&!this.convertedConfig.options.onResize&&(this.convertedConfig.options.onResize=this._onChartResize)}_onChartResize(e,t){t?.height===0&&e?.canvas&&(e.canvas.height=t.height=150,e.canvas.style.height="150px")}_callCustomTooltip(e){const t=this.chartElement?.chart,n=t?.options?.plugins?.tooltip?.external;typeof n=="function"&&n({chart:this.chartElement.chart,tooltip:t.tooltip},e)}onLegendClick(e){this.legendClick.emit(e)}resize(e){!e||(0,v.isEqual)(e,this.chartSize)||this.chartElement.chart.resize(e.width,e.height)}onSeriesClick(e,t,n){this.seriesClick.emit({mouseEvent:n,pointData:e,pointLocation:t})}openAndPinLastTooltip(e=1e3){const t={pinDelayMS:e,pinLastTooltip:!0};this._callCustomTooltip(t)}hideLastTooltip(){const e={hideTooltip:!0};this._callCustomTooltip(e)}static{this.\u0275fac=function(t){return new(t||_e)(i.\u0275\u0275directiveInject($i))}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:_e,selectors:[["ts-chart"]],viewQuery:function(t,n){if(t&1&&i.\u0275\u0275viewQuery(re.BaseChartDirective,5),t&2){let a;i.\u0275\u0275queryRefresh(a=i.\u0275\u0275loadQuery())&&(n.chartElement=a.first)}},inputs:{config:"config"},outputs:{seriesClick:"seriesClick",legendClick:"legendClick"},decls:1,vars:1,consts:[["baseChart","","crtChartResizeObserver","",3,"type","options","datasets","labels","plugins","resized",4,"ngIf"],["baseChart","","crtChartResizeObserver","",3,"resized","type","options","datasets","labels","plugins"]],template:function(t,n){t&1&&i.\u0275\u0275template(0,_s,1,5,"canvas",0),t&2&&i.\u0275\u0275property("ngIf",n.convertedConfig)},dependencies:[P.NgIf,re.BaseChartDirective,Zt],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{display:block;width:100%;height:100%;position:relative}[_nghost-%COMP%]   canvas[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}"],changeDetection:0})}}var Di=S(45695),Yi=S(71252);function ys(o,e){if(o&1&&(i.\u0275\u0275elementStart(0,"div",6),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),o&2){const t=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(),i.\u0275\u0275textInterpolate(t.tooltipConfig.label)}}function bs(o,e){if(o&1&&(i.\u0275\u0275elementStart(0,"div",12),i.\u0275\u0275element(1,"mat-progress-bar",13),i.\u0275\u0275elementEnd()),o&2){const t=i.\u0275\u0275nextContext().$implicit;i.\u0275\u0275advance(),i.\u0275\u0275propertyInterpolate("value",t.progress)}}function ws(o,e){if(o&1&&(i.\u0275\u0275elementStart(0,"div",7)(1,"div",8)(2,"span",9),i.\u0275\u0275text(3),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"span",10),i.\u0275\u0275text(5),i.\u0275\u0275elementEnd()(),i.\u0275\u0275template(6,bs,2,1,"div",11),i.\u0275\u0275elementEnd()),o&2){const t=e.$implicit,n=e.index;i.\u0275\u0275attribute("series-index",n),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(t.name),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(t.value),i.\u0275\u0275advance(),i.\u0275\u0275property("ngIf",t.progress>=0)}}function vs(o,e){if(o&1&&(i.\u0275\u0275elementStart(0,"div",1),i.\u0275\u0275template(1,ys,2,1,"div",2),i.\u0275\u0275elementStart(2,"div",3),i.\u0275\u0275template(3,ws,7,4,"div",4),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(4,"div",5),i.\u0275\u0275elementEnd()),o&2){const t=i.\u0275\u0275nextContext();i.\u0275\u0275property("ngClass",t.tooltipConfig.theme),i.\u0275\u0275advance(),i.\u0275\u0275property("ngIf",t.tooltipConfig.label),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngForOf",t.tooltipConfig==null?null:t.tooltipConfig.series),i.\u0275\u0275advance(),i.\u0275\u0275property("innerHTML",t.getStyles(),i.\u0275\u0275sanitizeHtml)}}class ai{set config(e){switch(typeof e){case"object":this.tooltipConfig=e;break;case"string":this.tooltipConfig=JSON.parse(e);break;default:this.tooltipConfig=null}}constructor(e){this.sanitizer=e}_getColorStyle(e,t){const n=e.background||"#604edc",a=e.color||n;let r=`[series-index="${t}"] .mat-progress-bar-fill::after {background: ${n};}`;return e.color&&(r+=`[series-index="${t}"] .value-wrap .value {color: ${a};}`),r}getStyles(){const e=this.tooltipConfig?.series;if(!e||e.length===0)return"";const t=e.map((n,a)=>this._getColorStyle(n,a)).join("");return this.sanitizer.bypassSecurityTrustHtml(`<style>${t}</style>`)}static{this.\u0275fac=function(t){return new(t||ai)(i.\u0275\u0275directiveInject(Yi.DomSanitizer))}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:ai,selectors:[["crt-chart-tooltip"]],inputs:{config:"config"},decls:1,vars:1,consts:[["class","tooltip-container",3,"ngClass",4,"ngIf"],[1,"tooltip-container",3,"ngClass"],["class","title",4,"ngIf"],[1,"values-container"],["class","value-container",4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"title"],[1,"value-container"],[1,"value-wrap"],[1,"value-title"],[1,"value"],["class","progress-wrap",4,"ngIf"],[1,"progress-wrap"],["mode","determinate",3,"value"]],template:function(t,n){t&1&&i.\u0275\u0275template(0,vs,5,4,"div",0),t&2&&i.\u0275\u0275property("ngIf",n.tooltipConfig)},dependencies:[P.NgClass,P.NgForOf,P.NgIf,Di.MatLegacyProgressBar],styles:[`.tooltip-container{display:flex;justify-content:flex-start;flex-direction:column;min-width:101px;max-width:200px;background:#fff;box-shadow:0 3px 6px #00000029;border:1px solid #006ce0;border-radius:4px;padding:10px 16px;color:#757575;overflow:hidden;-webkit-user-select:none;user-select:none}.tooltip-container.glassmorphism{background:var(--crt-glass-color-dark-300);-webkit-backdrop-filter:blur(40px);backdrop-filter:blur(40px);border-radius:8px;border-color:var(--crt-glass-color-light-300);color:#fff}.tooltip-container.glassmorphism .title{text-transform:uppercase;font-size:14px}.tooltip-container.glassmorphism .value-wrap .value,.tooltip-container.glassmorphism .value-wrap .value-title{font-size:12px}.tooltip-container.glassmorphism .title,.tooltip-container.glassmorphism .value-wrap .value,.tooltip-container.glassmorphism .value-wrap .value-title{color:#fff}.tooltip-container.glassmorphism .mat-progress-bar-background{fill:var(--crt-glass-color-light-200)}.tooltip-container .title{font-weight:600;font-size:13px;line-height:18px;letter-spacing:0;color:#006ce0;text-align:left;text-transform:uppercase;margin-bottom:14px;max-height:36px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.tooltip-container .mat-progress-bar-background{fill:#e2e2e2}.tooltip-container .value-container .progress-wrap{padding-bottom:8px;padding-top:5px}.tooltip-container .value-container .mat-progress-bar{height:4px;border-radius:4px}.tooltip-container .value-container .mat-progress-bar .mat-progress-bar-buffer{background:#e2e2e2}.tooltip-container .value-wrap{display:flex;justify-content:space-between}.tooltip-container .value-wrap .value{color:#0d2e4e;text-align:center;font-weight:600;font-size:13px;line-height:16px;letter-spacing:1.3px;font-family:Montserrat,Open Sans,sans-serif;padding-left:5px}.tooltip-container .value-wrap .value-title{letter-spacing:0;color:#757575;text-align:center;font-size:10px;line-height:16px;font-family:Open Sans,sans-serif;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
`],encapsulation:3,changeDetection:0})}}class Xt{constructor(e){e.defineComponent("crt-chart-tooltip-element",ai)}static{this.\u0275fac=function(t){return new(t||Xt)(i.\u0275\u0275inject(h.CustomElementsBootstrapService))}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:Xt})}static{this.\u0275inj=i.\u0275\u0275defineInjector({imports:[P.CommonModule,Di.MatLegacyProgressBarModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(Xt,{declarations:[ai],imports:[P.CommonModule,Di.MatLegacyProgressBarModule],exports:[ai]})})();function Ss(o,e){if(o&1&&(i.\u0275\u0275elementStart(0,"div",1)(1,"div",2),i.\u0275\u0275text(2),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(3,"div",3)(4,"div",4),i.\u0275\u0275text(5),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(6,"div",5),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(7,"div",6),i.\u0275\u0275text(8),i.\u0275\u0275elementEnd()()),o&2){const t=i.\u0275\u0275nextContext();i.\u0275\u0275styleProp("background",t.tooltipSeries.background),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate2("",t.tooltipSeries.name," - ",t.tooltipSeries.progress,"%"),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(t.tooltipSeries.value),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(t.tooltipConfig.label)}}class ri{set config(e){switch(typeof e){case"object":this.tooltipConfig=e;break;case"string":this.tooltipConfig=JSON.parse(e);break;default:this.tooltipConfig=null}}get tooltipSeries(){return(this.tooltipConfig?.series||[])[0]}static{this.\u0275fac=function(t){return new(t||ri)}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:ri,selectors:[["crt-chart-pie-tooltip"]],inputs:{config:"config"},decls:1,vars:1,consts:[["class","chart-percentage-tooltip",3,"background",4,"ngIf"],[1,"chart-percentage-tooltip"],[1,"title"],[1,"value"],[1,"number"],[1,"unit"],[1,"footer-text"]],template:function(t,n){t&1&&i.\u0275\u0275template(0,Ss,9,6,"div",0),t&2&&i.\u0275\u0275property("ngIf",n.tooltipSeries)},dependencies:[P.NgIf],styles:[`.chart-percentage-tooltip{padding:16px;color:#fff;font-family:Open Sans,sans-serif;border-radius:4px;font-size:13px;border:1px solid #fff}.chart-percentage-tooltip .value .number{font-family:Montserrat,Open Sans,sans-serif;font-size:38px;font-weight:600}
`],encapsulation:3,changeDetection:0})}}class Qt{constructor(e){e.defineComponent("crt-chart-pie-tooltip-element",ri)}static{this.\u0275fac=function(t){return new(t||Qt)(i.\u0275\u0275inject(h.CustomElementsBootstrapService))}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:Qt})}static{this.\u0275inj=i.\u0275\u0275defineInjector({imports:[P.CommonModule,Di.MatLegacyProgressBarModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(Qt,{declarations:[ri],imports:[P.CommonModule,Di.MatLegacyProgressBarModule],exports:[ri]})})();var Zr=S(85613);class oi{constructor(){this._elementRef=(0,i.inject)(i.ElementRef)}focus(){this._elementRef.nativeElement.focus()}static{this.\u0275fac=function(t){return new(t||oi)}}static{this.\u0275dir=i.\u0275\u0275defineDirective({type:oi,selectors:[["","crtChartA11yLegendItem",""]]})}}var Ji=S(93277);const Ts=(o,e)=>e.index;function Ds(o,e){if(o&1){const t=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"li",2),i.\u0275\u0275listener("click",function(a){const r=i.\u0275\u0275restoreView(t).$implicit,l=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(l.onClick(a,r))})("keydown",function(a){const r=i.\u0275\u0275restoreView(t).$implicit,l=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(l.onKeydown(a,r))}),i.\u0275\u0275elementEnd()}if(o&2){const t=e.$implicit,n=i.\u0275\u0275nextContext(2);i.\u0275\u0275styleProp("left",t.left+"px")("top",t.top+"px")("width",t.width+"px")("height",t.height+"px"),i.\u0275\u0275attribute("tabIndex",t.index===n.activeItemIndex?0:-1)("aria-label",t.text)("aria-selected",t.selected)}}function xs(o,e){if(o&1&&(i.\u0275\u0275elementStart(0,"ul",0),i.\u0275\u0275repeaterCreate(1,Ds,1,11,"li",1,Ts),i.\u0275\u0275elementEnd()),o&2){const t=i.\u0275\u0275nextContext();i.\u0275\u0275attribute("aria-label",t.model.title),i.\u0275\u0275advance(),i.\u0275\u0275repeater(t.model.items)}}class en{constructor(){this.clicked=new i.EventEmitter}get tabIndex(){return this.activeItemIndex===-1?0:-1}get activeItemIndex(){return this._keyManager?.activeItemIndex??-1}onFocus(){this._keyManager.setFirstItemActive()}onClick(e,t){this.clicked.emit({nativeEvent:e,item:t})}onKeydown(e,t){e.key==="Enter"||e.key===" "?this.clicked.emit({nativeEvent:e,item:t}):this._keyManager.onKeydown(e)}ngAfterViewInit(){this._keyManager=new Ji.FocusKeyManager(this.elements).withHorizontalOrientation("ltr")}static{this.\u0275fac=function(t){return new(t||en)}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:en,selectors:[["crt-chart-a11y-legend"]],viewQuery:function(t,n){if(t&1&&i.\u0275\u0275viewQuery(oi,5),t&2){let a;i.\u0275\u0275queryRefresh(a=i.\u0275\u0275loadQuery())&&(n.elements=a)}},hostVars:1,hostBindings:function(t,n){t&1&&i.\u0275\u0275listener("focus",function(){return n.onFocus()}),t&2&&i.\u0275\u0275attribute("tabIndex",n.tabIndex)},inputs:{model:"model"},outputs:{clicked:"clicked"},decls:1,vars:1,consts:[["role","listbox",1,"crt-chart-a11y-legend-list"],["role","option","aria-haspopup","menu",1,"crt-chart-a11y-legend-item",3,"crtChartA11yLegendItem","left","top","width","height"],["role","option","aria-haspopup","menu",1,"crt-chart-a11y-legend-item",3,"click","keydown","crtChartA11yLegendItem"]],template:function(t,n){t&1&&i.\u0275\u0275template(0,xs,3,1,"ul",0),t&2&&i.\u0275\u0275conditional(0,n.model?0:-1)},dependencies:[oi],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%], .crt-chart-a11y-legend-list[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none}.crt-chart-a11y-legend-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.crt-chart-a11y-legend-item[_ngcontent-%COMP%]{position:absolute;margin:0;pointer-events:auto;cursor:pointer}.crt-chart-a11y-legend-item[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}"],changeDetection:0})}}class tn{constructor(e){e.defineComponent("crt-chart-a11y-legend-element",en)}static{this.\u0275fac=function(t){return new(t||tn)(i.\u0275\u0275inject(h.CustomElementsBootstrapService))}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:tn})}static{this.\u0275inj=i.\u0275\u0275defineInjector({imports:[P.CommonModule,Zr.CdkListboxModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(tn,{declarations:[en,oi],imports:[P.CommonModule,Zr.CdkListboxModule],exports:[en]})})();class nn{static{this.\u0275fac=function(t){return new(t||nn)}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:nn,selectors:[["crt-chart-screen-reader"]],inputs:{title:"title",tooltip:"tooltip"},decls:5,vars:2,consts:[["role","region","aria-live","assertive",1,"crt-chart-screen-reader-region"],[1,"crt-chart-screen-reader-title"],[1,"crt-chart-screen-reader-tooltip"]],template:function(t,n){t&1&&(i.\u0275\u0275elementStart(0,"div",0)(1,"div",1),i.\u0275\u0275text(2),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(3,"div",2),i.\u0275\u0275text(4),i.\u0275\u0275elementEnd()()),t&2&&(i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(n.title),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(n.tooltip))},styles:["[_nghost-%COMP%], .crt-chart-screen-reader-region[_ngcontent-%COMP%]{position:fixed;opacity:0}"],changeDetection:0})}}class an{constructor(e){e.defineComponent("crt-chart-screen-reader-element",nn)}static{this.\u0275fac=function(t){return new(t||an)(i.\u0275\u0275inject(h.CustomElementsBootstrapService))}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:an})}static{this.\u0275inj=i.\u0275\u0275defineInjector({imports:[P.CommonModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(an,{declarations:[nn],imports:[P.CommonModule],exports:[nn]})})();class Ki{constructor(e){this.label=e.label,this.legend=e.legend,this.dataSet=e.dataSet,this.dataItems=e.dataItems,this.providing=e.providing,this.dataLabel=e.dataLabel,this.border=e.border??{}}}class xi extends Ki{constructor(e){super(e),this.type=b.Line,this.color=e.color}}class qi extends xi{constructor(e){super(e),this.type=b.Spline}}class Pa extends qi{constructor(e){super(e),this.type=b.Area}}class Zi extends Ki{constructor(e){super(e),this.type=b.Bar,this.color=e.color,this.stack=e.stack}}class Mi extends Ki{constructor(e){super(e),this.type=b.Pie,this.colors=e?.colors}}class Fa extends Mi{constructor(e){super(e),this.type=b.Doughnut}}class Aa extends Zi{constructor(e){super(e),this.type=b.HorizontalBar}}class Oa extends xi{constructor(e){super(e),this.type=b.Scatter}}class Ra extends Mi{constructor(e){super(e),this.type=b.Funnel,this.tooltipData=e.tooltipData}}class Ms{}S(66030);class Fe{static{this.\u0275fac=function(t){return new(t||Fe)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:Fe})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[{provide:$i,useClass:Ce},Yt,Jt,Kt,J,C,Ia(),qr(),Kr(),(0,re.provideCharts)((0,re.withDefaultRegisterables)())],imports:[P.CommonModule,Qn,Xt,Qt,ii,tn,an]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(Fe,{declarations:[_e,Zt],imports:[P.CommonModule,Qn,Xt,Qt,ii,re.BaseChartDirective,tn,an],exports:[_e,re.BaseChartDirective,Zt]})})();class Xi{constructor(e){this.label=e?.label,this.legend=e?.legend,this.data=e?.data,this.dataLabel=e?.dataLabel,this.border=e?.border??{}}}class Qi extends Xi{constructor(e){super(e),this.type=b.Line,this.color=e?.color}}class Is extends Qi{constructor(e){super(e),this.type=b.Area}}class Xr extends Xi{constructor(e){super(e),this.type=b.Bar,this.color=e?.color,this.stack=e?.stack}}class La extends Xi{constructor(e){super(e),this.type=b.Pie}}class Es extends La{constructor(e){super(e),this.type=b.Doughnut}}class Ps extends Xr{constructor(e){super(e),this.type=b.HorizontalBar}}class Fs extends Qi{constructor(e){super(e),this.type=b.Scatter}}class As extends Qi{constructor(e){super(e),this.type=b.Spline}}class Os extends La{constructor(e){super(e),this.type=b.Funnel,this.colors=e?.colors}}class ka{constructor(e){this.direction=e?.direction}}var te;(function(o){o.ByValue="by-value",o.ByDatePart="by-date-part"})(te||(te={}));var ye;(function(o){o.ByAggregationValue="by-aggregation-value",o.ByGroupingValue="by-grouping-value"})(ye||(ye={}));class Rs extends ka{constructor(e){super(e),this.type=ye.ByAggregationValue,this.seriesIndex=e.seriesIndex}}class Ls extends ka{constructor(e){super(e),this.type=ye.ByGroupingValue}}var L=S(73308),f=S(5960),d=S(38495),Z=S(85638),z=S(20822),B=S(62278),N=S(36486),ne=S(47742),Ii=S(10850);const Qr={contentDirection:"column",displayMode:"diagram",isFullScreenMode:!1,isValidated:!0},Ba="DisableSupportWidgetDataSource",eo="UseClassicMetricSizes",Va="SaveDrillDownState",ks="ReloadDrillDownDataSource";class Ae{set isFullScreen(e){this.isFullScreenMode!==e&&(this.isFullScreenMode=e,e?this._fullScreenOn():this._fullScreenOff()),this.isFullScreenModeChange.emit(e)}set componentElement(e){this._componentElement=e,this._fullScreenElement=document.querySelector(".fullscreen-container"),this._fullScreenElement||(this._fullScreenElement=document.createElement("div"),this._fullScreenElement.className="fullscreen-container",this._fullScreenElement.style.width="0",this._fullScreenElement.style.height="0",this._fullScreenElement.style.position="relative",this._featureValues[Va]?this._componentElement.closest(".fullscreen-class").appendChild(this._fullScreenElement):document.body.appendChild(this._fullScreenElement))}constructor(e){this._featureValues=e,this._fullScreenCssClass="full-screen",this.isFullScreenMode=!1,this.isFullScreenModeChange=new i.EventEmitter}_fullScreenOn(){this._parentElement=this._componentElement.parentElement,this._componentElement.classList.add(this._fullScreenCssClass),this._componentElementMaxWidth=this._componentElement.style.maxWidth,this._componentElementMaxHeight=this._componentElement.style.maxHeight,this._componentElement.style.maxWidth="",this._componentElement.style.maxHeight="";const e=Array.prototype.slice.call(this._parentElement.children),t=e.indexOf(this._componentElement);this._nextElement=t<e.length-1?e[t+1]:null,this._fullScreenElement.appendChild(this._componentElement)}_fullScreenOff(){this._componentElement&&(this._componentElement.classList.remove(this._fullScreenCssClass),this._nextElement?this._parentElement?.insertBefore(this._componentElement,this._nextElement):this._parentElement?.appendChild(this._componentElement),this._componentElement.style.maxWidth=this._componentElementMaxWidth,this._componentElement.style.maxHeight=this._componentElementMaxHeight)}ngOnDestroy(){this._fullScreenOff()}static{this.\u0275fac=function(t){return new(t||Ae)(i.\u0275\u0275directiveInject(g.FEATURE_VALUES))}}static{this.\u0275dir=i.\u0275\u0275defineDirective({type:Ae,selectors:[["","crtFullScreen",""]],inputs:{isFullScreen:[i.\u0275\u0275InputFlags.None,"crtFullScreen","isFullScreen"],componentElement:"componentElement"},exportAs:["crtFullScreen"]})}}var ea=S(52552);class rn{constructor(e,t,n,a,r,l){this._dataGridColumnDefinitionService=e,this._dataSchemaRepository=t,this._entitySchemaProvider=n,this._entitySchemaService=a,this._translateService=r,this._featureValues=l}_generateColumnConfigs(e,t){const{config:n}=t;let a=[e.primaryDisplayAttributeName,...n.groupBy];return n.aggregateBy&&(a=[...a,n.aggregateBy]),a=a.filter(Boolean),a.length||(a=[e.attributes[0].path]),[...new Set(a)].map(l=>({path:l}))}_getColumnCaption(e,t){var n=this;return(0,L.A)(function*(){return(yield(0,B.firstValueFrom)(n._entitySchemaProvider.getSchemaByName(e.name).pipe((0,N.switchMap)(r=>n._entitySchemaService.getEntitySchemaColumnsInformationByPath(r.uId,t.path))))).caption})()}_generateColumnConfig(e,t,n){var a=this;return(0,L.A)(function*(){let r=e.findAttributeByName(t.path);if(!r){let u=t.code?t.code.split("_").pop():t.path;u=(0,g.removeSpecialSymbols)(u),r={dataValueType:t.dataValueType,caption:t.caption||(yield a._getColumnCaption(e,t)),name:u,path:t.path,aggregationConfig:{aggregationFunction:t?.aggregationConfig?.aggregationFunction,filter:t?.aggregationConfig?.filter},referenceSchemaName:t.referenceSchemaName}}const l={dataSourceName:`${n.dataSourceName}`,dataSchema:e,itemsAttributeName:`$${n.listDataAttributeName}`,viewModel:n.$context},c=t.caption||r.caption;return(0,B.lastValueFrom)(a._dataGridColumnDefinitionService.getDataGridColumnDefinition(l,r,c),{defaultValue:null})})()}_fillColumnsData(e,t,n){var a=this;return(0,L.A)(function*(){return yield Promise.all(e.map(function(){var r=(0,L.A)(function*(l){const c=yield a._generateColumnConfig(t,l,n);return a._featureValues.DataGridDynamicDSLocalizableTitle&&(l.captionResources=a._getCaptionResources(l,c.caption)),c.dataValueType===d.DataValueType.Boolean&&(c.cellView.readonly=!0),{...c,path:l.path,width:l.width,sticky:l.sticky,aggregationConfig:l.aggregationConfig,referenceSchemaName:l.referenceSchemaName,captionResources:l.captionResources}});return function(l){return r.apply(this,arguments)}}()))})()}_getCaptionResources(e,t){if(e.captionResources?.length)return new g.LocalizableStringArray(e.captionResources);const n=new g.LocalizableStringArray;return n.setValueLocalizableString(this._translateService.currentLang,t),n}_getSchema(e){return this._dataSchemaRepository.get(e)}initColumns(e,t){var n=this;return(0,L.A)(function*(){const{config:a}=e,r=yield(0,B.lastValueFrom)(n._dataSchemaRepository.get(a.schemaName));return t=yield n._fillColumnsData(t,r,e),{primaryColumnName:`${e.dataSourceName}_${r.primaryAttributeName}`,columns:t}})()}getColumns(e){this._columnDataProfile=null;const{config:t}=e;return this._getSchema(t.schemaName).pipe((0,N.map)(n=>this._generateColumnConfigs(n,e)))}getPrimaryDisplayColumnName(e){const{config:t}=e;return this._getSchema(t.schemaName).pipe((0,N.map)(n=>n.primaryDisplayAttributeName))}static{this.\u0275fac=function(t){return new(t||rn)(i.\u0275\u0275inject(ea.DataGridColumnDefinitionService),i.\u0275\u0275inject(Ii.DataSchemaRepositoryService),i.\u0275\u0275inject(g.EntitySchemaProvider),i.\u0275\u0275inject(g.EntitySchemaService),i.\u0275\u0275inject(j.TranslateService),i.\u0275\u0275inject(g.FEATURE_VALUES))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:rn,factory:rn.\u0275fac})}}var Ei=S(30478),si=S(22438);class li extends ea.StructureExplorerDataGridColumnSelectionService{constructor(e,t,n,a){super(e,t,n,a),this.structureExplorer=e,this.schemaService=t,this.cellViewConfigCreatorFactory=n,this.translateService=a}createColumnDefinition(e){const{structureExplorerItem:t}=e,n=super.createColumnDefinition(e),r=t.data?.item?.aggregationFunction?this.getAggregationColumnCaption(t.caption,t.data.item.aggregationFunctionCaption,t.data.item.aggregationFunction):t.caption;return{...n,id:t.id,path:t.columnPath,caption:r}}getItemsAttributeName(e){return e.get(ne.VIEW_ELEMENT_CONFIG).listData.replace("$","")}getColumnName(e){return(0,g.removeSpecialSymbols)(e)}static{this.\u0275fac=function(t){return new(t||li)(i.\u0275\u0275inject(Ei.StructureExplorerService),i.\u0275\u0275inject(si.SchemaService),i.\u0275\u0275inject(ea.DATA_GRID_CELL_VIEW_CONFIG_CREATOR_FACTORY),i.\u0275\u0275inject(j.TranslateService))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:li,factory:li.\u0275fac})}}class Qe{_findAggregationAttribute(e,t){const n=[...t?.attributes??[]].shift()?.name;return e?.attributes?.[n]}create(e,t){const n=this._findAggregationAttribute(e,t),a=n?.functionConfig;return!n?.path||a?.type!=="aggregation"?null:{column:new d.AggregationFunctionColumn((0,d.toAggregationType)(a.aggregation),(0,d.toAggregationEvalType)(a.aggregationEval),new d.ColumnExpression({columnPath:n.path}))}}static{this.\u0275fac=function(t){return new(t||Qe)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Qe,factory:Qe.\u0275fac})}}class et{_createAggregationDataSourceAttribute(e){const{aggregationType:t,aggregationEvalType:n,functionArgument:a}=e??{},r=a?.columnPath;return r?{type:"function",name:`${(0,g.removeSpecialSymbols)(r)}_Aggregation`,path:r,functionConfig:{type:"aggregation",aggregation:(0,d.toAggregationFunction)(t),aggregationEval:(0,d.toAggregationEval)(n)}}:null}create(e){const t=this._createAggregationDataSourceAttribute(e?.column?.expression);return{attributes:t?[t]:[]}}static{this.\u0275fac=function(t){return new(t||et)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:et,factory:et.\u0275fac})}}class tt{_getDependenciesConfig(e){const{dependencies:t}=e??{};return t?[...t]:[]}_getSectionBindingDependency(e){const{dataProvidingConfig:t,sectionBindingAttributePath:n}=e,a=t?.sectionBindingColumn?.path;return!a||!n?null:{attributePath:a,relationPath:n}}create(e){if(!e)return[];const t=this._getDependenciesConfig(e.dataProvidingConfig),n=this._getSectionBindingDependency(e);return n&&t.push(n),t}static{this.\u0275fac=function(t){return new(t||tt)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:tt,factory:tt.\u0275fac})}}const ta="PredefinedFilter";class nt{_getFilterAttributesConfig(e){const{filterAttributes:t}=e??{};return t?[...t]:[]}_getPredefinedFilteringConfig(e){const{dataAttributeName:t,dataFiltersConfig:n}=e,a=n?.filter;return!t||!a?null:{attribute:`${t}_${ta}`,filterValue:a,loadOnChange:!1}}create(e){if(!e)return[];const t=this._getFilterAttributesConfig(e.dataFiltersConfig),n=this._getPredefinedFilteringConfig(e);return n&&t.push(n),t}static{this.\u0275fac=function(t){return new(t||nt)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:nt,factory:nt.\u0275fac})}}class it{constructor(e,t,n){this._aggregationConfigCreator=e,this._dependenciesConfigCreator=t,this._filteringViewConfigCreator=n}create(e){const{dataProvidingConfig:t,sectionBindingAttributePath:n}=e??{},{attribute:a,schemaName:r,filters:l,aggregation:c}=t??{},u=this._aggregationConfigCreator.create(c);return!a||!r||!u?null:{attribute:a,dataSource:{name:`${a}${Ii.DATA_SOURCE_PREFIX}`,config:{type:"crt.EntityDataSource",config:{entitySchemaName:r}}},filters:this._filteringViewConfigCreator.create({dataAttributeName:a,dataFiltersConfig:l}),aggregation:u,dependencies:this._dependenciesConfigCreator.create({dataProvidingConfig:t,sectionBindingAttributePath:n})}}static{this.\u0275fac=function(t){return new(t||it)(i.\u0275\u0275inject(et),i.\u0275\u0275inject(tt),i.\u0275\u0275inject(nt))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:it,factory:it.\u0275fac})}}class be{static{this.\u0275fac=function(t){return new(t||be)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:be})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[et,tt,nt,it]})}}class na{static toFilteringConfig(e){const{attribute:t,filterValue:n,loadOnChange:a}=e??{};return t?{name:t,value:n,loadOnChange:!!a}:null}static toFilteringConfigs(e){return e?e.map(t=>this.toFilteringConfig(t)).filter(Boolean):[]}static toWidgetFilteringConfig(e){const{name:t,value:n,loadOnChange:a}=e??{};return t?{attribute:t,filterValue:n,loadOnChange:!!a}:null}static toWidgetFilteringConfigs(e){return e?e.map(t=>this.toWidgetFilteringConfig(t)).filter(Boolean):[]}}class at{_createFiltersAttributes(e){const t={};return e.filter(n=>n.name&&n.value).forEach(n=>t[n.name]={value:n.value}),t}_createBindToDataSourceAttributes(e){const t=e.dataSource.name,n={};return this.getDataSourceAttributes(e).map(a=>a.name).forEach(a=>{const r=`${t}_${a}`,l={modelConfig:{path:`${t}.${a}`}};n[r]=l}),n}getDataSourceAttributes(e){return e.aggregation?.attributes??[]}create(e){const t=e?.dataSource?.name;if(!t)return{};const n=na.toFilteringConfigs(e.filters);return{[e.attribute]:{isCollection:!0,modelConfig:{path:t,filterAttributes:n,includePrimaryAttributes:!1},viewModelConfig:{attributes:{...this._createBindToDataSourceAttributes(e)}}},...this._createFiltersAttributes(n)}}static{this.\u0275fac=function(t){return new(t||at)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:at,factory:at.\u0275fac})}}class rt{static{this.\u0275fac=function(t){return new(t||rt)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:rt})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[at]})}}class ot{_splicePredefinedFilter(e){const t=e.findIndex(n=>n?.name?.endsWith(ta));return t===-1?null:e.splice(t,1).pop()}create(e){if(!e?.length)return null;const t=[...e];return{filter:this._splicePredefinedFilter(t)?.value,filterAttributes:na.toWidgetFilteringConfigs(t)}}static{this.\u0275fac=function(t){return new(t||ot)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:ot,factory:ot.\u0275fac})}}class st{constructor(e,t){this._widgetDataFiltersConfigCreator=e,this._widgetDataAggregationConfigCreator=t}_getDataSourceDependencies(e,t){return t?.modelConfig?.dependencies?.[e]??[]}getDataSourceConfig(e,t){const n=t?.modelConfig?.dataSources?.[e];return n?.type!=="crt.EntityDataSource"?null:n.config}getCollectionAttributeConfig(e,t){return t?.viewModelConfig?.attributes?.[e]}create(e,t){const{attribute:n,aggregation:a}=e??{};if(!n)return null;const r=this.getCollectionAttributeConfig(n,t)?.modelConfig;if(!r)return null;const{path:l,filterAttributes:c}=r,u=this.getDataSourceConfig(l,t);return u?.entitySchemaName?{attribute:n,schemaName:u.entitySchemaName,filters:this._widgetDataFiltersConfigCreator.create(c),aggregation:this._widgetDataAggregationConfigCreator.create(u,a),dependencies:this._getDataSourceDependencies(l,t)}:null}static{this.\u0275fac=function(t){return new(t||st)(i.\u0275\u0275inject(ot),i.\u0275\u0275inject(Qe))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:st,factory:st.\u0275fac})}}class lt{static{this.\u0275fac=function(t){return new(t||lt)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:lt})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[ot,Qe,st]})}}class Oe{_getAttributeConfig(e,t){return t?.attributes?.[e]}_clearModelConfig(e,t){!e||(0,v.isEmpty)(t)||(this._clearDataSource(e,t),this._clearDataSourceDependencies(e,t))}_clearDataSource(e,t){t.dataSources&&(delete t.dataSources[e],(0,v.isEmpty)(t.dataSources)&&delete t.dataSources)}_clearDataSourceDependencies(e,t){t.dependencies&&(delete t.dependencies[e],t.dependencies=Object.fromEntries(Object.entries(t.dependencies).map(([n,a])=>[n,a?.filter(r=>r?.relationPath.split(".").shift()!==e)]).filter(([,n])=>n?.filter(Boolean).length>0)),(0,v.isEmpty)(t.dependencies)&&delete t.dependencies)}_clearViewModelConfig(e,t,n){const a=n?.attributes;if(!e||(0,v.isEmpty)(a))return;const{pagingConfig:r,sortingConfig:l,filterAttributes:c}=t?.modelConfig??{};delete a[e],delete a[r?.rowsOffset],delete a[l?.attributeName],c?.forEach(u=>delete a[u?.name])}clear(e,t){const{viewModelConfig:n,modelConfig:a}=t??{},r=this._getAttributeConfig(e,n),l=r?.modelConfig?.path;this._clearModelConfig(l,a),this._clearViewModelConfig(e,r,n)}static{this.\u0275fac=function(t){return new(t||Oe)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Oe,factory:Oe.\u0275fac})}}class Na{getWidgetViewConfig(e,t){return g.MetadataSchemaUtils.getViewConfigInfoByProperty("name",e,t?.viewConfig)?.pop()?.viewConfig}}class Wa{constructor(e,t,n){this._widgetDataProvidingViewConfigCreator=e,this._widgetModelConfigCreator=t,this._widgetViewModelAttributesConfigCreator=n}_createWidgetDataProvidingViewConfig(e,t,n){const{sectionBindingColumnRecordId:a}=e??{},r=this._getSectionBindingAttributePath(n,a);return this._widgetDataProvidingViewConfigCreator.create({viewConfig:e,dataProvidingConfig:t,sectionBindingAttributePath:r})}_getSectionBindingAttributePath(e,t){if(!(0,si.isBindingExpression)(t)||!e)return;const n=t?.slice(1);return n?e[n]?.modelConfig?.path:void 0}_createWidgetDataProvidingMetadata(e){const t=this._widgetModelConfigCreator.create(e),n=this._widgetViewModelAttributesConfigCreator.create(e);return{modelConfig:t??{},viewModelConfig:{attributes:n??{}}}}createWidgetDataProvidingMetadataConfig(e,t,n){const a=this._createWidgetDataProvidingViewConfig(e,t,n);if(!a)return null;const r=this._createWidgetDataProvidingMetadata(a);return r?{dataProvidingConfig:a,dataProvidingMetadata:r}:null}}class to{}class ct extends to{constructor(e){super(),this._entityDataSourceAttributesConverterFactory=e}_createDataSourceAttributes(e){const t={};return this.getDataSourceAttributes(e).filter(n=>!!n?.name).map(n=>({attributeName:n.name,attributeConfig:this._entityDataSourceAttributesConverterFactory.create(n.type)?.toEntityDataSourceAttribute(n)})).filter(({attributeName:n,attributeConfig:a})=>n&&a).forEach(({attributeName:n,attributeConfig:a})=>t[n]=a),t}getDataSourceAttributes(e){return e.aggregation?.attributes??[]}create(e){const{entitySchemaName:t}=e?.dataSource?.config?.config??{};return t?{entitySchemaName:t,attributes:this._createDataSourceAttributes(e)}:null}static{this.\u0275fac=function(t){return new(t||ct)(i.\u0275\u0275inject(g.ENTITY_DATA_SOURCE_ATTRIBUTE_CONFIG_CONVERTER_FACTORY))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:ct,factory:ct.\u0275fac})}}class on{static{this.\u0275fac=function(t){return new(t||on)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:on})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[ct],imports:[g.EntityDataSourceAttributeConfigConvertersModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(on,{imports:[g.EntityDataSourceAttributeConfigConvertersModule]})})();const Ga=new i.InjectionToken("Represents a factory of widget data source instance config creators");class Re{constructor(e){this._dataSourceInstanceConfigCreatorFactory=e}_createDataSourceConfig(e){const t=e.dataSource.config;if(!t)return null;const n=this._dataSourceInstanceConfigCreatorFactory.create(t.type)?.create(e);return!t.config&&!n?null:{...t,scope:d.DataSourceScope.ViewElement,config:(0,v.merge)(n??{},t.config??{})}}create(e){const{dataSource:t,dependencies:n}=e??{},a=t?.name;if(!a)return{};const r=this._createDataSourceConfig(e);return r?{dataSources:{[a]:r},dependencies:{[a]:n??[]}}:{}}static{this.\u0275fac=function(t){return new(t||Re)(i.\u0275\u0275inject(Ga))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Re,factory:Re.\u0275fac})}}function Bs(){return h.FactoryProvider.create({token:Ga,mappings:[{predicate:o=>o==="crt.EntityDataSource",injectable:ct}]})}class ge{static{this.\u0275fac=function(t){return new(t||ge)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:ge})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[Re,Bs()],imports:[on]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(ge,{imports:[on]})})();let ia=class extends d.BaseRequestHandler{constructor(e){super(),this._injector=e,this._columnDataProvider=this._injector.get(rn)}_formCustomFilters(e){const t=[];e.groupByValue&&this._applyPointFilters(e,t),e.filters?.widgetFilters&&this._applyWidgetFilters(e,t);const n=e.filters?.pageBindingFilter;n?.path&&n?.rootSchemaPrimaryColumnValue&&this._applyPageBindingFilter(n,t);const a=na.toFilteringConfigs(e.filters?.filterAttributes);return t.concat(a)}_applyPointFilters(e,t){const n=new d.FilterGroup(d.LogicalOperatorType.And);e.groupByValue.dataValueType===d.DataValueType.DateTime?this._generateDateTimeFilter(e,n):e.groupByValue.value===null?n.addSchemaColumnIsNullFilter(e.groupBy[0]):n.addSchemaColumnFilterWithParameter(d.ComparisonType.Equal,e.groupBy[0],e.groupByValue.value);let a=0;n.filters.forEach(r=>{t.push({loadOnChange:!0,name:"PointFilter"+a++,value:r})})}_applyWidgetFilters(e,t){t.push({loadOnChange:!0,name:"BaseFilters",value:e.filters?.widgetFilters})}_applyPageBindingFilter(e,t){const n=new d.CompareFilter(d.ComparisonType.Equal,new d.ColumnExpression({columnPath:e?.path}),new d.ParameterExpression({value:e?.rootSchemaPrimaryColumnValue}));t.push({loadOnChange:!0,name:"BindingFilters",value:n})}_generateDateTimeFilter(e,t){e.groupBy.forEach((n,a)=>{const r=e.groupByValue.value[a],l=new d.DatePartFunctionExpression({datePartType:r.datePartType,functionArgument:new d.ColumnExpression({columnPath:n})}),c=new d.ParameterExpression({value:r.value,dataValueType:d.DataValueType.Integer});t.add(new d.CompareFilter(d.ComparisonType.Equal,l,c))})}_formDataSourceAttributes(e,t){const n={},a=t.split("_").pop();return e.forEach(r=>{const l=r.aggregationConfig?.aggregationFunction;let c;if(r.code){const p=r.code.split("_"),w=p.findIndex(D=>D===a);c=p.splice(w+1,p.length).join("_")}else c=l?(0,g.removeSpecialSymbols)(r.path):r.path;let u=r.path.includes(".")?d.DataSchemaAttributeType.ForwardReferenceAttribute:d.DataSchemaAttributeType.OwnAttribute;l&&(u=d.DataSchemaAttributeType.AggregationAttribute),n[c]={path:r.path,type:u,aggregationConfig:r.aggregationConfig}}),n}_getSortingColumnName(e){return`${e.split(" ").join("").replace(/\./g,"_")}Sorting`}_applyBaseFilterAttributeNames(e,t){const n=["SearchFilter"];for(const a of n)e.push({loadOnChange:!0,name:`${t}_${a}`})}getColumns(e,t){var n=this;return(0,L.A)(function*(){let a=[];return e.columns?a=e.columns:a=yield(0,B.lastValueFrom)(n._columnDataProvider.getColumns(t),{defaultValue:null}),a})()}_getSortingConfig(e){var t=this;return(0,L.A)(function*(){let n;if(!e.config.sortingConfig||!e.config.sortingConfig.default){const r=yield(0,B.lastValueFrom)(t._columnDataProvider.getPrimaryDisplayColumnName(e),{defaultValue:null});r&&(n=[{columnName:r,direction:"asc"}],e.config.sortingConfig={attributeName:"",default:n})}return{attributeName:t._getSortingColumnName(e.dataSourceName),default:e.config.sortingConfig?.default??n}})()}handle(e){var t=this;return(0,L.A)(function*(){const{config:n}=e,a=e.$context,r=e.listConfigAttributeName;let l=[];l=t._formCustomFilters(n),t._applyBaseFilterAttributeNames(l,e.listDataAttributeName);const c=yield t.getColumns(n,e),u=t._formDataSourceAttributes(c,e.dataSourceName),p=yield t._getSortingConfig(e);yield t.handlerChain.process({type:"crt.LoadDataRequest",$context:e.$context,config:{loadType:d.DataSourceLoadType.Reload,attributeName:e.listDataAttributeName,dataSourceConfig:{type:"crt.EntityDataSource",scope:"viewElement",config:{entitySchemaName:n.schemaName,attributes:u}},filtersConfig:l,pagingConfig:n.pagingConfig,sortingConfig:p,dependencies:n.dependencies}});const w=yield t._columnDataProvider.initColumns(e,c);a.setValue({[r]:w})})()}};ia=(0,f.__decorate)([(0,d.CrtRequestHandler)({type:"crt.WidgetDrilldownHandler",requestType:"crt.WidgetDrilldownRequest"}),(0,f.__metadata)("design:paramtypes",[i.Injector])],ia);var sn=S(59564);class no extends d.BaseRequestHandler{constructor(e){super(),this.injector=e,this._userProfileKeyPrefix="AnalyticsColumns",this._messageDialogProvider=this.injector.get(z.MessageDialogProvider),this.userSchemaProfileService=this.injector.get(Z.UserSchemaProfileService)}getUserProfileKey(e){return`${this._userProfileKeyPrefix}_${e}`}getSysAdminUnits(e){return e?[g.ALL_EMPLOYEES_SYSADMINUNIT_ID,g.ALL_PORTAL_USERS_SYSADMINUNIT_ID]:[""]}isActionConfirmed(e){return e?(0,B.lastValueFrom)(this._messageDialogProvider.confirmation(this.confirmationDialogMessage),{defaultValue:null}):Promise.resolve(!0)}}let ja=class extends d.BaseRequest{};ja=(0,f.__decorate)([(0,d.CrtRequest)({type:"crt.AnalyticsDataGridSaveToProfileRequest"})],ja);let aa=class extends no{constructor(e,t){super(e),this.injector=e,this._notifyService=t,this.confirmationDialogMessage="ConfirmationDialog.SaveDataGridConfigsForAllUsers",this.saveConfigsSuccessMessage="DataGrid.ActionsToolbar.SaveForAllSuccess"}invokeAction(e){var t=this;return(0,L.A)(function*(){const n=t.getUserProfileKey(e.schemaName);let a=e?.dataTableData?.sorting;const r=e?.dataTableData?.sorting;e.isDefault&&r?.columnName&&(a=[{columnCode:r.columnName,direction:r.direction}]);const l={columns:e?.dataTableData?.columns,sorting:a?.length>0&&a[0]?.columnCode?a:[]},c=t.getSysAdminUnits(e.isDefault);e.listConfigAttributeName&&e.$context.setValue({[e.listConfigAttributeName]:e?.dataTableData}),c.forEach(function(){var u=(0,L.A)(function*(p){yield(0,B.lastValueFrom)(t.userSchemaProfileService.saveProfile(n,l,p),{defaultValue:null})});return function(p){return u.apply(this,arguments)}}())})()}handle(e){var t=this;return(0,L.A)(function*(){e?.dataTableData?.columns&&(yield t.isActionConfirmed(e.isDefault))&&(yield t.invokeAction(e),e.isDefault&&(yield t._notifyService.show({message:t.saveConfigsSuccessMessage})))})()}};aa=(0,f.__decorate)([(0,d.CrtRequestHandler)({type:"crt.AnalyticsDataGridSaveToProfileHandler",requestType:"crt.AnalyticsDataGridSaveToProfileRequest"}),(0,f.__metadata)("design:paramtypes",[i.Injector,sn.NotifyService])],aa);let Ha=class extends d.BaseRequest{};Ha=(0,f.__decorate)([(0,d.CrtRequest)({type:"crt.AnalyticsDataGridGetProfileRequest"})],Ha);let ra=class br extends no{constructor(e,t){super(e),this.injector=e,this._featureValues=t,this.confirmationDialogMessage="ConfirmationDialog.ResetDataGridConfigsToDefault",this._translateService=this.injector.get(j.TranslateService),this._columnDataProvider=this.injector.get(rn)}_localizeColumns(e){e.forEach(t=>{t.captionResources=this._getLocalizableCaptionResources(t),t.caption=this._getLocalizableValue(t)})}_getLocalizableCaptionResources(e){if(e.captionResources)return new g.LocalizableStringArray(e.captionResources);if(e.caption){const t=new g.LocalizableStringArray;return t.setValueLocalizableString(this._translateService.currentLang,e.caption),t}}_getLocalizableValue(e){if(e.captionResources){const t=e.captionResources.getLocalizableString(this._translateService.currentLang);if(t?.value||!e.aggregationConfig)return t?.value}return e.caption}_setAttributeViewModelValue(e,t,n){e.set(t,(0,v.cloneDeep)(n))}_getSortingColumnCode(e,t,n){const a=e.$context,r=n.columns.find(l=>l.code===t.columnCode||l.path===t.columnCode||l.code.endsWith(t.columnCode));if(r){const c=a.attributes[`${e.widgetAttributePrefix}_ListConfig`]?.columns?.find(w=>w.path===r?.path);if(c)return c.code;const u=r.code.split("_"),p=u.splice(u.length-2,u.length-2).join("_");return`${e.widgetAttributePrefix}_${p}`}}_resolveSortingConfig(e,t){let n;if(e.isDefault&&t.sorting.columnName){const a=t.sorting;n=[{columnCode:a.columnName,direction:a.direction}]}else n=t.sorting[0];if(n.columnCode.startsWith(e.widgetAttributePrefix))return t.sorting;{const a=this._getSortingColumnCode(e,n,t);if(a)return[{columnCode:a,direction:n.direction}]}}_setListColumnsToViewModel(e,t){const n=e.$context;t?.sorting?.length&&(t.sorting=this._resolveSortingConfig(e,t)),n.set(e.userProfileDataAttributeName,null),this._setAttributeViewModelValue(n,e.userProfileDataAttributeName,t)}invokeAction(e){var t=this;return(0,L.A)(function*(){let n;const a=e.schemaName,r=t.getUserProfileKey(a),l=yield(0,B.lastValueFrom)(t.userSchemaProfileService.getProfile(r)),c=l[0],u=l[1];if(e.isDefault||(n=c||null),(e.isDefault||!n?.columns)&&(n=u||null,e.isDefault&&t.getSysAdminUnits(!1).forEach(function(){var w=(0,L.A)(function*(D){yield(0,B.lastValueFrom)(t.userSchemaProfileService.saveProfile(r,{columns:null},D))});return function(D){return w.apply(this,arguments)}}()),!n?.columns)){const p={config:e.drilldownConfig};n={columns:yield(0,B.lastValueFrom)(t._columnDataProvider.getColumns(p),{defaultValue:null}),sorting:[]}}n?.columns&&(t._featureValues.DataGridDynamicDSLocalizableTitle&&t._localizeColumns(n?.columns),t._setListColumnsToViewModel(e,n))})()}handle(e){var t=this;return(0,L.A)(function*(){(yield t.isActionConfirmed(e.isDefault))&&(yield t.invokeAction(e))})()}static{this.\u0275fac=function(t){i.\u0275\u0275invalidFactory()}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:br,factory:br.\u0275fac,providedIn:"any"})}};ra=(0,f.__decorate)([(0,d.CrtRequestHandler)({type:"crt.AnalyticsDataGridGetColumnsHandler",requestType:"crt.AnalyticsDataGridGetColumnsRequest"}),(0,f.__param)(1,(0,d.CrtInject)(g.FEATURE_VALUES)),(0,f.__metadata)("design:paramtypes",[i.Injector,Object])],ra);let Ua=class extends d.BaseRequest{constructor(){super(...arguments),this.type="crt.WidgetFullScreenStateChangesRequest"}};Ua=(0,f.__decorate)([(0,d.CrtRequest)({type:"crt.WidgetFullScreenStateChangesRequest"})],Ua);let oa=class extends d.BaseRequestHandler{constructor(e){super(),this._schemaService=e}_getDisplayDataListAttributeName(e){if(!e)return null;const t=e?.listData;return(0,si.isBindingExpression)(t)?(0,si.parseExpression)(t)?.attributePath:t?null:`${Ii.DYNAMIC_DATA_SOURCE_PREFIX}_${e.name}_ListData`}handle(e){const{$context:t,widgetName:n,fullScreenState:a}=e;if(a)return Promise.resolve();const r=t,l=this._schemaService.getViewConfigInfoByName(n)?.viewConfig,c=this._getDisplayDataListAttributeName(l);if(!c)return Promise.resolve();const u=r.getBoundDataSourceNameByAttributePath(c);return u&&r.getModelByName(u)?.destroy(),Promise.resolve()}};oa=(0,f.__decorate)([(0,d.CrtRequestHandler)({type:"crt.WidgetClearDisplayDataListMetadataHandler",requestType:"crt.WidgetFullScreenStateChangesRequest"}),(0,f.__metadata)("design:paramtypes",[si.SchemaService])],oa);var H;(function(o){o.FullFill="full-fill",o.WithoutFill="without-fill",o.PartialFill="partial-fill",o.Glassmorphism="glassmorphism",o.Transparent="transparent"})(H||(H={}));const ln="aggregation";var cn=S(35266);class he extends Z.BaseCachedService{constructor(e,t){super(),this._queryExecutor=e,this._formatterFactory=t}_createEsq(e){const{schemaName:t,filters:n,sectionBindingColumn:a,aggregation:r}=e||{},l=new d.EntitySchemaQuery(t);return l.addColumn(r.column,"aggregation"),this._addFilters(n,l),this._addSectionBindingFilter(a,l),l}_addFilters(e,t){e&&t.filters.add(e.filter)}_addSectionBindingFilter(e,t){e?.path&&e.rootSchemaPrimaryColumnValue&&t.filters.addSchemaColumnFilterWithParameter(d.ComparisonType.Equal,e.path,e.rootSchemaPrimaryColumnValue)}_loadData(e,t){const n=e?JSON.stringify(e):null,a=n&&this.getFromCache(n);if(t&&a)return(0,B.of)(a);const r=this._createEsq(e);return this._queryExecutor.executeSelectQuery(r).pipe((0,N.switchMap)(l=>(0,B.from)(l)),(0,N.tap)(l=>{t&&n&&this.setToCache(n,l)}))}_formatData(e,t){return this._formatterFactory.resolveFormatter(t).format(e?.toString(),t)}getWidgetData(e,t={useCache:!1}){const{providing:n,formatting:a}=e||{};return this._loadData(n,t?.useCache).pipe((0,N.map)(r=>this._formatData(r[ln],a)))}static{this.\u0275fac=function(t){return new(t||he)(i.\u0275\u0275inject(cn.QueryExecutor),i.\u0275\u0275inject(g.FormatterFactory))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:he,factory:he.\u0275fac,providedIn:"root"})}}let za=class extends he{constructor(e,t){super(e,t)}};za=(0,f.__decorate)([(0,f.__param)(0,(0,i.Optional)()),(0,f.__param)(1,(0,i.Optional)()),(0,f.__metadata)("design:paramtypes",[cn.QueryExecutor,g.FormatterFactory])],za);var Pi;(function(o){o.MoreDiagram="more-diagram",o.Equal="equal-size",o.MoreData="more-data"})(Pi||(Pi={}));var Le=S(50456),Vs=S(88412),sa=S.n(Vs);function $a(o){const{name:e}=o||{};return e?.replace(/\./g,"_")||null}function Ns(o){return`CDK.ChartWidget.${(0,v.startCase)(o).replace(" ","")}.Caption`}function Ws(o){return`chart-widget-${o}-menu.icon`}function io(o,e,t){if(!o||o.size===0)return[];const n=[];return o.forEach((a,r)=>{r!==b.Pie&&n.push({handleItemClick:()=>e(a),type:"crt.MenuItem",caption:t.instant(Ns(r)),icon:Ws(r)})}),n}function ao(o,e,t){return{type:"crt.Label",labelTextAlign:"center",caption:e.instant(o),labelColor:t?"#FFFFFF":"#004FD6",labelBackgroundColor:"transparent",labelStyle:{"text-transform":"uppercase"}}}function ro(o){let e;if(o.aggregationType!==d.AggregationType.None&&o.aggregationType!==d.AggregationType.Count){const t=o?.functionArgument;e=t&&t.columnPath}return e}var oe=S(52989);const Gs=["headerTools"],js=["fullScreenButton"],Hs=(o,e,t,n,a)=>({"not-full-screen":o,"menu-not-active":e,"is-mobile":t,"tools-rtl":n,"tools-ltr":a}),Us=o=>({title:o});function zs(o,e){if(o&1){const t=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",12)(1,"crt-breadcrumbs",13),i.\u0275\u0275listener("itemClicked",function(a){i.\u0275\u0275restoreView(t);const r=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(r.onBreadcrumbItemClicked(a))}),i.\u0275\u0275elementEnd()()}if(o&2){const t=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(),i.\u0275\u0275property("breadcrumbs",t.breadcrumbs)("hasBackButton",!0)("textColor",t.titleColor)("ngClass",t.breadcrumbsCssClass)("backButtonFilter",t.buttonFilter)}}function $s(o,e){o&1&&(i.\u0275\u0275elementStart(0,"span"),i.\u0275\u0275text(1," \xA0|\xA0 "),i.\u0275\u0275elementEnd())}function Ys(o,e){if(o&1&&(i.\u0275\u0275elementStart(0,"div",8),i.\u0275\u0275template(1,zs,2,5,"div",9),i.\u0275\u0275elementStart(2,"div",10),i.\u0275\u0275template(3,$s,2,0,"span",11),i.\u0275\u0275text(4),i.\u0275\u0275elementEnd()()),o&2){const t=i.\u0275\u0275nextContext();i.\u0275\u0275styleProp("color",t.titleColor),i.\u0275\u0275property("title",t.title),i.\u0275\u0275attribute("data-qa",t.title),i.\u0275\u0275advance(),i.\u0275\u0275property("ngIf",t.breadcrumbs==null?null:t.breadcrumbs.length),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",t.breadcrumbs==null?null:t.breadcrumbs.length),i.\u0275\u0275advance(),i.\u0275\u0275textInterpolate1(" ",t.title," ")}}function Js(o,e){o&1&&i.\u0275\u0275element(0,"mat-icon",21)}function Ks(o,e){o&1&&i.\u0275\u0275element(0,"mat-icon",22)}function qs(o,e){if(o&1){const t=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",16)(1,"button",17,1),i.\u0275\u0275listener("click",function(a){i.\u0275\u0275restoreView(t);const r=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(r.handleFullScreenClick(a))}),i.\u0275\u0275template(3,Js,1,0,"mat-icon",18)(4,Ks,1,0,"mat-icon",19),i.\u0275\u0275element(5,"div",20),i.\u0275\u0275elementEnd()()}if(o&2){const t=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(),i.\u0275\u0275styleProp("filter",t.buttonFilter),i.\u0275\u0275property("tsDataItemMarker","widget-header-resize-button"),i.\u0275\u0275attribute("aria-label",t.fullScreenLabel),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",!t.isFullScreenMode),i.\u0275\u0275advance(),i.\u0275\u0275property("ngIf",t.isFullScreenMode)}}function Zs(o,e){if(o&1&&(i.\u0275\u0275elementStart(0,"div",16)(1,"button",23,2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275element(4,"mat-icon",24)(5,"div",20),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(6,"crt-menu",25,3),i.\u0275\u0275elementEnd()),o&2){const t=i.\u0275\u0275reference(7),n=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(),i.\u0275\u0275styleProp("filter",n.buttonFilter),i.\u0275\u0275property("crtMenuTriggerFor",t)("tsDataItemMarker","widget-header-menu-button"),i.\u0275\u0275attribute("aria-label",i.\u0275\u0275pipeBind2(3,7,"HeaderWidget.Menu.Caption",i.\u0275\u0275pureFunction1(10,Us,n.title))),i.\u0275\u0275advance(5),i.\u0275\u0275property("items",n.menuItems)("useGlassmorphism",n.useGlassmorphism)}}function Xs(o,e){if(o&1&&(i.\u0275\u0275elementStart(0,"div",14,0),i.\u0275\u0275template(2,qs,6,6,"div",15)(3,Zs,8,12,"div",15),i.\u0275\u0275elementEnd()),o&2){const t=i.\u0275\u0275nextContext();i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction5(3,Hs,!t.isFullScreenMode,!(t.menuTrigger!=null&&t.menuTrigger.menuOpen),t.isMobile,t.isRtl,!t.isRtl)),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",t.headerConfig==null?null:t.headerConfig.showFullScreen),i.\u0275\u0275advance(),i.\u0275\u0275property("ngIf",t.hasAnyVisibleMenuItem)}}class dt{get hasAnyVisibleMenuItem(){return this.menuItems?.filter(e=>e.visible)?.length>0}get fullScreenLabel(){const e=this.isFullScreenMode?"CollapseLabel":"ExpandLabel";return this._translationService.instant("HeaderWidget.Fullscreen."+e,{title:this.title})}get useGlassmorphism(){return this._widgetConfig?.theme===H.Glassmorphism}set widgetConfig(e){(0,v.isEqual)(e,this._widgetConfig)||(this.title=e?.title,this._widgetConfig=e,this._setTheme(this._widgetConfig))}get widgetConfig(){return this._widgetConfig}set headerConfig(e){e&&(this.showTools=e.showTools,this.isFullScreenMode=e.isFullScreenMode,this.title=e?.title,this.chartsSeries=e.chartsSeries,this._headerConfig=e,this.isShowLayoutTools=e.showLayoutTools,this._setTheme({theme:e.theme,color:e.color}),this.menuItems=this._createMenu())}get headerConfig(){return this._headerConfig}set fullScreenButton(e){this._fullScreenButton=e,this._focusOnFullScreenButton()}get fullScreenButton(){return this._fullScreenButton}constructor(){this._fullScreenDirective=(0,i.inject)(Ae,{optional:!0}),this._directionality=(0,i.inject)(Lt.Directionality),this._translationService=(0,i.inject)(j.TranslateService),this._dialogService=(0,i.inject)(sn.DialogService),this.iconPosition=Le.IconPositionEnum.OnlyIcon,this.isShowLayoutTools=!1,this.isFullScreenMode=!1,this.directionTypes=["column","row","row-reverse"],this.isRtl=!1,this.showTools=!1,this.showChartSeriesDrilldown=new i.EventEmitter,this.showDataAsTable=new i.EventEmitter,this.switchChartType=new i.EventEmitter,this.switchDirectionType=new i.EventEmitter,this.fullScreenStateChanged=new i.EventEmitter,this.breadcrumbItemClick=new i.EventEmitter,this._initializeDirectionality(),this._initializeUserAgent()}_createMenu(){const e=[];return this._createChartSeriesMenu(e,this.headerConfig?.displayDataSeries),e.push({type:"crt.MenuItem",icon:"change-layout-icon",items:this._createDirectionOptionsMenu(),visible:this.headerConfig?.showLayoutTools,caption:this._translationService.instant("CDK.HeaderWidget.Direction.Menu.Caption")}),this.chartsSeries&&this._setChartTypeMenuItems(e,this.chartsSeries),e}_createChartSeriesMenu(e,t){!t||t.length<=0||(e.push({type:"crt.MenuItem",caption:this._translationService.instant("CDK.ChartWidget.Common.ShowSeriesDataCaption"),icon:"chart-show-data.icon",items:this._createChartSeriesMenuItems(t)}),e.push({type:"crt.MenuItem",caption:this._translationService.instant("CDK.ChartWidget.Common.ShowDataAsTableCaption"),icon:"chart-show-data-as-table.icon",handleItemClick:()=>this.handleDataAsTableClick()}))}_createChartSeriesMenuItems(e){const t=[];return e.forEach(n=>{const a=zn(n.color);t.push({handleItemClick:()=>this.handleSeriesClick(n),type:"crt.MenuItem",caption:n.label,iconColor:a?.color,icon:"dot.icon"})}),t}_setChartTypeMenuItems(e,t){e.push({type:"crt.MenuDivider",visible:!!(this.headerConfig?.showLayoutTools||this.headerConfig?.displayDataSeries)}),e.push(ao("CDK.ChartWidget.ChangeChartType.Caption",this._translationService,this.useGlassmorphism),...io(t,this.handleMenuItemClick.bind(this),this._translationService))}_createDirectionOptionsMenu(){const e=[];return this.directionTypes.forEach(t=>{e.push({handleItemClick:()=>this.handleDirectionMenuItemClick(t),type:"crt.MenuItem",caption:this._translationService.instant(this.getChangeDirectionOptionCaption(t)),icon:this.getChangeDirectionOptionIconName(t)})}),e}_setTheme(e){const{theme:t,color:n=q}=e||{},a=zn(n);switch(t){case H.Transparent:case H.WithoutFill:{this.headerThemeCssClass=H.WithoutFill,this.background=q,this.titleColor=a.color,this.buttonFilter=sa().hexToFilter(this.titleColor).color;break}case H.PartialFill:{this.headerThemeCssClass=H.PartialFill,this.breadcrumbsCssClass="widget-header-breadcrumbs-partial-fill",this.background=`${a.gradient.linear} no-repeat 0% 0% / 100% 13px`,this.titleColor=a.color,this.buttonFilter=sa().hexToFilter(this.titleColor).color;break}case H.Glassmorphism:{this.headerThemeCssClass=H.Glassmorphism,this.titleColor=q,this.background="unset",this.buttonFilter=sa().hexToFilter(q).color;break}default:this.headerThemeCssClass="",this.titleColor=q,this.background=a.gradient.linear||"",this.buttonFilter=sa().hexToFilter(q).color}this.headerConfig?.background&&(this.background=this.headerConfig.background),this.headerThemeCssClass+=` widget-header-${this.isRtl?"rtl":"ltr"} ${this.showTools?"tools-shows":""}`,this.isRtl&&(this.breadcrumbsCssClass=`${this.breadcrumbsCssClass} widget-header-breadcrumbs-rtl`)}_convertDirectionOption(e){return!this.isRtl||e==="column"?e:e==="row"?"row-reverse":"row"}_initializeDirectionality(){this.isRtl=this._directionality?.value==="rtl"}_focusOnFullScreenButton(){this._fullScreenDirective?.isModeChangedByKeyboard&&setTimeout(()=>{this.headerConfig?.showDataAsTable||this.fullScreenButton.nativeElement?.focus()})}_setDirectiveKeyboardFlag(e){e?.pointerType!=="mouse"&&this._fullScreenDirective&&(this._fullScreenDirective.isModeChangedByKeyboard=!0)}getChangeDirectionOptionCaption(e){const t=this._convertDirectionOption(e);return`CDK.HeaderWidget.Direction.${(0,v.startCase)(t).replace(/\s/g,"")}.Caption`}getChangeDirectionOptionIconName(e){return`layout-position-${this._convertDirectionOption(e)}`}onKeydownHandler(e){if(e.key==="Escape"){const t=this._dialogService.hasOpenDialogs();this.isFullScreenMode&&!t&&this.handleFullScreenClick(e)}}onBreadcrumbItemClicked(e){this.breadcrumbItemClick.emit(e)}handleDirectionMenuItemClick(e){this.switchDirectionType.emit(e)}handleFullScreenClick(e){this._setDirectiveKeyboardFlag(e),this.isFullScreenMode=!this.isFullScreenMode,this.fullScreenStateChanged.emit(this.isFullScreenMode)}handleMenuItemClick(e){this.switchChartType.emit(e)}handleSeriesClick(e){this.showChartSeriesDrilldown.emit(e.index)}handleDataAsTableClick(){this.showDataAsTable.emit()}_initializeUserAgent(){this.isMobile=h.UserAgentUtils.isMobile}ngAfterViewInit(){this._fullScreenModeSubscription=this._fullScreenDirective?.isFullScreenModeChange.subscribe(this._focusOnFullScreenButton.bind(this))}ngOnDestroy(){this._fullScreenModeSubscription?.unsubscribe()}static{this.\u0275fac=function(t){return new(t||dt)}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:dt,selectors:[["crt-widget-header"]],viewQuery:function(t,n){if(t&1&&(i.\u0275\u0275viewQuery(Gs,5),i.\u0275\u0275viewQuery(js,5),i.\u0275\u0275viewQuery(z.CrtMenuTriggerDirective,5)),t&2){let a;i.\u0275\u0275queryRefresh(a=i.\u0275\u0275loadQuery())&&(n.headerTools=a.first),i.\u0275\u0275queryRefresh(a=i.\u0275\u0275loadQuery())&&(n.fullScreenButton=a.first),i.\u0275\u0275queryRefresh(a=i.\u0275\u0275loadQuery())&&(n.menuTrigger=a.first)}},hostBindings:function(t,n){t&1&&i.\u0275\u0275listener("keydown",function(r){return n.onKeydownHandler(r)},!1,i.\u0275\u0275resolveDocument)},inputs:{breadcrumbs:"breadcrumbs",widgetConfig:"widgetConfig",headerConfig:"headerConfig",showTools:"showTools",chartsSeries:"chartsSeries"},outputs:{showChartSeriesDrilldown:"showChartSeriesDrilldown",showDataAsTable:"showDataAsTable",switchChartType:"switchChartType",switchDirectionType:"switchDirectionType",fullScreenStateChanged:"fullScreenStateChanged",breadcrumbItemClick:"breadcrumbItemClick"},decls:4,vars:5,consts:[["headerTools",""],["fullScreenButton",""],["trigger","crtMenuTrigger"],["dirTypes",""],[1,"widget-header",3,"ngClass"],[1,"widget-header-container"],["class","widget-title",3,"title","color",4,"ngIf"],["class","tools",3,"ngClass",4,"ngIf"],[1,"widget-title",3,"title"],["class","breadcrumbs-block",4,"ngIf"],[1,"title-block"],[4,"ngIf"],[1,"breadcrumbs-block"],[1,"widget-header-breadcrumbs",3,"itemClicked","breadcrumbs","hasBackButton","textColor","ngClass","backButtonFilter"],[1,"tools",3,"ngClass"],["class","tool-item",4,"ngIf"],[1,"tool-item"],["type","button","role","button",1,"action-button",3,"click","tsDataItemMarker"],["svgIcon","maximize-icon",4,"ngIf"],["svgIcon","minimize-icon",4,"ngIf"],[1,"button-hover"],["svgIcon","maximize-icon"],["svgIcon","minimize-icon"],["type","button",1,"action-button",3,"crtMenuTriggerFor","tsDataItemMarker"],["svgIcon","menu"],[3,"items","useGlassmorphism"]],template:function(t,n){t&1&&(i.\u0275\u0275elementStart(0,"div",4)(1,"div",5),i.\u0275\u0275template(2,Ys,5,7,"div",6)(3,Xs,4,9,"div",7),i.\u0275\u0275elementEnd()()),t&2&&(i.\u0275\u0275styleProp("background",n.background),i.\u0275\u0275property("ngClass",n.headerThemeCssClass),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",n.title),i.\u0275\u0275advance(),i.\u0275\u0275property("ngIf",n.showTools))},dependencies:[P.NgClass,P.NgIf,oe.MatIcon,Le.DataItemMarkerDirective,z.CrtMenuComponent,z.CrtMenuTriggerDirective,z.CrtBreadcrumbsComponent,j.TranslatePipe],styles:[`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}.analytics-widget .tools.not-full-screen.menu-not-active{opacity:0}.analytics-widget .tools.not-full-screen.menu-not-active.is-mobile{opacity:1}.analytics-widget:hover .tools.not-full-screen.menu-not-active,.analytics-widget:focus-within .tools.not-full-screen.menu-not-active{opacity:1}.widget-header{display:flex;height:46px;align-items:flex-start;border-radius:8px 8px 0 0;background-size:cover;background-repeat:no-repeat}.widget-header .widget-header-container .widget-title{display:flex;min-width:0}.widget-header.partial-fill{background-size:100% 5px}.widget-header.partial-fill .widget-header-container{justify-content:space-between;margin-top:5px;height:27px;line-height:27px;border-radius:8px 8px 0 0}.widget-header.tools-shows .widget-header-container{padding-inline:16px}.widget-header .action-button{border:none;padding:0;outline:none;cursor:pointer;box-sizing:content-box;width:24px;height:24px;display:flex;align-items:center;justify-content:center;background-color:transparent}.widget-header .action-button .button-hover{position:absolute;top:50%;left:50%;height:50%;width:50%;transform:translate(-50%,-50%);background-color:#0000;border-radius:5px;transition:all .3s}.widget-header .action-button:focus-within .button-hover,.widget-header .action-button:hover .button-hover{background-color:#00000026;width:100%;height:100%}.widget-header .action-button mat-icon{width:16px;height:16px}.widget-header .widget-header-container{width:100%;height:38px;padding:0 16px;font-size:16px;line-height:38px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex}.widget-header .widget-header-container .breadcrumbs-block{display:flex;max-width:45%}.widget-header .widget-header-container .title-block{display:flex;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.widget-header .widget-header-container .breadcrumbs-holder{max-width:100%}.widget-header .tools{margin:0;display:flex;align-items:center;transition:opacity .35s;margin-inline-start:auto}.widget-header .tools .tool-item{position:relative}.widget-header .tools .tool-item .chart-icon{display:flex;width:16px;height:16px;line-height:16px}.widget-header .tools .tool-item .arrow-down{display:flex;width:8px;height:16px;line-height:16px;margin-left:4px}crt-breadcrumbs.widget-header-breadcrumbs .breadcrumbs{padding:0}crt-breadcrumbs.widget-header-breadcrumbs .breadcrumbs-back-button{margin-top:3px}crt-breadcrumbs.widget-header-breadcrumbs .separator{vertical-align:top}crt-breadcrumbs.widget-header-breadcrumbs .breadcrumbs .breadcrumbs-container{display:flex;margin:11px 0 8px;width:100%}crt-breadcrumbs.widget-header-breadcrumbs .breadcrumbs .breadcrumbs-container .breadcrumb,crt-breadcrumbs.widget-header-breadcrumbs .breadcrumbs .breadcrumbs-container .breadcrumb:not(.last-item):hover,crt-breadcrumbs.widget-header-breadcrumbs .breadcrumbs .breadcrumbs-container .separator{color:inherit;font-size:14px}crt-breadcrumbs.widget-header-breadcrumbs .breadcrumbs .breadcrumbs-container .breadcrumb.first-item{max-width:60%}crt-breadcrumbs.widget-header-breadcrumbs-partial-fill .breadcrumbs .breadcrumbs-container{margin:6px 6px 8px 0;width:100%}crt-breadcrumbs.widget-header-breadcrumbs-partial-fill .breadcrumbs-back-button{margin-top:-2px}crt-breadcrumbs.widget-header-breadcrumbs-rtl .breadcrumbs-back-button{transform:rotate(180deg)}
`],encapsulation:2})}}const Qs=["*",[["mat-icon"]]],el=["*","mat-icon"];function tl(o,e){o&1&&(i.\u0275\u0275elementStart(0,"div",7),i.\u0275\u0275projection(1,1),i.\u0275\u0275elementEnd())}function nl(o,e){o&1&&i.\u0275\u0275element(0,"mat-icon",8)}class ci{set backgroundImageName(e){this._backgroundImageName=e}get backgroundImageName(){return this._backgroundImageName}constructor(e){this._directionality=e,this.isRtl=!1,this.hasCustomIcon=!1,this.widgetHeaderClick=new i.EventEmitter,this._initializeDirectionality()}_initializeDirectionality(){this.isRtl=this._directionality.value==="rtl"}onClickHandler(){this.widgetHeaderClick.emit()}static{this.\u0275fac=function(t){return new(t||ci)(i.\u0275\u0275directiveInject(Lt.Directionality))}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:ci,selectors:[["crt-card-widget-header"]],hostVars:2,hostBindings:function(t,n){t&1&&i.\u0275\u0275listener("click",function(){return n.onClickHandler()}),t&2&&i.\u0275\u0275classProp("rtl",n.isRtl)},inputs:{isRtl:"isRtl",caption:"caption",hasCustomIcon:"hasCustomIcon",backgroundImageName:"backgroundImageName"},outputs:{widgetHeaderClick:"widgetHeaderClick"},ngContentSelectors:el,decls:9,vars:4,consts:[[1,"card-widget-header"],[1,"card-widget-header-text"],[1,"card-widget-header-text-caption"],[3,"tsDataItemMarker"],[1,"card-widget-header-text-content"],["class","custom-icon-container",4,"ngIf"],["class","card-widget-header-arrow","svgIcon","widget-header-arrow",4,"ngIf"],[1,"custom-icon-container"],["svgIcon","widget-header-arrow",1,"card-widget-header-arrow"]],template:function(t,n){t&1&&(i.\u0275\u0275projectionDef(Qs),i.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),i.\u0275\u0275text(4),i.\u0275\u0275elementEnd()(),i.\u0275\u0275elementStart(5,"div",4),i.\u0275\u0275projection(6),i.\u0275\u0275elementEnd()(),i.\u0275\u0275template(7,tl,2,0,"div",5)(8,nl,1,0,"mat-icon",6),i.\u0275\u0275elementEnd()),t&2&&(i.\u0275\u0275advance(3),i.\u0275\u0275property("tsDataItemMarker","card-widget-header-text-caption"),i.\u0275\u0275advance(),i.\u0275\u0275textInterpolate1(" ",n.caption," "),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",n.hasCustomIcon),i.\u0275\u0275advance(),i.\u0275\u0275property("ngIf",!n.hasCustomIcon))},dependencies:[P.NgIf,oe.MatIcon,Le.DataItemMarkerDirective],styles:[`crt-card-widget-header{position:relative;display:block}crt-card-widget-header.rtl .card-widget-header-arrow{transform:rotate(180deg)}.card-widget-header{padding:16px 16px 12px;min-height:60px;width:100%;display:flex;flex-direction:row;align-items:center;cursor:pointer;background-size:cover}.card-widget-header .card-widget-header-text{width:calc(100% - 26px)}.card-widget-header .card-widget-header-text .card-widget-header-text-caption{font-size:14px;line-height:18px;letter-spacing:1.5px;color:#fff;text-transform:uppercase;font-family:Montserrat,serif;font-weight:700;overflow:hidden;flex-wrap:wrap}.card-widget-header .card-widget-header-text .card-widget-header-text-caption label{cursor:pointer}.card-widget-header .card-widget-header-text .card-widget-header-text-content{cursor:pointer;display:flex;flex-direction:row;font-size:12px;line-height:16px;color:#fff;flex-wrap:wrap;opacity:.8}.card-widget-header .card-widget-header-text .card-widget-header-text-content *{cursor:pointer}.card-widget-header .card-widget-header-arrow{width:26px;height:26px}
`],encapsulation:2,changeDetection:0})}}var di=S(67047);class ce{constructor(e,t){this._matIconRegistry=e,this._domSanitizer=t,this._registerIcons()}_registerIcons(){["layout-position-column","layout-position-row-reverse","layout-position-row","menu","maximize-icon","minimize-icon","switch-chart-type","widget-header-arrow","chart-show-data.icon","chart-show-data-as-table.icon","chart-widget-tsfunnel-menu.icon","chart-widget-doughnut-menu.icon","chart-widget-horizontal-bar-menu.icon","chart-widget-bar-menu.icon","chart-widget-area-menu.icon","chart-widget-spline-menu.icon","chart-widget-scatter-menu.icon","chart-widget-line-menu.icon","dot.icon","change-layout-icon"].forEach(t=>{const n=S(62929)("./"+t+".svg");this._matIconRegistry.addSvgIconLiteral(t,this._domSanitizer.bypassSecurityTrustHtml(n))})}static{this.\u0275fac=function(t){return new(t||ce)(i.\u0275\u0275inject(oe.MatIconRegistry),i.\u0275\u0275inject(Yi.DomSanitizer))}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:ce})}static{this.\u0275inj=i.\u0275\u0275defineInjector({imports:[P.CommonModule,oe.MatIconModule,di.MatLegacyMenuModule,Le.DataItemMarkerModule,z.CrtButtonModule,z.CrtMenuModule,z.CrtBreadcrumbsModule,j.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(ce,{declarations:[dt,ci],imports:[P.CommonModule,oe.MatIconModule,di.MatLegacyMenuModule,Le.DataItemMarkerModule,z.CrtButtonModule,z.CrtMenuModule,z.CrtBreadcrumbsModule,j.TranslateModule],exports:[dt,ci]})})();var Fi;(function(o){o.DrillDownShowPointData="DrillDownShowPointData",o.DrillDownShowSeriesData="DrillDownShowSeriesData",o.DrillDownTimeSpent="DrillDownTimeSpent"})(Fi||(Fi={}));class ae{constructor(e,t){this.translationService=e,this._rightsService=t,this._canCreateDefaultGridSettings$=this._rightsService?.getCanExecuteOperation(ea.CAN_CREATE_DEFAULT_GRID_SETTING_OPERATION_CODE).pipe((0,B.shareReplay)(1))}getToolbarItems(e,t){const{schemaName:n,drillDownEventConfig:a,gridTitle:r}=t,l=e.get(ne.VIEW_ELEMENT_CONFIG).name.replace(".","_"),c=`${Ii.DYNAMIC_DATA_SOURCE_PREFIX}_${l}`,u=`${c}_UserProfileData`,p=`${c}_ListData`,w=`${p}DSSorting`,D=`${c}_ListConfig`,F=[{type:"crt.MenuItem",caption:this.translationService.instant("DataGrid.ActionsToolbar.ResetToDefault"),icon:"reset",clicked:{request:"crt.AnalyticsDataGridGetColumnsRequest",params:{userProfileDataAttributeName:u,widgetAttributePrefix:c,drilldownConfig:{...a,columns:a?.columns?.map(k=>(delete k.cellView,delete k.editingCellView,k))},schemaName:n,isDefault:!0}}},{type:"crt.MenuItem",caption:this.translationService.instant("CDK.ChartWidget.Common.ExportDataBtnCaption"),icon:"export-button-icon",clicked:{request:"crt.ExportChartDataGridToExcelRequest",params:{viewModelAttributeName:p,fileName:r,columns:`$${D} | crt.ToObjectProp : 'columns'`}}}];return(this._canCreateDefaultGridSettings$??(0,B.of)(!1)).pipe((0,B.tap)(k=>{if(k){const A={type:"crt.MenuItem",caption:this.translationService.instant("DataGrid.ActionsToolbar.SaveForAll"),icon:"save",clicked:{request:"crt.AnalyticsDataGridSaveToProfileRequest",params:{schemaName:n,isDefault:!0,dataTableData:{columns:`$${D} | crt.ToObjectProp : 'columns'`,sorting:`$attributes.${w} | crt.ToObjectProp: '0'`}}}};F.splice(0,0,A)}}),(0,B.map)(()=>F))}static{this.\u0275fac=function(t){return new(t||ae)(i.\u0275\u0275inject(j.TranslateService),i.\u0275\u0275inject(Z.RightsService,8))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:ae,factory:ae.\u0275fac})}}class X extends ne.CrtBaseComponent{get isWidgetDataSourceSupported(){return(0,B.firstValueFrom)(this._isWidgetDataSourceSupported$).then(e=>e&&!this.isDesignTimeInjected)}set sectionBindingColumnRecordId(e){this.setSectionBindingColumnRecordId(e),this.changeDetectorRef.detectChanges()}get sectionBindingRecordId(){return this._sectionBindingRecordId}set listConfig(e){e&&(this._listConfig=e,this.gridData={items:this.listData,...e,features:{...this.drillDownModeDataGridFeatures}},this._setDataGridHeaderToolbarItems(),e.sorting||this.listConfigChange.emit())}get listConfig(){return this._listConfig}set userProfileData(e){const t=e?.columns;if(t&&(!this.lastColumnConfig||this.lastColumnConfig?.map(n=>n.id).filter(n=>t.map(a=>a.id).includes(n)))){this.lastColumnConfig=t,this.gridData={...this.gridData,columns:this.lastColumnConfig};const n=e?.sorting;if(n){const r={attributeName:"",default:n?.map(l=>({columnName:l.columnCode.split("_").pop(),direction:l.direction}))};this.sortingColumns=n,this.sortingConfig=r}this.drilldownData(this.lastPoint)}}get listData(){return this._listData}set listData(e){this._listData=e,e&&(this.gridData={items:e,...this.listConfig},this.listConfigChange.emit())}constructor(e,t,n,a,r,l,c=null){super(e),this.featureService=t,this.googleTagManagerService=n,this.isDesignTimeInjected=a,this.entitySchemaProvider=r,this.translationService=l,this.toolbarItemsProvider=c,this._startDrillDownMenuDate=new Date,this._isWidgetDataSourceSupported$=new B.ReplaySubject(1),this.listConfigChange=new i.EventEmitter,this.onDataLoaded=new i.EventEmitter,this.drillDownModeDataGridFeatures={rows:{toolbar:!1},columns:{sorting:!0},editable:!1},this.showAsTableModeDataGridFeatures={rows:{numeration:!1,selection:!1,hierarchical:!1,toolbar:!1},columns:{sorting:!1,resizing:!1,dragAndDrop:!1,adding:!1,toolbar:!1},editable:!1},this.analyticsConfig={...Qr},this.isWaitingDataLoad=!1,this.gridTitle="",this.dataGridHeaderToolbarItems=[],this.searchValue="",this.drillDown=new i.EventEmitter,this.paginationChange=new i.EventEmitter,this.columnsChange=new i.EventEmitter,this.resetToDefault=new i.EventEmitter,this.getProfileColumns=new i.EventEmitter,this.sortingChange=new i.EventEmitter,this.searchFilterChange=new i.EventEmitter,this.fullScreenStateChanged=new i.EventEmitter,this._fullHeight=!1,this._entitySchemaService=e.get(g.EntitySchemaService),this._fullHeight=!!a}_onDataChange(){this.isWaitingDataLoad&&(this.isWaitingDataLoad=!1,this.onDataLoaded.emit())}_trackDrillDownData(e){const n={action:e.groupByValue?Fi.DrillDownShowPointData:Fi.DrillDownShowSeriesData,moduleName:"WidgetsModule",schemaName:e.schemaName};this.googleTagManagerService.track(n),this._startDrillDownMenuDate=new Date}_trackDrillDownTimeData(){const t=((new Date().getTime()-this._startDrillDownMenuDate.getTime())/1e3).toFixed(1);this._startDrillDownMenuDate=null;const n={action:Fi.DrillDownTimeSpent,moduleName:"WidgetsModule",schemaName:this._analyticsSchemaName,details:`${t} S`};this.googleTagManagerService.track(n)}_initializeSchemaModel(){const e=this.getSchemaName();e&&this.getEntitySchemaByName(e).pipe((0,N.first)()).subscribe(t=>{this.entitySchemaModel=t})}_setDataGridHeaderToolbarItems(){const e={schemaName:this._analyticsSchemaName,drillDownEventConfig:this._drillDownEventConfig,gridTitle:this.gridTitle};this.toolbarItemsProvider?.getToolbarItems(this.injector,e).pipe((0,N.take)(1)).subscribe(t=>{this.dataGridHeaderToolbarItems=t})}_getIsColumnsListChanged(e,t){return e?.length!==t?.length||e?.filter(n=>!t?.some(a=>n?.id===a?.id&&n?.code===a?.code&&n?.path===a?.path&&JSON.stringify(n?.aggregationConfig)===JSON.stringify(a?.aggregationConfig))).length>0}_getReferenceColumnCaption(e,t){var n=this;return(0,L.A)(function*(){return(yield(0,B.firstValueFrom)(n._entitySchemaService.getEntitySchemaColumnsInformationByPath(e.uId,t))).caption})()}_resetDrilldownColumnConfigIfNotActual(e,t){!e?.schemaName||!t?.schemaName||(t.schemaName!==e.schemaName||t.aggregateBy!==e.aggregateBy)&&(this.lastColumnConfig=null,this.sortingConfig=null)}getEntitySchemaByName(e){return this.entitySchemaProvider.getSchemaByName(e)}createWidgetDrilldownEventConfig(e){return null}setSectionBindingColumnRecordId(e){this._sectionBindingRecordId=e}setHeaderConfig(e){const t=this.headerConfig?.isFullScreenMode,n=this.headerConfig?.showLayoutTools;this.headerConfig=this.createHeaderConfig(e),this.headerConfig.isFullScreenMode=t,n&&(this.headerConfig.showLayoutTools=n),this.changeDetectorRef.detectChanges()}createHeaderConfig(e){return{visible:!0,title:e.title,color:e.color,theme:e.theme,showTools:!1,isFullScreenMode:!1,showFullScreen:!0,showLayoutTools:!1}}hasSectionBindingColumnRecordId(){return this.sectionBindingRecordId&&typeof this.sectionBindingRecordId=="string"}clearTable(){var e=this;return(0,L.A)(function*(){e.gridData?.items instanceof Ii.BaseViewModelCollection&&(yield e.gridData?.items?.clear()),e.gridData?.items?.splice(0,e.gridData?.items?.length)})()}getColumnCaptionByPath(e,t){var n=this;return(0,L.A)(function*(){let a;return t?.includes("[")||t?.includes(".")?a=yield n._getReferenceColumnCaption(e,t):a=e?.columns.filter(r=>r.name===t)[0]?.caption,a})()}getDisplayMode(e,t,n){switch(!0){case(e&&t):return"split";case(e&&n):return"table";default:return"diagram"}}ngOnInit(){this.featureService.getFeatureState(Ba).pipe((0,N.map)(e=>!e),(0,N.takeUntil)(this.destroyed$)).subscribe(e=>this._isWidgetDataSourceSupported$.next(e)),this.googleTagManagerService.initialize().pipe((0,N.takeUntil)(this.destroyed$)).subscribe(e=>{this.drillDown.pipe((0,N.takeUntil)(this.destroyed$)).subscribe(t=>{this._trackDrillDownData(t)})}),this.listConfigChange.pipe((0,N.takeUntil)(this.destroyed$)).subscribe(()=>{this._onDataChange()}),this._initializeSchemaModel(),this.byCaption=this.translationService.instant("CDK.ByCaption")}ngOnDestroy(){super.ngOnDestroy(),this._sectionBindingRecordId=null}applyFullscreenMode(e,t,n){const a=this.getDisplayMode(e,t,n);this.analyticsConfig={...this.analyticsConfig,displayMode:a,isFullScreenMode:e},this.headerConfig={...this.headerConfig,showLayoutTools:e&&t,isFullScreenMode:e,showDataAsTable:!!n},!e&&this._startDrillDownMenuDate&&(this._trackDrillDownTimeData(),this.lastColumnConfig=null,this.sortingConfig=null,this.sortingColumns=null),this.fullScreenStateChanged.emit(e)}onSortingChange(e){this.sortingColumns=e;const t=e.map(n=>({columnName:n.columnCode.split("_").pop(),direction:n.direction}));this.sortingConfig={attributeName:"",default:t},this.columnsChange.emit({schemaName:this._analyticsSchemaName,dataTableData:{columns:this.gridData?.columns,sorting:e,primaryColumnName:this.gridData?.primaryColumnName,header:this.gridData?.header}}),this.drilldownData(this.lastPoint)}drilldownData(e){var t=this;return(0,L.A)(function*(){if(!e)return;const n=t._drillDownEventConfig;t._drillDownEventConfig=t.createWidgetDrilldownEventConfig(e),t._resetDrilldownColumnConfigIfNotActual(t._drillDownEventConfig,n),t._analyticsSchemaName=t._drillDownEventConfig?.schemaName,t.lastPoint=e,t.isWaitingDataLoad=!0,yield t.clearTable(),t.lastColumnConfig?(e?.applyFullScreenMode!==!1&&t.applyFullscreenMode(!0,!0),t.drillDown.emit(t._drillDownEventConfig)):t.getProfileColumns.emit({schemaName:t._analyticsSchemaName,drilldownConfig:t._drillDownEventConfig})})()}onAnalyticsViewChanged(e){const t=this._getIsColumnsListChanged(e,this.listConfig?.columns);this.lastColumnConfig=e,this.columnsChange.emit({schemaName:this._analyticsSchemaName,dataTableData:{columns:e,sorting:this.sortingColumns,primaryColumnName:this.gridData?.primaryColumnName,header:this.gridData?.header}}),t&&this.drilldownData(this.lastPoint)}onPaginationChange(e){this.paginationChange.emit(e)}onGetProfileColumns(){var e=this;return(0,L.A)(function*(){yield e.getProfileColumns.emit({schemaName:e._analyticsSchemaName,drilldownConfig:null})})()}handleDirectionMenuItemClick(e){this.analyticsConfig={...this.analyticsConfig,contentDirection:e}}handleSearchFilterChange(e){this.searchFilterChange.emit(e)}static{this.\u0275fac=function(t){i.\u0275\u0275invalidFactory()}}static{this.\u0275dir=i.\u0275\u0275defineDirective({type:X,hostVars:2,hostBindings:function(t,n){t&2&&i.\u0275\u0275classProp("flex-full-height",n._fullHeight)},inputs:{sectionBindingColumnRecordId:"sectionBindingColumnRecordId",listConfig:"listConfig",userProfileData:"userProfileData",listData:"listData",searchValue:"searchValue",pagingConfig:"pagingConfig",sortingConfig:"sortingConfig"},outputs:{drillDown:"drillDown",paginationChange:"paginationChange",columnsChange:"columnsChange",resetToDefault:"resetToDefault",getProfileColumns:"getProfileColumns",sortingChange:"sortingChange",searchFilterChange:"searchFilterChange",fullScreenStateChanged:"fullScreenStateChanged"},features:[i.\u0275\u0275InheritDefinitionFeature]})}}(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",String),(0,f.__metadata)("design:paramtypes",[String])],X.prototype,"sectionBindingColumnRecordId",null),(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",Object),(0,f.__metadata)("design:paramtypes",[Object])],X.prototype,"listConfig",null),(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",Object),(0,f.__metadata)("design:paramtypes",[Object])],X.prototype,"userProfileData",null),(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",Object),(0,f.__metadata)("design:paramtypes",[Object])],X.prototype,"listData",null),(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",Object)],X.prototype,"searchValue",void 0),(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",Object)],X.prototype,"pagingConfig",void 0),(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",Object)],X.prototype,"sortingConfig",void 0),(0,f.__decorate)([(0,d.CrtOutput)(),(0,f.__metadata)("design:type",Object)],X.prototype,"drillDown",void 0),(0,f.__decorate)([(0,d.CrtOutput)(),(0,f.__metadata)("design:type",Object)],X.prototype,"paginationChange",void 0),(0,f.__decorate)([(0,d.CrtOutput)(),(0,f.__metadata)("design:type",Object)],X.prototype,"columnsChange",void 0),(0,f.__decorate)([(0,d.CrtOutput)(),(0,f.__metadata)("design:type",Object)],X.prototype,"resetToDefault",void 0),(0,f.__decorate)([(0,d.CrtOutput)(),(0,f.__metadata)("design:type",Object)],X.prototype,"getProfileColumns",void 0),(0,f.__decorate)([(0,d.CrtOutput)(),(0,f.__metadata)("design:type",Object)],X.prototype,"sortingChange",void 0),(0,f.__decorate)([(0,d.CrtOutput)(),(0,f.__metadata)("design:type",Object)],X.prototype,"searchFilterChange",void 0),(0,f.__decorate)([(0,d.CrtOutput)(),(0,f.__metadata)("design:type",Object)],X.prototype,"fullScreenStateChanged",void 0);const oo={seriesConfig:{legend:{color:Pe,enabled:!1},dataLabel:{color:Pe}},theme:"filled"},so={seriesConfig:{legend:{color:q,enabled:!1},dataLabel:{color:q}},scale:{color:q},theme:"glassmorphism"},il={...so,seriesConfig:{...so.seriesConfig,border:{width:1,color:"rgba(255, 255, 255, 0.2)",hoverColor:"rgba(255, 255, 255, 0.5)"}}},Ya=[[H.Glassmorphism,"any",il],["any","any",oo]],lo="ChartDrilldown",co="ChartDrilldownByChartSeriesMenu",uo="ChartLegendClickMenu",go="ChartSeriesClickChangeType",la="columnIsNotNullFilter",al="crt.ChartWidget";class dn{createLabels(e){return(0,v.first)(e).map(t=>t.grouping&&t.grouping.displayValue)}static{this.\u0275fac=function(t){return new(t||dn)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:dn,factory:dn.\u0275fac})}}class un{constructor(e){this.formatterFactory=e}_createLabel(e,t){const{grouping:n,aggregation:a}=e,r=n?.displayValue||"",l=a?.value||0,c=this.formatterFactory.resolveFormatter(t).format(l.toString(),t);return`${r} (${c})`}createLabels(e,t){const n=(0,v.first)(t)?.data?.formatting;return(0,v.first)(e).map(a=>this._createLabel(a,n))}static{this.\u0275fac=function(t){return new(t||un)(i.\u0275\u0275inject(g.FormatterFactory))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:un,factory:un.\u0275fac})}}const ca=new i.InjectionToken("Represents the collection of chart labels creators");function rl(o){return o.some(e=>e?.type===b.Funnel)}function ol(){return h.FactoryProvider.create({token:ca,mappings:[{predicate:rl,injectable:un}],default:{injectable:dn}})}class ui{static{this.\u0275fac=function(t){return new(t||ui)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:ui})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[dn,un,ol()]})}}class sl{}class we{get seriesDataSet(){return this.seriesData.map(e=>e.aggregation&&e.aggregation.value)}get seriesLabels(){return this.seriesData.map(e=>e.grouping?.displayValue||"")}get seriesData(){return this._seriesData??[]}get seriesConfig(){return this._seriesConfig}get baseSeriesOptions(){return{label:this.seriesConfig?.label,legend:this.seriesConfig?.legend,dataLabel:this.seriesConfig?.dataLabel,dataItems:this.seriesData,providing:this.seriesConfig?.data?.providing,dataSet:{data:this.seriesDataSet,labels:this.seriesLabels,formatting:this.seriesConfig?.data?.formatting},border:this.seriesConfig?.border}}setSeriesData(e){return this._seriesData=e,this}setSeriesConfig(e){return this._seriesConfig=e,this}}class gn extends we{get chartType(){return b.Area}createSeries(){const{color:e}=this.seriesConfig;return new Pa({...this.baseSeriesOptions,color:e})}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(gn)))(n||gn)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:gn,factory:gn.\u0275fac})}}class hn extends we{get chartType(){return b.Bar}createSeries(){const{color:e,stack:t}=this.seriesConfig;return new Zi({...this.baseSeriesOptions,color:e,stack:t})}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(hn)))(n||hn)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:hn,factory:hn.\u0275fac})}}class pn extends we{get chartType(){return b.Doughnut}createSeries(){return new Fa({...this.baseSeriesOptions})}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(pn)))(n||pn)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:pn,factory:pn.\u0275fac})}}const Ja=new i.InjectionToken("Represents a collection of chart series builders");function ve(o){return{provide:Ja,useClass:o,multi:!0}}class fn extends we{get chartType(){return b.HorizontalBar}createSeries(){const{color:e,stack:t}=this.seriesConfig;return new Aa({...this.baseSeriesOptions,color:e,stack:t})}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(fn)))(n||fn)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:fn,factory:fn.\u0275fac})}}class mn extends we{get chartType(){return b.Line}createSeries(){const{color:e}=this.seriesConfig;return new xi({...this.baseSeriesOptions,color:e})}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(mn)))(n||mn)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:mn,factory:mn.\u0275fac})}}class Cn extends we{get chartType(){return b.Pie}createSeries(){return new Mi({...this.baseSeriesOptions})}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Cn)))(n||Cn)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Cn,factory:Cn.\u0275fac})}}class _n extends we{get chartType(){return b.Scatter}createSeries(){const{color:e}=this.seriesConfig;return new Oa({...this.baseSeriesOptions,color:e})}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(_n)))(n||_n)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:_n,factory:_n.\u0275fac})}}class yn extends we{get chartType(){return b.Spline}createSeries(){const{color:e}=this.seriesConfig;return new qi({...this.baseSeriesOptions,color:e})}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(yn)))(n||yn)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:yn,factory:yn.\u0275fac})}}class bn extends we{get chartType(){return b.Funnel}createSeries(){const{colors:e}=this.seriesConfig;return new Ra({...this.baseSeriesOptions,colors:e})}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(bn)))(n||bn)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:bn,factory:bn.\u0275fac})}}class ut{constructor(e){this._seriesBuilders=e}resolveSeriesBuilder(e){const t=this._seriesBuilders.find(n=>n.chartType===e);if(t)return t;throw new Error(`Cannot resolve chart series builder by the '${e}' type.`)}static{this.\u0275fac=function(t){return new(t||ut)(i.\u0275\u0275inject(Ja))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:ut,factory:ut.\u0275fac,providedIn:"root"})}}const Ka=new i.InjectionToken("Represents a factory of chart series data config converters");class qa{addFilters(e,t){const n=t?.filter;n&&e.filters.add(n)}addAggregateColumn(e,t,n){const a=t?.column;a.orderDirection=n,a.orderPosition=0,e.addColumn(a,ln)}addSectionBindingFilter(e,t){t?.path&&t?.rootSchemaPrimaryColumnValue&&e.filters.addSchemaColumnFilterWithParameter(d.ComparisonType.Equal,t.path,t.rootSchemaPrimaryColumnValue)}toEsq(e,t){const n=new d.EntitySchemaQuery(e.schemaName);return this.addFilters(n,e.filters),this.addSectionBindingFilter(n,e.sectionBindingColumn),this.addGroupColumn(n,e.grouping,t?.type===ye.ByGroupingValue?t.direction:d.OrderDirection.None),this.addAggregateColumn(n,e.aggregation,t?.type===ye.ByAggregationValue?t.direction:d.OrderDirection.None),n.rowCount=e.rowCount,n}}const da="grouping",wn="datePart_";class gt extends qa{addGroupColumn(e,t,n){const a=t?.column||[];a.forEach((r,l)=>{const c=`${wn}${r.expression?.datePartType}`,u=r;u.orderDirection=n,u.orderPosition=a.length-l,e.addColumn(u,c)})}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(gt)))(n||gt)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:gt,factory:gt.\u0275fac})}}class ht extends qa{addGroupColumn(e,t,n){const a=t?.column;a.orderDirection=n,a.orderPosition=0,e.addColumn(a,da)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(ht)))(n||ht)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:ht,factory:ht.\u0275fac})}}function ho(){return h.FactoryProvider.create({token:Ka,mappings:[{predicate:te.ByValue,injectable:ht},{predicate:te.ByDatePart,injectable:gt}]})}class gi{static{this.\u0275fac=function(t){return new(t||gi)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:gi})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[ht,gt,ho()]})}}class Za{getAggregationSeriesData(e){return{value:e[ln]}}generateEntities(e,t){return(0,v.cloneDeep)(e)}toSeriesData(e,t={enable:!1,limit:0}){return this.generateEntities(e,t).map(a=>({grouping:this.getGroupedSeriesData(a),aggregation:this.getAggregationSeriesData(a)}))}}class ke{constructor(e){this.translateService=e}getValue(e){return typeof e=="number"||typeof e=="string"&&e?e:e?.toString()||null}getDisplayValue(e){return e?.toString()||this.translateService.instant("CDK.ChartWidget.Common.EmptyValue")}toGroupedData(e){const t=this.getValue(e),n=this.getDisplayValue(e);return{value:t,orderValue:t??n,displayValue:n,dataValueType:d.DataValueType.Text}}static{this.\u0275fac=function(t){return new(t||ke)(i.\u0275\u0275inject(j.TranslateService))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:ke,factory:ke.\u0275fac})}}class pt extends ke{getDisplayValue(e){return e==null?super.getDisplayValue(e):e?this.translateService.instant("CDK.ChartWidget.Common.BooleanTrueValue"):this.translateService.instant("CDK.ChartWidget.Common.BooleanFalseValue")}toGroupedData(e){return{...super.toGroupedData(e),orderValue:this.getDisplayValue(e),dataValueType:d.DataValueType.Boolean}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(pt)))(n||pt)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:pt,factory:pt.\u0275fac})}}const Xa=new i.InjectionToken("Represents a factory of chart series grouped data converters");class ft extends ke{getValue(e){return e?.value||null}getDisplayValue(e){return e?.displayValue??super.getDisplayValue(null)}toGroupedData(e){return{...super.toGroupedData(e),orderValue:this.getDisplayValue(e)}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(ft)))(n||ft)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:ft,factory:ft.\u0275fac})}}class mt extends Za{constructor(e){super(),this._chartSeriesGroupedDataConverterFactory=e}getGroupedSeriesData(e){const t=e[da];return this._chartSeriesGroupedDataConverterFactory.create(t).toGroupedData(t)}static{this.\u0275fac=function(t){return new(t||mt)(i.\u0275\u0275inject(Xa))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:mt,factory:mt.\u0275fac})}}const ll=new Map([[d.DatePartType.Day,"days"],[d.DatePartType.Month,"months"],[d.DatePartType.Year,"years"]]);var cl=S(30046),dl=S.n(cl);class Ai{constructor(){this._minYearValue=1970,this._minDayWeekHourValue=1,this._dateTimeDurationDefs=[{priority:1,datePartUnit:"y",datePartType:d.DatePartType.Year,fixDurationValue:e=>e===0?this._minYearValue:e},{priority:2,datePartUnit:"M",datePartType:d.DatePartType.Month,fixDurationValue:e=>e>0?e-1:e},{priority:3,datePartUnit:"w",datePartType:d.DatePartType.Week,fixDurationValue:e=>e===0?this._minDayWeekHourValue:e},{priority:4,datePartUnit:"date",datePartType:d.DatePartType.Day,fixDurationValue:e=>e===0?this._minDayWeekHourValue:e},{priority:5,datePartUnit:"h",datePartType:d.DatePartType.Hour,fixDurationValue:e=>e===0?this._minDayWeekHourValue:e}]}_toDurationDefValue(e){const{value:t,datePartType:n}=e,{priority:a,datePartUnit:r,fixDurationValue:l}=this._dateTimeDurationDefs.find(c=>c.datePartType===n);return{value:l(t??0),priority:a,datePartType:n,datePartUnit:r}}_sortDurationsByPriority(e,t){return e.priority>t.priority?1:-1}toMoment(e){return e.map(t=>this._toDurationDefValue(t)).sort((t,n)=>this._sortDurationsByPriority(t,n)).reduce((t,{value:n,datePartUnit:a})=>t.set(a,n),dl()(0))}static{this.\u0275fac=function(t){return new(t||Ai)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ai,factory:Ai.\u0275fac,providedIn:"root"})}}class vn extends Za{constructor(e,t){super(),this._formatterFactory=e,this._datePartValuesToMomentConverter=t,this._datePartTypeUnitMapping={[d.DatePartType.Year]:"y",[d.DatePartType.Month]:"M",[d.DatePartType.Week]:"w",[d.DatePartType.Day]:"d",[d.DatePartType.Hour]:"h"},this._datePartTypeRangeMapping={[d.DatePartType.Month]:()=>({min:1,max:12}),[d.DatePartType.Week]:()=>({min:1,max:53}),[d.DatePartType.Day]:()=>({min:1,max:31}),[d.DatePartType.Hour]:()=>({min:0,max:23}),[d.DatePartType.Year]:n=>({min:Math.min(...n)||1970,max:Math.max(...n)})}}_getGroupedDateValues(e){return Object.keys(e).filter(t=>t.startsWith(wn)).map(t=>({value:e[t],datePartType:this._getDatePartType(t)}))}_getDatePartType(e){const t=e.replace(wn,"");return parseInt(t,10)}_getGroupedDateValue(e){return this._getMomentDateValue(e).unix()}_getMomentDateValue(e){const t=e.map(({value:n,datePartType:a})=>({value:n,datePartType:a}));return this._datePartValuesToMomentConverter.toMoment(t)}_appendDataBySingleGroupByColumn(e,t){const n=wn+t,a=e.map(c=>c[n]),{min:r,max:l}=this._datePartTypeRangeMapping[t](a);for(let c=r;c<=l;c++)(0,v.some)(e,p=>p[n]===c)||e.push({[n]:c,[ln]:0});return e}_appendDataByMultipleGroupByColumns(e,t,n){if(e.length<=1)return e;const{min:a,max:r}=this._getDateTimeRange(e);for(;a<r&&e.length<n;){this._incrementDateTime(a,t);const l=this._generateEmptyItem(a,t);(0,v.some)(e,u=>this.getGroupedSeriesData(u).value===this.getGroupedSeriesData(l).value)||e.push(l)}return e}_getDateTimeRange(e){const t=[...e].sort((n,a)=>{const r=this._getGroupedDateValue(this._getGroupedDateValues(n)),l=this._getGroupedDateValue(this._getGroupedDateValues(a));return r>l?1:-1});return{min:this._getGroupedDateTime((0,v.first)(t)),max:this._getGroupedDateTime((0,v.last)(t))}}_getGroupedDateTime(e){const t=this._getGroupedDateValues(e);return t?.length===1?t[0].value:this._getMomentDateValue(t)}_incrementDateTime(e,t){const n=this._datePartTypeUnitMapping[(0,v.first)(t)];return e.add(1,n)}_generateEmptyItem(e,t){const n={[ln]:0};return t.forEach(a=>{n[wn+a]=this._getDateTimePart(a,e)}),n}_getDateTimePart(e,t){switch(e){case d.DatePartType.Day:return t.get("date");case d.DatePartType.Month:return t.get("month")+1;case d.DatePartType.Year:return t.get("year");default:return 0}}_getDateTimeFormat(e){return e.reduce((t,n)=>n.datePartType===d.DatePartType.Hour?{...t,time:{display:!0,format:"hour"}}:{...t,date:{display:!0,format:n.datePartType===d.DatePartType.Week?"week":new Set([...t.date?.format??[],ll.get(n.datePartType)])}},{type:"datetime"})}_getDisplayValue(e,t){const n=this._getGroupedDateTime(e),a=this._getDateTimeFormat(t),r=this._formatterFactory.resolveFormatter(a);return typeof n=="number"?n.toString():r.format(n.toString(),a)}getGroupedSeriesData(e){const t=this._getGroupedDateValues(e),n=this._getGroupedDateValue(t),a=this._getDisplayValue(e,t);return{value:n,displayValue:a,orderValue:n,datePartValue:t}}generateEntities(e,t){const{enable:n,limit:a}=t,r=super.generateEntities(e,t);if(r.length===0||!n)return r;const l=this._getGroupedDateValues((0,v.first)(r));if(l.length===1){const p=(0,v.first)(l).datePartType;return this._appendDataBySingleGroupByColumn(r,p)}const u=l.map(p=>p.datePartType);return this._appendDataByMultipleGroupByColumns(r,u,a)}static{this.\u0275fac=function(t){return new(t||vn)(i.\u0275\u0275inject(g.FormatterFactory),i.\u0275\u0275inject(Ai))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:vn,factory:vn.\u0275fac})}}const ua=new i.InjectionToken("Represents a factory of chart series data converters");function ul(){return h.FactoryProvider.create({token:ua,mappings:[{predicate:te.ByValue,injectable:mt},{predicate:te.ByDatePart,injectable:vn}],default:{injectable:mt}})}function gl(){return h.FactoryProvider.create({token:Xa,mappings:[{predicate:o=>typeof o=="object",injectable:ft},{predicate:o=>typeof o=="boolean",injectable:pt}],default:{injectable:ke}})}class hi{static{this.\u0275fac=function(t){return new(t||hi)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:hi})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[mt,vn,ul(),ke,pt,ft,gl()]})}}class Sn{normalizeSeriesData(e){const t=e.flat().map(r=>r.grouping.value),n=e.flat().reduce((r,l)=>(r[l.grouping.value]=l,r),{}),a=new Set(t);return e.map(r=>Array.from(a,l=>{const c=r.find(p=>p.grouping.value===l);if(c)return c;const u=v.clone(n[l]);return Object.assign(u,{aggregation:{value:0}})}))}static{this.\u0275fac=function(t){return new(t||Sn)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Sn,factory:Sn.\u0275fac,providedIn:"root"})}}class po{constructor(e,t,n){this._queryExecutor=e,this._chartSeriesDataConfigConverter=t,this._chartSeriesDataConverter=n}_isNotNullFilterExists(e){return!!e?.filter?.items?.[la]}getSeriesData(e,t){if(!e)return(0,B.of)([]);const n=this._chartSeriesDataConfigConverter.toEsq(e,t);return this._queryExecutor.executeSelectQuery(n).pipe((0,N.switchMap)(a=>(0,B.of)(this._chartSeriesDataConverter.toSeriesData(a,{enable:this._isNotNullFilterExists(e?.filters)===!1,limit:e?.rowCount}))))}}class Tn{constructor(e,t,n){this._queryExecutor=e,this._seriesDataConverterFactory=t,this._seriesDataConfigConverterFactory=n}resolveSeriesDataProvider(e){const t=e?.grouping?.type,n=this._seriesDataConverterFactory.create(t),a=this._seriesDataConfigConverterFactory.create(t);return new po(this._queryExecutor,a,n)}static{this.\u0275fac=function(t){return new(t||Tn)(i.\u0275\u0275inject(cn.QueryExecutor),i.\u0275\u0275inject(ua),i.\u0275\u0275inject(Ka))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Tn,factory:Tn.\u0275fac,providedIn:"root"})}}class Qa{get orderDirectionIndex(){return this.seriesOrderConfig.direction===d.OrderDirection.Desc?-1:1}compareValues(e,t){return typeof e=="string"&&typeof t=="string"?(e=e.toLocaleLowerCase(),t=t.toLocaleLowerCase(),e.localeCompare(t)*this.orderDirectionIndex):e>t?this.orderDirectionIndex:-this.orderDirectionIndex}setSeriesData(e){return this.seriesData=e??[],this}setSeriesOrderConfig(e){return this.seriesOrderConfig=e,this}}class Ct extends Qa{get _mainSeriesIndex(){const e=this.seriesOrderConfig.seriesIndex??0,t=this.seriesData?.length?this.seriesData.length-1:0;return e>t?0:e}sort(){const t=[...this.seriesData[this._mainSeriesIndex]].sort((n,a)=>this.compareValues(n.aggregation.value,a.aggregation.value));return this.seriesData.map(n=>t.map(a=>n.find(r=>r.grouping.value===a.grouping.value)))}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Ct)))(n||Ct)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ct,factory:Ct.\u0275fac})}}const ga=new i.InjectionToken("Represents a factory of chart series data sorters");class _t extends Qa{sort(){return this.seriesData.map(e=>[...e].sort((t,n)=>this.compareValues(t.grouping.orderValue,n.grouping.orderValue)))}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(_t)))(n||_t)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:_t,factory:_t.\u0275fac})}}function fo(){return h.FactoryProvider.create({token:ga,mappings:[{predicate:ye.ByAggregationValue,injectable:Ct},{predicate:ye.ByGroupingValue,injectable:_t}]})}class pi{static{this.\u0275fac=function(t){return new(t||pi)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:pi})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[Ct,_t,fo()]})}}class Dn{constructor(e,t,n){this._chartSeriesDataProviderFactory=e,this._chartSeriesDataNormalizer=t,this._chartSeriesDataSorterFactory=n}_getSeriesData(e,t){const n=e.map(a=>this._chartSeriesDataProviderFactory.resolveSeriesDataProvider(a).getSeriesData(a,t));return(0,B.forkJoin)(n)}_sortSeriesData(e,t){return t?this._chartSeriesDataSorterFactory.create(t.type).setSeriesData(e).setSeriesOrderConfig(t).sort():e}getSeriesData(e,t){return this._getSeriesData(e,t).pipe((0,N.map)(n=>this._chartSeriesDataNormalizer.normalizeSeriesData(n)),(0,N.map)(n=>this._sortSeriesData(n,t)))}static{this.\u0275fac=function(t){return new(t||Dn)(i.\u0275\u0275inject(Tn),i.\u0275\u0275inject(Sn),i.\u0275\u0275inject(ga))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Dn,factory:Dn.\u0275fac,providedIn:"root"})}}class ha{}const er=new i.InjectionToken("A chart theme palette configurations");class xn extends ha{constructor(e){super(),this._configurations=e??Ya}resolveConfiguration(e,t){let n=this._configurations.find(([r,l])=>e===r&&t===l);if(n||(n=this._configurations.find(([r,l])=>e===r&&l==="any")),n||(n=this._configurations.find(([r,l])=>r==="any"&&l===t)),n||(n=this._configurations.find(([r,l])=>r==="any"&&l==="any")),!n)throw new Error(`Not found chart widget palette config with: widgetTheme:${e} chartType:${t}`);const[,,a]=n;return a}static{this.\u0275fac=function(t){return new(t||xn)(i.\u0275\u0275inject(er,8))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:xn,factory:xn.\u0275fac,providedIn:"root"})}}class yt{get _chartScales(){return(0,v.defaultsDeep)({},this._scales,this._initialChartWidgetConfig?.scale)}get _chartLabels(){return this._chartLabelsCreatorFactory.create(this._seriesConfigs).createLabels(this._seriesData,this._seriesConfigs)}get _chartSeries(){return this._seriesConfigs.map((e,t)=>{const n=(0,v.defaultsDeep)({},e,this._initialChartWidgetConfig?.seriesConfig);return this._chartSeriesBuilderFactory.resolveSeriesBuilder(n.type).setSeriesData(this._seriesData[t]).setSeriesConfig(n).createSeries()})}constructor(e,t,n,a,r){this._chartSeriesBuilderFactory=e,this._chartSeriesDataNormalizer=t,this._chartWidgetPaletteProvider=n,this._chartLabelsCreatorFactory=a,this._chartSeriesDataSorterFactory=r,this._seriesData=[],this._seriesConfigs=[]}_adjustSeriesData(){if(this._seriesData=this._chartSeriesDataNormalizer.normalizeSeriesData(this._seriesData),!this._seriesOrder)return;const e=this._chartSeriesDataSorterFactory.create(this._seriesOrder.type);this._seriesData=e.setSeriesData(this._seriesData).setSeriesOrderConfig(this._seriesOrder).sort()}setTheme(e){return this._theme=e,this}setScales(e){return this._scales=e??{},this}setSeriesData(e){return this._seriesData=e??[],this}setSeriesOrder(e){return this._seriesOrder=e,this}setSeriesConfigs(e){return this._seriesConfigs=e??[],this}setTitle(e){return this._title=e,this}build(){return this._initialChartWidgetConfig=this._chartWidgetPaletteProvider.resolveConfiguration(this._theme),this._seriesData.length===0?{theme:this._initialChartWidgetConfig?.theme,labels:[],series:[]}:(this._adjustSeriesData(),{theme:this._initialChartWidgetConfig?.theme,labels:this._chartLabels,series:this._chartSeries,scales:this._chartScales,title:this._title})}static{this.\u0275fac=function(t){return new(t||yt)(i.\u0275\u0275inject(ut),i.\u0275\u0275inject(Sn),i.\u0275\u0275inject(xn),i.\u0275\u0275inject(ca),i.\u0275\u0275inject(ga))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:yt,factory:yt.\u0275fac})}}class bt{constructor(e,t,n,a){this._chartSeriesBuilderFactory=e,this._multipleChartSeriesDataProvider=t,this._chartLabelsCreatorFactory=n,this._widgetPaletteProvider=a}_getSeriesData(e,t){const n=e.map(a=>a.data?.providing);return this._multipleChartSeriesDataProvider.getSeriesData(n,t)}_getChartLabels(e,t){return this._chartLabelsCreatorFactory.create(e).createLabels(t,e)}_getChartSeries(e,t,n){return e.map((a,r)=>{const l=this._widgetPaletteProvider.resolveConfiguration(n,a.type),c=(0,v.defaultsDeep)({},a,l.seriesConfig);return this._chartSeriesBuilderFactory.resolveSeriesBuilder(c.type).setSeriesData(t[r]).setSeriesConfig(c).createSeries()})}getChartConfig(e){const t=e.series||[],n=e.seriesOrder,a=this._getSeriesData(t,n),r=e.theme,l=this._widgetPaletteProvider.resolveConfiguration(r);return a.pipe((0,N.map)(c=>c.length===0?{labels:[],series:[],theme:l.theme}:{labels:this._getChartLabels(t,c),series:this._getChartSeries(t,c,r),scales:(0,v.defaultsDeep)({},e.scales,l.scale),theme:l.theme}))}static{this.\u0275fac=function(t){return new(t||bt)(i.\u0275\u0275inject(ut),i.\u0275\u0275inject(Dn),i.\u0275\u0275inject(ca),i.\u0275\u0275inject(ha))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:bt,factory:bt.\u0275fac,providedIn:"root"})}}class Mn{convert(e,t){return new t({...e})}static{this.\u0275fac=function(t){return new(t||Mn)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Mn,factory:Mn.\u0275fac,providedIn:"root"})}}var hl=S(8990);class wt{constructor(e,t){this._structureExplorerService=e,this._entitySchemaProvider=t}_openStructureExplorer(e){const t=this._getStructureExplorerConfig(e.uId);return this._structureExplorerService.show(t)}_getStructureExplorerConfig(e){return{providers:[this._getDataProviderConfig(e)],enableMultiSelection:!1}}_getDataProviderConfig(e){return{name:hl.StructureExplorerConst.Providers.ENTITY_SCHEMA,options:{entitySchemaUId:e}}}_getEntitySchemaByName(e){return this._entitySchemaProvider.getSchemaByName(e)}show(e){return this._getEntitySchemaByName(e).pipe((0,N.switchMap)(t=>this._openStructureExplorer(t)))}static{this.\u0275fac=function(t){return new(t||wt)(i.\u0275\u0275inject(Ei.StructureExplorerService),i.\u0275\u0275inject(g.EntitySchemaProvider))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:wt,factory:wt.\u0275fac})}}function tr(o,e){const t=o?.columnPath;return t?e+(0,g.removeSpecialSymbols)(t):null}function pl(o){return tr(o,"")}function fl(o,e){return tr(e,`${d.DatePartType[o]}Grouping`)}function ml(o){return tr(o,"Aggregation")}function pa(o){const e=$a(o);return e?`${e}_SeriesData`:null}function Oi(o){const e=$a(o);return e?`${e}_SeriesDataProvidingConfigs`:null}class nr{}const ir=new i.InjectionToken("Represents a factory of chart widget series data grouping config creators");class vt extends nr{_toDatePartFunctionColumn(e){if(!e?.path||e?.type!=="Function")return null;const t=e?.functionConfig;return t?.type!=="datePart"?null:new d.DatePartFunctionColumn((0,d.toDatePartType)(t.datePart),new d.ColumnExpression({columnPath:e.path}))}create(e,t){const n=t?.attributes??[],a=e?.attributes??{},r=n.map(l=>a?.[l?.name]).map(l=>this._toDatePartFunctionColumn(l)).filter(Boolean);return r.length===0?null:{type:te.ByDatePart,column:r}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(vt)))(n||vt)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:vt,factory:vt.\u0275fac})}}class St extends nr{create(e,t){const n=[...t?.attributes??[]].shift()?.name,a=e?.attributes?.[n];return a?.path?{type:te.ByValue,column:new d.EntityQueryColumn(a.path)}:null}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(St)))(n||St)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:St,factory:St.\u0275fac})}}class In extends st{constructor(e,t,n){super(e,t),this._seriesDataGroupingConfigCreatorFactory=n}create(e,t){const n=super.create(e,t);if(!n)return null;const{attribute:a,grouping:r}=e??{},l=this.getCollectionAttributeConfig(a,t)?.modelConfig;if(!l)return null;const c=l.pagingConfig?.rowCount,u=this.getDataSourceConfig(l.path,t);return{...n,rowCount:c,grouping:this._seriesDataGroupingConfigCreatorFactory.create(r?.type)?.create(u,r)}}static{this.\u0275fac=function(t){return new(t||In)(i.\u0275\u0275inject(ot),i.\u0275\u0275inject(Qe),i.\u0275\u0275inject(ir))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:In,factory:In.\u0275fac})}}function Cl(){return h.FactoryProvider.create({token:ir,mappings:[{predicate:"datePart",injectable:vt}],default:{injectable:St}})}class En{static{this.\u0275fac=function(t){return new(t||En)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:En})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[In,vt,St,Cl()],imports:[lt]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(En,{imports:[lt]})})();class fi extends Na{constructor(e,t){super(),this._widgetDataProvidingConfigCreator=e,this._widgetDataProvidingMetadataCleaner=t}_clearWidgetMetadata(e,t){delete e.seriesData,delete e.seriesConfigsChanged;const n=t?.viewModelConfig?.attributes;if((0,v.isEmpty)(n))return;const a=pa(e),r=Oi(e);delete n[a],delete n[r]}_compressSeriesMetadata(e,t){const n=e.config?.series;if(!n)return;const a=this._getSeriesDataProvidingViewConfigs(e,t).map(r=>this._compressSeriesDataProvidingMetadata(r,t));n.filter(r=>r?.data?.providing).map(r=>({seriesConfig:r,newDataProvidingConfig:a.find(l=>l?.attribute===r.data.providing.attribute)})).filter(({newDataProvidingConfig:r})=>r).forEach(({seriesConfig:r,newDataProvidingConfig:l})=>r.data.providing=l)}_getSeriesDataProvidingViewConfigs(e,t){const n=Oi(e);return t?.viewModelConfig?.attributes?.[n]?.value??[]}_compressSeriesDataProvidingMetadata(e,t){if(!e)return null;const n=this._widgetDataProvidingConfigCreator.create(e,t);return this._clearSeriesDataProvidingMetadata(e.attribute,t),n}_clearSeriesDataProvidingMetadata(e,t){const n=t?.viewModelConfig?.attributes;!e||(0,v.isEmpty)(n)||(delete n[`${e}_FiltersChangeDetection`],this._widgetDataProvidingMetadataCleaner.clear(e,t))}compress(e,t){const n=this.getWidgetViewConfig(e,t);n&&(this._compressSeriesMetadata(n,t),this._clearWidgetMetadata(n,t))}static{this.\u0275fac=function(t){return new(t||fi)(i.\u0275\u0275inject(In),i.\u0275\u0275inject(Oe))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:fi,factory:fi.\u0275fac})}}class Ri{static{this.\u0275fac=function(t){return new(t||Ri)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:Ri})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[fi,Oe],imports:[En]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(Ri,{imports:[En]})})();const ar=new i.InjectionToken("Represents a factory of chart widget series data grouping config creators");class rr{}class Tt extends rr{_createDatePartAttribute(e){const{datePartType:t,functionArgument:n}=e??{},a=n?.columnPath;return a?{type:"function",name:`${(0,g.removeSpecialSymbols)(a)}_${d.DatePartType[t]}_Grouping`,path:a,functionConfig:{type:"datePart",datePart:(0,d.toDatePart)(t)}}:null}create(e){return{type:"datePart",attributes:(e?.column??[]).map(n=>this._createDatePartAttribute(n?.expression)).filter(Boolean)}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Tt)))(n||Tt)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Tt,factory:Tt.\u0275fac})}}class Dt extends rr{_createDataSourceAttribute(e){const t=e?.columnPath;return t?{type:"default",name:(0,g.removeSpecialSymbols)(t),path:t}:null}create(e){const t=this._createDataSourceAttribute(e?.column?.expression);return{type:"default",attributes:t?[t]:[]}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Dt)))(n||Dt)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Dt,factory:Dt.\u0275fac})}}class or{create(e,t){if(!e||!t?.length)return[];const n=(0,d.toSortDirection)(e.direction);return t.map(({name:a})=>({direction:n,attributeName:a}))}}class Be extends it{constructor(e,t,n,a,r){super(e,t,n),this._sortingConfigCreator=a,this._groupingConfigCreatorFactory=r}_createSortingConfig(e,t,n){const a=e?.type===ye.ByGroupingValue?t.attributes:n.attributes;return this._sortingConfigCreator.create(e,a)}_enableLoadOnFiltersChange(e){return e?.filter(Boolean).map(t=>({...t,loadOnChange:!t.attribute?.endsWith(`_${ta}`)}))}create(e){const{viewConfig:t,dataProvidingConfig:n}=e??{},{seriesOrder:a}=t?.config??{},{rowCount:r,grouping:l}=n??{},c=this._groupingConfigCreatorFactory.create(l?.type)?.create(l),u=super.create(e);if(!u||!c)return null;const p=this._createSortingConfig(a,c,u.aggregation);return{...u,paging:{rowCount:r},filters:this._enableLoadOnFiltersChange(u.filters),sorting:p,grouping:c}}static{this.\u0275fac=function(t){return new(t||Be)(i.\u0275\u0275inject(et),i.\u0275\u0275inject(tt),i.\u0275\u0275inject(nt),i.\u0275\u0275inject(or),i.\u0275\u0275inject(ar))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Be,factory:Be.\u0275fac})}}function _l(){return h.FactoryProvider.create({token:ar,mappings:[{predicate:te.ByValue,injectable:Dt},{predicate:te.ByDatePart,injectable:Tt}]})}class Ve{static{this.\u0275fac=function(t){return new(t||Ve)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:Ve})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[Be,or,Tt,Dt,_l()],imports:[be]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(Ve,{imports:[be]})})();class xt extends ct{getDataSourceAttributes(e){const t=super.getDataSourceAttributes(e),n=e.grouping?.attributes??[];return[...t,...n]}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(xt)))(n||xt)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:xt,factory:xt.\u0275fac})}}const sr=new i.InjectionToken("Represents a factory of chart widget series data source instance config creators"),mi=new i.InjectionToken("Represents a chart widget series model config creator");function yl(){return h.FactoryProvider.create({token:sr,mappings:[{predicate:o=>o==="crt.EntityDataSource",injectable:xt}]})}class Pn{static{this.\u0275fac=function(t){return new(t||Pn)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:Pn})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[{provide:mi,useFactory:e=>new Re(e),deps:[sr]},xt,yl()],imports:[ge]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(Pn,{imports:[ge]})})();class Se extends at{_createPagingConfig(e,t){return{rowCount:t.rowCount,rowsOffset:`${e}_RowsOffset`}}_createSortingConfig(e,t){return t?.length?{default:t.map(({direction:n,attributeName:a})=>({direction:n,columnName:a})),attributeName:`${e}_Sorting`}:null}_createPagingAttributes(e){return{[e.rowsOffset]:{value:-1}}}_createSortingAttributes(e){const{attributeName:t}=e??{};return t?{[t]:{value:null}}:{}}getDataSourceAttributes(e){const t=super.getDataSourceAttributes(e),n=e.grouping?.attributes??[];return[...t,...n]}create(e){const t=super.create(e);if((0,v.isEmpty)(t))return{};const n=e.attribute,a=this._createPagingConfig(n,e.paging),r=this._createSortingConfig(n,e.sorting),l={[n]:{modelConfig:{pagingConfig:a,sortingConfig:r}},...this._createPagingAttributes(a),...this._createSortingAttributes(r)};return(0,v.merge)(t,l)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Se)))(n||Se)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Se,factory:Se.\u0275fac})}}class Ci{static{this.\u0275fac=function(t){return new(t||Ci)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:Ci})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[Se]})}}class Fn extends Wa{constructor(e,t,n){super(e,t,n)}_createWidgetDataProvidingMetadataConfigs(e,t){const n=e?.config?.series??[],a=t.viewModelConfig?.attributes;return n.map(r=>r?.data?.providing).filter(Boolean).map((r,l)=>{r.attribute||=`${$a(e)}_SeriesData_${l}`;const c=this.createWidgetDataProvidingMetadataConfig(e,r,a);return r.dependencies??=c?.dataProvidingConfig?.dependencies,c}).filter(Boolean)}_createSeriesDataAttributes(e,t){const n=t.map(({attribute:l})=>l),a=pa(e),r=Oi(e);return!n||!r?{}:(e.seriesData=`$${a}`,{[a]:{from:[...n],converter:`crt.ToChartWidgetSeriesDataAsync: $${r}`},[r]:{value:t}})}generate(e,t){if(e?.seriesData)return{};const n=this._createWidgetDataProvidingMetadataConfigs(e,t);if(!n.length)return{};const a=n.map(({dataProvidingMetadata:c})=>c),r=n.map(({dataProvidingConfig:c})=>c),l={viewModelConfig:{attributes:{...this._createSeriesDataAttributes(e,r)}}};return(0,v.defaultsDeep)({},...a,l)}static{this.\u0275fac=function(t){return new(t||Fn)(i.\u0275\u0275inject(Be),i.\u0275\u0275inject(mi),i.\u0275\u0275inject(Se))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Fn,factory:Fn.\u0275fac})}}class _i extends Fn{constructor(e,t,n){super(e,t,n)}_bindSeriesData(e){e.seriesData??=`$${pa(e)}`}_bindSeriesConfigsChangedOutput(e){e.seriesConfigsChanged??={request:"crt.ChartWidgetSeriesConfigsChangedRequest",params:{widgetName:e.name,seriesConfigs:"@event",seriesDataProvidingConfigsAttributeName:Oi(e)}}}generate(e,t){const n=super.generate(e,t);return(0,v.isEmpty)(n)||(this._bindSeriesConfigsChangedOutput(e),this._bindSeriesData(e)),n}static{this.\u0275fac=function(t){return new(t||_i)(i.\u0275\u0275inject(Be),i.\u0275\u0275inject(mi),i.\u0275\u0275inject(Se))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:_i,factory:_i.\u0275fac})}}class Li{static{this.\u0275fac=function(t){return new(t||Li)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:Li})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[_i,Fn],imports:[Ve,Pn,Ci,be,ge,rt]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(Li,{imports:[Ve,Pn,Ci,be,ge,rt]})})();class lr{addAggregationColumns(e,t,n){return(0,L.A)(function*(){const{dataSource:a,aggregation:r}=n,l=a?.name,c=(0,v.first)(r?.attributes)?.name;!l||!c||(e[ln]=yield t[`${l}_${c}`])})()}toEntity(e,t){var n=this;return(0,L.A)(function*(){if(!e||!t)return{};const a={};return yield n.addGroupingColumns(a,e,t),yield n.addAggregationColumns(a,e,t),a})()}}class Mt extends lr{addGroupingColumns(e,t,n){return(0,L.A)(function*(){const{dataSource:a,grouping:r}=n,l=a?.name;if(!l)return;const c=r?.attributes??[];for(const u of c){const p=u?.functionConfig;if(u?.name&&p?.type==="datePart"){const w=(0,d.toDatePartType)(p.datePart),D=wn+w;e[D]=yield t[`${l}_${u.name}`]}}})()}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(Mt)))(n||Mt)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Mt,factory:Mt.\u0275fac})}}class It extends lr{addGroupingColumns(e,t,n){return(0,L.A)(function*(){const{dataSource:a,grouping:r}=n,l=a?.name,c=(0,v.first)(r?.attributes)?.name;!l||!c||(e[da]=yield t[`${l}_${c}`])})()}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=i.\u0275\u0275getInheritedFactory(It)))(n||It)}})()}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:It,factory:It.\u0275fac})}}const cr=new i.InjectionToken("Represents a factory of chart widget series view model data converters");class An{constructor(e,t){this._seriesDataConverterFactory=e,this._seriesViewModelDataConverterFactory=t}_getSeriesEntities(e,t){const n=t.grouping.type,a=this._seriesViewModelDataConverterFactory.create(n),r=e.map(l=>a.toEntity(l,t));return Promise.all(r)}_convertToSeriesData(e,t){const{paging:n,filters:a,grouping:r}=t,l=r.type==="default"?te.ByValue:te.ByDatePart,c={limit:n?.rowCount,enable:!this._isNotNullFilterExists(a)};return this._seriesDataConverterFactory.create(l).toSeriesData(e,c)}_isNotNullFilterExists(e){return e.some(({filterValue:t})=>!!t?.items?.[la])}toSeriesData(e,t){var n=this;return(0,L.A)(function*(){const a=yield n._getSeriesEntities(e,t);return n._convertToSeriesData(a,t)})()}static{this.\u0275fac=function(t){return new(t||An)(i.\u0275\u0275inject(ua),i.\u0275\u0275inject(cr))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:An,factory:An.\u0275fac})}}function bl(){return h.FactoryProvider.create({token:cr,mappings:[{predicate:"datePart",injectable:Mt}],default:{injectable:It}})}class yi{static{this.\u0275fac=function(t){return new(t||yi)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:yi})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[An,Mt,It,bl()]})}}class Et{_generateGroupingConfig(e){return{column:this._getSeriesValueDataGroupingColumn(e),type:this._getChartGroupingType(e)}}_getSeriesValueDataGroupingColumn(e){const t=e.data.dataValueType,n=e.columnPath;if(!this._isDateTimeDataValueType(t))return new d.EntityQueryColumn(n);const a=new d.ColumnExpression({columnPath:n});return this._isTimeDataValueType(t)?this._getHourFunctionColumn(a):this._getMonthYearFunctionColumn(a)}_getChartGroupingType(e){return this._isDateTimeDataValueType(e.data.dataValueType)?te.ByDatePart:te.ByValue}_isDateTimeDataValueType(e){return e===d.DataValueType.Date||e===d.DataValueType.DateTime||this._isTimeDataValueType(e)}_isTimeDataValueType(e){return e===d.DataValueType.Time}_isBooleanDataValueType(e){return e===d.DataValueType.Boolean}_getMonthYearFunctionColumn(e){return[new d.DatePartFunctionColumn(d.DatePartType.Month,e),new d.DatePartFunctionColumn(d.DatePartType.Year,e)]}_getHourFunctionColumn(e){return[new d.DatePartFunctionColumn(d.DatePartType.Hour,e)]}_createWidgetDataFiltersConfig(e){const t=e.seriesConfig.data.providing.filters;return{filter:{filterType:d.FilterType.FilterGroup,logicalOperatorType:d.LogicalOperatorType.And,items:this._getWidgetDataFilters(e)},filterAttributes:t?.filterAttributes??[]}}_getWidgetDataFilters(e){const t=e.seriesConfig.data.providing.filters?.filter,n=t&&t.items||{},a=new d.FilterGroup;return this._addFiltersByTypeOfGroupByValue(e,a),n[la]||a.addSchemaColumnIsNotNullFilter(e.item.columnPath),Object.assign({},n,a.items)}_addFiltersByTypeOfGroupByValue(e,t){if(this._isDateTimeDataValueType(e.groupByValue.dataValueType)){this._addDatePartFilter(e,t);return}this._addColumnFilter(e,t)}_addDatePartFilter(e,t){e.groupBy.forEach((n,a)=>{const r=e.groupByValue.value[a],l=new d.DatePartFunctionExpression({datePartType:r.datePartType,functionArgument:new d.ColumnExpression({columnPath:n})}),c=new d.ParameterExpression({value:r.value,dataValueType:d.DataValueType.Integer});t.add(this._getCompareFilter(l,c))})}_addColumnFilter(e,t){const n=this._getGroupColumnValue(e),a=e.groupBy[0];if(n==null){t.addSchemaColumnIsNullFilter(a);return}t.addSchemaColumnFilterWithParameter(d.ComparisonType.Equal,a,n)}_getGroupColumnValue(e){const t=e.groupByValue.value;return this._isBooleanDataValueType(e.groupByValue.dataValueType)?!!t:t}_getCompareFilter(e,t){return new d.CompareFilter(d.ComparisonType.Equal,e,t)}_isNotValidConfig(e){return!e?.item||!e?.seriesConfig||this._isGroupByNotValid(e)}_isGroupByNotValid(e){return!e.groupBy||e.groupBy?.length===0}convert(e){return this._isNotValidConfig(e)?e?.seriesConfig:{...e.seriesConfig,data:{...e.seriesConfig.data,providing:{...e.seriesConfig.data.providing,filters:this._createWidgetDataFiltersConfig(e),grouping:this._generateGroupingConfig(e.item)}}}}static{this.\u0275fac=function(t){return new(t||Et)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Et,factory:Et.\u0275fac})}}var wl=S(23958),vl=S(1606);const Sl=["actionElement"],Tl=["dataGrid"],Dl=[[["",8,"main-content"]]],xl=[".main-content"];function Ml(o,e){o&1&&i.\u0275\u0275element(0,"div")}function Il(o,e){if(o&1){const t=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"crt-widget-header",12),i.\u0275\u0275listener("fullScreenStateChanged",function(a){i.\u0275\u0275restoreView(t);const r=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(r.handleFullScreenClick(a))})("switchChartType",function(a){i.\u0275\u0275restoreView(t);const r=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(r.handleSwitchChartTypeClick(a))})("switchDirectionType",function(a){i.\u0275\u0275restoreView(t);const r=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(r.handleDirectionMenuItemClick(a))})("showChartSeriesDrilldown",function(a){i.\u0275\u0275restoreView(t);const r=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(r.handleShowChartSeriesDrilldownMenuItemClick(a))})("showDataAsTable",function(){i.\u0275\u0275restoreView(t);const a=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(a.handleShowDataAsTableMenuItemClick())})("breadcrumbItemClick",function(a){i.\u0275\u0275restoreView(t);const r=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(r.onBreadcrumbItemClicked(a))}),i.\u0275\u0275elementEnd()}if(o&2){const t=i.\u0275\u0275nextContext(2);i.\u0275\u0275property("chartsSeries",t.chartsSeries)("widgetConfig",t.widgetConfig)("headerConfig",t.headerConfig)("breadcrumbs",t.breadcrumbs)}}function El(o,e){o&1&&(i.\u0275\u0275elementStart(0,"div",13),i.\u0275\u0275projection(1),i.\u0275\u0275elementEnd())}function Pl(o,e){if(o&1&&(i.\u0275\u0275elementStart(0,"div",20),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),o&2){const t=i.\u0275\u0275nextContext(4);i.\u0275\u0275advance(),i.\u0275\u0275textInterpolate1(" ",t.title," ")}}function Fl(o,e){if(o&1){const t=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",17),i.\u0275\u0275template(1,Pl,2,1,"div",18),i.\u0275\u0275elementStart(2,"crt-search-filter",19),i.\u0275\u0275listener("valueChange",function(a){i.\u0275\u0275restoreView(t);const r=i.\u0275\u0275nextContext(3);return i.\u0275\u0275resetView(r.onSearchFilterChange(a))}),i.\u0275\u0275elementEnd()()}if(o&2){const t=i.\u0275\u0275nextContext(3);i.\u0275\u0275advance(),i.\u0275\u0275property("ngIf",t.title),i.\u0275\u0275advance(),i.\u0275\u0275property("value",t.searchValue)}}function Al(o,e){if(o&1){const t=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",14),i.\u0275\u0275template(1,Fl,3,2,"div",15),i.\u0275\u0275elementStart(2,"crt-data-grid",16,3),i.\u0275\u0275listener("sortingChange",function(a){i.\u0275\u0275restoreView(t);const r=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(r.handleSortingChange(a))})("paginationChange",function(a){i.\u0275\u0275restoreView(t);const r=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(r.handlePaginationChange(a))})("columnsChange",function(a){i.\u0275\u0275restoreView(t);const r=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(r.handleColumnChange(a))}),i.\u0275\u0275elementEnd()()}if(o&2){const t=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(),i.\u0275\u0275property("ngIf",(t.analyticsConfig==null?null:t.analyticsConfig.displayMode)!=="table"),i.\u0275\u0275advance(),i.\u0275\u0275property("items",t.gridData.items)("columns",t.gridData.columns)("primaryColumnName",t.gridData.primaryColumnName)("features",t.gridData.features)("header",t.gridData.header)("sorting",t.sorting)("loading",t.loading)("headerToolbarItems",t.dataGridHeaderToolbarItems)}}function Ol(o,e){if(o&1&&(i.\u0275\u0275template(0,Il,1,4,"crt-widget-header",8),i.\u0275\u0275elementStart(1,"div",9,2),i.\u0275\u0275template(3,El,2,0,"div",10)(4,Al,4,9,"div",11),i.\u0275\u0275elementEnd()),o&2){const t=i.\u0275\u0275nextContext();i.\u0275\u0275property("ngIf",t.headerConfig==null?null:t.headerConfig.visible),i.\u0275\u0275advance(),i.\u0275\u0275styleProp("flex-direction",t.analyticsConfig==null?null:t.analyticsConfig.contentDirection),i.\u0275\u0275property("ngClass",t.analyticsConfig==null?null:t.analyticsConfig.contentSizeMode),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",(t.analyticsConfig==null?null:t.analyticsConfig.displayMode)!=="data"||!t.gridData),i.\u0275\u0275advance(),i.\u0275\u0275property("ngIf",(t.analyticsConfig==null?null:t.analyticsConfig.displayMode)!=="diagram"&&t.gridData)}}function Rl(o,e){o&1&&i.\u0275\u0275element(0,"crt-view-element-placeholder")}function Ll(o,e){o&1&&i.\u0275\u0275element(0,"div",21)}class Te{get analyticsConfig(){return this._analyticsConfig}set analyticsConfig(e){this._analyticsConfig=e}set gridData(e){this._gridData=e,this._dataLoaded=e!==void 0,this.loading=this._hasLoadedItems&&!this._gridData?.items?.length}get gridData(){return this._gridData}set searchValue(e){(0,v.isEqual)(e,this._searchValue)||!e&&!this._searchValue||(this._searchValue=e,this._emitSearchFilterChanged(e))}get searchValue(){return this._searchValue}constructor(e,t,n,a,r,l,c){this._elementRef=e,this._injector=t,this.featureService=n,this.usePerformanceOptimization$=r,this._context=l,this._featureValues=c,this._destroyed$=new B.Subject,this._analyticsConfig=Qr,this._dataLoaded=!1,this._hasLoadedItems=!1,this._searchValue="",this._shouldFocusOnDataGrid=!1,this.showTools=!0,this.dataGridHeaderToolbarItems=[],this.switchChartType=new i.EventEmitter,this.showChartSeriesDrilldown=new i.EventEmitter,this.showDataAsTable=new i.EventEmitter,this.sortingChange=new i.EventEmitter,this.paginationChange=new i.EventEmitter,this.columnsChange=new i.EventEmitter,this.getProfileColumns=new i.EventEmitter,this.viewChange=new i.EventEmitter,this.switchDirectionType=new i.EventEmitter,this.fullScreenStateChanged=new i.EventEmitter,this.breadcrumbItemClick=new i.EventEmitter,this.searchFilterChange=new i.EventEmitter,this.fullHeight=!1,this.widgetElement=e.nativeElement.parentElement,this.fullHeight=!!a}_hideFullscreenWidget(){this.analyticsConfig.isFullScreenMode&&(this.handleFullScreenClick(!1),this.headerConfig.visible=!1)}_emitSearchFilterChanged(e){this.gridData?.columns&&this.searchFilterChange.emit({value:e})}handleDirectionMenuItemClick(e){this.switchDirectionType.emit(e)}handleSwitchChartTypeClick(e){this.switchChartType.emit(e)}handleFullScreenClick(e){this.fullScreenStateChanged.emit(e)}handleSortingChange(e){this._hasLoadedItems=!!this._gridData?.items?.length,this.loading=this._hasLoadedItems,this.sortingChange.emit(e)}handlePaginationChange(e){const t={type:e.type};this.paginationChange.emit(t)}handleColumnChange(e){this.columnsChange.emit(),this.viewChange.emit(e)}onBreadcrumbItemClicked(e){this.breadcrumbItemClick.emit(e)}onSearchFilterChange({value:e}){this.searchValue=e}handleShowDataAsTableMenuItemClick(){this._shouldFocusOnDataGrid=!0,this.showDataAsTable.emit()}handleShowChartSeriesDrilldownMenuItemClick(e){this._hasLoadedItems=!!this._gridData?.items?.length,this.loading=this._hasLoadedItems,this.showChartSeriesDrilldown.emit(e)}ngOnInit(){window.Terrasoft?.isAngularHost&&(this._featureValues[Va]&&this._context?this._context.viewModel$.pipe((0,B.skip)(1),(0,B.filter)(()=>this._dataLoaded),(0,B.takeUntil)(this._destroyed$)).subscribe(()=>this._hideFullscreenWidget()):this._injector.get(wl.CrtRouter).historyState$.pipe((0,B.filter)(()=>this._dataLoaded),(0,B.takeUntil)(this._destroyed$)).subscribe(()=>this._hideFullscreenWidget()))}ngAfterViewChecked(){if(this._shouldFocusOnDataGrid&&this.dataGrid){const e=(0,vl.tabbable)(this.dataGrid.nativeElement)?.[0];e&&(e.focus(),this._shouldFocusOnDataGrid=!1)}}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(t){return new(t||Te)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.Injector),i.\u0275\u0275directiveInject(Z.FeatureService),i.\u0275\u0275directiveInject(g.IS_DESIGN_TIME,8),i.\u0275\u0275directiveInject(g.USE_PERFORMANCE_OPTIMIZATION,8),i.\u0275\u0275directiveInject(ne.BINDING_CONTEXT,8),i.\u0275\u0275directiveInject(g.FEATURE_VALUES))}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:Te,selectors:[["crt-analytics-widget"]],contentQueries:function(t,n,a){if(t&1&&i.\u0275\u0275contentQuery(a,Sl,5),t&2){let r;i.\u0275\u0275queryRefresh(r=i.\u0275\u0275loadQuery())&&(n.actionElement=r.first)}},viewQuery:function(t,n){if(t&1&&(i.\u0275\u0275viewQuery(Ae,7),i.\u0275\u0275viewQuery(Tl,5,i.ElementRef)),t&2){let a;i.\u0275\u0275queryRefresh(a=i.\u0275\u0275loadQuery())&&(n.fullScreenDirective=a.first),i.\u0275\u0275queryRefresh(a=i.\u0275\u0275loadQuery())&&(n.dataGrid=a.first)}},hostVars:2,hostBindings:function(t,n){t&2&&i.\u0275\u0275classProp("flex-full-height",n.fullHeight)},inputs:{breadcrumbs:"breadcrumbs",analyticsConfig:"analyticsConfig",gridData:"gridData",searchValue:"searchValue",widgetConfig:"widgetConfig",showTools:"showTools",headerConfig:"headerConfig",chartsSeries:"chartsSeries",sorting:"sorting",loading:"loading",title:"title",dataGridHeaderToolbarItems:"dataGridHeaderToolbarItems"},outputs:{switchChartType:"switchChartType",showChartSeriesDrilldown:"showChartSeriesDrilldown",showDataAsTable:"showDataAsTable",sortingChange:"sortingChange",paginationChange:"paginationChange",columnsChange:"columnsChange",getProfileColumns:"getProfileColumns",viewChange:"viewChange",switchDirectionType:"switchDirectionType",fullScreenStateChanged:"fullScreenStateChanged",breadcrumbItemClick:"breadcrumbItemClick",widgetElement:"widgetElement",searchFilterChange:"searchFilterChange"},features:[i.\u0275\u0275ProvidersFeature([{provide:z.DataGridColumnSelectionService,useClass:li},{provide:z.DATA_GRID_STATE_HANDLER,useClass:z.DataGridStateHandler}])],ngContentSelectors:xl,decls:9,vars:21,consts:[["view",""],["placeholder",""],["header",""],["dataGrid",""],[1,"analytics-widget",3,"crtFullScreen","componentElement","cdkTrapFocus"],[1,"analytics-widget-container"],[4,"ngIf","ngIfThen","ngIfElse"],["class","background-blur",4,"ngIf"],[3,"chartsSeries","widgetConfig","headerConfig","breadcrumbs","fullScreenStateChanged","switchChartType","switchDirectionType","showChartSeriesDrilldown","showDataAsTable","breadcrumbItemClick",4,"ngIf"],[1,"content",3,"ngClass"],["class","diagram",4,"ngIf"],["class","data",4,"ngIf"],[3,"fullScreenStateChanged","switchChartType","switchDirectionType","showChartSeriesDrilldown","showDataAsTable","breadcrumbItemClick","chartsSeries","widgetConfig","headerConfig","breadcrumbs"],[1,"diagram"],[1,"data"],["class","grid-header-container",4,"ngIf"],[1,"crt-analytics-widget-data-grid",3,"sortingChange","paginationChange","columnsChange","items","columns","primaryColumnName","features","header","sorting","loading","headerToolbarItems"],[1,"grid-header-container"],["class","grid-title",4,"ngIf"],["data-item-marker","analytics-widget-search",3,"valueChange","value"],[1,"grid-title"],[1,"background-blur"]],template:function(t,n){if(t&1&&(i.\u0275\u0275projectionDef(Dl),i.\u0275\u0275elementStart(0,"div",4),i.\u0275\u0275pipe(1,"async"),i.\u0275\u0275elementStart(2,"div",5),i.\u0275\u0275template(3,Ml,1,0,"div",6)(4,Ol,5,6,"ng-template",null,0,i.\u0275\u0275templateRefExtractor)(6,Rl,1,0,"ng-template",null,1,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementEnd()(),i.\u0275\u0275template(8,Ll,1,0,"div",7)),t&2){const a=i.\u0275\u0275reference(5),r=i.\u0275\u0275reference(7);i.\u0275\u0275classMap(n.widgetConfig==null?null:n.widgetConfig.theme),i.\u0275\u0275classProp("full-screen",n.analyticsConfig==null?null:n.analyticsConfig.isFullScreenMode)("analytics-widget-custom-background",!!(n.analyticsConfig!=null&&n.analyticsConfig.background))("blur",i.\u0275\u0275pipeBind1(1,19,n.usePerformanceOptimization$)===!1)("analytics-widget-without-border",n.widgetConfig==null||n.widgetConfig.layout==null||n.widgetConfig.layout.border==null?null:n.widgetConfig.layout.border.hidden),i.\u0275\u0275property("crtFullScreen",n.analyticsConfig==null?null:n.analyticsConfig.isFullScreenMode)("componentElement",n.widgetElement)("cdkTrapFocus",n.analyticsConfig==null?null:n.analyticsConfig.isFullScreenMode),i.\u0275\u0275advance(2),i.\u0275\u0275styleProp("background",n.analyticsConfig==null?null:n.analyticsConfig.background),i.\u0275\u0275advance(),i.\u0275\u0275property("ngIf",n.analyticsConfig==null?null:n.analyticsConfig.isValidated)("ngIfThen",a)("ngIfElse",r),i.\u0275\u0275advance(5),i.\u0275\u0275property("ngIf",n.analyticsConfig==null?null:n.analyticsConfig.isFullScreenMode)}},dependencies:[P.NgClass,P.NgIf,dt,ne.ViewElementPlaceholderComponent,z.CrtDataGridComponent,z.CrtSearchFilterComponent,Ji.CdkTrapFocus,Ae,P.AsyncPipe],styles:[".background-blur[_ngcontent-%COMP%]{background-color:#fff6;height:100vh;width:100vw;position:fixed;top:0;left:0;z-index:1498}.analytics-widget[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;font-family:Montserrat,Open Sans,Roboto,Helvetica Neue,sans-serif;font-weight:500;border-radius:8px;background-clip:padding-box;background-color:#fff;border:1px solid #e6e6e6;-webkit-font-smoothing:antialiased;overflow:hidden;box-sizing:border-box}.analytics-widget.glassmorphism[_ngcontent-%COMP%]{background-color:var(--crt-glass-color-dark-800);border:unset}.analytics-widget.glassmorphism.blur[_ngcontent-%COMP%]{background-color:var(--crt-glass-color-dark-800);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.analytics-widget.transparent[_ngcontent-%COMP%]:not(.full-screen){background-color:transparent;border:unset}.analytics-widget.analytics-widget-custom-background[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .analytics-widget.glassmorphism[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:unset}.analytics-widget.analytics-widget-without-border[_ngcontent-%COMP%]{border-color:transparent}.analytics-widget.full-screen[_ngcontent-%COMP%]{position:fixed;top:8px;left:8px;height:calc(100vh - 8px);width:calc(100vw - 16px);z-index:1499;border:none}.analytics-widget.full-screen.glassmorphism[_ngcontent-%COMP%]{background-color:var(--crt-glass-color-dark-800)}.analytics-widget.full-screen.glassmorphism.blur[_ngcontent-%COMP%]{background-color:var(--crt-glass-color-dark-700);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.analytics-widget.full-screen[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:8px}.analytics-widget.full-screen[_ngcontent-%COMP%]   .content.more-data[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{min-width:70%}.analytics-widget.full-screen[_ngcontent-%COMP%]   .content.more-data[_ngcontent-%COMP%]   .diagram[_ngcontent-%COMP%]{align-self:center;min-height:110px;height:110px;margin-bottom:16px;min-width:30%}.analytics-widget.full-screen[_ngcontent-%COMP%]   .content.more-diagram[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{min-width:30%}.analytics-widget.full-screen[_ngcontent-%COMP%]   .content.more-diagram[_ngcontent-%COMP%]   .diagram[_ngcontent-%COMP%]{min-width:70%}.analytics-widget.full-screen[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .analytics-widget.full-screen[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .diagram[_ngcontent-%COMP%]{min-width:50%;min-height:50%}.analytics-widget.full-screen[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:4px;overflow:hidden;background-color:#fff}.analytics-widget.full-screen[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .crt-analytics-widget-data-grid[_ngcontent-%COMP%]{min-height:0;flex-grow:1;overflow:auto}.analytics-widget.full-screen[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-title[_ngcontent-%COMP%]{font-size:1.5em;margin:1rem 0}.analytics-widget[_ngcontent-%COMP%]   .analytics-widget-container[_ngcontent-%COMP%]{width:100%;height:100%}.analytics-widget[_ngcontent-%COMP%]   crt-widget-header[_ngcontent-%COMP%] ~ .content[_ngcontent-%COMP%]{height:calc(100% - 38px);margin-top:-8px}.analytics-widget[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:stretch;justify-content:stretch;border-radius:4px;background-color:#fff}.analytics-widget[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%], .analytics-widget[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .diagram[_ngcontent-%COMP%]{height:100%;width:100%}.analytics-widget[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .grid-header-container[_ngcontent-%COMP%]{display:flex;align-items:flex-end;padding:0 16px}.analytics-widget[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .grid-header-container[_ngcontent-%COMP%]   crt-search-filter[_ngcontent-%COMP%]{margin-inline-start:12px;min-width:204px;margin-bottom:.6rem}[_nghost-%COMP%]   .analytics-widget.glassmorphism[_ngcontent-%COMP%]:has(.crt-data-table-container:focus-visible){--focus-outline-inner-color: var(--crt-palette-secondary-500);--focus-outline-outer-color: white}"]})}}function Ne(o){return{caption:`CDK.ChartWidget.${(0,v.startCase)(o).replace(" ","")}.Caption`,icon:S(9402)(`./chart-widget-${o}.icon.svg`),defaultPropertyValues:{config:{title:"",theme:"full-fill",color:"green",series:[{type:o}]}}}}let De=class wr extends X{get _hasBreadcrumbs(){return!!(this.breadcrumbs&&this.breadcrumbs.length)}get _isDataTableVisible(){return this.analyticsConfig.isFullScreenMode&&this.analyticsConfig?.displayMode==="split"}get isWidgetDataSourceSupported(){return super.isWidgetDataSourceSupported.then(e=>e&&!this.isDesignTime)}set config(e){this.analyticsConfig={...this.analyticsConfig,isValidated:this._isValidConfig(e)},this.analyticsConfig.isValidated&&(this._clearSubscriptions(),this.chartWidgetConfig=e,this.setHeaderConfig(this.chartWidgetConfig),this.isWidgetDataSourceSupported.then(t=>{if(t){this._chartConfigBuilder.setTheme(this.chartWidgetConfig.theme).setScales(this.chartWidgetConfig.scales).setSeriesOrder(this.chartWidgetConfig.seriesOrder).setSeriesConfigs(this.chartWidgetConfig.series).setTitle(this.chartWidgetConfig.title),this._updateChartConfig();return}const n=!this.isDesignTime&&!this.isDesignTimeInjected,a=this.hasSectionBindingColumnRecordId(),l=this._hasSeriesSectionBinding(this.chartWidgetConfig)&&!a;n&&l||this._requestDataSubscription(this.chartWidgetConfig)}))}set seriesData(e){this.isWidgetDataSourceSupported.then(t=>{t&&(this._chartConfigBuilder.setSeriesData(e),this._updateChartConfig())})}get chartConfig(){return this._switchedChartConfig??this._originalChartConfig}get useGlassmorphism(){return this.chartWidgetConfig?.theme===H.Glassmorphism}constructor(e,t,n,a,r,l,c,u,p,w,D,F,k,A,V){super(e,t,n,a,l,r,c),this._ngZone=u,this._changeDetectorRef=p,this._chartConfigBuilder=w,this._chartConfigProvider=D,this._chartSeriesConverter=F,this._chartStructureExplorerService=k,this._chartSeriesConfigConverterService=A,this._window=V,this._subscription=new B.Subscription,this._chartSeriesDoubleClickDelayMs=200,this._doubleClickTimeout=null,this._seriesEntitySchemaModels=[],this.chartsSeries=new Map([[b.Line,xi],[b.Scatter,Oa],[b.Spline,qi],[b.Area,Pa],[b.Bar,Zi],[b.HorizontalBar,Aa],[b.Pie,Mi],[b.Doughnut,Fa],[b.Funnel,Ra]]),this.background="",this._chartClicks=0,this.breadcrumbs=[],this.seriesConfigsChanged=new i.EventEmitter}_initializeFeatures(){this.featureService.getFeaturesState([lo,co,uo,go]).pipe((0,N.takeUntil)(this.destroyed$)).subscribe(([e,t,n,a])=>{this._isDrilldownFeatureEnabled=e,this._isDrilldownByChartSeriesMenuEnabled=t,this._isChartSeriesClickChangeTypeEnabled=a,this._isChartLegendClickMenuEnabled=n,this._initializeChartMenuItems(),this._isDrilldownFeatureEnabled&&this.chartWidgetConfig?.series&&this.setHeaderConfig(this.chartWidgetConfig)})}_initializeChartMenuItems(){this.chartSeriesMenuItems=this._createChartSeriesMenu(),this.legendClickMenuItems=this._createLegendMenu()}_getSeriesMenuItems(){const e=this.chartConfig?this.chartConfig?.series:this.chartWidgetConfig?.series,t=[];return e.forEach((n,a)=>{let r=n.color;r||(r=Array.from(x.keys())[a]),t.push({color:r,label:n.label,index:a})}),t}_getFocusPoints(){return this._selectedDrillDownPointLocation?[this._selectedDrillDownPointLocation]:[]}_isValidConfig(e){if(!e||(e.series||[]).some(n=>!n?.data))return!1;const t=Ne(b.Line).defaultPropertyValues.config;return!(0,g.compareObjectsStructure)(t,e)}_clearSubscriptions(){this._getChartConfigSubscription&&this._getChartConfigSubscription.unsubscribe(),this._dataLoadSubscription?.unsubscribe()}_updateChartConfig(){const e=this._chartConfigBuilder.build();this._selectedDrillDownPointLocation&&(e.focusPoints=this._getFocusPoints()),this._originalChartConfig=e,this._switchedChartConfig=null,this._refreshChartDisplayMenuItems(),this._switchedChartSeriesConstructor&&this.switchChartType(this._switchedChartSeriesConstructor),this._changeDetectorRef.detectChanges()}_requestDataSubscription(e,t=null){for(const n of this.chartWidgetConfig.series){const a=n?.data?.providing?.sectionBindingColumn;a&&(a.rootSchemaPrimaryColumnValue=this.sectionBindingRecordId)}this._getChartConfigSubscription=this._chartConfigProvider.getChartConfig(e).subscribe(n=>{this._selectedDrillDownPointLocation&&(n.focusPoints=this._getFocusPoints()),this._originalChartConfig=n,this._switchedChartConfig=null,this._refreshChartDisplayMenuItems(),t&&this.switchChartType(t),this._changeDetectorRef.detectChanges()})}_onChartWidgetSeriesConfigsChanged(e,t=null){this.isWidgetDataSourceSupported.then(n=>{if(!n){this._requestDataSubscription(e,t);return}const a=e.series;this._chartConfigBuilder.setSeriesConfigs(a),this._switchedChartSeriesConstructor=t,this.seriesConfigsChanged.emit(a)})}_hasSeriesSectionBinding(e){return e?.series?.some(t=>t?.data?.providing?.sectionBindingColumn?.path)}_updateSwitchedChartConfig(e){this._originalChartConfig&&(this._switchedChartConfig={...this.chartConfig,...e,focusPoints:this._getFocusPoints()})}_createChartSeriesMenu(){const e=[],t={updateFocusPoints:!0,pinTooltip:!0};return e.push({handleItemClick:()=>this.drilldownChartData(null,t),type:"crt.MenuItem",caption:this.translationService.instant("CDK.ChartWidget.Common.ShowDataCaption"),icon:"chart-show-data.icon",visible:this._isDrilldownFeatureEnabled}),this._setChartTypeMenuItems(e),e}_showOrHideLegend(){const e=this.lastLegendClick?.legendItem?.datasetIndex,t=(0,v.cloneDeep)(this.chartConfig.series);t.filter((n,a)=>a===e).forEach(n=>n.dataSet.hidden=!n.dataSet.hidden),this._updateSwitchedChartConfig({series:t}),this._restoreFocusAfterMenu?.focus()}_showDataByLegend(){this.handleShowSeriesDataClick(this.lastLegendClick.legendItem.datasetIndex)}_createLegendMenu(){const e=[];return e.push({handleItemClick:()=>this._showDataByLegend(),type:"crt.MenuItem",caption:this.translationService.instant("CDK.ChartWidget.Common.ShowDataForSelectedSeriesCaption"),icon:"chart-show-data.icon"}),e.push({handleItemClick:()=>this._showOrHideLegend(),type:"crt.MenuItem",caption:this.translationService.instant("CDK.ChartWidget.Common.HideSeries"),icon:"hide",visible:()=>!this._getShowLegendSeriesState()}),e.push({handleItemClick:()=>this._showOrHideLegend(),type:"crt.MenuItem",caption:this.translationService.instant("CDK.ChartWidget.Common.ShowSeries"),icon:"show",visible:()=>this._getShowLegendSeriesState()}),e}_getShowLegendSeriesState(){const e=this.lastLegendClick?.legendItem?.datasetIndex;return e==null?!1:this.chartConfig?.series?.[e]?.dataSet?.hidden??!1}_setChartTypeMenuItems(e){e.length>0&&e.push({type:"crt.MenuDivider",visible:this._isDrilldownFeatureEnabled}),e.push(ao("CDK.ChartWidget.Common.DrillDownCaption",this.translationService,this.useGlassmorphism),...io(this.chartsSeries,this._handleChartSeriesMenuItemClick.bind(this),this.translationService))}_handleChartSeriesMenuItemClick(e){let t,n;const a=(0,v.cloneDeep)(this._currentChartClickConfig),r=a.pointLocation.datasetIndex,l=this._getGroupingColumnName(r),c=this._getSchemaNameFromConfig(r),u=this._getSeriesSchemaCaptionByName(c),p=this._getSchemaNameFromConfig(a.pointLocation.datasetIndex);this._lastBreadcrumbIndex=void 0;const w=this._getDefaultClickConfig(),D=this.analyticsConfig.isFullScreenMode&&this.lastPoint||w;this._chartStructureExplorerService.show(p).pipe((0,N.map)(F=>{t=F&&F.length!==0?F[0]:null,t&&(n=this._getChartWidgetConfig(t,a)),this._lastBreadcrumbIndex=void 0}),(0,N.mergeMap)(()=>this.breadcrumbs.length===0&&t?this._getColumnCaptionByPath(r,l):(0,B.of)(null)),(0,N.map)(F=>{if(!t)return;this.breadcrumbs.length===0&&F!==null&&this.breadcrumbs.push({caption:`${u} ${this.byCaption} ${F}`,chartConfig:this.chartWidgetConfig,lastPoint:D,schemaCaption:u,groupingPoint:a,groupingColumnName:F}),this.breadcrumbs[this.breadcrumbs.length-1].groupingPoint=a;const k=`${this.byCaption} ${t.caption}`;this.breadcrumbs.push({caption:`${u} ${k}`,chartConfig:n,chartSeriesConstructor:e,lastPoint:w,schemaCaption:u,groupingPoint:w,groupingColumnName:t.caption}),this.breadcrumbs=this.breadcrumbs.slice()}),(0,N.map)(()=>{if(!t)return;if(!this._isDataTableVisible){this._onChartWidgetSeriesConfigsChanged(n,e);return}const F={updateFocusPoints:!1};this.drilldownChartData(w,F),this._dataLoadSubscription=this.onDataLoaded.subscribe(k=>{this._dataLoadSubscription?.unsubscribe(),this._onChartWidgetSeriesConfigsChanged(n,e)})})).subscribe(()=>{})}_getGroupingColumnName(e){const t=this.chartWidgetConfig.series[e].data.providing.grouping;return t.type===te.ByDatePart?t.column[0].expression?.functionArgument?.columnPath:t.column?.expression?.columnPath}_getDefaultClickConfig(){return{mouseEvent:{},pointData:{},pointLocation:null}}_getChartWidgetConfig(e,t){const n=t?.pointLocation.datasetIndex;let a=this.chartWidgetConfig;this._hasBreadcrumbs&&(a=this.breadcrumbs[this.breadcrumbs.length-1].chartConfig);const r=(0,v.cloneDeep)(a),l=this._getChartSeriesConverterConfig(e,t,r.series[n]),c=[this._chartSeriesConfigConverterService.convert(l)];return{...r,series:c}}_getChartSeriesConverterConfig(e,t,n){const a=this.getDataProvidingByClickConfig(t),r=this._getGroupByValue(t?.pointData?.grouping),l=this._getGroupingColumns(a);return{seriesConfig:n,item:e,groupByValue:r,groupBy:l}}_getSchemaNameFromConfig(e){return this.chartConfig.series[e].providing.schemaName}_openMenu(e,t,n,a=!1){a&&(this._restoreFocusAfterMenu=document.activeElement),this._setMenuContainerStyles(t,n),this._ngZone.run(()=>e.openMenu())}_openChartSeriesMenu(e){this._currentChartClickConfig=e;const t=this._getMenuPosition(this.chartSeriesMenuContainer.first,e.mouseEvent);this._openMenu(this.chartSeriesMenuTrigger.first,this.chartSeriesMenuContainer.first,t)}_openLegendMenu(e){if(this.lastLegendClick=e,this._isDrilldownFeatureEnabled&&this._isChartLegendClickMenuEnabled){const t=e.event.native,n=this._getMenuPosition(this.chartSeriesMenuContainer.last,t),a=t instanceof KeyboardEvent;this._openMenu(this.chartSeriesMenuTrigger.last,this.chartSeriesMenuContainer.last,n,a)}else this._showOrHideLegend()}_getMenuPositionForCanvasClick(e){e??=this._lastMouseEvent;const t=e.target;return{left:this._getMouseEventPosition(e,"X")/t.offsetWidth*100,top:this._getMouseEventPosition(e,"Y")/t.offsetHeight*100}}_getMenuPositionByEventTarget(e,t){const a=t.target.getBoundingClientRect(),l=e.nativeElement.parentElement.getBoundingClientRect();return{left:(a.left-l.left)/l.width*100,top:(a.top-l.top+a.height/2)/l.height*100}}_getMenuPosition(e,t){return t.type==="click"&&t.target instanceof HTMLCanvasElement?this._getMenuPositionForCanvasClick(t):this._getMenuPositionByEventTarget(e,t)}_setMenuContainerStyles(e,t){this._setElementStyle(e,"display","initial"),this._setElementStyle(e,"left",`calc(${t.left}% + 10px)`),this._setElementStyle(e,"top",`calc(${t.top}% + 10px)`)}_setElementStyle(e,t,n){e.nativeElement.style[t]=n}_getMouseEventPosition(e,t){return e["offset"+t]||e["layer"+t]-5}_getStyleCalcPercentCoordinates(e,t){return`calc(${100/e*t}% + 10px)`}_getGroupingColumns(e){const t=e?.grouping.column;let n=[t?.expression?.columnPath];return e?.grouping.type===te.ByDatePart&&(n=t.map(a=>a?.expression?.functionArgument?.columnPath)),n.filter(Boolean)}_getGroupByValue(e){return e?e?.datePartValue?{value:e?.datePartValue,dataValueType:d.DataValueType.DateTime}:{value:e?.value,dataValueType:e?.dataValueType??d.DataValueType.Text}:null}_getTableTitle(){var e=this;return(0,L.A)(function*(){let t="";if(e._hasBreadcrumbs){t=e.breadcrumbs[e.breadcrumbs.length-1].schemaCaption;const u=Array.from(e.breadcrumbs).splice(0,e.breadcrumbs.length-1).map(p=>`${p.groupingColumnName} - ${p.groupingPoint?.pointData?.grouping?.displayValue}`).join(", ");t=`${t} ${e._withCaption} ${u}`,t=`${t} ${e.byCaption} ${e.breadcrumbs[e.breadcrumbs.length-1].groupingColumnName}`}else{let c=0;e._selectedDrillDownPointLocation&&(c=e._selectedDrillDownPointLocation.datasetIndex),e._currentChartClickConfig&&(c=e._currentChartClickConfig.pointLocation.datasetIndex),t=e._getSeriesSchemaCaption(c);const u=e._getGroupingColumnName(c),p=yield e._getColumnCaptionByPath(c,u);t=`${t} ${e.byCaption} ${p}`}const n=e.lastPoint?.pointData?.grouping,a=e._getFocusPoints();if(a.length>0&&a.some(c=>c.index||c.index===0)&&(t=`${t} - ${n.displayValue}`),a.length>0&&a.some(c=>c.index===null&&(c.datasetIndex===0||c.datasetIndex))){const c=e.chartWidgetConfig.series[a[0].datasetIndex].label;t=`${t} ${e._withCaption} ${e._seriesCaption} - ${c}`}return t})()}_refreshChartDisplayMenuItems(){this._isDrilldownFeatureEnabled&&this._isDrilldownByChartSeriesMenuEnabled&&(this.headerConfig={...this.headerConfig,displayDataSeries:this._getSeriesMenuItems()})}_getSeriesSchemaName(e){return this.chartWidgetConfig?.series[e].data.providing.schemaName}_getSeriesSchemaCaption(e){return e===0?this.entitySchemaModel?.caption:this._seriesEntitySchemaModels[e].caption}_getSeriesSchemaCaptionByName(e){return this.entitySchemaModel.name===e?this.entitySchemaModel.caption:this._seriesEntitySchemaModels.filter(t=>t.name===e)[0].caption}_initializeSchemaModels(){this.chartWidgetConfig?.series.forEach((e,t)=>{t!==0&&this.getEntitySchemaByName(e.data.providing.schemaName).subscribe(n=>{this._seriesEntitySchemaModels[t]=n})})}_getColumnCaptionByPath(e,t){var n=()=>super.getColumnCaptionByPath,a=this;return(0,L.A)(function*(){const r=e===0?a.entitySchemaModel:a._seriesEntitySchemaModels[e];return yield n().call(a,r,t)})()}_showAllSeries(){const e=(0,v.cloneDeep)(this.chartConfig?.series)??[];e.forEach(t=>t.dataSet.hidden=!1),this._updateSwitchedChartConfig({series:e})}_calcFixedGridColumnWidth(){const n=this._originalChartConfig?.series?.length+1,a=this._window.innerWidth-50*2;return Math.max(a/n,100)}_initDataGridForShowAsTableMode(){var e=this;return(0,L.A)(function*(){yield e.clearTable();const t=new Array,n=[],a=e._calcFixedGridColumnWidth(),r=e._originalChartConfig?.scales?.xAxis?.name??"";t.push({id:"0",code:"column0",caption:r,sticky:!0,dataValueType:d.DataValueType.Text,width:a}),e._originalChartConfig?.series?.forEach((l,c)=>{t.push({id:(c+1).toString(),code:"column"+(c+1),caption:l.label,dataValueType:d.DataValueType.Text,width:a}),l.dataSet.data.forEach((u,p)=>{n[p]||(n[p]={id:p.toString()}),n[p].column0=l?.dataSet?.labels[p],n[p]["column"+(c+1)]=l?.dataSet.data[p]})}),e.dataGridHeaderToolbarItems=[],e.gridData={columns:t,items:n,features:{...e.showAsTableModeDataGridFeatures},primaryColumnName:"id"}})()}_resetChartFocusPoints(e=void 0){this._selectedDrillDownPointLocation=null,this.chartComponent.hideLastTooltip(),this._updateSwitchedChartConfig({animation:e})}setSectionBindingColumnRecordId(e){super.setSectionBindingColumnRecordId(e),this.isWidgetDataSourceSupported.then(t=>{if(t||this.isDesignTime||this.isDesignTimeInjected)return;const n=this.hasSectionBindingColumnRecordId();this._hasSeriesSectionBinding(this.chartWidgetConfig)&&n&&this._requestDataSubscription(this.chartWidgetConfig)})}createHeaderConfig(e){const t=super.createHeaderConfig(e);return t.showTools=!this.isDesignTime,t.chartsSeries=this.chartsSeries,this._isDrilldownFeatureEnabled&&this._isDrilldownByChartSeriesMenuEnabled&&(t.displayDataSeries=this._getSeriesMenuItems()),t}getDataProvidingByClickConfig(e){const t=e?.pointLocation?.datasetIndex||0,a=(0,v.cloneDeep)(this.chartWidgetConfig.series[t])?.data?.providing;let r=this._lastBreadcrumbIndex;return r===void 0&&this._hasBreadcrumbs&&(r=this.breadcrumbs.length-1),r&&r!==0?this.breadcrumbs[r].chartConfig.series[t]?.data?.providing:a}createWidgetDrilldownEventConfig(e){const t=this.getDataProvidingByClickConfig(e),n=this._getGroupByValue(e?.pointData?.grouping),a=this._getGroupingColumns(t),r=t?.aggregation?.column?.expression,l=ro(r);return{schemaName:t?.schemaName,groupByValue:n,groupBy:a,aggregateBy:l,columns:this.lastColumnConfig,pagingConfig:this.pagingConfig,sortingConfig:this.sortingConfig,filters:{widgetFilters:t?.filters?.filter,pageBindingFilter:t?.sectionBindingColumn,filterAttributes:t?.filters?.filterAttributes},dependencies:t?.dependencies}}getSchemaName(){return this._getSeriesSchemaName(0)}ngOnInit(){super.ngOnInit(),this._initializeFeatures(),this._withCaption=this.translationService.instant("CDK.ChartWidget.With.Caption"),this._seriesCaption=this.translationService.instant("CDK.ChartWidget.Series.Caption"),this._initializeSchemaModels()}ngAfterViewInit(){this._subscription.add(this.chartSeriesMenuTrigger.first.menuClosed.subscribe(()=>this.onMenuClosed())),this._onMouseMoveHandler=this.chartMouseEventHandler.bind(this),this._ngZone.runOutsideAngular(()=>{this.chartNativeElement.nativeElement.addEventListener("mousemove",this._onMouseMoveHandler)})}ngOnDestroy(){super.ngOnDestroy(),this._clearSubscriptions(),this._subscription.unsubscribe(),this.chartNativeElement?.nativeElement&&this.chartNativeElement.nativeElement.removeEventListener("mousemove",this._onMouseMoveHandler)}switchChartType(e){if(!this._originalChartConfig)return;const t=this._originalChartConfig.series.map((n,a)=>{const r=this._chartSeriesConverter.convert(n,e);return r.color||(r.color=Array.from(x.keys())[a]),r});this._switchedChartConfig={...this.chartConfig,series:t,focusPoints:this._getFocusPoints(),animation:void 0},this.setHeaderConfig(this.chartWidgetConfig)}onFullScreenStateChange(e,t){e||this._resetChartFocusPoints(),this.applyFullscreenMode(e,t)}applyFullscreenMode(e,t,n){e?this._chartSizeBeforeFullscreen=this._chartSizeBeforeFullscreen??this.chartComponent.chartSize:(this.chartComponent.resize(this._chartSizeBeforeFullscreen),this._chartSizeBeforeFullscreen=null),super.applyFullscreenMode(e,t,n)}onMenuClosed(){this._currentChartClickConfig=null,this._setElementStyle(this.chartSeriesMenuContainer.first,"display","none")}onLegendMenuClosed(){this.lastLegendClick=null,this._setElementStyle(this.chartSeriesMenuContainer.last,"display","none"),this._restoreFocusAfterMenu?.focus(),this._restoreFocusAfterMenu=null}chartMouseEventHandler(e){this._lastMouseEvent=e}onSeriesClick(e){this.isDesignTime||(this._chartClicks++,this._chartClicks>=1&&(this._doubleClickTimeout=setTimeout(()=>{if(this._chartClicks===1&&this._isChartSeriesClickChangeTypeEnabled)this._openChartSeriesMenu(e);else{const t={updateFocusPoints:!0,pinTooltip:!0};this.drilldownChartData(e,t)}this._chartClicks=0,clearTimeout(this._doubleClickTimeout)},this._chartSeriesDoubleClickDelayMs)))}onLegendClick(e){this.isDesignTime||this._openLegendMenu(e)}handleShowSeriesDataClick(e){const t={mouseEvent:{},pointData:{},pointLocation:{index:null,datasetIndex:e}};setTimeout(()=>{this.drilldownChartData(t)})}handleShowDataAsTableClick(){this._initDataGridForShowAsTableMode().then(()=>{this._resetChartFocusPoints(0),this.applyFullscreenMode(!0,!1,!0)})}drilldownData(e){var t=()=>super.drilldownData,n=this;return(0,L.A)(function*(){n._isDrilldownFeatureEnabled&&(yield t().call(n,e),n.gridTitle=yield n._getTableTitle())})()}drilldownChartData(e,t={updateFocusPoints:!0,pinTooltip:!1}){var n=this;return(0,L.A)(function*(){n._isDrilldownFeatureEnabled&&(n._showAllSeries(),e=e||n._currentChartClickConfig,n._selectedDrillDownPointLocation=e?.pointLocation,t.updateFocusPoints&&n._updateSwitchedChartConfig({animation:0}),n._hasBreadcrumbs&&(n.breadcrumbs[n.breadcrumbs.length-1].lastPoint=e,n.breadcrumbs[n.breadcrumbs.length-1].groupingPoint=e),t.pinTooltip&&n.chartComponent.openAndPinLastTooltip(),yield n.drilldownData(e))})()}handlePreviousBreadcrumbClick(){const e=this.breadcrumbs[this.breadcrumbs.length-2];this.handleBreadcrumbItemClick(e)}handleBreadcrumbItemClick(e){const t=this.breadcrumbs.indexOf(e);this.breadcrumbs.length!==0&&(this.breadcrumbs=this.breadcrumbs.splice(0,t+1)),t===0&&(this.breadcrumbs=[]);const n=e.chartConfig,a=e.chartSeriesConstructor,r=e.lastPoint;if(this._lastBreadcrumbIndex=t,this._isDataTableVisible){this._selectedDrillDownPointLocation=r?.pointLocation,this.lastPoint=r;const l={updateFocusPoints:!0};r.applyFullScreenMode=!1,this.drilldownChartData(r,l),this._dataLoadSubscription=this.onDataLoaded.subscribe(c=>{this._dataLoadSubscription?.unsubscribe(),this._onChartWidgetSeriesConfigsChanged(n,a)})}else this._onChartWidgetSeriesConfigsChanged(n,a)}static{this.\u0275fac=function(t){return new(t||wr)(i.\u0275\u0275directiveInject(i.Injector),i.\u0275\u0275directiveInject(Z.FeatureService),i.\u0275\u0275directiveInject(Z.GoogleTagManagerService),i.\u0275\u0275directiveInject(g.IS_DESIGN_TIME,8),i.\u0275\u0275directiveInject(j.TranslateService),i.\u0275\u0275directiveInject(g.EntitySchemaProvider),i.\u0275\u0275directiveInject(ae),i.\u0275\u0275directiveInject(i.NgZone),i.\u0275\u0275directiveInject(i.ChangeDetectorRef),i.\u0275\u0275directiveInject(yt),i.\u0275\u0275directiveInject(bt),i.\u0275\u0275directiveInject(Mn),i.\u0275\u0275directiveInject(wt),i.\u0275\u0275directiveInject(Et),i.\u0275\u0275directiveInject(h.WINDOW_TOKEN))}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:wr,selectors:[["crt-chart-widget"]],viewQuery:function(t,n){if(t&1&&(i.\u0275\u0275viewQuery(_e,5,i.ElementRef),i.\u0275\u0275viewQuery(_e,5),i.\u0275\u0275viewQuery(z.CrtMenuTriggerDirective,5),i.\u0275\u0275viewQuery(z.CrtMenuTriggerDirective,5,i.ElementRef)),t&2){let a;i.\u0275\u0275queryRefresh(a=i.\u0275\u0275loadQuery())&&(n.chartNativeElement=a.first),i.\u0275\u0275queryRefresh(a=i.\u0275\u0275loadQuery())&&(n.chartComponent=a.first),i.\u0275\u0275queryRefresh(a=i.\u0275\u0275loadQuery())&&(n.chartSeriesMenuTrigger=a),i.\u0275\u0275queryRefresh(a=i.\u0275\u0275loadQuery())&&(n.chartSeriesMenuContainer=a)}},inputs:{isDesignTime:"isDesignTime",config:"config",seriesData:"seriesData"},outputs:{seriesConfigsChanged:"seriesConfigsChanged"},features:[i.\u0275\u0275ProvidersFeature([yt,ae]),i.\u0275\u0275InheritDefinitionFeature],decls:10,vars:18,consts:[["menu",""],["legendClickMenu",""],[3,"fullScreenStateChanged","switchDirectionType","switchChartType","viewChange","paginationChange","sortingChange","getProfileColumns","showChartSeriesDrilldown","showDataAsTable","breadcrumbItemClick","previousBreadcrumbItemClick","searchFilterChange","widgetConfig","chartsSeries","headerConfig","analyticsConfig","gridData","searchValue","sorting","breadcrumbs","loading","title","dataGridHeaderToolbarItems"],[1,"chart-widget-wrapper","main-content"],[1,"chart"],[3,"seriesClick","legendClick","config"],[1,"chart-menu-container",3,"menuClosed","crtMenuTriggerFor"],[3,"items","useGlassmorphism"],["data-qa","legend-menu-trigger",1,"chart-menu-container",3,"menuClosed","crtMenuTriggerFor"]],template:function(t,n){if(t&1){const a=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"crt-analytics-widget",2),i.\u0275\u0275listener("fullScreenStateChanged",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onFullScreenStateChange(l,!1))})("switchDirectionType",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.handleDirectionMenuItemClick(l))})("switchChartType",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.switchChartType(l))})("viewChange",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onAnalyticsViewChanged(l))})("paginationChange",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onPaginationChange(l))})("sortingChange",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onSortingChange(l))})("getProfileColumns",function(){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onGetProfileColumns())})("showChartSeriesDrilldown",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.handleShowSeriesDataClick(l))})("showDataAsTable",function(){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.handleShowDataAsTableClick())})("breadcrumbItemClick",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.handleBreadcrumbItemClick(l))})("previousBreadcrumbItemClick",function(){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.handlePreviousBreadcrumbClick())})("searchFilterChange",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.handleSearchFilterChange(l))}),i.\u0275\u0275elementStart(1,"div",3)(2,"div",4)(3,"ts-chart",5),i.\u0275\u0275listener("seriesClick",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onSeriesClick(l))})("legendClick",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onLegendClick(l))}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",6),i.\u0275\u0275listener("menuClosed",function(){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onMenuClosed())}),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(5,"crt-menu",7,0),i.\u0275\u0275elementStart(7,"div",8),i.\u0275\u0275listener("menuClosed",function(){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onLegendMenuClosed())}),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(8,"crt-menu",7,1),i.\u0275\u0275elementEnd()()()}if(t&2){const a=i.\u0275\u0275reference(6),r=i.\u0275\u0275reference(9);i.\u0275\u0275property("widgetConfig",n.chartWidgetConfig)("chartsSeries",n.chartsSeries)("headerConfig",n.headerConfig)("analyticsConfig",n.analyticsConfig)("gridData",n.gridData)("searchValue",n.searchValue)("sorting",n.sortingColumns)("breadcrumbs",n.breadcrumbs)("loading",n.isWaitingDataLoad)("title",n.gridTitle)("dataGridHeaderToolbarItems",n.dataGridHeaderToolbarItems),i.\u0275\u0275advance(3),i.\u0275\u0275property("config",n.chartConfig),i.\u0275\u0275advance(),i.\u0275\u0275property("crtMenuTriggerFor",a),i.\u0275\u0275advance(),i.\u0275\u0275property("items",n.chartSeriesMenuItems)("useGlassmorphism",n.useGlassmorphism),i.\u0275\u0275advance(2),i.\u0275\u0275property("crtMenuTriggerFor",r),i.\u0275\u0275advance(),i.\u0275\u0275property("items",n.legendClickMenuItems)("useGlassmorphism",n.useGlassmorphism)}},dependencies:[_e,z.CrtMenuComponent,z.CrtMenuTriggerDirective,Te],styles:[".chart-widget-wrapper[_ngcontent-%COMP%]{width:100%;height:100%}.chart-widget-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{position:relative;height:100%;width:100%}.chart-widget-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   ts-chart[_ngcontent-%COMP%]{padding:5px;height:calc(100% - 10px);width:calc(100% - 10px)}.chart-widget-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]   .chart-menu-container[_ngcontent-%COMP%]{display:none;position:absolute}"]})}};(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",Boolean)],De.prototype,"isDesignTime",void 0),(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",Object),(0,f.__metadata)("design:paramtypes",[Object])],De.prototype,"config",null),(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",Array),(0,f.__metadata)("design:paramtypes",[Array])],De.prototype,"seriesData",null),(0,f.__decorate)([(0,d.CrtOutput)(),(0,f.__metadata)("design:type",Object)],De.prototype,"seriesConfigsChanged",void 0),De=(0,f.__decorate)([(0,d.CrtViewElement)({type:"crt.ChartWidget",reuseStrategy:d.ViewElementReuseStrategy.Reuse,compatibleAPIs:{[d.PlatformAPIs.Filtration]:!0}}),(0,d.CrtInterfaceDesignerItem)({designViewItemCommands:{copy:"crt.CopyChartWidgetViewItemCommand",delete:"crt.RemoveChartWidgetViewItemCommand"},toolbarConfig:[Ne(b.Spline),Ne(b.Line),Ne(b.HorizontalBar),Ne(b.Doughnut),Ne(b.Area),Ne(b.Bar),Ne(b.Scatter),Ne(b.Funnel)],propertiesPanelComponentTypeName:"crt.ChartWidgetPropertiesPanel",typeCaption:"TypeCaptions.ChartWidget",viewElementGroupType:d.ViewElementGroupType.Charts,placeholderSize:{height:"60px"}}),(0,f.__metadata)("design:paramtypes",[i.Injector,Z.FeatureService,Z.GoogleTagManagerService,Boolean,j.TranslateService,g.EntitySchemaProvider,ae,i.NgZone,i.ChangeDetectorRef,yt,bt,Mn,wt,Et,Window])],De);var ki=S(23023),kl=S(61022);let dr=class{constructor(e){this._seriesViewModelCollectionConverter=e}_getSeriesData(e,t){var n=this;return(0,L.A)(function*(){const a=yield e[t?.attribute];return a?n._seriesViewModelCollectionConverter.toSeriesData(a,t):null})()}convert(e,t,n){var a=this;return(0,L.A)(function*(){const r=n?.length??0,l=new Array(r).fill([]);if(r===0||e.filter(Boolean).length<r)return l;const u=n.map(w=>a._getSeriesData(t,w)),p=yield Promise.all(u);return p.every(Boolean)?p:l})()}};dr=(0,f.__decorate)([(0,d.CrtConverter)({type:"crt.ToChartWidgetSeriesDataAsync"}),(0,f.__metadata)("design:paramtypes",[An])],dr);let mo=class extends d.BaseRequest{constructor(){super(...arguments),this.type="crt.ChartWidgetSeriesConfigsChangedRequest"}};mo=(0,f.__decorate)([(0,d.CrtRequest)({type:"crt.ChartWidgetSeriesConfigsChangedRequest"})],mo);let ur=class extends d.BaseRequestHandler{constructor(e,t){super(),this._schemaService=e,this._seriesDataProvidingViewConfigCreator=t}_createSeriesDataProvidingViewConfigs(e,t){if(!t?.length)return[];const n=this._schemaService.getViewConfigInfoByName(e)?.viewConfig;return t.map(a=>a?.data?.providing).filter(Boolean).map(a=>this._seriesDataProvidingViewConfigCreator.create({viewConfig:n,dataProvidingConfig:a})).filter(Boolean)}_reloadSeriesData(e,t,n){var a=this;return(0,L.A)(function*(){const r=t.map(l=>({type:"crt.ChartWidgetSeriesLoadDataRequest",$context:e,seriesDataAttributeName:l,seriesDataProvidingConfigsAttributeName:n})).map(l=>a.handlerChain.process(l));yield Promise.all(r)})()}handle(e){var t=this;return(0,L.A)(function*(){const{$context:n,widgetName:a,seriesConfigs:r,seriesDataProvidingConfigsAttributeName:l}=e;if(!l)return;const c=t._createSeriesDataProvidingViewConfigs(a,r),u=yield n[l],p=c.map(F=>F?.attribute),w=u?.map(F=>F?.attribute)??[],D=w?.length<p?.length?p:p.filter(F=>w.includes(F));return n[l]=c,t._reloadSeriesData(n,D,l)})()}};ur=(0,f.__decorate)([(0,d.CrtRequestHandler)({type:"crt.ChartWidgetSeriesConfigsChangesHandler",requestType:"crt.ChartWidgetSeriesConfigsChangedRequest"}),(0,f.__metadata)("design:paramtypes",[si.SchemaService,Be])],ur);let Co=class extends d.BaseRequest{constructor(){super(...arguments),this.type="crt.ChartWidgetSeriesLoadDataRequest"}};Co=(0,f.__decorate)([(0,d.CrtRequest)({type:"crt.ChartWidgetSeriesLoadDataRequest"})],Co);let gr=class extends d.BaseRequestHandler{constructor(e,t){super(),this._widgetModelConfigCreator=e,this._seriesViewModelAttributesConfigCreator=t}_getSeriesDataProvidingConfig(e){return(0,L.A)(function*(){const{$context:t,seriesDataAttributeName:n,seriesDataProvidingConfigsAttributeName:a}=e??{};return!n||!a?null:(yield t[a])?.find(l=>l?.attribute===n)})()}_createLoadDynamicModelRequest(e){const{attribute:t,dataSource:n,dependencies:a}=e,r=this._widgetModelConfigCreator.create(e),l=n?.name,c=r?.dataSources?.[l];if(!c)return null;const p=this._seriesViewModelAttributesConfigCreator.create(e)?.[t],{filterAttributes:w,sortingConfig:D,pagingConfig:F}=p?.modelConfig??{};return{attributeName:t,dataSourceName:l,dataSourceConfig:c,dependencies:a,pagingConfig:F,filtersConfig:w,sortingConfig:D,includePrimaryAttributes:!1}}handle(e){var t=this;return(0,L.A)(function*(){const n=yield t._getSeriesDataProvidingConfig(e);if(!n)return null;const a=t._createLoadDynamicModelRequest(n);if(!a)return null;const r=e.$context;return(0,B.lastValueFrom)(r.load(a)??(0,B.of)(null))})()}};gr=(0,f.__decorate)([(0,d.CrtRequestHandler)({type:"crt.ChartWidgetSeriesLoadDataHandler",requestType:"crt.ChartWidgetSeriesLoadDataRequest"}),(0,f.__param)(0,(0,i.Inject)(mi)),(0,f.__param)(0,(0,d.CrtInject)(mi)),(0,f.__metadata)("design:paramtypes",[Re,Se])],gr);class pe{static{this.\u0275fac=function(t){return new(t||pe)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:pe})}static{this.\u0275inj=i.\u0275\u0275defineInjector({imports:[P.CommonModule,ce,oe.MatIconModule,di.MatLegacyMenuModule,Le.DataItemMarkerModule,ne.ViewElementPlaceholderModule,z.CrtDataGridModule,z.CrtSearchFilterModule,Ji.A11yModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(pe,{declarations:[Te,Ae],imports:[P.CommonModule,ce,oe.MatIconModule,di.MatLegacyMenuModule,Le.DataItemMarkerModule,ne.ViewElementPlaceholderModule,z.CrtDataGridModule,z.CrtSearchFilterModule,Ji.A11yModule],exports:[Te,Ae]})})();const Bl=["gear-icon","arrow-down","chart-widget-tsfunnel-menu.icon","chart-widget-doughnut-menu.icon","chart-widget-horizontal-bar-menu.icon","chart-widget-bar-menu.icon","chart-widget-area-menu.icon","chart-widget-spline-menu.icon","chart-widget-scatter-menu.icon","chart-widget-line-menu.icon","hide","show"];let fa=class vr{constructor(e,t){this._domSanitizer=e,this._matIconRegistry=t,this._registerIcons()}_registerIcons(){Bl.forEach(e=>{this._registerIcon(e)})}_registerIcon(e){const t=this._domSanitizer.bypassSecurityTrustHtml(S(62929)("./"+e+".svg"));this._matIconRegistry.addSvgIconLiteral(e,t)}static{this.\u0275fac=function(t){return new(t||vr)(i.\u0275\u0275inject(Yi.DomSanitizer),i.\u0275\u0275inject(oe.MatIconRegistry))}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:vr})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[bt,ut,Tn,Dn,rn,ve(gn),ve(bn),ve(hn),ve(pn),ve(fn),ve(mn),ve(Cn),ve(_n),ve(yn),wt,Ei.StructureExplorerService,Ei.DataProviderResolverService,{provide:Ei.DATA_PROVIDER,useClass:kl.EntitySchemaStructureExplorerDataProviderService,multi:!0},{provide:er,useValue:Ya},{provide:ha,useClass:xn},Et,ae],imports:[P.CommonModule,Fe,gi,hi,pi,Ve,yi,z.CrtMenuModule,ki.MatLegacyButtonModule,oe.MatIconModule,di.MatLegacyMenuModule,ce,ne.ViewElementPlaceholderModule,pe,cn.DataServiceQueryExecutorModule,ui]})}};fa=(0,f.__decorate)([(0,d.CrtModule)({viewElements:[De],converters:[dr],requestHandlers:[ia,aa,ra,ur,gr,oa]}),(0,f.__metadata)("design:paramtypes",[Yi.DomSanitizer,oe.MatIconRegistry])],fa),function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(fa,{declarations:[De],imports:[P.CommonModule,Fe,gi,hi,pi,Ve,yi,z.CrtMenuModule,ki.MatLegacyButtonModule,oe.MatIconModule,di.MatLegacyMenuModule,ce,ne.ViewElementPlaceholderModule,pe,cn.DataServiceQueryExecutorModule,ui],exports:[De]})}();const hr=H.FullFill,Vl="crt.IndicatorWidget",pr=new Map([["extra-small",{text:"12px",metric:"16px"}],["small",{text:"12px",metric:"22px"}],["medium",{text:"12px",metric:"32px"}],["large",{text:"16px",metric:"40px"}],["extra-large",{text:"16px",metric:"66px"}]]),_o="##__METRIC__##",Nl="{0}";class We{get metric(){return this._metric?Array.isArray(this._metric)?this._metric:[this._metric]:[]}get template(){return this._template??""}get metricMacros(){return this._metricMacros??Nl}_splitTemplate(e,t){return(0,h.splitAndReplaceSubstringToMacros)(e,{searchValue:t,replaceMacros:_o})}_createLine(e,t){return e===_o?t.map(this._createMetricLine):this._createTextLine(e)}_createTextLine(e){return{type:"text",value:e.trim()}}_createMetricLine(e){return{type:"metric",value:e}}setMetric(e){return this._metric=e,this}setTemplate(e){return this._template=e,this}setMetricMacros(e){return this._metricMacros=e,this}build(){return this._splitTemplate(this.template,this.metricMacros).filter(Boolean).map(t=>this._createLine(t,this.metric)).flat()}static{this.\u0275fac=function(t){return new(t||We)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:We,factory:We.\u0275fac,providedIn:"root"})}}class ma{}class On extends ma{constructor(e){super(),this._translationService=e}fill(e){return e||this._translationService.instant("IndicatorWidget.NoData")}static{this.\u0275fac=function(t){return new(t||On)(i.\u0275\u0275inject(j.TranslateService))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:On,factory:On.\u0275fac})}}class fr extends ma{fill(e){const t=parseFloat(e);return isNaN(t)?"0":e}}class Rn extends ma{constructor(e){super(),this._translationService=e}fill(e){return e||this._translationService.instant("IndicatorWidget.NoData")}static{this.\u0275fac=function(t){return new(t||Rn)(i.\u0275\u0275inject(j.TranslateService))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Rn,factory:Rn.\u0275fac})}}class bi extends Na{constructor(e,t){super(),this._widgetDataProvidingConfigCreator=e,this._widgetDataProvidingMetadataCleaner=t}_compressDataProviding(e,t){const{attribute:n}=e.config?.data?.providing??{},a=t?.viewModelConfig?.attributes??{};if(!n)return;const r=`${n}_DataProvidingConfig`,c=a[r]?.value;c&&(e.config.data.providing=this._widgetDataProvidingConfigCreator.create(c,t),delete a[r],this._widgetDataProvidingMetadataCleaner.clear(n,t))}compress(e,t){const n=this.getWidgetViewConfig(e,t);n&&(this._compressDataProviding(n,t),delete n.data)}static{this.\u0275fac=function(t){return new(t||bi)(i.\u0275\u0275inject(st),i.\u0275\u0275inject(Oe))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:bi,factory:bi.\u0275fac})}}class Bi{static{this.\u0275fac=function(t){return new(t||Bi)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:Bi})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[bi,Oe],imports:[lt]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(Bi,{imports:[lt]})})();function yo(o){return o?.name?.replace(/[^\w]/g,"")||h.NameGenerator.generateUnique("IndicatorWidget")}function bo(o){return`${yo(o)}_Data`}class wi extends Wa{constructor(e,t,n){super(e,t,n)}_bindDataInput(e,t){const{attribute:n,dataSource:a,aggregation:r}=t,l=r.attributes[0].name,c=`${a.name}_${l}`;e.data=`$${n} | crt.ToIndicatorValueAsync : '${c}'`}generate(e,t){if(e?.data)return{};const n=e.config?.data?.providing;n&&!n.attribute&&(n.attribute=bo(e));const a=this.createWidgetDataProvidingMetadataConfig(e,n,t.viewModelConfig?.attributes),{dataProvidingConfig:r,dataProvidingMetadata:l}=a??{};if(!r)return{};n&&!n.dependencies&&(n.dependencies=a?.dataProvidingConfig?.dependencies);const c=`${r.attribute}_DataProvidingConfig`;return this._bindDataInput(e,r),(0,v.defaultsDeep)({},l,{viewModelConfig:{attributes:{[c]:{value:r}}}})}static{this.\u0275fac=function(t){return new(t||wi)(i.\u0275\u0275inject(it),i.\u0275\u0275inject(Re),i.\u0275\u0275inject(at))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:wi,factory:wi.\u0275fac})}}class Vi{static{this.\u0275fac=function(t){return new(t||Vi)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:Vi})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[wi],imports:[be,ge,rt]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(Vi,{imports:[be,ge,rt]})})();const mr=new i.InjectionToken("Represents a factory of value placeholder creator"),Wl=["actionElement"],Gl=(o,e)=>({"fullscreen-mode":o,"design-time":e}),jl=o=>({value:o});function Hl(o,e){o&1&&i.\u0275\u0275element(0,"div")}function Ul(o,e){if(o&1&&(i.\u0275\u0275elementStart(0,"div",15),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),o&2){const t=i.\u0275\u0275nextContext(2);i.\u0275\u0275property("title",t.title),i.\u0275\u0275advance(),i.\u0275\u0275textInterpolate(t.title)}}function zl(o,e){if(o&1&&i.\u0275\u0275element(0,"crt-skeleton-loader",18),o&2){const t=e.$implicit;i.\u0275\u0275property("styles",t)}}function $l(o,e){if(o&1&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275elementStart(1,"div",16),i.\u0275\u0275template(2,zl,1,1,"crt-skeleton-loader",17),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementContainerEnd()),o&2){const t=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(2),i.\u0275\u0275property("ngForOf",t.skeletonsStyles)}}function Yl(o,e){if(o&1&&i.\u0275\u0275elementContainer(0,22),o&2){i.\u0275\u0275nextContext(2);const t=i.\u0275\u0275reference(12);i.\u0275\u0275property("ngTemplateOutlet",t)}}function Jl(o,e){if(o&1&&i.\u0275\u0275elementContainer(0,23),o&2){const t=e.$implicit;i.\u0275\u0275nextContext(2);const n=i.\u0275\u0275reference(8),a=i.\u0275\u0275reference(10);i.\u0275\u0275property("ngTemplateOutlet",t.type==="metric"?n:a)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,jl,t.value))}}function Kl(o,e){if(o&1&&(i.\u0275\u0275template(0,Yl,1,1,"ng-container",19),i.\u0275\u0275elementStart(1,"div",20),i.\u0275\u0275template(2,Jl,1,4,"ng-container",21),i.\u0275\u0275elementEnd()),o&2){const t=i.\u0275\u0275nextContext(2);i.\u0275\u0275property("ngIf",t.labelPosition==="before-after"),i.\u0275\u0275advance(),i.\u0275\u0275styleProp("color",t.metricColor),i.\u0275\u0275classProp("indicator-widget-inner-value-container-hidden",!t.dataLoaded),i.\u0275\u0275advance(),i.\u0275\u0275property("ngForOf",t.textLines)("ngForTrackBy",t.trackByFn)}}function ql(o,e){if(o&1&&i.\u0275\u0275elementContainer(0,22),o&2){i.\u0275\u0275nextContext(2);const t=i.\u0275\u0275reference(12);i.\u0275\u0275property("ngTemplateOutlet",t)}}function Zl(o,e){if(o&1&&(i.\u0275\u0275elementStart(0,"div",24),i.\u0275\u0275template(1,ql,1,1,"ng-container",19),i.\u0275\u0275elementStart(2,"span",25),i.\u0275\u0275text(3),i.\u0275\u0275elementEnd()()),o&2){const t=e.value,n=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(),i.\u0275\u0275property("ngIf",n.labelPosition==="above-under"),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",t," ")}}function Xl(o,e){if(o&1&&(i.\u0275\u0275elementStart(0,"div",26),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),o&2){const t=e.value;i.\u0275\u0275advance(),i.\u0275\u0275textInterpolate(t)}}function Ql(o,e){if(o&1&&i.\u0275\u0275element(0,"mat-icon",28),o&2){const t=e.ngIf,n=i.\u0275\u0275nextContext(3);i.\u0275\u0275styleProp("color",n.iconColor),i.\u0275\u0275property("svgIcon",t)}}function ec(o,e){if(o&1&&i.\u0275\u0275template(0,Ql,1,3,"mat-icon",27),o&2){const t=i.\u0275\u0275nextContext(2);i.\u0275\u0275property("ngIf",t.config==null||t.config.layout==null||t.config.layout.icon==null?null:t.config.layout.icon.iconName)}}function tc(o,e){if(o&1){const t=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",11,2),i.\u0275\u0275listener("keydown.enter",function(){i.\u0275\u0275restoreView(t);const a=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(a.onIndicatorKeydownAction())})("keydown.space",function(){i.\u0275\u0275restoreView(t);const a=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(a.onIndicatorKeydownAction())}),i.\u0275\u0275template(2,Ul,2,2,"div",12),i.\u0275\u0275elementStart(3,"div",13),i.\u0275\u0275template(4,$l,3,1,"ng-container",14)(5,Kl,3,7,"ng-template",null,3,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementEnd()(),i.\u0275\u0275template(7,Zl,4,2,"ng-template",null,4,i.\u0275\u0275templateRefExtractor)(9,Xl,2,1,"ng-template",null,5,i.\u0275\u0275templateRefExtractor)(11,ec,1,1,"ng-template",null,6,i.\u0275\u0275templateRefExtractor)}if(o&2){const t=i.\u0275\u0275reference(6),n=i.\u0275\u0275nextContext();i.\u0275\u0275attribute("tabindex",n.isFullScreen?-1:0)("aria-label",n.ariaDescription),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",n.title),i.\u0275\u0275advance(),i.\u0275\u0275property("title",n.metricTooltip),i.\u0275\u0275advance(),i.\u0275\u0275property("ngIf",n.loaderVisible)("ngIfElse",t)}}function nc(o,e){o&1&&i.\u0275\u0275element(0,"crt-view-element-placeholder")}let fe=class Sr extends X{get _isRuntime(){return!this.isDesignTime&&!this.isDesignTimeInjected}get _isWidgetDataSourceSupported(){return!this._featureValues[Ba]&&this._isRuntime}get isFullScreen(){return this.analyticsConfig.isFullScreenMode}get fontSizeCssClass(){return this.isFullScreen?"extra-large":this._fontSize}get labelPositionCssClass(){return`indicator-widget-label-position-${this.labelPosition}`}get widgetCssClasses(){const e=[this.indicatorThemeCssClass,this.fontSizeCssClass,this.labelPositionCssClass];return this.drilldownEnabled||e.push("indicator-widget-drilldown-disabled"),e}get useClassicMetricSizes(){return this._featureValues[eo]===!0}set textLines(e){this._textLines=e||[],this._setMetricTooltip(this._textLines,this.labelPosition)}get textLines(){return this._textLines}get dataLoaded(){return this._isWidgetDataSourceSupported?this._dataLoaded:!0}set data(e){this._data=e,this._isWidgetDataSourceSupported&&(e!==null&&(this._dataLoaded=!0),this.config&&this._updateWidgetData(this.config))}set config(e){this.isValidated=!!(e&&e.data),this.isValidated&&(this.indicatorWidgetConfig=e,this.setHeaderConfig(this.indicatorWidgetConfig),this._updateWidgetData(e),this._updateSkeletonsStyles())}get config(){return this.indicatorWidgetConfig}get ariaDescription(){const e=this.textLines.map(({value:t})=>t).join(" ");return this.translationService.instant("IndicatorWidget.AriaDescription",{chartTitle:this.title,ariaValue:e})}constructor(e,t,n,a,r,l,c,u,p,w,D,F){super(e,n,l,t,r,a,c),this._widgetDataProvider=u,this._indicatorTextLinesBuilder=p,this._featureValues=w,this._formatterFactory=D,this._valuePlaceholderCreatorFactory=F,this._defaultFontSize="medium",this._defaultTextPosition="above-under",this._textLines=[],this._fontSize=this._defaultFontSize,this._dataLoaded=!1,this.title="",this.metricColor=q,this.indicatorThemeCssClass="",this.labelPosition=this._defaultTextPosition,this.iconColor=q,this.skeletonsStyles=[],this.drilldownEnabled=!0}_setTextLines(e,t){if(this._isWidgetDataSourceSupported){const n=this._formatValue(this._data,t?.formatting);this.buildTextLines(e,n);return}this._clearSubscriptions(),this._indicatorWidgetConfigSubscription=this._widgetDataProvider.getWidgetData(t,{useCache:!this._isRuntime}).pipe((0,N.map)(n=>this._getValuePlaceholder(n,t?.formatting)),(0,B.catchError)(()=>(0,B.of)(this._getValuePlaceholder(null,t?.formatting)))).subscribe(n=>{this.buildTextLines(e,n)})}_setIconColor(e){const t=e?.layout?.icon?.color;this.iconColor=t&&Wi.get(t)?.color||this.metricColor}_formatValue(e,t){const n=this._formatterFactory.resolveFormatter(t)?.format(e?.toString(),t);return this._getValuePlaceholder(n,t)}_getValuePlaceholder(e,t){return this._valuePlaceholderCreatorFactory.create(t)?.fill(e)}_hasSectionBindingColumnPath(){return!!this.indicatorWidgetConfig?.data?.providing?.sectionBindingColumn}_setTextOptions(e){const{fontSizeMode:t,labelPosition:n}=e||{};this.labelPosition=n||this._defaultTextPosition,this._fontSize=t||this._defaultFontSize}_setMetricTooltip(e,t){const n=t==="above-under"?`
`:" ";this.metricTooltip=e?.map(({value:a})=>a).join(n)}_setTheme(e){const{text:t,layout:n,theme:a=hr}=e,r=t?.color,l=zn(r),c=n?.color,{color:u}=zn(c);if(this.analyticsConfig.background=this.getBackgroundColor(e),a===H.Glassmorphism){this.indicatorThemeCssClass=H.Glassmorphism,this.metricColor=q;return}if(a===H.WithoutFill){this.indicatorThemeCssClass=H.WithoutFill,this.metricColor=l.color||u;return}if(a===H.Transparent){this.indicatorThemeCssClass=H.Transparent,this.metricColor=l.color||u;return}this.indicatorThemeCssClass="",this.metricColor=l.color||q}_updateWidgetData(e){const t=e.data?.providing?.sectionBindingColumn;t?.path&&t?.rootSchemaPrimaryColumnValue!==this.sectionBindingRecordId&&(t.rootSchemaPrimaryColumnValue=this.sectionBindingRecordId);const{title:n="",data:a,text:r}=e;if(this.title=n,this._setTextOptions(r),this._setTheme(e),this._setIconColor(e),!this.sectionBindingRecordId&&e?.data?.providing?.sectionBindingColumn?.path!=null){const l=this._getValuePlaceholder(null,a?.formatting);this.buildTextLines(r,l);return}this._setTextLines(r,a)}_updateSkeletonsStyles(){if(this.labelPosition==="before-after"){this.skeletonsStyles=[{height:pr.get(this._fontSize).metric,width:"100%"}];return}this.skeletonsStyles=this.textLines.map((e,t)=>{const n=e.type==="metric"?"100%":t?"25%":"50%";return{height:pr.get(this._fontSize)[e.type],width:n}})}_clearSubscriptions(){this._indicatorWidgetConfigSubscription?.unsubscribe(),this._fullScreenModeSubscription?.unsubscribe()}_focusOnActionElement(e){!e&&this.analyticsWidget.fullScreenDirective.isModeChangedByKeyboard&&setTimeout(()=>{this.actionElement.nativeElement?.focus()})}getGridTitle(){var e=this;return(0,L.A)(function*(){const t=e.entitySchemaModel.caption,n=e.indicatorWidgetConfig.data.providing;if(n.aggregation.column.expression.aggregationType===d.AggregationType.Count)return t;const a=n.aggregation.column.expression.functionArgument.columnPath,r=yield e.getColumnCaptionByPath(e.entitySchemaModel,a);return`${t} ${e.byCaption} ${r}`})()}buildTextLines(e,t){this.textLines=this._indicatorTextLinesBuilder.setMetric(t).setTemplate(e.template).setMetricMacros(e.metricMacros).build(),this.changeDetectorRef.detectChanges()}setSectionBindingColumnRecordId(e){super.setSectionBindingColumnRecordId(e),!(this._hasSectionBindingColumnPath()&&!this.hasSectionBindingColumnRecordId()&&!this.isDesignTimeInjected)&&this._updateWidgetData(this.indicatorWidgetConfig)}getSchemaName(){return this.indicatorWidgetConfig?.data.providing?.schemaName}createWidgetDrilldownEventConfig(e){const t=this.config.data.providing,n=t?.aggregation?.column?.expression,a=ro(n);let r=this.lastColumnConfig,l=this.sortingConfig;return t?.schemaName&&this._analyticsSchemaName&&this._analyticsSchemaName!==t?.schemaName&&(r=null,l=null),{schemaName:t?.schemaName,aggregateBy:a,groupByValue:null,groupBy:[],columns:r,pagingConfig:this.pagingConfig,sortingConfig:l,filters:{widgetFilters:t?.filters?.filter,pageBindingFilter:t?.sectionBindingColumn,filterAttributes:t?.filters?.filterAttributes},dependencies:t?.dependencies}}createHeaderConfig(e){return{...super.createHeaderConfig(e),showTools:!this.isDesignTime,color:this.config.layout.color,visible:!1}}getBackgroundColor(e){const{layout:t,theme:n=H.FullFill}=e,a=t?.color,{gradient:r}=zn(a),{linear:l,radial:c}=r;return n===H.Glassmorphism?a!=="transparent"?c:"unset":n===H.WithoutFill?q:n===H.Transparent?H.Transparent:l||""}applyFullscreenMode(e,t){this.headerConfig.visible=t,this.headerConfig.background="unset",this.analyticsConfig.contentSizeMode=Pi.MoreData,this.title=t?"":this.config.title,super.applyFullscreenMode(e,t)}getWidgetMinWidth(){return this.analyticsConfig.contentDirection==="column"?"25%":"70%"}onIndicatorClick(){var e=this;return(0,L.A)(function*(){e.isDesignTime||!e.drilldownEnabled||(e.drilldownData({}),e.gridTitle=yield e.getGridTitle())})()}onIndicatorKeydownAction(){var e=this;return(0,L.A)(function*(){e.analyticsWidget.fullScreenDirective.isModeChangedByKeyboard=!0,yield e.onIndicatorClick()})()}trackByFn(e,t){return t.value}ngAfterViewInit(){this._fullScreenModeSubscription=this.analyticsWidget.fullScreenDirective.isFullScreenModeChange.subscribe(e=>{this._focusOnActionElement(e)})}ngOnDestroy(){super.ngOnDestroy(),this._clearSubscriptions()}static{this.\u0275fac=function(t){return new(t||Sr)(i.\u0275\u0275directiveInject(i.Injector),i.\u0275\u0275directiveInject(g.IS_DESIGN_TIME,8),i.\u0275\u0275directiveInject(Z.FeatureService),i.\u0275\u0275directiveInject(j.TranslateService),i.\u0275\u0275directiveInject(g.EntitySchemaProvider),i.\u0275\u0275directiveInject(Z.GoogleTagManagerService),i.\u0275\u0275directiveInject(ae),i.\u0275\u0275directiveInject(he),i.\u0275\u0275directiveInject(We),i.\u0275\u0275directiveInject(g.FEATURE_VALUES),i.\u0275\u0275directiveInject(g.FormatterFactory),i.\u0275\u0275directiveInject(mr))}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:Sr,selectors:[["crt-indicator-widget"]],viewQuery:function(t,n){if(t&1&&(i.\u0275\u0275viewQuery(Te,5),i.\u0275\u0275viewQuery(Wl,5)),t&2){let a;i.\u0275\u0275queryRefresh(a=i.\u0275\u0275loadQuery())&&(n.analyticsWidget=a.first),i.\u0275\u0275queryRefresh(a=i.\u0275\u0275loadQuery())&&(n.actionElement=a.first)}},inputs:{isDesignTime:"isDesignTime",drilldownEnabled:"drilldownEnabled",data:"data",config:"config"},features:[i.\u0275\u0275ProvidersFeature([{provide:ne.COMPONENT_LOADER_VISIBILITY_DELAY,useValue:500}]),i.\u0275\u0275InheritDefinitionFeature],decls:8,vars:22,consts:[["view",""],["placeholder",""],["actionElement",""],["indicatorData",""],["indicatorMetric",""],["indicatorText",""],["indicatorIcon",""],[3,"fullScreenStateChanged","switchDirectionType","viewChange","paginationChange","sortingChange","getProfileColumns","searchFilterChange","chartsSeries","headerConfig","analyticsConfig","widgetConfig","gridData","searchValue","sorting","loading","title","dataGridHeaderToolbarItems"],[1,"indicator-widget-wrapper","main-content",3,"ngClass"],[1,"indicator-widget",3,"click","ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],["role","img",1,"indicator-widget-container",3,"keydown.enter","keydown.space"],["class","indicator-widget-title",3,"title",4,"ngIf"],[1,"indicator-widget-value-container",3,"title"],[4,"ngIf","ngIfElse"],[1,"indicator-widget-title",3,"title"],[1,"indicator-widget-skeleton-container"],[3,"styles",4,"ngFor","ngForOf"],[3,"styles"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"indicator-widget-inner-value-container"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"indicator-widget-metric"],[1,"indicator-widget-metric-value"],[1,"indicator-widget-text"],["class","indicator-widget-icon",3,"color","svgIcon",4,"ngIf"],[1,"indicator-widget-icon",3,"svgIcon"]],template:function(t,n){if(t&1){const a=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"crt-analytics-widget",7),i.\u0275\u0275listener("fullScreenStateChanged",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.applyFullscreenMode(l,!1))})("switchDirectionType",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.handleDirectionMenuItemClick(l))})("viewChange",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onAnalyticsViewChanged(l))})("paginationChange",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onPaginationChange(l))})("sortingChange",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onSortingChange(l))})("getProfileColumns",function(){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onGetProfileColumns())})("searchFilterChange",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.handleSearchFilterChange(l))}),i.\u0275\u0275elementStart(1,"div",8)(2,"div",9),i.\u0275\u0275listener("click",function(){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onIndicatorClick())}),i.\u0275\u0275template(3,Hl,1,0,"div",10)(4,tc,13,6,"ng-template",null,0,i.\u0275\u0275templateRefExtractor)(6,nc,1,0,"ng-template",null,1,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementEnd()()()}if(t&2){const a=i.\u0275\u0275reference(5),r=i.\u0275\u0275reference(7);i.\u0275\u0275property("chartsSeries",n.config)("headerConfig",n.headerConfig)("analyticsConfig",n.analyticsConfig)("widgetConfig",n.indicatorWidgetConfig)("gridData",n.gridData)("searchValue",n.searchValue)("sorting",n.sortingColumns)("loading",n.isWaitingDataLoad)("title",n.gridTitle)("dataGridHeaderToolbarItems",n.dataGridHeaderToolbarItems),i.\u0275\u0275advance(),i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction2(19,Gl,n.isFullScreen,n.isDesignTime)),i.\u0275\u0275advance(),i.\u0275\u0275styleProp("min-width",n.getWidgetMinWidth()),i.\u0275\u0275classProp("indicator-widget-container-use-classic-sizes",n.useClassicMetricSizes),i.\u0275\u0275property("ngClass",n.widgetCssClasses),i.\u0275\u0275advance(),i.\u0275\u0275property("ngIf",n.isValidated)("ngIfThen",a)("ngIfElse",r)}},dependencies:[P.NgClass,P.NgForOf,P.NgIf,P.NgTemplateOutlet,ne.ViewElementPlaceholderComponent,Te,oe.MatIcon,sn.SkeletonLoaderComponent],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}@keyframes _ngcontent-%COMP%_indicator-opacity{0%{opacity:0}to{opacity:1}}.indicator-widget-wrapper[_ngcontent-%COMP%]:not(.design-time):hover{cursor:pointer}.indicator-widget-wrapper[_ngcontent-%COMP%]:not(.design-time):hover   .indicator-widget-drilldown-disabled[_ngcontent-%COMP%]{cursor:default}.indicator-widget-wrapper[_ngcontent-%COMP%]:not(.design-time):hover   .indicator-widget-drilldown-disabled.indicator-widget-label-position-before-after[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%], .indicator-widget-wrapper[_ngcontent-%COMP%]:not(.design-time):hover   .indicator-widget-drilldown-disabled.indicator-widget-label-position-above-under[_ngcontent-%COMP%]   .indicator-widget-metric[_ngcontent-%COMP%]{text-decoration:none}.indicator-widget-wrapper[_ngcontent-%COMP%]:not(.design-time):hover   .indicator-widget-label-position-before-after[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%], .indicator-widget-wrapper[_ngcontent-%COMP%]:not(.design-time):hover   .indicator-widget-label-position-above-under[_ngcontent-%COMP%]   .indicator-widget-metric[_ngcontent-%COMP%]{text-decoration:underline;text-decoration-thickness:from-font}.indicator-widget-wrapper[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center}.indicator-widget-wrapper[_ngcontent-%COMP%]   crt-skeleton-loader[_ngcontent-%COMP%]{font-size:0;padding-bottom:4px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;background-size:cover;background-repeat:no-repeat;overflow:hidden;font-size:15px;box-sizing:border-box;padding:5px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.extra-small.indicator-widget-label-position-above-under[_ngcontent-%COMP%]   .indicator-widget-text[_ngcontent-%COMP%]{font-size:12px;line-height:16px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.extra-small[_ngcontent-%COMP%]   .indicator-widget-container[_ngcontent-%COMP%]{padding-top:4px;padding-bottom:4px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.extra-small[_ngcontent-%COMP%]   .indicator-widget-title[_ngcontent-%COMP%]{margin-bottom:0;font-size:12px;line-height:16px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.extra-small[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%]{font-size:13px;line-height:20px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.extra-small[_ngcontent-%COMP%]   .indicator-widget-icon[_ngcontent-%COMP%]{height:16px;width:16px;line-height:16px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.small.indicator-widget-label-position-above-under[_ngcontent-%COMP%]   .indicator-widget-text[_ngcontent-%COMP%]{font-size:12px;line-height:16px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.small[_ngcontent-%COMP%]   .indicator-widget-title[_ngcontent-%COMP%]{font-size:14px;line-height:18px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.small[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%]{font-size:20px;line-height:26px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.small[_ngcontent-%COMP%]   .indicator-widget-icon[_ngcontent-%COMP%]{height:16px;width:16px;line-height:16px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.medium.indicator-widget-label-position-above-under[_ngcontent-%COMP%]   .indicator-widget-metric[_ngcontent-%COMP%], .indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.medium.indicator-widget-label-position-before-after[_ngcontent-%COMP%]   .indicator-widget-value-container[_ngcontent-%COMP%]{font-weight:600}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.medium.indicator-widget-label-position-above-under[_ngcontent-%COMP%]   .indicator-widget-text[_ngcontent-%COMP%]{font-size:12px;line-height:16px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.medium[_ngcontent-%COMP%]   .indicator-widget-title[_ngcontent-%COMP%]{font-size:14px;line-height:18px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.medium[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%]{font-size:28px;line-height:36px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.medium[_ngcontent-%COMP%]   .indicator-widget-icon[_ngcontent-%COMP%]{height:24px;width:24px;line-height:24px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.large.indicator-widget-label-position-above-under[_ngcontent-%COMP%]   .indicator-widget-metric[_ngcontent-%COMP%], .indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.large.indicator-widget-label-position-before-after[_ngcontent-%COMP%]   .indicator-widget-value-container[_ngcontent-%COMP%]{font-weight:600}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.large.indicator-widget-label-position-above-under[_ngcontent-%COMP%]   .indicator-widget-text[_ngcontent-%COMP%]{font-size:13px;line-height:20px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.large[_ngcontent-%COMP%]   .indicator-widget-title[_ngcontent-%COMP%]{font-size:16px;line-height:20px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.large[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%]{font-size:36px;line-height:44px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.large[_ngcontent-%COMP%]   .indicator-widget-icon[_ngcontent-%COMP%]{height:32px;width:32px;line-height:32px;margin-inline-end:12px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.extra-large.indicator-widget-label-position-above-under[_ngcontent-%COMP%]   .indicator-widget-metric[_ngcontent-%COMP%], .indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.extra-large.indicator-widget-label-position-before-after[_ngcontent-%COMP%]   .indicator-widget-value-container[_ngcontent-%COMP%]{font-weight:600}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.extra-large.indicator-widget-label-position-above-under[_ngcontent-%COMP%]   .indicator-widget-text[_ngcontent-%COMP%]{font-size:13px;line-height:20px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.extra-large[_ngcontent-%COMP%]   .indicator-widget-title[_ngcontent-%COMP%]{font-size:18px;line-height:24px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.extra-large[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%]{font-size:54px;line-height:70px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.extra-large[_ngcontent-%COMP%]   .indicator-widget-icon[_ngcontent-%COMP%]{height:40px;width:40px;line-height:40px;margin-inline-end:12px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.indicator-widget-container-use-classic-sizes.medium.indicator-widget-label-position-above-under[_ngcontent-%COMP%]   .indicator-widget-text[_ngcontent-%COMP%]{font-size:12px;line-height:16px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.indicator-widget-container-use-classic-sizes.medium[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%]{font-size:56px;line-height:56px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.indicator-widget-container-use-classic-sizes.large.indicator-widget-label-position-above-under[_ngcontent-%COMP%]   .indicator-widget-text[_ngcontent-%COMP%]{font-size:16px;line-height:16px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.indicator-widget-container-use-classic-sizes.large[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%]{font-size:66px;line-height:66px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.indicator-widget-label-position-before-after[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.indicator-widget-label-position-before-after[_ngcontent-%COMP%]   .indicator-widget-text[_ngcontent-%COMP%], .indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.indicator-widget-label-position-before-after[_ngcontent-%COMP%]   .indicator-widget-metric[_ngcontent-%COMP%]{display:inline}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.indicator-widget-label-position-before-after[_ngcontent-%COMP%]   .indicator-widget-text[_ngcontent-%COMP%], .indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget[_ngcontent-%COMP%]   .indicator-widget-icon[_ngcontent-%COMP%], .indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget[_ngcontent-%COMP%]   .indicator-widget-metric[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_indicator-opacity 1s normal}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.indicator-widget-label-position-above-under[_ngcontent-%COMP%]   .indicator-widget-metric[_ngcontent-%COMP%]   .indicator-widget-metric-value[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget[_ngcontent-%COMP%]   .indicator-widget-icon[_ngcontent-%COMP%]{flex-shrink:0;margin-inline-end:8px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget[_ngcontent-%COMP%]   .indicator-widget-container[_ngcontent-%COMP%]{padding:3px 11px;height:100%;display:flex;flex-direction:column}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget[_ngcontent-%COMP%]   .indicator-widget-container[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.indicator-widget-label-position-above-under[_ngcontent-%COMP%]   .indicator-widget-value-container[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.indicator-widget-label-position-before-after[_ngcontent-%COMP%]   .indicator-widget-value-container[_ngcontent-%COMP%]{align-items:center}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget[_ngcontent-%COMP%]   .indicator-widget-value-container[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1;width:100%}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget[_ngcontent-%COMP%]   .indicator-widget-value-container[_ngcontent-%COMP%]   .indicator-widget-skeleton-container[_ngcontent-%COMP%]{width:100%;overflow-x:auto;text-align:start}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget[_ngcontent-%COMP%]   .indicator-widget-inner-value-container[_ngcontent-%COMP%]{overflow-x:auto}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget[_ngcontent-%COMP%]   .indicator-widget-inner-value-container.indicator-widget-inner-value-container-hidden[_ngcontent-%COMP%]{visibility:hidden}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget[_ngcontent-%COMP%]   .indicator-widget-title[_ngcontent-%COMP%]{flex-shrink:0;margin-bottom:8px;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:2;-webkit-box-orient:vertical}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget[_ngcontent-%COMP%]   .indicator-widget-metric[_ngcontent-%COMP%]{display:flex;align-items:center;letter-spacing:1px}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget[_ngcontent-%COMP%]   .indicator-widget-text[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.without-fill.indicator-widget-label-position-above-under[_ngcontent-%COMP%]   .indicator-widget-text[_ngcontent-%COMP%]{color:var(--crt-palette-label-500)}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.without-fill[_ngcontent-%COMP%]   .indicator-widget-title[_ngcontent-%COMP%]{color:#0d2e4e}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.transparent[_ngcontent-%COMP%]   .indicator-widget-container[_ngcontent-%COMP%]{padding:8px 0}.indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.transparent.indicator-widget-label-position-above-under[_ngcontent-%COMP%]   .indicator-widget-text[_ngcontent-%COMP%], .indicator-widget-wrapper[_ngcontent-%COMP%]   .indicator-widget.transparent[_ngcontent-%COMP%]   .indicator-widget-title[_ngcontent-%COMP%]{color:var(--crt-palette-label-500)}.indicator-widget-wrapper.fullscreen-mode[_ngcontent-%COMP%]   .indicator-widget[_ngcontent-%COMP%]{width:80%;min-width:250px;border-radius:8px}.indicator-widget-wrapper.fullscreen-mode[_ngcontent-%COMP%]   .indicator-widget[_ngcontent-%COMP%]   .indicator-widget-container[_ngcontent-%COMP%]{height:100%;padding-top:0;padding-bottom:0;text-align:center}.indicator-widget-wrapper.fullscreen-mode[_ngcontent-%COMP%]   .indicator-widget[_ngcontent-%COMP%]   .indicator-widget-value-container[_ngcontent-%COMP%], .indicator-widget-wrapper.fullscreen-mode[_ngcontent-%COMP%]   .indicator-widget[_ngcontent-%COMP%]   .indicator-widget-metric[_ngcontent-%COMP%]{justify-content:center}"]})}};(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",Boolean)],fe.prototype,"isDesignTime",void 0),(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",Object)],fe.prototype,"drilldownEnabled",void 0),(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",Object),(0,f.__metadata)("design:paramtypes",[Object])],fe.prototype,"data",null),(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",Object),(0,f.__metadata)("design:paramtypes",[Object])],fe.prototype,"config",null),fe=(0,f.__decorate)([(0,d.CrtViewElement)({type:"crt.IndicatorWidget",reuseStrategy:d.ViewElementReuseStrategy.Reuse,compatibleAPIs:{[d.PlatformAPIs.Filtration]:{enable:!0,aggregation:!0}}}),(0,d.CrtInterfaceDesignerItem)({designViewItemCommands:{create:"crt.CreateIndicatorWidgetViewItemCommand",copy:"crt.CopyIndicatorWidgetViewItemCommand",delete:"crt.RemoveIndicatorWidgetViewItemCommand"},toolbarConfig:{icon:S(75327),defaultPropertyValues:{config:{title:"",theme:hr,layout:{color:"green"},text:{template:"{0}",metricMacros:"{0}",fontSizeMode:"medium"}}},defaultLocalizableStrings:{config:{title:"Components.IndicatorWidget.Caption"}}},typeCaption:"CDK.IndicatorWidget.Caption",propertiesPanelComponentTypeName:"crt.IndicatorWidgetPropertiesPanel",viewElementGroupType:d.ViewElementGroupType.Charts,placeholderSize:{height:"60px"}}),(0,f.__metadata)("design:paramtypes",[i.Injector,Boolean,Z.FeatureService,j.TranslateService,g.EntitySchemaProvider,Z.GoogleTagManagerService,ae,he,We,g.FeatureValues,g.FormatterFactory,h.Factory])],fe);let Cr=class{convert(e,t,n){return(0,L.A)(function*(){return e?.length?(yield e[0][n])?.toString():""})()}};Cr=(0,f.__decorate)([(0,d.CrtConverter)({type:"crt.ToIndicatorValueAsync"})],Cr);const ic={"zh-TW":JSON.parse('{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"Legend for {{chartTitle}} chart: use arrow keys to navigate and Enter key to open context menu."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"hr-HR":JSON.parse('{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"Legenda za {{chartTitle}} grafikon: koristite tipke sa strelicama za navigaciju i tipku Enter za otvaranje kontekstualnog izbornika."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"bg-BG":JSON.parse('{"IndicatorWidget":{"NoData":"\u041D\u044F\u043C\u0430 \u0434\u0430\u043D\u043D\u0438","AriaDescription":"{{chartTitle}}. \u0422\u0438\u043F\u044A\u0442 \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u0430 \u0435 Metric. \u0422\u0435\u043A\u0443\u0449\u0430\u0442\u0430 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442 \u0435 {{ariaValue}}. \u0418\u0437\u043F\u043E\u043B\u0437\u0432\u0430\u0439 \u043A\u043B\u0430\u0432\u0438\u0448\u0438\u0442\u0435 \u0437\u0430 \u0432\u044A\u0432\u0435\u0436\u0434\u0430\u043D\u0435 \u0438\u043B\u0438 \u0438\u043D\u0442\u0435\u0440\u0432\u0430\u043B, \u0437\u0430 \u0434\u0430 \u0440\u0430\u0437\u0431\u0438\u0435\u0448 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430."},"ChartLegend":{"Title":"\u041B\u0435\u0433\u0435\u043D\u0434\u0430 \u0437\u0430 \u0433\u0440\u0430\u0444\u0438\u043A\u0430\u0442\u0430 {{chartTitle}}: \u0438\u0437\u043F\u043E\u043B\u0437\u0432\u0430\u0439 \u0441\u0442\u0440\u0435\u043B\u043A\u0438\u0442\u0435, \u0437\u0430 \u0434\u0430 \u043D\u0430\u0432\u0438\u0433\u0438\u0440\u0430\u0448 \u0438 \u043A\u043B\u0430\u0432\u0438\u0448\u0430 \u0412\u044A\u0432\u0435\u0434\u0438, \u0437\u0430 \u0434\u0430 \u043E\u0442\u0432\u043E\u0440\u0438\u0448 \u043A\u043E\u043D\u0442\u0435\u043A\u0441\u0442\u043D\u043E\u0442\u043E \u043C\u0435\u043D\u044E."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u0430 \u0437\u0430 \u201E{{chartTitle}}\u201C \u0441 {{groupsCount}} \u0433\u0440\u0443\u043F\u0438. \u0414\u0438\u0430\u0433\u0440\u0430\u043C\u0430\u0442\u0430, \u043F\u043E\u043A\u0430\u0437\u0432\u0430\u0449\u0430 \u201E{{groupsNames}}\u201C. X \u0435 \\"{{xLabel}}\\" \u043E\u0442 {{xMin}} \u0434\u043E {{xMax}}. Y \u0435 \\"{{yLabel}}\\" \u043E\u0442 {{yMin}} \u0434\u043E {{yMax}}. \u0418\u0437\u043F\u043E\u043B\u0437\u0432\u0430\u0439 \u043A\u043B\u0430\u0432\u0438\u0448\u0438\u0442\u0435 \u0441\u044A\u0441 \u0441\u0442\u0440\u0435\u043B\u043A\u0438 \u0437\u0430 \u043D\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044F.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. \u0418\u0437\u043F\u043E\u043B\u0437\u0432\u0430\u0439 \u043A\u043B\u0430\u0432\u0438\u0448\u0430 Enter, \u0437\u0430 \u0434\u0430 \u043E\u0442\u0432\u043E\u0440\u0438\u0448 \u043A\u043E\u043D\u0442\u0435\u043A\u0441\u0442\u043D\u043E\u0442\u043E \u043C\u0435\u043D\u044E."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. \u0422\u0438\u043F\u044A\u0442 \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u0430 \u0435 Gauge. \u0414\u0430\u043D\u043D\u0438\u0442\u0435 \u0432\u0430\u0440\u0438\u0440\u0430\u0442 \u043E\u0442 {{ariaMin}} \u0434\u043E {{ariaMax}}. \u0422\u0435\u043A\u0443\u0449\u0430\u0442\u0430 \u0441\u0442\u043E\u0439\u043D\u043E\u0441\u0442 \u0435 {{ariaValue}}. \u0418\u0437\u043F\u043E\u043B\u0437\u0432\u0430\u0439 \u043A\u043B\u0430\u0432\u0438\u0448\u0438\u0442\u0435 \u0437\u0430 \u0432\u044A\u0432\u0435\u0436\u0434\u0430\u043D\u0435 \u0438\u043B\u0438 \u0438\u043D\u0442\u0435\u0440\u0432\u0430\u043B, \u0437\u0430 \u0434\u0430 \u0440\u0430\u0437\u0431\u0438\u0435\u0448 \u0435\u043B\u0435\u043C\u0435\u043D\u0442\u0430."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"\u0420\u0430\u0437\u0448\u0438\u0440\u0438 \u043D\u0430 \u0446\u044F\u043B \u0435\u043A\u0440\u0430\u043D \u0437\u0430 \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u0430\u0442\u0430 \u201E{{title}}\u201C.","CollapseLabel":"\u0421\u0432\u0438\u0439 \u0446\u0435\u043B\u0438\u044F \u0435\u043A\u0440\u0430\u043D \u0437\u0430 \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u0430\u0442\u0430 \u201E{{title}}\u201C."},"Menu":{"Caption":"\u041C\u0435\u043D\u044E \u0437\u0430 \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u0430 \\"{{title}}\\"."}}}'),"zh-CN":JSON.parse('{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"Legend for {{chartTitle}} chart: use arrow keys to navigate and Enter key to open context menu."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"vi-VN":JSON.parse('{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"Legend for {{chartTitle}} chart: use arrow keys to navigate and Enter key to open context menu."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"tr-TR":JSON.parse('{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"{{Charttitle}} grafik i\xE7in efsane: Gezmek i\xE7in ok tu\u015Flar\u0131n\u0131 kullan\u0131n ve ba\u011Flam men\xFCs\xFCn\xFC a\xE7mak i\xE7in tu\u015Fa girin."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"th-TH":JSON.parse('{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"Legend for {{chartTitle}} chart: use arrow keys to navigate and Enter key to open context menu."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"sv-SE":JSON.parse('{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"Legend for {{chartTitle}} chart: use arrow keys to navigate and Enter key to open context menu."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"sq-AL":JSON.parse('{"IndicatorWidget":{"NoData":"Nuk ka","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"Legend for {{chartTitle}} chart: use arrow keys to navigate and Enter key to open context menu."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"ro-RO":JSON.parse('{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"Legend\u0103 pentru graficul {{chartTitle}}: folose\u0219te tastele s\u0103geat\u0103 pentru a naviga \u0219i tasta Enter pentru a deschide meniul de context."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"pt-PT":JSON.parse('{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"Legend for {{chartTitle}} chart: use arrow keys to navigate and Enter key to open context menu."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"pt-BR":JSON.parse(`{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"Legenda para o gr\xE1fico {{chartTitle}}: utilizar as teclas de setas para navegar e a tecla 'Enter' para abrir o menu de contextos."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}`),"pl-PL":JSON.parse('{"IndicatorWidget":{"NoData":"Nie dotyczy.","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"Legenda dla wykresu {{chartTitle}}: u\u017Cyj klawiszy strza\u0142ek do nawigacji i klawisza Enter, aby otworzy\u0107 menu kontekstowe."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"nl-NL":JSON.parse('{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. Het type diagram is Metric. De huidige waarde is {{ariaValue}}. Gebruik de enter- of spatiebalktoetsen om verder in te zoomen op het element."},"ChartLegend":{"Title":"Legend for {{chartTitle}} chart: use arrow keys to navigate and Enter key to open context menu."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} diagram voor \\"{{chartTitle}}\\" met {{groupsCount}} groepen. Het diagram toont \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" van {{xMin}} tot {{xMax}}. Y is \\"{{yLabel}}\\" van {{yMin}} tot {{yMax}}. Gebruik de pijltoetsen om te navigeren.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Gebruik de Enter-toets om het contextmenu te openen."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. Het type diagram is Gauge. Gegevens vari\xEBren van {{ariaMin}} tot {{ariaMax}}. De huidige waarde is {{ariaValue}}. Gebruik de enter- of spatiebalktoetsen om verder in te zoomen op het element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Verklein volledig scherm voor \\"{{title}}\\" diagram."},"Menu":{"Caption":"Menu voor \\"{{title}}\\" diagram."}}}'),"lv-LV":JSON.parse('{"IndicatorWidget":{"NoData":"NAV PIEEJAMS","AriaDescription":"{{chartTitle}}. Diagrammas veids ir metrisk\u0101. Pa\u0161reiz\u0113j\u0101 v\u0113rt\u012Bba ir {{ariaValue}}. Izmantojiet ievad\u012B\u0161anas vai atstarpes tausti\u0146us, lai izv\u0113rstu elementu."},"ChartLegend":{"Title":"Le\u0123enda par {{chartTitle}} diagrammu: izmantojiet bulttausti\u0146us, lai p\u0101rvietotos, un Ievades tausti\u0146u, lai atv\u0113rtu konteksta izv\u0113lni."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} diagramma ar \\"{{chartTitle}}\\" {{groupsCount}} grup\u0101m. Diagramma, kas r\u0101da \\"{{groupsNames}}\\". X ir \\"{{xLabel}}\\" no {{xMin}} l\u012Bdz {{xMax}}. Y ir \\"{{yLabel}}\\" no {{yMin}} l\u012Bdz {{yMax}}. Izmantojiet bulttausti\u0146us, lai p\u0101rvietotos.","Tooltip":"{{{xValue}}, {{yValue}}, {{label}}. Lai atv\u0113rtu konteksta izv\u0113lni, izmantojiet tausti\u0146u Enter."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. Diagrammas veids ir M\u0113rier\u012Bce. Pdatu diapazons ir no {{ariaMin}} l\u012Bdz {{ariaMax}}. Pa\u0161reiz\u0113j\u0101 v\u0113rt\u012Bba ir {{ariaValue}}. Izmantojiet ievad\u012B\u0161anas vai atstarpes tausti\u0146us, lai izv\u0113rstu elementu."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Izv\u0113rst pilno ekr\u0101nu \\"{{title}}\\" diagrammai.","CollapseLabel":"Saloc\u012Bt pilnekr\u0101n\u0101 \\"{{title}}\\" diagrammai."},"Menu":{"Caption":"Izv\u0113lne par \\"{{title}}\\" diagrammu."}}}'),"ko-KR":JSON.parse('{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"Legend for {{chartTitle}} chart: use arrow keys to navigate and Enter key to open context menu."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"ja-JP":JSON.parse('{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"Legend for {{chartTitle}} chart: use arrow keys to navigate and Enter key to open context menu."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"it-IT":JSON.parse('{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"Legenda per il grafico {{chartTitle}}: usa i tasti freccia per navigare e il tasto Inserisci per aprire il menu contestuale."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"id-ID":JSON.parse('{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"Legend for {{chartTitle}} chart: use arrow keys to navigate and Enter key to open context menu."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"hu-HU":JSON.parse('{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"Legend for {{chartTitle}} chart: use arrow keys to navigate and Enter key to open context menu."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"he-IL":JSON.parse('{"IndicatorWidget":{"NoData":"\u05DC\u05D0 \u05E8\u05DC\u05D5\u05D5\u05E0\u05D8\u05D9","AriaDescription":"{{chartTitle}}. \u05E1\u05D5\u05D2 \u05D4\u05D2\u05E8\u05E3 \u05D4\u05D5\u05D0 \u05DE\u05D3\u05D3. \u05D4\u05E2\u05E8\u05DA \u05D4\u05E0\u05D5\u05DB\u05D7\u05D9 \u05D4\u05D5\u05D0 {{ariaValue}}. \u05D4\u05E9\u05EA\u05DE\u05E9 \u05D1\u05DE\u05E4\u05EA\u05D7\u05D5\u05EA \u05D4\u05DB\u05E0\u05D9\u05E1\u05D4 \u05D0\u05D5 \u05E8\u05D5\u05D5\u05D7\u05D9\u05DD \u05DB\u05D3\u05D9 \u05DC\u05E2\u05D1\u05D5\u05E8 \u05DC\u05D0\u05DC\u05DE\u05E0\u05D8."},"ChartLegend":{"Title":"\u05D0\u05D2\u05D3\u05D4 \u05E2\u05D1\u05D5\u05E8 \u05D2\u05E8\u05E3 {{chartTitle}}: \u05D4\u05E9\u05EA\u05DE\u05E9 \u05D1\u05DE\u05E4\u05EA\u05D7\u05D5\u05EA \u05D4\u05D7\u05E6\u05D9\u05DD \u05DC\u05E0\u05D9\u05D5\u05D5\u05D8 \u05D5\u05D1\u05DE\u05E4\u05EA\u05D7 \u05D4\u05DB\u05E0\u05D9\u05E1\u05D4 \u05DC\u05E4\u05EA\u05D9\u05D7\u05EA \u05EA\u05E4\u05E8\u05D9\u05D8 \u05D4\u05D4\u05E7\u05E9\u05E8."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} \u05D2\u05E8\u05E3 \u05E2\u05D1\u05D5\u05E8 \\"{{chartTitle}}\\" \u05E2\u05DD {{groupsCount}} \u05E7\u05D1\u05D5\u05E6\u05D5\u05EA. \u05D4\u05D2\u05E8\u05E3 \u05DE\u05E6\u05D9\u05D2 \\"{{groupsNames}}\\". X \u05D4\u05D5\u05D0 \\"{{xLabel}}\\" \u05DE{{xMin}} \u05E2\u05D3 {{xMax}}. Y \u05D4\u05D5\u05D0 \\"{{yLabel}}\\" \u05DE{{yMin}} \u05E2\u05D3 {{yMax}}. \u05D4\u05E9\u05EA\u05DE\u05E9 \u05D1\u05DE\u05E4\u05EA\u05D7\u05D5\u05EA \u05D4\u05D7\u05E6\u05D9\u05DD \u05DC\u05E0\u05D9\u05D5\u05D5\u05D8.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. \u05D4\u05E9\u05EA\u05DE\u05E9 \u05D1\u05DE\u05E4\u05EA\u05D7 \u05D4\u05DB\u05E0\u05D9\u05E1\u05D4 \u05DB\u05D3\u05D9 \u05DC\u05E4\u05EA\u05D5\u05D7 \u05D0\u05EA \u05EA\u05E4\u05E8\u05D9\u05D8 \u05D4\u05D4\u05E7\u05E9\u05E8."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. \u05E1\u05D5\u05D2 \u05D4\u05D2\u05E8\u05E3 \u05D4\u05D5\u05D0 \u05D7\u05D5\u05D2\u05D4. \u05E0\u05EA\u05D5\u05E0\u05D9 \u05D8\u05D5\u05D5\u05D7\u05D9\u05DD \u05DE{{ariaMin}} \u05E2\u05D3 {{ariaMax}}. \u05D4\u05E2\u05E8\u05DA \u05D4\u05E0\u05D5\u05DB\u05D7\u05D9 \u05D4\u05D5\u05D0 {{ariaValue}}. \u05D4\u05E9\u05EA\u05DE\u05E9 \u05D1\u05DB\u05E0\u05D9\u05E1\u05D4 \u05D0\u05D5 \u05D1\u05DE\u05E4\u05EA\u05D7\u05D5\u05EA \u05E8\u05D5\u05D5\u05D7 \u05DB\u05D3\u05D9 \u05DC\u05E2\u05D1\u05D5\u05E8 \u05DC\u05D0\u05DC\u05DE\u05E0\u05D8."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"\u05D4\u05E8\u05D7\u05D1 \u05D0\u05EA \u05D4\u05DE\u05E1\u05DA \u05D4\u05DE\u05DC\u05D0 \u05DC\u05D2\u05E8\u05E3 \\"{{title}}\\".","CollapseLabel":"\u05DC\u05D4\u05E7\u05D8\u05D9\u05DF \u05DE\u05E1\u05DA \u05DE\u05DC\u05D0 \u05E2\u05D1\u05D5\u05E8 \\"{{title}}\\" \u05EA\u05E8\u05E9\u05D9\u05DD."},"Menu":{"Caption":"\u05EA\u05E4\u05E8\u05D9\u05D8 \u05E2\u05D1\u05D5\u05E8 \\"{{title}}\\" \u05EA\u05E8\u05E9\u05D9\u05DD."}}}'),"fr-FR":JSON.parse('{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"L\xE9gende pour le graphique {{chartTitle}} : utilisez les fl\xE8ches pour naviguer et la touche Entr\xE9e pour ouvrir le menu contextuel."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"es-ES":JSON.parse('{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. El tipo de gr\xE1fico es m\xE9trico. El valor actual es {{ariaValue}}. Utilice las teclas de introducir o espacio blanco para profundizar en el elemento."},"ChartLegend":{"Title":"Leyenda para {{chartTitle}} gr\xE1fico: utilice las teclas de flecha para navegar y la tecla Enter para abrir el men\xFA contextual."},"ChartJsScreenReaderPlugin":{"Description":"Gr\xE1fico {{chartType}} para \\"{{chartTitle}}\\" con grupos {{groupsCount}} . El gr\xE1fico que muestra \\"{{groupsNames}}\\". X es \\"{{xLabel}}\\" de {{xMin}} a {{xMax}}. Y es \\"{{yLabel}}\\" de {{yMin}} a {{yMax}}. Utilice las teclas de flecha para navegar.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Utilice la tecla Enter para abrir el men\xFA contextual."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. El tipo de gr\xE1fico es el Anem\xF3metro. Los datos var\xEDan de {{ariaMin}} a {{ariaMax}}. El valor actual es {{ariaValue}}. Utilice las teclas de introducir o espacios en blanco para profundizar en el elemento."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expandir pantalla completa para el gr\xE1fico \\"{{title}}\\".","CollapseLabel":"Contraer pantalla completa para el gr\xE1fico \\"{{title}}\\"."},"Menu":{"Caption":"Men\xFA del gr\xE1fico \\"{{title}}\\"."}}}'),"de-DE":JSON.parse('{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"Legend for {{chartTitle}} chart: use arrow keys to navigate and Enter key to open context menu."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"cs-CZ":JSON.parse('{"IndicatorWidget":{"NoData":"N/A","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"Legend for {{chartTitle}} chart: use arrow keys to navigate and Enter key to open context menu."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"ar-SA":JSON.parse('{"IndicatorWidget":{"NoData":"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"Legend for {{chartTitle}} chart: use arrow keys to navigate and Enter key to open context menu."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"en-US":JSON.parse('{"IndicatorWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element.","NoData":"N/A"},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"ChartLegend":{"Title":"Legend for {{chartTitle}} chart: use arrow keys to navigate and Enter key to open context menu."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}'),"ru-RU":JSON.parse('{"IndicatorWidget":{"AriaDescription":"{{chartTitle}}. \u0422\u0438\u043F \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u044B \u2014 \u041C\u0435\u0442\u0440\u0438\u043A\u0430. \u0422\u0435\u043A\u0443\u0449\u0435\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u2014 {{ariaValue}}. \u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u043A\u043B\u0430\u0432\u0438\u0448\u0443 \u0412\u0432\u043E\u0434\u0430 \u0438\u043B\u0438 \u041F\u0440\u043E\u0431\u0435\u043B\u0430 \u0447\u0442\u043E\u0431\u044B \u0443\u0433\u043B\u0443\u0431\u0438\u0442\u044C\u0441\u044F \u0432 \u044D\u043B\u0435\u043C\u0435\u043D\u0442.","NoData":"\u041D/\u0414"},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. \u0422\u0438\u043F \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u044B \u2014 \u0428\u043A\u0430\u043B\u0430. \u0414\u0438\u0430\u043F\u0430\u0437\u043E\u043D \u0434\u0430\u043D\u043D\u044B\u0445 \u2014 \u043E\u0442 {{ariaMin}} \u0434\u043E {{ariaMax}}. \u0422\u0435\u043A\u0443\u0449\u0435\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u2014 {{ariaValue}}. \u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u043A\u043B\u0430\u0432\u0438\u0448\u0443 \u0412\u0432\u043E\u0434\u0430 \u0438\u043B\u0438 \u041F\u0440\u043E\u0431\u0435\u043B\u0430 \u0447\u0442\u043E\u0431\u044B \u0443\u0433\u043B\u0443\u0431\u0438\u0442\u044C\u0441\u044F \u0432 \u044D\u043B\u0435\u043C\u0435\u043D\u0442."},"ChartJsScreenReaderPlugin":{"Description":"\u0414\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430 {{chartType}} \u0434\u043B\u044F \\"{{chartTitle}}\\" \u0441 {{groupsCount}} \u0433\u0440\u0443\u043F\u043F\u0430\u043C\u0438. \u0414\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u0430, \u043F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u044E\u0449\u0430\u044F \\"{{groupsNames}}\\". X - \u044D\u0442\u043E \\"{{xLabel}}\\" \u043E\u0442 {{xMin}} \u0434\u043E {{xMax}}. Y - \u044D\u0442\u043E \\"{{yLabel}}\\" \u043E\u0442 {{yMin}} \u0434\u043E {{yMax}}. \u0414\u043B\u044F \u043D\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u0438 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u043A\u043B\u0430\u0432\u0438\u0448\u0438 \u0441\u043E \u0441\u0442\u0440\u0435\u043B\u043A\u0430\u043C\u0438.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. \u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u043A\u043B\u0430\u0432\u0438\u0448\u0443 \u0412\u0432\u043E\u0434 \u0434\u043B\u044F \u043E\u0442\u043A\u0440\u044B\u0442\u0438\u044F \u043A\u043E\u043D\u0442\u0435\u043A\u0441\u0442\u043D\u043E\u0433\u043E \u043C\u0435\u043D\u044E."},"ChartLegend":{"Title":"\u041B\u0435\u0433\u0435\u043D\u0434\u0430 \u0434\u043B\u044F \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u044B {{chartTitle}}: \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u043A\u043B\u0430\u0432\u0438\u0448\u0438 \u0441\u043E \u0441\u0442\u0440\u0435\u043B\u043A\u0430\u043C\u0438 \u0434\u043B\u044F \u043D\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u0438 \u0438 \u043A\u043B\u0430\u0432\u0438\u0448\u0443 \u0412\u0432\u043E\u0434 \u0434\u043B\u044F \u043E\u0442\u043A\u0440\u044B\u0442\u0438\u044F \u043A\u043E\u043D\u0442\u0435\u043A\u0441\u0442\u043D\u043E\u0433\u043E \u043C\u0435\u043D\u044E."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"\u0420\u0430\u0437\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u0432 \u043F\u043E\u043B\u043D\u043E\u044D\u043A\u0440\u0430\u043D\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C \u0434\u043B\u044F \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u044B \\"{{title}}\\".","CollapseLabel":"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u0441 \u043F\u043E\u043B\u043D\u043E\u044D\u043A\u0440\u0430\u043D\u043D\u043E\u0433\u043E \u0440\u0435\u0436\u0438\u043C\u0430 \u0434\u043B\u044F \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u044B \\"{{title}}\\"."},"Menu":{"Caption":"\u041C\u0435\u043D\u044E \u0434\u043B\u044F \u0434\u0438\u0430\u0433\u0440\u0430\u043C\u043C\u044B \\"{{title}}\\"."}}}'),"uk-UA":JSON.parse('{"IndicatorWidget":{"NoData":"\u041D/\u0414","AriaDescription":"{{chartTitle}}. The chart type is Metric. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"ChartLegend":{"Title":"\u041B\u0435\u0433\u0435\u043D\u0434\u0430 \u0434\u043B\u044F \u0434\u0456\u0430\u0433\u0440\u0430\u043C\u0438 {{chartTitle}}: \u0441\u043A\u043E\u0440\u0438\u0441\u0442\u0430\u0439\u0442\u0435\u0441\u044F \u043A\u043B\u0430\u0432\u0456\u0448\u0430\u043C\u0438 \u0437\u0456 \u0441\u0442\u0440\u0456\u043B\u043A\u0430\u043C\u0438 \u0434\u043B\u044F \u043D\u0430\u0432\u0456\u0433\u0430\u0446\u0456\u0457 \u0442\u0430 \u043A\u043B\u0430\u0432\u0456\u0448\u0435\u044E Enter \u0434\u043B\u044F \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u0442\u044F \u043A\u043E\u043D\u0442\u0435\u043A\u0441\u0442\u043D\u043E\u0433\u043E \u043C\u0435\u043D\u044E."},"ChartJsScreenReaderPlugin":{"Description":"{{chartType}} chart for \\"{{chartTitle}}\\" with {{groupsCount}} groups. The chart showing \\"{{groupsNames}}\\". X is \\"{{xLabel}}\\" from {{xMin}} to {{xMax}}. Y is \\"{{yLabel}}\\" from {{yMin}} to {{yMax}}. Use arrow keys to navigate.","Tooltip":"{{xValue}}, {{yValue}}, {{label}}. Use Enter key to open context menu."},"GaugeWidget":{"AriaDescription":"{{chartTitle}}. The chart type is Gauge. Data ranges from {{ariaMin}} to {{ariaMax}}. The current value is {{ariaValue}}. Use the enter or white space keys to drill down the element."},"HeaderWidget":{"Fullscreen":{"ExpandLabel":"Expand fullscreen for \\"{{title}}\\" chart.","CollapseLabel":"Collapse fullscreen for \\"{{title}}\\" chart."},"Menu":{"Caption":"Menu for \\"{{title}}\\" chart."}}}')},wo=h.FactoryProvider.create({token:mr,mappings:[{predicate:o=>o.type==="number",injectable:fr},{predicate:o=>o.type==="datetime",injectable:On},{predicate:o=>o.type==="string",injectable:Rn}]});let vi=class Tr{static{this.\u0275fac=function(t){return new(t||Tr)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:Tr})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[he,ae,wo,fr,On,Rn],imports:[P.CommonModule,ne.ViewElementPlaceholderModule,pe,cn.DataServiceQueryExecutorModule,h.CrtLibTranslateModule.forRoot({i18n:ic}),oe.MatIconModule,sn.CrtSkeletonLoaderModule]})}};vi=(0,f.__decorate)([(0,d.CrtModule)({viewElements:[fe],converters:[Cr]})],vi),function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(vi,{declarations:[fe],imports:[P.CommonModule,ne.ViewElementPlaceholderModule,pe,cn.DataServiceQueryExecutorModule,h.CrtLibTranslateModule,oe.MatIconModule,sn.CrtSkeletonLoaderModule],exports:[fe]})}();var K;(function(o){o[o.ByCount=0]="ByCount",o[o.ToFirstStage=1]="ToFirstStage",o[o.StageConversion=2]="StageConversion"})(K||(K={}));class Ni extends Je{get pluginId(){return"crt-pipeline-tooltip-plugin"}get customElementName(){return"crt-funnel-widget-tooltip-element"}constructor(e){super(e)}getTooltipInputModel(e){const t=e.chart,n=t.config.data.datasets.filter((p,w)=>t.isDatasetVisible(w)),a=e.dataPoints?.[0].dataIndex,r=[].concat.apply([],n?.map(p=>p.tooltipData)),l=[].concat.apply([],n?.map(p=>p.data)),[c]=r.filter((p,w)=>w===a).map(p=>{if(p)return p.map(({name:w,value:D})=>{const F=e?.labelColors?.[0]?.backgroundColor;return{name:w,value:D,progress:de(D,l),background:(0,Jr.aR)(F)}})});return{label:(e.title??[]).join(" "),series:c}}static{this.\u0275fac=function(t){return new(t||Ni)(i.\u0275\u0275inject(g.FormatterFactory))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ni,factory:Ni.\u0275fac,providedIn:"root"})}}const vo=o=>{switch(o){case K.ByCount:return{slice:K.ByCount,valueAttributeName:"CountInStage"};case K.ToFirstStage:return{slice:K.ToFirstStage,valueAttributeName:"ConversionToFirstStage"};case K.StageConversion:return{slice:K.StageConversion,valueAttributeName:"ConversionToStage"};default:throw new Error("Invalid slice type.")}};class Ln{constructor(e){this._translateService=e}_getStageDataLine(e,t){const n=`CDK.FunnelWidget.OpportunityFunnel.${Object.values(K)[e]}LabelTemplate`;return this._translateService.instant(n).replace("{0}",parseFloat(t.toFixed(2)))}format(e,t){if(!e)return[];const{valueAttributeName:n}=vo(t);return e.map(({elements:a,stageName:r})=>{const l=a.find(c=>c.name===n)?.value??0;return[`${r}: ${this._getStageDataLine(t,l)}`]})}static{this.\u0275fac=function(t){return new(t||Ln)(i.\u0275\u0275inject(j.TranslateService))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ln,factory:Ln.\u0275fac})}}var ac=S(63721),rc=S(78240);const So=o=>{switch(o){case K.ByCount:return["CountInStage","Amount"];case K.ToFirstStage:return["ConversionToFirstStage","ConversionToFirstStageCount"];case K.StageConversion:return["ConversionToStage","ConversionToStageCount"];default:throw new Error("Invalid slice type.")}};class kn{constructor(){this.COUNT_STAGE_COLUMN_NAME="CountInStage",this.CONVERSION_STAGE_COUNT_COLUMN_NAME="ConversionToStageCount",this.CONVERSION_FIRST_STAGE_COUNT_COLUMN_NAME="ConversionToFirstStageCount"}static _sortSlicesData(e,t,n){return e.name===n?-1:t.name===n?1:0}_getCountColumnNameBySliceType(e){switch(e){case K.ByCount:return this.COUNT_STAGE_COLUMN_NAME;case K.ToFirstStage:return this.CONVERSION_FIRST_STAGE_COUNT_COLUMN_NAME;case K.StageConversion:return this.CONVERSION_STAGE_COUNT_COLUMN_NAME;default:throw new Error(`Slice type ${e} is not supported.`)}}_enrichSeriesData(e,t){const n=e.map(r=>r.name),a=So(t).filter(r=>!n.includes(r));return a.length>0&&a.forEach(r=>{e.push({name:r,value:0})}),e}prepareSeriesData(e,t){const n=this._getCountColumnNameBySliceType(t),a=e.elements.filter(r=>So(t).includes(r.name));return e.elements=this._enrichSeriesData(a,t).sort((r,l)=>kn._sortSlicesData(r,l,n)),e}static{this.\u0275fac=function(t){return new(t||kn)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:kn,factory:kn.\u0275fac})}}class Pt{constructor(e,t){this._httpClient=e,this._sliceDataService=t,this._serviceUri="/rest/FullPipelineService/GetAllSlicesFullPipelineData"}_getSliceDataByType(e,t){const n=e.find(({type:a})=>a===t);if(!n)throw new Error("Invalid slice type.");return n.data.map(a=>this._sliceDataService.prepareSeriesData(a,t))}_findStageElementsByStageId(e,t){const n=e.find(({stageId:a})=>a===t);return n?n.elements:null}_joinCollectionsByStageId(e,t,n){return e.map((a,r)=>n({stageInfo:a,stageElements:this._findStageElementsByStageId(t,a.id)},r))}_prepareRequestBody(e,{startDate:t,dueDate:n},a){return{pipelineConfig:{entities:e.map(r=>{let l;if(r.filters&&(l={...r.filters},l.items={...r.filters?.items},a&&a?.path)){const c=this._buildSectionBindingColumnFilter(a);l.items[c.key]=c.value}return{...r,filters:JSON.stringify((0,rc.classToPlain)(l,{exposeUnsetFields:!1,excludePrefixes:["_"]})),startDate:t,dueDate:n}})}}}_buildSectionBindingColumnFilter(e){const t={Id:e.rootSchemaPrimaryColumnValue,value:e.rootSchemaPrimaryColumnValue},n=new d.ColumnExpression({columnPath:e.path}),a=new d.InFilter(d.ComparisonType.Equal,n,[]),r={expressionType:d.ExpressionType.Parameter,parameter:{dataValueType:d.DataValueType.Lookup,value:t}};a.rightExpressions.push(r);const l=new d.FilterGroup(d.LogicalOperatorType.And);l.add(a);const c=l.filters.entries().next().value;return{key:c[0],value:c[1]}}_checkIfFunnelDataRequestNeeded(e){const t=!!(!this._sectionBindingColumnId&&e.sectionBindingColumn?.rootSchemaPrimaryColumnValue);return!this._funnelDataObservable$||!this._funnelEntities||e.funnelEntities!==this._funnelEntities||t||!!this._sectionBindingColumnId}_fetchFunnelData(e){const t=this._prepareRequestBody(e.funnelEntities,e.periodFilter,e.sectionBindingColumn);return this._httpClient.post(this._serviceUri,t).pipe((0,N.tap)(({success:n,errorInfo:a})=>{if(!n)throw new Error(a.message)}),(0,N.shareReplay)(1))}_prepareFunnelDataItems(e){return this._funnelDataObservable$.pipe((0,N.map)(({info:{slices:t,stagesInfo:n}})=>{const a=this._getSliceDataByType(t,e);return this._joinCollectionsByStageId(n,a,({stageInfo:r,stageElements:l})=>({schemaName:r.schemaName,stageName:r.displayValue,elements:l}))}))}getFunnelData(e){return d.ValidationUtilities.checkArgumentEmpty("config",e),this._checkIfFunnelDataRequestNeeded(e)&&(this._funnelEntities=e.funnelEntities,this._sectionBindingColumnId=e.sectionBindingColumn?.rootSchemaPrimaryColumnValue,this._funnelDataObservable$=this._fetchFunnelData(e)),this._prepareFunnelDataItems(e.funnelSliceType)}static{this.\u0275fac=function(t){return new(t||Pt)(i.\u0275\u0275inject(ac.HttpClient),i.\u0275\u0275inject(kn))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Pt,factory:Pt.\u0275fac})}}class Bn{constructor(){this._minHeight=.2}transform(e,t){const n=e.map(c=>c.elements),{valueAttributeName:a}=vo(t),r=n.map(c=>c.find(u=>u.name===a)),l=r.reduce((c,{value:u})=>c+u,0)||1;return r.map(({value:c})=>c/l<=this._minHeight?this._minHeight*l:c)}static{this.\u0275fac=function(t){return new(t||Bn)}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Bn,factory:Bn.\u0275fac})}}var oc=S(29957);class Ft{constructor(e,t,n){this._currencyService=e,this._translateService=t,this._numberFormatter=n}static _getFormatSettings(e,t){return Number.isInteger(t)?{...e,decimalPrecision:0}:e}_getFormattedValue(e){const t={type:"number",decimalPrecision:2},n=Ft._getFormatSettings(t,e);return this._numberFormatter.format(e.toString(),n)}_getLocalizableData(e,t,n){const a=this._translateService.instant(`CDK.FunnelWidget.Tooltip.${e}Value`),r=this._translateService.instant(`CDK.FunnelWidget.Tooltip.${e}`),l=this._getFormattedValue(t);return{name:r,value:oc.String.Format(a,l,n??"")}}prepareTooltipData(e){return this._currencyService.getPrimaryCurrencyInfo().pipe((0,N.map)(t=>e.map(n=>n.map(a=>this._getLocalizableData(a.name,a.value,t?.Symbol)))))}static{this.\u0275fac=function(t){return new(t||Ft)(i.\u0275\u0275inject(Z.CurrencyService),i.\u0275\u0275inject(j.TranslateService),i.\u0275\u0275inject(g.NumberFormatter))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ft,factory:Ft.\u0275fac})}}class Ge{constructor(e,t,n,a){this._dataProvider=e,this._dataFormatter=t,this._dataTransformer=n,this._tooltipData=a}prepareFunnelChartConfiguration(e,t){d.ValidationUtilities.checkArgumentEmpty("request",e),d.ValidationUtilities.checkArgumentEmpty("funnelAppearanceConfig",t);let n;return this._dataProvider.getFunnelData(e).pipe((0,N.tap)(a=>{n=a}),(0,N.concatMap)(a=>{const r=a.map(l=>l.elements);return this._tooltipData.prepareTooltipData(r)}),(0,N.map)(a=>{const r=this._dataTransformer.transform(n,e.funnelSliceType),l=this._dataFormatter.format(n,e.funnelSliceType),c={padding:{top:20,bottom:35,left:35,right:35}};return{series:[{type:b.Funnel,color:t.color,dataSet:{data:r},label:null,legend:null,tooltipData:a}],labels:l,layout:c}}))}static{this.\u0275fac=function(t){return new(t||Ge)(i.\u0275\u0275inject(Pt),i.\u0275\u0275inject(Ln),i.\u0275\u0275inject(Bn),i.\u0275\u0275inject(Ft))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:Ge,factory:Ge.\u0275fac})}}const To=s.LightBlue,Do=new Map([["Lead",s.LightBlue],["Opportunity",s.Green]]);class At{constructor(e){this._entitySchemaService=e}getFunnelLegendData(e){const t=e?.entities.map(n=>this._entitySchemaService.getEntitySchemaByName(n.schemaName));return(0,B.forkJoin)(t).pipe((0,N.map)(n=>({items:n.map(a=>{const r=a.entitySchema,l=se(Do.get(r.name)||To);return{title:r.caption.toString(),color:l.color}})})))}static{this.\u0275fac=function(t){return new(t||At)(i.\u0275\u0275inject(g.EntitySchemaService))}}static{this.\u0275prov=i.\u0275\u0275defineInjectable({token:At,factory:At.\u0275fac})}}function sc(o,e){if(o&1){const t=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"button",9),i.\u0275\u0275pipe(1,"translate"),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(t);const a=i.\u0275\u0275nextContext().$implicit,r=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(r.changeFunnelType(a.type))}),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd()}if(o&2){const t=i.\u0275\u0275nextContext().$implicit,n=i.\u0275\u0275nextContext(2);i.\u0275\u0275attribute("aria-label",(n.config==null?null:n.config.title)+". "+i.\u0275\u0275pipeBind1(1,2,t.label)),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(3,4,t.label)," ")}}function lc(o,e){if(o&1){const t=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"button",10),i.\u0275\u0275pipe(1,"translate"),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(t);const a=i.\u0275\u0275nextContext().$implicit,r=i.\u0275\u0275nextContext(2);return i.\u0275\u0275resetView(r.changeFunnelType(a.type))}),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd()}if(o&2){const t=i.\u0275\u0275nextContext().$implicit,n=i.\u0275\u0275nextContext(2);i.\u0275\u0275attribute("aria-label",(n.config==null?null:n.config.title)+". "+i.\u0275\u0275pipeBind1(1,2,t.label)),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate1(" ",i.\u0275\u0275pipeBind1(3,4,t.label)," ")}}function cc(o,e){if(o&1&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,sc,4,6,"button",8)(2,lc,4,6,"ng-template",null,0,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementContainerEnd()),o&2){const t=e.$implicit,n=i.\u0275\u0275reference(3),a=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(),i.\u0275\u0275property("ngIf",a.selectedFunnelType===t.type)("ngIfElse",n)}}function dc(o,e){if(o&1&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,cc,4,2,"ng-container",7),i.\u0275\u0275elementContainerEnd()),o&2){const t=i.\u0275\u0275nextContext();i.\u0275\u0275advance(),i.\u0275\u0275property("ngForOf",t.funnelTypeList)}}let xe=class Dr extends X{constructor(e,t,n,a,r,l){super(e,t,n,a,r,l),this.selectedFunnelType=K.ByCount,this.funnelTypeList=[{label:"CDK.FunnelWidget.OpportunityFunnel.ByCountBtnLabel",type:K.ByCount},{label:"CDK.FunnelWidget.OpportunityFunnel.StageConversionBtnLabel",type:K.StageConversion},{label:"CDK.FunnelWidget.OpportunityFunnel.ToFirstStageBtnLabel",type:K.ToFirstStage}],this._funnelWidgetService=this.injector.get(Ge),this._changeDetectorRef=this.injector.get(i.ChangeDetectorRef)}set config(e){e&&(this._clearSubscriptions(),this._funnelWidgetConfig=e,!(this._hasSectionBindingColumnSetting()&&!this.hasSectionBindingColumnRecordId()&&!(this.isDesignTime||this.isDesignTimeInjected))&&this._createFunnelConfig())}get config(){return this._funnelWidgetConfig}ngOnInit(){super.ngOnInit()}_clearSubscriptions(){this._funnelWidgetConfigSubscription?.unsubscribe()}_hasSectionBindingColumnSetting(){return this._funnelWidgetConfig.sectionBindingColumn?.path}_createFunnelConfig(){const e={funnelEntities:this._funnelWidgetConfig.entities,periodFilter:{startDate:null,dueDate:null},funnelSliceType:this.selectedFunnelType},t={color:this._funnelWidgetConfig.color};if(this._hasSectionBindingColumnSetting()&&this.hasSectionBindingColumnRecordId()){const n=this._funnelWidgetConfig.sectionBindingColumn;n.rootSchemaPrimaryColumnValue=this.sectionBindingRecordId,e.sectionBindingColumn=n}this._funnelWidgetConfigSubscription=this._funnelWidgetService.prepareFunnelChartConfiguration(e,t).subscribe({next:n=>{this.funnelConfig=n,this._changeDetectorRef.detectChanges()}})}setSectionBindingColumnRecordId(e){super.setSectionBindingColumnRecordId(e),!(this._hasSectionBindingColumnSetting()&&!this.hasSectionBindingColumnRecordId()&&!(this.isDesignTime||this.isDesignTimeInjected))&&this._createFunnelConfig()}getSchemaName(){return""}ngOnDestroy(){super.ngOnDestroy(),this._clearSubscriptions()}changeFunnelType(e){this.selectedFunnelType=e,this._funnelWidgetConfig&&this._createFunnelConfig()}static{this.\u0275fac=function(t){return new(t||Dr)(i.\u0275\u0275directiveInject(i.Injector),i.\u0275\u0275directiveInject(Z.FeatureService),i.\u0275\u0275directiveInject(Z.GoogleTagManagerService),i.\u0275\u0275directiveInject(g.IS_DESIGN_TIME,8),i.\u0275\u0275directiveInject(g.EntitySchemaProvider),i.\u0275\u0275directiveInject(j.TranslateService))}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:Dr,selectors:[["crt-funnel-widget"]],inputs:{funnelTypeList:"funnelTypeList",isDesignTime:"isDesignTime",config:"config"},features:[i.\u0275\u0275ProvidersFeature([Ia([{predicate:"tsfunnel",injectable:Ni}]),{provide:$i,useClass:Ce},Ge,Pt]),i.\u0275\u0275InheritDefinitionFeature],decls:6,vars:5,consts:[["matButton",""],[1,"funnel-widget"],[3,"widgetConfig"],[1,"buttons"],[4,"ngIf"],[1,"chart"],[3,"config"],[4,"ngFor","ngForOf"],["type","button","mat-flat-button","","color","primary","class","funnel-btn",3,"click",4,"ngIf","ngIfElse"],["type","button","mat-flat-button","","color","primary",1,"funnel-btn",3,"click"],["type","button","mat-button","",1,"funnel-btn",3,"click"]],template:function(t,n){t&1&&(i.\u0275\u0275elementStart(0,"div",1),i.\u0275\u0275element(1,"crt-widget-header",2),i.\u0275\u0275elementStart(2,"div",3),i.\u0275\u0275template(3,dc,2,1,"ng-container",4),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(4,"div",5),i.\u0275\u0275element(5,"ts-chart",6),i.\u0275\u0275elementEnd()()),t&2&&(i.\u0275\u0275classProp("funnel-widget-without-border",n.config==null||n.config.layout==null||n.config.layout.border==null?null:n.config.layout.border.hidden),i.\u0275\u0275advance(),i.\u0275\u0275property("widgetConfig",n.config),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",n.funnelConfig),i.\u0275\u0275advance(2),i.\u0275\u0275property("config",n.funnelConfig))},dependencies:[P.NgForOf,P.NgIf,_e,ki.MatLegacyButton,dt,j.TranslatePipe],styles:[`.funnel-widget{width:100%;height:100%;font-family:Montserrat,Open Sans,Roboto,Helvetica Neue,sans-serif;font-weight:500;border-radius:8px;background-color:#fff;border:1px solid #e6e6e6;overflow:hidden;box-sizing:border-box}.funnel-widget.funnel-widget-without-border{border-color:transparent}.funnel-widget .buttons{display:grid;grid-template-columns:auto auto auto;justify-content:center;align-items:center;border-radius:8px;background-color:#fff;margin-top:-8px;height:50px;padding:0 4px}.funnel-widget .buttons .funnel-btn{padding:0 12px;margin-top:28px;font-size:13px;min-width:0}.funnel-widget .buttons .funnel-btn .mat-button-wrapper{display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;font-family:Montserrat,Open Sans,Roboto,Helvetica Neue,sans-serif;font-weight:500}.funnel-widget .chart{height:calc(100% - 88px);padding:20px 5px 5px}
`],encapsulation:2})}};(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",Array)],xe.prototype,"funnelTypeList",void 0),(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",Boolean)],xe.prototype,"isDesignTime",void 0),(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",Object),(0,f.__metadata)("design:paramtypes",[Object])],xe.prototype,"config",null),xe=(0,f.__decorate)([(0,d.CrtViewElement)({type:"crt.FunnelWidget"}),(0,d.CrtInterfaceDesignerItem)({toolbarConfig:{icon:S(91020),defaultPropertyValues:{config:{entities:[{schemaName:"Opportunity",calculatedOperations:[{operation:"Amount",targetColumnName:"Budget"}],connectedWith:null}],title:"",color:s.Blue,theme:"full-fill"}},defaultLocalizableStrings:{config:{title:"CDK.FunnelWidget.OpportunityFunnel.DefaultTitle"}},requiredPackages:["Opportunity"]},typeCaption:"CDK.FunnelWidget.OpportunityFunnel.Caption",propertiesPanelComponentTypeName:"crt.FunnelWidgetPropertiesPanel",viewElementGroupType:d.ViewElementGroupType.Charts,placeholderSize:{height:"240px"}}),(0,f.__metadata)("design:paramtypes",[i.Injector,Z.FeatureService,Z.GoogleTagManagerService,Boolean,g.EntitySchemaProvider,j.TranslateService])],xe);function uc(o,e){if(o&1&&(i.\u0275\u0275elementStart(0,"div",2),i.\u0275\u0275element(1,"div",3),i.\u0275\u0275elementStart(2,"div",4),i.\u0275\u0275text(3),i.\u0275\u0275elementEnd()()),o&2){const t=e.$implicit;i.\u0275\u0275advance(),i.\u0275\u0275styleProp("background-color",t.color),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(t.title)}}class Vn{static{this.\u0275fac=function(t){return new(t||Vn)}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:Vn,selectors:[["crt-full-pipeline-widget-legend"]],inputs:{config:"config"},decls:2,vars:1,consts:[[1,"funnel-legend"],["class","legend-item",4,"ngFor","ngForOf"],[1,"legend-item"],[1,"legend-item-color"],[1,"legend-item-title"]],template:function(t,n){t&1&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275template(1,uc,4,3,"div",1),i.\u0275\u0275elementEnd()),t&2&&(i.\u0275\u0275advance(),i.\u0275\u0275property("ngForOf",n.config==null?null:n.config.items))},dependencies:[P.NgForOf],styles:[`.funnel-legend{padding:8px;box-shadow:0 3px 6px #00000029;border:1px solid #006ce0;border-radius:4px;max-width:250px;background-color:#fff}.funnel-legend .legend-item{display:flex;align-items:center}.funnel-legend .legend-item .legend-item-color{width:8px;height:8px;border-radius:4px;display:table}.funnel-legend .legend-item .legend-item-title{padding:0 8px;color:#757575;font-size:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-family:Open Sans,Bpmonline Open Sans,sans-serif}
`],encapsulation:2})}}function gc(o,e){if(o&1&&i.\u0275\u0275element(0,"crt-full-pipeline-widget-legend",3),o&2){const t=i.\u0275\u0275nextContext();i.\u0275\u0275property("config",t.legendConfig)}}let Nn=class xr extends ne.CrtBaseComponent{constructor(e,t,n,a){super(n),this._funnelLegendDataProviderService=e,this._changeDetector=t,this.isLegendVisible=!0,this.funnelTypeList=[{label:"CDK.FunnelWidget.FullPipelineFunnel.ByCountBtnLabel",type:K.ByCount},{label:"CDK.FunnelWidget.FullPipelineFunnel.StageConversionBtnLabel",type:K.StageConversion},{label:"CDK.FunnelWidget.FullPipelineFunnel.ToFirstStageBtnLabel",type:K.ToFirstStage}],this._fullHeight=!1,this._fullHeight=!!a}get config(){return this._config}set config(e){this._config=e,this._setLegendConfig(e)}_setLegendConfig(e){this._funnelLegendDataProviderService.getFunnelLegendData(e).subscribe(t=>this.legendConfig=t)}onWidgetResize(e){const t=e.contentRect,n=150,a=200;this.isLegendVisible=t.height>n&&t.width>a,this._changeDetector.detectChanges()}static{this.\u0275fac=function(t){return new(t||xr)(i.\u0275\u0275directiveInject(At),i.\u0275\u0275directiveInject(i.ChangeDetectorRef),i.\u0275\u0275directiveInject(i.Injector),i.\u0275\u0275directiveInject(g.IS_DESIGN_TIME,8))}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:xr,selectors:[["crt-full-pipeline-widget"]],hostVars:2,hostBindings:function(t,n){t&2&&i.\u0275\u0275classProp("flex-full-height",n._fullHeight)},inputs:{config:"config"},features:[i.\u0275\u0275ProvidersFeature([Ge,At]),i.\u0275\u0275InheritDefinitionFeature],decls:3,vars:3,consts:[["crtResizeObserver","",3,"resized","funnelTypeList","config"],[1,"legend-wrapper"],[3,"config",4,"ngIf"],[3,"config"]],template:function(t,n){t&1&&(i.\u0275\u0275elementStart(0,"crt-funnel-widget",0),i.\u0275\u0275listener("resized",function(r){return n.onWidgetResize(r)}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(1,"div",1),i.\u0275\u0275template(2,gc,1,1,"crt-full-pipeline-widget-legend",2),i.\u0275\u0275elementEnd()),t&2&&(i.\u0275\u0275property("funnelTypeList",n.funnelTypeList)("config",n.config),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",n.isLegendVisible&&n.legendConfig))},dependencies:[P.NgIf,xe,Vn,qt],styles:[".legend-wrapper[_ngcontent-%COMP%]{position:relative}.legend-wrapper[_ngcontent-%COMP%]   crt-full-pipeline-widget-legend[_ngcontent-%COMP%]{position:absolute;bottom:30px;right:30px}"]})}};(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",Object),(0,f.__metadata)("design:paramtypes",[Object])],Nn.prototype,"config",null),Nn=(0,f.__decorate)([(0,d.CrtViewElement)({type:"crt.FullPipelineWidget",reuseStrategy:d.ViewElementReuseStrategy.Reuse}),(0,d.CrtInterfaceDesignerItem)({toolbarConfig:{icon:S(40178),defaultPropertyValues:{config:{entities:[{schemaName:"Lead",calculatedOperations:[{operation:"Amount",targetColumnName:"Budget"}],connectedWith:null},{schemaName:"Opportunity",calculatedOperations:[{operation:"Amount",targetColumnName:"Budget"}],connectedWith:{childSchemaColumnName:"Id",connectionSchemaName:"Lead",parentSchemaColumnName:"Opportunity",schemaName:"Lead",type:0}}],title:"",color:s.Blue,theme:"full-fill"}},defaultLocalizableStrings:{config:{title:"CDK.FunnelWidget.FullPipelineFunnel.DefaultTitle"}},requiredPackages:["Opportunity"]},propertiesPanelComponentTypeName:"crt.FullPipelineWidgetPropertiesPanel",viewElementGroupType:d.ViewElementGroupType.Charts,typeCaption:"CDK.FunnelWidget.FullPipelineFunnel.Caption",placeholderSize:{height:"240px"}}),(0,f.__metadata)("design:paramtypes",[At,i.ChangeDetectorRef,i.Injector,Boolean])],Nn);const hc=o=>({rtl:o});function pc(o,e){if(o&1&&(i.\u0275\u0275elementStart(0,"div",3)(1,"span",4),i.\u0275\u0275text(2),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(3,"span",5),i.\u0275\u0275elementEnd()),o&2){const t=e.$implicit,n=i.\u0275\u0275nextContext(2);i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction1(3,hc,n.isRtl())),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(t.name),i.\u0275\u0275advance(),i.\u0275\u0275property("innerHTML",t.value,i.\u0275\u0275sanitizeHtml)}}function fc(o,e){if(o&1&&(i.\u0275\u0275elementStart(0,"div",1),i.\u0275\u0275template(1,pc,4,5,"div",2),i.\u0275\u0275elementEnd()),o&2){const t=i.\u0275\u0275nextContext();i.\u0275\u0275styleProp("border-color",t.tooltipColor),i.\u0275\u0275advance(),i.\u0275\u0275property("ngForOf",t.tooltipSeries)}}class Wn{set config(e){switch(typeof e){case"object":this._tooltipConfig=e;break;case"string":this._tooltipConfig=JSON.parse(e);break;default:this._tooltipConfig=null}this._initDefaultValues()}constructor(e){this._directionality=e}_initDefaultValues(){const e=this._tooltipConfig?.series;this.tooltipColor=e?e[0].background:null,this.tooltipSeries=e?.map(t=>({name:t.name,value:t.value}))}isRtl(){return this._directionality.value==="rtl"}static{this.\u0275fac=function(t){return new(t||Wn)(i.\u0275\u0275directiveInject(Lt.Directionality))}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:Wn,selectors:[["crt-funnel-widget-tooltip"]],inputs:{config:"config"},decls:1,vars:1,consts:[["class","funnel-widget-tooltip",3,"border-color",4,"ngIf"],[1,"funnel-widget-tooltip"],["class","funnel-widget-tooltip-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"funnel-widget-tooltip-item",3,"ngClass"],[1,"title"],[1,"value",3,"innerHTML"]],template:function(t,n){t&1&&i.\u0275\u0275template(0,fc,2,3,"div",0),t&2&&i.\u0275\u0275property("ngIf",n.tooltipSeries)},dependencies:[P.NgClass,P.NgForOf,P.NgIf],styles:[`.funnel-widget-tooltip{background-color:#fff;border-style:solid;border-width:1px;border-radius:4px;box-shadow:0 3px 6px #00000029;display:grid;grid-gap:8px;min-width:112px;padding:8px 12px}.funnel-widget-tooltip .funnel-widget-tooltip-item{display:flex;justify-content:space-between;flex-flow:nowrap}.funnel-widget-tooltip .funnel-widget-tooltip-item.rtl .title{margin:0 0 0 32px}.funnel-widget-tooltip .funnel-widget-tooltip-item .title{color:#757575;font: 10px/15px Open Sans,Regular,sans-serif;letter-spacing:0;margin:0 32px 0 0}.funnel-widget-tooltip .funnel-widget-tooltip-item .value{color:#0d2e4e;font: 600 12px/15px Montserrat,sans-serif;letter-spacing:1.3px;white-space:nowrap}
`],encapsulation:3,changeDetection:0})}}let Ca=class Mr{constructor(e){e.defineComponent("crt-funnel-widget-tooltip-element",Wn)}static{this.\u0275fac=function(t){return new(t||Mr)(i.\u0275\u0275inject(h.CustomElementsBootstrapService))}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:Mr})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[Ge,kn,Ft,Pt,Ln,Bn],imports:[P.CommonModule,Fe,Le.CdkModule,j.TranslateModule,ki.MatLegacyButtonModule,ce]})}};Ca=(0,f.__decorate)([(0,d.CrtModule)({viewElements:[xe,Nn]}),(0,f.__metadata)("design:paramtypes",[h.CustomElementsBootstrapService])],Ca),function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(Ca,{declarations:[xe,Nn,Vn,qt,Wn],imports:[P.CommonModule,Fe,Le.CdkModule,j.TranslateModule,ki.MatLegacyButtonModule,ce],exports:[xe,Nn,Wn,Vn]})}();const mc={info:{slices:[{data:[{elements:[{name:"CountInStage",value:3},{name:"Amount",value:123456789044e-2}],stageId:"d790a45d-03ff-4ddb-9dea-8087722c582c"},{elements:[{name:"CountInStage",value:0}],stageId:"14cfc644-e3ed-497e-8279-ed4319bb8093"},{elements:[{name:"CountInStage",value:0}],stageId:"ceb70b3c-985f-4867-ae7c-88f9dd710688"},{elements:[{name:"CountInStage",value:0}],stageId:"7a90900b-53b5-4598-92b3-0aee90626c56"},{elements:[{name:"CountInStage",value:0}],stageId:"c2067b11-0ee0-df11-971b-001d60e938c6"},{elements:[{name:"CountInStage",value:0}],stageId:"325f0619-0ee0-df11-971b-001d60e938c6"},{elements:[{name:"CountInStage",value:0}],stageId:"423774cb-5ae6-df11-971b-001d60e938c6"},{elements:[{name:"CountInStage",value:0}],stageId:"fb563df2-5ae6-df11-971b-001d60e938c6"},{elements:[{name:"CountInStage",value:0}],stageId:"60d5310c-5be6-df11-971b-001d60e938c6"}],type:0},{data:[{elements:[{name:"ConversionToStage",value:100},{name:"Amount",value:0},{name:"ConversionToStageCount",value:3}],stageId:"d790a45d-03ff-4ddb-9dea-8087722c582c"},{elements:[{name:"ConversionToStage",value:0}],stageId:"14cfc644-e3ed-497e-8279-ed4319bb8093"},{elements:[{name:"ConversionToStage",value:0}],stageId:"ceb70b3c-985f-4867-ae7c-88f9dd710688"},{elements:[{name:"ConversionToStage",value:0}],stageId:"7a90900b-53b5-4598-92b3-0aee90626c56"},{elements:[{name:"ConversionToStage",value:0}],stageId:"c2067b11-0ee0-df11-971b-001d60e938c6"},{elements:[{name:"ConversionToStage",value:0}],stageId:"325f0619-0ee0-df11-971b-001d60e938c6"},{elements:[{name:"ConversionToStage",value:0}],stageId:"423774cb-5ae6-df11-971b-001d60e938c6"},{elements:[{name:"ConversionToStage",value:0}],stageId:"fb563df2-5ae6-df11-971b-001d60e938c6"},{elements:[{name:"ConversionToStage",value:0}],stageId:"60d5310c-5be6-df11-971b-001d60e938c6"}],type:2},{data:[{elements:[{name:"ConversionToFirstStage",value:100},{name:"Amount",value:0},{name:"ConversionToStageCount",value:3},{name:"ConversionToFirstStageCount",value:3}],stageId:"d790a45d-03ff-4ddb-9dea-8087722c582c"},{elements:[{name:"ConversionToFirstStage",value:0}],stageId:"14cfc644-e3ed-497e-8279-ed4319bb8093"},{elements:[{name:"ConversionToFirstStage",value:0}],stageId:"ceb70b3c-985f-4867-ae7c-88f9dd710688"},{elements:[{name:"ConversionToFirstStage",value:0}],stageId:"7a90900b-53b5-4598-92b3-0aee90626c56"},{elements:[{name:"ConversionToFirstStage",value:0}],stageId:"c2067b11-0ee0-df11-971b-001d60e938c6"},{elements:[{name:"ConversionToFirstStage",value:0}],stageId:"325f0619-0ee0-df11-971b-001d60e938c6"},{elements:[{name:"ConversionToFirstStage",value:0}],stageId:"423774cb-5ae6-df11-971b-001d60e938c6"},{elements:[{name:"ConversionToFirstStage",value:0}],stageId:"fb563df2-5ae6-df11-971b-001d60e938c6"},{elements:[{name:"ConversionToFirstStage",value:0}],stageId:"60d5310c-5be6-df11-971b-001d60e938c6"}],type:1}],stagesInfo:[{displayValue:"Qualification",id:"d790a45d-03ff-4ddb-9dea-8087722c582c",number:0,schemaName:"Lead"},{displayValue:"Nurturing",id:"14cfc644-e3ed-497e-8279-ed4319bb8093",number:1,schemaName:"Lead"},{displayValue:"Handoff to sales",id:"ceb70b3c-985f-4867-ae7c-88f9dd710688",number:2,schemaName:"Lead"},{displayValue:"Awaiting sale",id:"7a90900b-53b5-4598-92b3-0aee90626c56",number:3,schemaName:"Lead"},{displayValue:"Qualification",id:"c2067b11-0ee0-df11-971b-001d60e938c6",number:4,schemaName:"Opportunity"},{displayValue:"Presentation",id:"325f0619-0ee0-df11-971b-001d60e938c6",number:5,schemaName:"Opportunity"},{displayValue:"Proposal",id:"423774cb-5ae6-df11-971b-001d60e938c6",number:6,schemaName:"Opportunity"},{displayValue:"Contracting",id:"fb563df2-5ae6-df11-971b-001d60e938c6",number:7,schemaName:"Opportunity"},{displayValue:"Closed won",id:"60d5310c-5be6-df11-971b-001d60e938c6",number:8,schemaName:"Opportunity"}]}};class Cc{handle(e){return{"CDK.FunnelWidget.Tooltip.CountInStage":"Count","CDK.FunnelWidget.Tooltip.CountInStageValue":"{0}","CDK.FunnelWidget.Tooltip.Amount":"Amount","CDK.FunnelWidget.Tooltip.AmountValue":"{0}{1}","CDK.FunnelWidget.Tooltip.ConversionToStage":"Conversion","CDK.FunnelWidget.Tooltip.ConversionToStageValue":"{0}%","CDK.FunnelWidget.Tooltip.ConversionToFirstStage":"Conversion","CDK.FunnelWidget.Tooltip.ConversionToFirstStageValue":"{0}%","CDK.FunnelWidget.Tooltip.ConversionToStageCount":"Count","CDK.FunnelWidget.Tooltip.ConversionToStageCountValue":"{0}","CDK.FunnelWidget.Tooltip.ConversionToFirstStageCount":"Count","CDK.FunnelWidget.Tooltip.ConversionToFirstStageCountValue":"{0}"}[e.key]||e.key}}var _r=S(82333);const xo=["containerRef"],_c=["containerWrapper"];class Gn{constructor(){this._numberFormatUtil=(0,i.inject)(g.NumberFormatUtility),this._translateService=(0,i.inject)(j.TranslateService),this._thresholds={0:{color:"1197F1"}},this._markers={},this._maxNotResizableValueLength=5,this._largeWidgetSizeStartsFrom=250,this._largeWidgetSizeDivideCoef=80,this._smallWidgetSizeDivideCoef=60,this._fontSizeMaxCoef=.18,this._fontSizeMinCoef=.045,this._ariaMin=0,this._ariaMax=0,this._ariaValue=0,this.thresholdGap=.4,this.type="arch",this.animate=!1,this.value=0,this.min=0,this.max=100,this.ariaLabel="",this.thick={percentage:3.5},this.shiftValue=0,this.size=200,this.resized=new i.EventEmitter}set thresholds(e){this._thresholds=e,this.size+=1e-8}get thresholds(){return this._thresholds}set markers(e){this._markers=e,this.size+=1e-8}get markers(){return this._markers}get color(){const e=Object.keys(this._thresholds);if(e){const t=e.filter(n=>Number(n)<=this.value).reverse()[0];return this._thresholds[t]?.color}}get ariaDescription(){return this._translateService.instant("GaugeWidget.AriaDescription",{chartTitle:this.ariaLabel,ariaMin:this._ariaMin,ariaMax:this._ariaMax,ariaValue:this._ariaValue})}_setLabels(e=!1){const t=this.textColor||this.color;t&&this._elementRef?.nativeElement&&(this._elementRef.nativeElement.style.color=t);const n=this._getLabelElement();if(n){if(e){const a=this.shiftValue<0?this.value-Math.abs(this.shiftValue):this.value+this.shiftValue;n.innerHTML=this._numberFormatUtil.formatNumberValue(a)}this._setFontSize()}}_getLabelElement(){const e=this._elementsRef?.first?.nativeElement?.getElementsByClassName("reading-block");return!e||!e.length?null:e[0]}_setFontSize(){const e=this._getLabelElement();if(!e)return;const t=this._numberFormatUtil.formatNumberValue(this.value+this.shiftValue).toString(),n=this.size>this._largeWidgetSizeStartsFrom?this._largeWidgetSizeDivideCoef:this._smallWidgetSizeDivideCoef,a=t.length>this._maxNotResizableValueLength?this._fontSizeMaxCoef-t.length/n:this._fontSizeMaxCoef,r=Math.max(a,this._fontSizeMinCoef);e.style.fontSize=`${(this.size-50)*r}px`,e.style.transform=`translateY(${this.size/2-this.size*r/2}px)`}onResized(e){const t=Math.min(e?.height,e?.width);let n=Math.min(t,100)/10;n=Math.max(n,5),Math.abs(t-this.size)>n&&(this.size=t),this._setFontSize(),this.resized.emit(e)}ngOnChanges(e){const t=!!(e.value||!e.shiftValue&&this.shiftValue!==0&&this.value!==this.shiftValue);this._setLabels(t),this._ariaMin=this.min+this.shiftValue,this._ariaMax=this.max+this.shiftValue,this._ariaValue=this.value+this.shiftValue}ngAfterViewChecked(){if(this._setLabels(),this.containerWrapper?.nativeElement?.clientWidth){const e={width:this.containerWrapper.nativeElement.clientWidth,height:this.containerWrapper.nativeElement.clientHeight};this.onResized(e)}}static{this.\u0275fac=function(t){return new(t||Gn)}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:Gn,selectors:[["crt-gauge-chart"]],viewQuery:function(t,n){if(t&1&&(i.\u0275\u0275viewQuery(xo,5),i.\u0275\u0275viewQuery(_c,5),i.\u0275\u0275viewQuery(xo,5)),t&2){let a;i.\u0275\u0275queryRefresh(a=i.\u0275\u0275loadQuery())&&(n._elementRef=a.first),i.\u0275\u0275queryRefresh(a=i.\u0275\u0275loadQuery())&&(n.containerWrapper=a.first),i.\u0275\u0275queryRefresh(a=i.\u0275\u0275loadQuery())&&(n._elementsRef=a)}},inputs:{type:"type",animate:"animate",value:"value",min:"min",max:"max",ariaLabel:"ariaLabel",thick:"thick",textColor:"textColor",prependText:"prependText",appendText:"appendText",label:"label",shiftValue:"shiftValue",size:"size",thresholds:"thresholds",thresholdBackgroundColor:"thresholdBackgroundColor",markers:"markers"},outputs:{resized:"resized"},features:[i.\u0275\u0275NgOnChangesFeature],decls:5,vars:15,consts:[["containerWrapper",""],["containerRef",""],["crtResizable","",1,"gauge-container-wrapper",3,"resized"],["role","img","tabIndex","0",1,"gauge-container"],["margin","auto",3,"type","value","min","max","prepend","append","animate","label","thick","size","markers","thresholds","thresholdGap","backgroundColor"]],template:function(t,n){if(t&1){const a=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",2,0),i.\u0275\u0275listener("resized",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onResized(l))}),i.\u0275\u0275elementStart(2,"div",3,1),i.\u0275\u0275element(4,"ngx-gauge",4),i.\u0275\u0275elementEnd()()}t&2&&(i.\u0275\u0275advance(2),i.\u0275\u0275attribute("aria-label",n.ariaDescription),i.\u0275\u0275advance(2),i.\u0275\u0275property("type",n.type)("value",n.value)("min",n.min)("max",n.max)("prepend",n.prependText)("append",n.appendText)("animate",n.animate)("label",n.label)("thick",n.thick)("size",n.size)("markers",n.markers)("thresholds",n.thresholds)("thresholdGap",n.thresholdGap)("backgroundColor",n.thresholdBackgroundColor))},dependencies:[_r.DB,sn.CrtResizableDirective],styles:[".gauge-container-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%;margin-top:-8px}.gauge-container-wrapper[_ngcontent-%COMP%]   .gauge-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadein .7s ease 1 alternate}@keyframes _ngcontent-%COMP%_fadein{0%{opacity:0}to{opacity:1}}.gauge-container-wrapper[_ngcontent-%COMP%]   .gauge-container[_ngcontent-%COMP%]:focus, .gauge-container-wrapper[_ngcontent-%COMP%]   .gauge-container[_ngcontent-%COMP%]:focus-visible, .gauge-container-wrapper[_ngcontent-%COMP%]   .gauge-container[_ngcontent-%COMP%]:focus-within{outline:none}.gauge-container-wrapper[_ngcontent-%COMP%]   .gauge-container[_ngcontent-%COMP%]   .ngx-gauge-meter[_ngcontent-%COMP%]   .reading-block[_ngcontent-%COMP%], .gauge-container-wrapper[_ngcontent-%COMP%]   .gauge-container[_ngcontent-%COMP%]   .ngx-gauge-meter[_ngcontent-%COMP%]   .reading-affix[_ngcontent-%COMP%]{color:inherit}"]})}}class jn{static{this.\u0275fac=function(t){return new(t||jn)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:jn})}static{this.\u0275inj=i.\u0275\u0275defineInjector({imports:[P.CommonModule,_r.xG]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(jn,{declarations:[Gn],imports:[P.CommonModule,_r.xG,sn.CrtResizableDirective],exports:[Gn]})})();const Mo={markers:{color:"rgba(0, 0, 0, 0.7)"},thresholds:{backgroundColor:"rgba(0, 0, 0, 0.1)"}},Io=new Map([[H.Glassmorphism,{text:{color:q},markers:{color:q},thresholds:{backgroundColor:"rgba(255, 255, 255, 0.2)"}}]]),yc="crt.GaugeWidget",yr=new i.InjectionToken("A gauge widget theme palette map"),bc=(o,e)=>({"fullscreen-mode":o,"design-time":e}),wc=(o,e)=>({show:o,hide:e});function vc(o,e){o&1&&i.\u0275\u0275element(0,"div")}function Sc(o,e){if(o&1){const t=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",6)(1,"crt-gauge-chart",7,2),i.\u0275\u0275listener("resized",function(a){i.\u0275\u0275restoreView(t);const r=i.\u0275\u0275nextContext();return i.\u0275\u0275resetView(r.handleResize(a))}),i.\u0275\u0275elementEnd()()}if(o&2){const t=i.\u0275\u0275nextContext();i.\u0275\u0275advance(),i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction2(12,wc,t.shouldShow,!t.shouldShow))("value",t.bindingMetricValue)("thresholds",t.thresholds)("thresholdBackgroundColor",t.thresholdBackgroundColor)("textColor",t.textColor)("prependText",t.prependText)("markers",t.markers)("appendText",t.appendText)("min",t.min)("max",t.max)("shiftValue",t.config.min)("ariaLabel",t.config==null?null:t.config.title)}}function Tc(o,e){o&1&&i.\u0275\u0275element(0,"crt-view-element-placeholder")}let Ot=class Ir extends fe{set metricValue(e){this._metricValue=e;const t=this.config.min;this.bindingMetricValue=t<0?e+Math.abs(t):e-t}get metricValue(){return this._metricValue}set config(e){if(!e)return;this._config=e,e.color=e.color||e.layout?.color;const t=this._themePaletteMap?.get(e.theme)??Mo;this.max=e.max-e.min,e.thresholds&&(this._setThresholds(e.thresholds),this._setMarkers(e.thresholds,t?.markers),e.theme===H.Glassmorphism&&this._setThresholdsGlassMorphismColors()),this.textColor=t?.text?.color,this.thresholdBackgroundColor=t?.thresholds?.backgroundColor,this.setHeaderConfig(e),super.config=e}get config(){return this._config}constructor(e,t,n,a,r,l,c,u,p,w,D,F,k,A){super(e,t,n,a,r,l,c,u,p,F,k,A),this._themePaletteMap=w,this.numberFormatUtil=D,this._metricValue=0,this._chartResizedDebounceTimeMs=30,this.bindingMetricValue=0,this.min=0,this.max=100,this.shouldShow=!0,this.markers={},this.thresholds={0:{color:"green"}}}_initChartResizedObservable(){this.chartResizedObservable=new B.Subject,this._chartResizedSubscription=new B.Subscription,this._chartResizedSubscription.add(this.chartResizedObservable.pipe((0,N.distinctUntilChanged)(),(0,N.debounceTime)(this._chartResizedDebounceTimeMs)).subscribe(()=>{this.shouldShow||(this.shouldShow=!0,this.changeDetectorRef.detectChanges())}))}_setThresholds(e){const t={};Object.keys(e).forEach(n=>{const a=this.config.min<0?+n+Math.abs(this.config.min):+n-this.config.min;t[a]=e[n]}),this.thresholds=t}_setThresholdsGlassMorphismColors(){Object.values(this.thresholds).forEach(e=>{e.color=(0,h.lightenHex)(e.color,60)})}_setMarkers(e,t){const n={};Object.keys(e).forEach(a=>{const r=this.config.min<0?+a+Math.abs(this.config.min):+a-this.config.min;n[r]=this._getMarkerModel(a,t)}),n[this.max]=this._getMarkerModel(this.config.max.toString(),t),this.markers=n}_getMarkerModel(e,t){return{label:e,fontColor:t?.color,type:"none",rotate:!1}}buildTextLines(e,t){super.buildTextLines(e,t),this.prependText="",this.appendText="";let n=!1;this.textLines.forEach(a=>{if(a.type==="text"){const r=` ${a.value}`;n?this.appendText=this.appendText.concat(r).trim():this.prependText=this.prependText.concat(r).trim()}else a.type==="metric"&&(this.metricValue=this.numberFormatUtil.parseStringToNumber(a.value),n=!0)}),this.changeDetectorRef.detectChanges()}createHeaderConfig(e){return{...super.createHeaderConfig(e),visible:!0}}getBackgroundColor(){return null}handleResize(e){this.chartResizedObservable?.next(e)}handleDirectionMenuItemClick(e){this.analyticsConfig?.contentDirection!==e&&!(this.analyticsConfig?.contentDirection==="row"&&e==="row-reverse")&&!(this.analyticsConfig?.contentDirection==="row-reverse"&&e==="row")&&(this.shouldShow=!1),super.handleDirectionMenuItemClick(e)}ngOnDestroy(){super.ngOnDestroy(),this._chartResizedSubscription&&this._chartResizedSubscription.unsubscribe()}ngOnInit(){this._initChartResizedObservable(),super.ngOnInit()}applyFullscreenMode(e,t){((!this.headerConfig?.isFullScreenMode||!this.headerConfig?.showLayoutTools)&&e||!e)&&(this.shouldShow=!1),super.applyFullscreenMode(e,t),this.headerConfig.visible=!0,this.analyticsConfig.contentSizeMode=Pi.Equal,this.headerConfig.background=null}static{this.\u0275fac=function(t){return new(t||Ir)(i.\u0275\u0275directiveInject(i.Injector),i.\u0275\u0275directiveInject(g.IS_DESIGN_TIME,8),i.\u0275\u0275directiveInject(Z.FeatureService),i.\u0275\u0275directiveInject(j.TranslateService),i.\u0275\u0275directiveInject(g.EntitySchemaProvider),i.\u0275\u0275directiveInject(Z.GoogleTagManagerService),i.\u0275\u0275directiveInject(ae),i.\u0275\u0275directiveInject(he),i.\u0275\u0275directiveInject(We),i.\u0275\u0275directiveInject(yr,8),i.\u0275\u0275directiveInject(g.NumberFormatUtility),i.\u0275\u0275directiveInject(g.FEATURE_VALUES),i.\u0275\u0275directiveInject(g.FormatterFactory),i.\u0275\u0275directiveInject(mr))}}static{this.\u0275cmp=i.\u0275\u0275defineComponent({type:Ir,selectors:[["crt-gauge-widget"]],inputs:{isDesignTime:"isDesignTime",config:"config"},features:[i.\u0275\u0275InheritDefinitionFeature],decls:7,vars:17,consts:[["view",""],["placeholder",""],["actionElement",""],[3,"fullScreenStateChanged","switchDirectionType","viewChange","paginationChange","sortingChange","getProfileColumns","searchFilterChange","chartsSeries","headerConfig","widgetConfig","analyticsConfig","gridData","searchValue","sorting","loading","title","dataGridHeaderToolbarItems"],["role","presentation",1,"gauge-chart-widget-wrapper","main-content",3,"click","keydown.enter","keydown.space","ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"gauge-chart"],["animate","false",3,"resized","ngClass","value","thresholds","thresholdBackgroundColor","textColor","prependText","markers","appendText","min","max","shiftValue","ariaLabel"]],template:function(t,n){if(t&1){const a=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"crt-analytics-widget",3),i.\u0275\u0275listener("fullScreenStateChanged",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.applyFullscreenMode(l,!1))})("switchDirectionType",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.handleDirectionMenuItemClick(l))})("viewChange",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onAnalyticsViewChanged(l))})("paginationChange",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onPaginationChange(l))})("sortingChange",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onSortingChange(l))})("getProfileColumns",function(){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onGetProfileColumns())})("searchFilterChange",function(l){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.handleSearchFilterChange(l))}),i.\u0275\u0275elementStart(1,"div",4),i.\u0275\u0275listener("click",function(){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onIndicatorClick())})("keydown.enter",function(){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onIndicatorKeydownAction())})("keydown.space",function(){return i.\u0275\u0275restoreView(a),i.\u0275\u0275resetView(n.onIndicatorKeydownAction())}),i.\u0275\u0275template(2,vc,1,0,"div",5)(3,Sc,3,15,"ng-template",null,0,i.\u0275\u0275templateRefExtractor)(5,Tc,1,0,"ng-template",null,1,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275elementEnd()()}if(t&2){const a=i.\u0275\u0275reference(4),r=i.\u0275\u0275reference(6);i.\u0275\u0275property("chartsSeries",n.config)("headerConfig",n.headerConfig)("widgetConfig",n.config)("analyticsConfig",n.analyticsConfig)("gridData",n.gridData)("searchValue",n.searchValue)("sorting",n.sortingColumns)("loading",n.isWaitingDataLoad)("title",n.gridTitle)("dataGridHeaderToolbarItems",n.dataGridHeaderToolbarItems),i.\u0275\u0275advance(),i.\u0275\u0275property("ngClass",i.\u0275\u0275pureFunction2(14,bc,n.headerConfig==null?null:n.headerConfig.isFullScreenMode,n.isDesignTime)),i.\u0275\u0275advance(),i.\u0275\u0275property("ngIf",n.isValidated)("ngIfThen",a)("ngIfElse",r)}},dependencies:[P.NgClass,P.NgIf,ne.ViewElementPlaceholderComponent,Gn,Te],styles:[".gauge-chart-widget-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:8px;background-clip:padding-box;overflow:hidden;box-sizing:border-box}.gauge-chart-widget-wrapper[_ngcontent-%COMP%]:not(.design-time):hover, .gauge-chart-widget-wrapper[_ngcontent-%COMP%]:not(.design-time):focus-within{cursor:pointer}.gauge-chart-widget-wrapper[_ngcontent-%COMP%]:not(.design-time):hover     .reading-block, .gauge-chart-widget-wrapper[_ngcontent-%COMP%]:not(.design-time):focus-within     .reading-block{text-decoration:underline;text-decoration-thickness:from-font}.gauge-chart-widget-wrapper[_ngcontent-%COMP%]:focus-within{outline-offset:-5px;outline:var(--focus-outline-outer-color) solid thin}.gauge-chart-widget-wrapper.fullscreen-mode[_ngcontent-%COMP%]{border:none}.gauge-chart-widget-wrapper[_ngcontent-%COMP%]   .gauge-chart[_ngcontent-%COMP%]{height:100%;border-radius:8px;margin-top:-8px}.gauge-chart-widget-wrapper[_ngcontent-%COMP%]   .gauge-chart[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]{opacity:1}.gauge-chart-widget-wrapper[_ngcontent-%COMP%]   .gauge-chart[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%]{opacity:0}.gauge-chart-widget-wrapper[_ngcontent-%COMP%]   .gauge-chart[_ngcontent-%COMP%]   crt-gauge-chart[_ngcontent-%COMP%]{padding:5px;height:calc(100% - 10px);width:calc(100% - 10px)}"]})}};(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",Boolean)],Ot.prototype,"isDesignTime",void 0),(0,f.__decorate)([(0,d.CrtInput)(),(0,f.__metadata)("design:type",Object),(0,f.__metadata)("design:paramtypes",[Object])],Ot.prototype,"config",null),Ot=(0,f.__decorate)([(0,d.CrtViewElement)({type:"crt.GaugeWidget",reuseStrategy:d.ViewElementReuseStrategy.Reuse,compatibleAPIs:{[d.PlatformAPIs.Filtration]:{enable:!0,aggregation:!0}}}),(0,d.CrtInterfaceDesignerItem)({designViewItemCommands:{copy:"crt.CopyIndicatorWidgetViewItemCommand",delete:"crt.RemoveIndicatorWidgetViewItemCommand"},toolbarConfig:{icon:S(23066),defaultPropertyValues:{config:{title:"",theme:"full-fill",layout:{color:"green"},text:{template:"{0}"}}}},propertiesPanelComponentTypeName:"crt.GaugeWidgetPropertiesPanel",viewElementGroupType:d.ViewElementGroupType.Charts,typeCaption:"CDK.GaugeWidget.Caption",placeholderSize:{height:"98px"}}),(0,f.__metadata)("design:paramtypes",[i.Injector,Boolean,Z.FeatureService,j.TranslateService,g.EntitySchemaProvider,Z.GoogleTagManagerService,ae,he,We,Map,g.NumberFormatUtility,Object,g.FormatterFactory,h.Factory])],Ot);let _a=class Er{static{this.\u0275fac=function(t){return new(t||Er)}}static{this.\u0275mod=i.\u0275\u0275defineNgModule({type:Er})}static{this.\u0275inj=i.\u0275\u0275defineInjector({providers:[ae,{provide:yr,useValue:Io}],imports:[P.CommonModule,ne.ViewElementPlaceholderModule,jn,vi,ce,pe]})}};_a=(0,f.__decorate)([(0,d.CrtModule)({viewElements:[Ot]})],_a),function(){(typeof ngJitMode>"u"||ngJitMode)&&i.\u0275\u0275setNgModuleScope(_a,{declarations:[Ot],imports:[P.CommonModule,ne.ViewElementPlaceholderModule,jn,vi,ce,pe],exports:[Ot]})}()},79066:y=>{y.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="8" height="4" viewBox="0 0 8 4">
  <path id="Path_809" data-name="Path 809" d="M0,0,4,4,8,0Z" fill="#fff"/>
</svg>
`},19693:y=>{y.exports=`<svg id="Component_5492_3" data-name="Component 5492 \u2013 3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <rect id="Rectangle_6579" data-name="Rectangle 6579" width="16" height="16" fill="none"/>
  <g id="Group_16870" data-name="Group 16870" transform="translate(-696 -7212)">
    <path id="Path_12008" data-name="Path 12008" d="M703.172,7214.3v5" transform="translate(0.828 -0.297)" fill="none" stroke="currentColor" stroke-width="1"/>
    <path id="Path_12009" data-name="Path 12009" d="M703.172,7214.3v5" transform="translate(1407.172 14440.297) rotate(180)" fill="none" stroke="currentColor" stroke-width="1"/>
    <path id="Polygon_401" data-name="Polygon 401" d="M3,0,6,3H0Z" transform="translate(701 7212)" fill="currentColor"/>
    <path id="Polygon_402" data-name="Polygon 402" d="M3,0,6,3H0Z" transform="translate(707 7228) rotate(180)" fill="currentColor"/>
    <path id="Path_12010" data-name="Path 12010" d="M703.172,7214.3v5" transform="translate(7924.297 6516.829) rotate(90)" fill="none" stroke="currentColor" stroke-width="1"/>
    <path id="Path_12011" data-name="Path 12011" d="M703.172,7214.3v5" transform="translate(-6516.297 7923.172) rotate(-90)" fill="none" stroke="currentColor" stroke-width="1"/>
    <path id="Polygon_403" data-name="Polygon 403" d="M3,0,6,3H0Z" transform="translate(712 7217) rotate(90)" fill="currentColor"/>
    <path id="Polygon_404" data-name="Polygon 404" d="M3,0,6,3H0Z" transform="translate(696 7223) rotate(-90)" fill="currentColor"/>
  </g>
</svg>
`},75470:y=>{y.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1">
	<rect x="1" y="1" width="14" height="14" fill="none" stroke="currentColor" />
	<line x1="1" y1="5.33" x2="15" y2="5.33" />
	<line x1="1" y1="10.66" x2="15" y2="10.66" />
	<line x1="5.33" y1="1" x2="5.33" y2="15" />
	<line x1="10.66" y1="1" x2="10.66" y2="15" />
</svg>
`},83894:y=>{y.exports=`<svg id="Component_186_3" data-name="Component 186 \u2013 3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <rect id="Rectangle_6381" data-name="Rectangle 6381" width="16" height="16" fill="none"/>
  <line id="Line_39" data-name="Line 39" x1="6.5" transform="translate(2 8.5)" fill="none" stroke="currentColor" stroke-width="1"/>
  <line id="Line_215" data-name="Line 215" y2="12" transform="translate(14 4.5) rotate(90)" fill="none" stroke="currentColor" stroke-width="1"/>
  <line id="Line_216" data-name="Line 216" y2="12" transform="translate(14 12.5) rotate(90)" fill="none" stroke="currentColor" stroke-width="1"/>
</svg>
`},58054:y=>{y.exports=`<svg id="Icon_d6_16x16" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <g id="Group_8060" data-name="Group 8060" transform="translate(443.494 617.718)">
    <path id="Path_7426" data-name="Path 7426" d="M-434.241-610.29h0a3.835,3.835,0,0,1-3.917,2.5c-2.177,0-3.115-3.378-4.236-3.351v7.423h14v-11.5c-3.376,0-4.447,2.218-5.847,4.929" transform="translate(-0.018)" fill="#ff4013"/>
  </g>
  <rect id="Rectangle_7514" data-name="Rectangle 7514" width="16" height="16" fill="none"/>
</svg>
`},44100:y=>{y.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">
  <g id="Group_16036" data-name="Group 16036" transform="translate(-446 -351)">
    <g id="Group_16035" data-name="Group 16035" transform="translate(0 -1.5)">
      <path id="Path_11700" data-name="Path 11700" d="M279.923,2067v-31s-3.485,16-12,16-5.926-9-15-9-10.1,18-18,18-11-25-11-25v31Z" transform="translate(230.078 -1672.5)" fill="#ff4013"/>
      <g id="Group_16034" data-name="Group 16034" transform="translate(454 398.5)">
        <rect id="Rectangle_40917" data-name="Rectangle 40917" width="8" height="6" rx="3" fill="#d1d1d1"/>
        <rect id="Rectangle_40918" data-name="Rectangle 40918" width="8" height="6" rx="3" transform="translate(16)" fill="#d1d1d1"/>
        <rect id="Rectangle_40919" data-name="Rectangle 40919" width="8" height="6" rx="3" transform="translate(32)" fill="#d1d1d1"/>
        <rect id="Rectangle_40920" data-name="Rectangle 40920" width="8" height="6" rx="3" transform="translate(48)" fill="#d1d1d1"/>
      </g>
    </g>
    <rect id="Rectangle_40921" data-name="Rectangle 40921" width="72" height="64" rx="6" transform="translate(446 351)" fill="none"/>
  </g>
</svg>
`},68354:y=>{y.exports=`<svg id="Icon_d1_16x16" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <g id="Group_8058" data-name="Group 8058" transform="translate(530.688 580.22)">
    <path id="Path_7420" data-name="Path 7420" d="M-531.087-569.14h3v5h-3Z" transform="translate(1.399 -2.079)" fill="#0058ef"/>
    <path id="Path_11907" data-name="Path 11907" d="M-531.087-569.14h3v3h-3Z" transform="translate(6.399 -0.079)" fill="#0058ef"/>
    <path id="Path_11904" data-name="Path 11904" d="M-531.087-569.14h3v6h-3Z" transform="translate(1.399 -9.079)" fill="#ff4013"/>
    <path id="Path_11908" data-name="Path 11908" d="M-531.087-569.14h3v6h-3Z" transform="translate(6.399 -7.079)" fill="#ff4013"/>
    <path id="Path_11906" data-name="Path 11906" d="M-531.087-569.14h3v3h-3Z" transform="translate(11.399 -10.08)" fill="#ff4013"/>
    <path id="Path_7421" data-name="Path 7421" d="M-519.087-579.14h3v9h-3Z" transform="translate(-0.601 3.92)" fill="#0058ef"/>
  </g>
  <rect id="Rectangle_7516" data-name="Rectangle 7516" width="16" height="16" fill="none"/>
</svg>
`},71104:y=>{y.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">
  <g id="Group_16019" data-name="Group 16019" transform="translate(-607 -149)">
    <g id="Group_16017" data-name="Group 16017" transform="translate(618 162.788)">
      <rect id="Rectangle_40880" data-name="Rectangle 40880" width="15" height="8" transform="translate(0 29) rotate(-90)" fill="#0058ef"/>
      <rect id="Rectangle_40881" data-name="Rectangle 40881" width="5" height="8" transform="translate(14 29) rotate(-90)" fill="#0058ef"/>
      <rect id="Rectangle_40882" data-name="Rectangle 40882" width="20" height="8" transform="translate(28 29) rotate(-90)" fill="#0058ef"/>
      <rect id="Rectangle_40883" data-name="Rectangle 40883" width="12" height="8" transform="translate(42 29) rotate(-90)" fill="#0058ef"/>
      <rect id="Rectangle_40884" data-name="Rectangle 40884" width="13" height="8" transform="translate(0 13) rotate(-90)" fill="#ff4013"/>
      <rect id="Rectangle_40885" data-name="Rectangle 40885" width="19" height="8" transform="translate(14 23) rotate(-90)" fill="#ff4013"/>
      <rect id="Rectangle_40886" data-name="Rectangle 40886" width="8" height="8" transform="translate(28 8) rotate(-90)" fill="#ff4013"/>
      <rect id="Rectangle_40887" data-name="Rectangle 40887" width="12" height="8" transform="translate(42 16) rotate(-90)" fill="#ff4013"/>
    </g>
    <g id="Group_16018" data-name="Group 16018" transform="translate(618 196.483)">
      <rect id="Rectangle_40888" data-name="Rectangle 40888" width="8" height="6.194" rx="3" fill="#d1d1d1"/>
      <rect id="Rectangle_40889" data-name="Rectangle 40889" width="8" height="6.194" rx="3" transform="translate(14)" fill="#d1d1d1"/>
      <rect id="Rectangle_40890" data-name="Rectangle 40890" width="8" height="6.194" rx="3" transform="translate(28)" fill="#d1d1d1"/>
      <rect id="Rectangle_40891" data-name="Rectangle 40891" width="8" height="6.194" rx="3" transform="translate(42)" fill="#d1d1d1"/>
    </g>
    <rect id="Rectangle_40892" data-name="Rectangle 40892" width="72" height="64" transform="translate(607 149)" fill="none"/>
  </g>
</svg>
`},77271:y=>{y.exports=`<svg id="Icon_d3_16x16" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <g id="Icon_d3_16x16-2" data-name="Icon_d3_16x16" transform="translate(613.219 -455.729) rotate(-90)">
    <g id="Group_8053" data-name="Group 8053" transform="translate(1.543 1.5)">
      <path id="Subtraction_789" data-name="Subtraction 789" d="M826.77-4130.124h-3.021a4.005,4.005,0,0,0-3.575-3.575v-3.021a7.109,7.109,0,0,1,4.535,2.062,7.1,7.1,0,0,1,2.06,4.533Z" transform="translate(-1285 3523)" fill="#ff4013"/>
      <path id="Subtraction_791" data-name="Subtraction 791" d="M816.5-4125.093h0a7.156,7.156,0,0,1-1.731-4.617,6.974,6.974,0,0,1,1.907-4.8,7.068,7.068,0,0,1,4.69-2.206v3.021a3.987,3.987,0,0,0-2.555,1.288,3.991,3.991,0,0,0-1.041,2.691,3.96,3.96,0,0,0,.854,2.47l-2.121,2.154Z" transform="translate(-1287 3523)" fill="#ff6b00"/>
      <path id="Subtraction_790" data-name="Subtraction 790" d="M819.762-4124.719a6.96,6.96,0,0,1-4.617-1.731l2.136-2.136a3.959,3.959,0,0,0,2.488.868,3.989,3.989,0,0,0,2.691-1.041,3.987,3.987,0,0,0,1.289-2.554h3.021a7.066,7.066,0,0,1-2.206,4.689A6.979,6.979,0,0,1,819.762-4124.719Z" transform="translate(-1285 3525)" fill="#0061d9"/>
    </g>
    <rect id="Rectangle_7510" data-name="Rectangle 7510" width="16" height="16" transform="translate(-471.729 -613.219)" fill="none"/>
  </g>
</svg>
`},30215:y=>{y.exports=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="72" height="64" viewBox="0 0 72 64">
  <defs>
    <clipPath id="clip-path">
      <path id="Exclusion_42" data-name="Exclusion 42" d="M20,0A20,20,0,0,0,5.861,34.144,20,20,0,0,0,34.145,5.858,19.865,19.865,0,0,0,20,0Zm0,32A12,12,0,1,1,32,20,12.012,12.012,0,0,1,20,32Z" fill="#ff4013"/>
    </clipPath>
    <linearGradient id="linear-gradient" x1="0.5" y1="1" x2="0.5" gradientUnits="objectBoundingBox">
      <stop offset="0" stop-color="#ff9800"/>
      <stop offset="1" stop-color="#ff5700"/>
    </linearGradient>
    <linearGradient id="linear-gradient-2" x1="0.5" y1="1" x2="0.5" gradientUnits="objectBoundingBox">
      <stop offset="0" stop-color="#0065ea"/>
      <stop offset="1" stop-color="#005bc2"/>
    </linearGradient>
  </defs>
  <g id="Group_16022" data-name="Group 16022" transform="translate(-606 -247)">
    <g id="Group_16021" data-name="Group 16021" transform="translate(623.068 257.981) rotate(3)">
      <g id="Mask_Group_15162" data-name="Mask Group 15162" transform="translate(0 40.002) rotate(-90)" clip-path="url(#clip-path)">
        <path id="Path_11693" data-name="Path 11693" d="M5.886,24.256l24.489-14.8L1.718.334-14.873,14.3Z" transform="translate(27.033 -3.951) rotate(30)" fill="#ff4013" stroke="#fff" stroke-width="1"/>
        <path id="Path_11694" data-name="Path 11694" d="M19.743,22.962,29.7,2.2,0,2.9Z" transform="translate(-9.755 25.615) rotate(-60)" stroke="#fff" stroke-width="1" fill="url(#linear-gradient)"/>
        <path id="Path_11695" data-name="Path 11695" d="M6.3,20.118,37.387,23,49.671,6.272,23,.1,0,0Z" transform="matrix(0.966, -0.259, 0.259, 0.966, -2.243, 25.853)" stroke="#fff" stroke-width="1" fill="url(#linear-gradient-2)"/>
      </g>
    </g>
    <rect id="Rectangle_40895" data-name="Rectangle 40895" width="72" height="64" rx="6" transform="translate(606 247)" fill="none"/>
  </g>
</svg>
`},73825:y=>{y.exports=`<svg id="Icon_d2_16x16" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <g id="Icon_d2_16x16-2" data-name="Icon_d2_16x16" transform="translate(-569.219 529.687) rotate(90)">
    <g id="Group_8058" data-name="Group 8058" transform="translate(1.001 -3.999)">
      <rect id="Rectangle_44591" data-name="Rectangle 44591" width="3" height="10" transform="translate(-529.688 -576.22)" fill="#22ac14"/>
      <rect id="Rectangle_44592" data-name="Rectangle 44592" width="3" height="6" transform="translate(-524.688 -572.22)" fill="#22ac14"/>
      <rect id="Rectangle_44593" data-name="Rectangle 44593" width="3" height="14" transform="translate(-519.688 -580.22)" fill="#22ac14"/>
    </g>
    <rect id="Rectangle_7516" data-name="Rectangle 7516" width="16" height="16" transform="translate(-529.687 -585.219)" fill="none"/>
  </g>
</svg>
`},95161:y=>{y.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">
  <g id="Group_14568" data-name="Group 14568" transform="translate(-607 -149)">
    <g id="Group_14569" data-name="Group 14569" transform="translate(3 -29)">
      <rect id="Rectangle_21188" data-name="Rectangle 21188" width="29" height="6" transform="translate(631 195)" fill="#22ac14"/>
      <rect id="Rectangle_21189" data-name="Rectangle 21189" width="18" height="6" transform="translate(631 207)" fill="#22ac14"/>
      <rect id="Rectangle_21190" data-name="Rectangle 21190" width="35" height="6" transform="translate(631 219)" fill="#22ac14"/>
      <rect id="Rectangle_21187" data-name="Rectangle 21187" width="10" height="6" rx="3" transform="translate(615 195)" fill="#d1d1d1"/>
      <rect id="Rectangle_21187-2" data-name="Rectangle 21187" width="10" height="6" rx="3" transform="translate(615 207)" fill="#d1d1d1"/>
      <rect id="Rectangle_21187-3" data-name="Rectangle 21187" width="10" height="6" rx="3" transform="translate(615 219)" fill="#d1d1d1"/>
    </g>
    <rect id="Rectangle_24756" data-name="Rectangle 24756" width="72" height="64" rx="6" transform="translate(607 149)" fill="none"/>
  </g>
</svg>
`},62011:y=>{y.exports=`<svg id="Icon_d5_16x16" xmlns="http://www.w3.org/2000/svg" width="16.265" height="16" viewBox="0 0 16.265 16">
  <g id="Group_8067" data-name="Group 8067" transform="translate(560.687 615.219)">
    <path id="Path_11909" data-name="Path 11909" d="M-560.687-605.37h4l3,3,2-7,3,1,2-6" transform="translate(1 1.151)" fill="rgba(0,0,0,0)" stroke="#ff4013" stroke-linecap="round" stroke-width="2"/>
  </g>
  <rect id="Rectangle_7511" data-name="Rectangle 7511" width="16" height="16" fill="none"/>
</svg>
`},27035:y=>{y.exports=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="74.518" height="64" viewBox="0 0 74.518 64">
  <defs>
    <filter id="Path_11696" x="0" y="3.614" width="74.518" height="47.109" filterUnits="userSpaceOnUse">
      <feOffset dy="2" input="SourceAlpha"/>
      <feGaussianBlur stdDeviation="3" result="blur"/>
      <feFlood flood-color="#00650a" flood-opacity="0.161"/>
      <feComposite operator="in" in2="blur"/>
      <feComposite in="SourceGraphic"/>
    </filter>
  </defs>
  <g id="Group_16025" data-name="Group 16025" transform="translate(-524.865 -247)">
    <g id="Group_16024" data-name="Group 16024" transform="translate(18.5 -15.999)">
      <g transform="matrix(1, 0, 0, 1, 506.37, 263)" filter="url(#Path_11696)">
        <path id="Path_11696-2" data-name="Path 11696" d="M277.923,2034.991l-11.8,17.729-5.151-7.666L254,2060.991l-4.984-4.842-9.637,2.219-15.452-2.219" transform="translate(-213.79 -2022.99)" fill="none" stroke="#ff4013" stroke-linecap="round" stroke-width="2"/>
      </g>
      <g id="Group_16023" data-name="Group 16023" transform="translate(515.5 309)">
        <rect id="Rectangle_40896" data-name="Rectangle 40896" width="8" height="6" rx="3" fill="#d1d1d1"/>
        <rect id="Rectangle_40897" data-name="Rectangle 40897" width="8" height="6" rx="3" transform="translate(16)" fill="#d1d1d1"/>
        <rect id="Rectangle_40898" data-name="Rectangle 40898" width="8" height="6" rx="3" transform="translate(32)" fill="#d1d1d1"/>
        <rect id="Rectangle_40899" data-name="Rectangle 40899" width="8" height="6" rx="3" transform="translate(48)" fill="#d1d1d1"/>
      </g>
    </g>
    <rect id="Rectangle_40900" data-name="Rectangle 40900" width="72" height="64" rx="6" transform="translate(526 247)" fill="none"/>
  </g>
</svg>
`},4967:y=>{y.exports=`<svg id="Icon_d7_16x16" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <circle id="Ellipse_1393" data-name="Ellipse 1393" cx="1.5" cy="1.5" r="1.5" transform="translate(1 6)" fill="#ff4013"/>
  <circle id="Ellipse_2400" data-name="Ellipse 2400" cx="1.5" cy="1.5" r="1.5" transform="translate(12 2)" fill="#ff4013"/>
  <circle id="Ellipse_2396" data-name="Ellipse 2396" cx="1.5" cy="1.5" r="1.5" transform="translate(1 11)" fill="#604edc"/>
  <circle id="Ellipse_2398" data-name="Ellipse 2398" cx="1.5" cy="1.5" r="1.5" transform="translate(12 7)" fill="#604edc"/>
  <circle id="Ellipse_2399" data-name="Ellipse 2399" cx="1.5" cy="1.5" r="1.5" transform="translate(7 11)" fill="#ff4013"/>
  <rect id="Rectangle_7517" data-name="Rectangle 7517" width="16" height="16" fill="none"/>
</svg>
`},50423:y=>{y.exports=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="72.002" height="64" viewBox="0 0 72.002 64">
  <defs>
    <filter id="Ellipse_2927" x="0" y="14" width="24" height="24" filterUnits="userSpaceOnUse">
      <feOffset dy="2" input="SourceAlpha"/>
      <feGaussianBlur stdDeviation="3" result="blur"/>
      <feFlood flood-color="#7120ff" flood-opacity="0.161"/>
      <feComposite operator="in" in2="blur"/>
      <feComposite in="SourceGraphic"/>
    </filter>
    <filter id="Ellipse_2928" x="15.002" y="28" width="24" height="24" filterUnits="userSpaceOnUse">
      <feOffset dy="2" input="SourceAlpha"/>
      <feGaussianBlur stdDeviation="3" result="blur-2"/>
      <feFlood flood-color="#7120ff" flood-opacity="0.161"/>
      <feComposite operator="in" in2="blur-2"/>
      <feComposite in="SourceGraphic"/>
    </filter>
    <filter id="Ellipse_2929" x="48.002" y="15" width="24" height="24" filterUnits="userSpaceOnUse">
      <feOffset dy="2" input="SourceAlpha"/>
      <feGaussianBlur stdDeviation="3" result="blur-3"/>
      <feFlood flood-color="#7120ff" flood-opacity="0.161"/>
      <feComposite operator="in" in2="blur-3"/>
      <feComposite in="SourceGraphic"/>
    </filter>
    <filter id="Ellipse_2930" x="15" y="19" width="24" height="24" filterUnits="userSpaceOnUse">
      <feOffset dy="2" input="SourceAlpha"/>
      <feGaussianBlur stdDeviation="3" result="blur-4"/>
      <feFlood flood-color="#ffb520" flood-opacity="0.161"/>
      <feComposite operator="in" in2="blur-4"/>
      <feComposite in="SourceGraphic"/>
    </filter>
    <filter id="Ellipse_2931" x="32.002" y="28" width="24" height="24" filterUnits="userSpaceOnUse">
      <feOffset dy="2" input="SourceAlpha"/>
      <feGaussianBlur stdDeviation="3" result="blur-5"/>
      <feFlood flood-color="#7120ff" flood-opacity="0.161"/>
      <feComposite operator="in" in2="blur-5"/>
      <feComposite in="SourceGraphic"/>
    </filter>
    <filter id="Ellipse_2932" x="48" y="25" width="24" height="24" filterUnits="userSpaceOnUse">
      <feOffset dy="2" input="SourceAlpha"/>
      <feGaussianBlur stdDeviation="3" result="blur-6"/>
      <feFlood flood-color="#7120ff" flood-opacity="0.161"/>
      <feComposite operator="in" in2="blur-6"/>
      <feComposite in="SourceGraphic"/>
    </filter>
  </defs>
  <g id="Group_16033" data-name="Group 16033" transform="translate(-525.998 -351)">
    <g id="Group_16032" data-name="Group 16032" transform="translate(-22.502)">
      <g id="Group_16031" data-name="Group 16031" transform="translate(556.502 397)">
        <rect id="Rectangle_40910" data-name="Rectangle 40910" width="8" height="6" rx="3" fill="#d1d1d1"/>
        <rect id="Rectangle_40911" data-name="Rectangle 40911" width="8" height="6" rx="3" transform="translate(16)" fill="#d1d1d1"/>
        <rect id="Rectangle_40912" data-name="Rectangle 40912" width="8" height="6" rx="3" transform="translate(32)" fill="#d1d1d1"/>
        <rect id="Rectangle_40913" data-name="Rectangle 40913" width="8" height="6" rx="3" transform="translate(48)" fill="#d1d1d1"/>
      </g>
      <rect id="Rectangle_40914" data-name="Rectangle 40914" width="14" height="6" rx="3" transform="translate(598.5 363)" fill="#d1d1d1"/>
      <rect id="Rectangle_40915" data-name="Rectangle 40915" width="21" height="6" rx="3" transform="translate(573.5 363)" fill="#d1d1d1"/>
      <g transform="matrix(1, 0, 0, 1, 548.5, 351)" filter="url(#Ellipse_2927)">
        <circle id="Ellipse_2927-2" data-name="Ellipse 2927" cx="2" cy="2" r="2" transform="translate(10 22)" fill="#604edc" stroke="#604edc" stroke-linecap="round" stroke-width="2"/>
      </g>
      <g transform="matrix(1, 0, 0, 1, 548.5, 351)" filter="url(#Ellipse_2928)">
        <circle id="Ellipse_2928-2" data-name="Ellipse 2928" cx="2" cy="2" r="2" transform="translate(25 36)" fill="#604edc" stroke="#604edc" stroke-linecap="round" stroke-width="2"/>
      </g>
      <g transform="matrix(1, 0, 0, 1, 548.5, 351)" filter="url(#Ellipse_2929)">
        <circle id="Ellipse_2929-2" data-name="Ellipse 2929" cx="2" cy="2" r="2" transform="translate(58 23)" fill="#ff4013" stroke="#ff4013" stroke-linecap="round" stroke-width="2"/>
      </g>
      <g transform="matrix(1, 0, 0, 1, 548.5, 351)" filter="url(#Ellipse_2930)">
        <circle id="Ellipse_2930-2" data-name="Ellipse 2930" cx="3" cy="3" r="3" transform="translate(24 26)" fill="#ff4013"/>
      </g>
      <g transform="matrix(1, 0, 0, 1, 548.5, 351)" filter="url(#Ellipse_2931)">
        <circle id="Ellipse_2931-2" data-name="Ellipse 2931" cx="2" cy="2" r="2" transform="translate(42 36)" fill="#ff4013" stroke="#ff4013" stroke-linecap="round" stroke-width="2"/>
      </g>
      <g transform="matrix(1, 0, 0, 1, 548.5, 351)" filter="url(#Ellipse_2932)">
        <circle id="Ellipse_2932-2" data-name="Ellipse 2932" cx="2" cy="2" r="2" transform="translate(58 33)" fill="#604edc" stroke="#604edc" stroke-linecap="round" stroke-width="2"/>
      </g>
    </g>
    <rect id="Rectangle_40916" data-name="Rectangle 40916" width="72" height="64" rx="6" transform="translate(526 351)" fill="none"/>
  </g>
</svg>
`},90766:y=>{y.exports=`<svg id="Icon_d4_16x16" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <g id="Group_8067" data-name="Group 8067" transform="translate(560.687 615.219)">
    <path id="Path_7440" data-name="Path 7440" d="M-550.537-615.2c-4.731-.6-3.84,15.355-12,8.078" transform="translate(3.85 3)" fill="none" stroke="#604edc" stroke-linecap="round" stroke-width="2"/>
    <path id="Path_7441" data-name="Path 7441" d="M-562.537-609.554c7.048-7.875,8.508,6.168,12,5.578" transform="translate(3.85 1.739)" fill="none" stroke="#ff7043" stroke-linecap="round" stroke-width="2"/>
  </g>
  <rect id="Rectangle_7511" data-name="Rectangle 7511" width="16" height="16" fill="none"/>
</svg>
`},62284:y=>{y.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">
  <g id="Group_16028" data-name="Group 16028" transform="translate(-446 -247)">
    <g id="Group_16027" data-name="Group 16027" transform="translate(-16.502 3.358)">
      <path id="Path_11697" data-name="Path 11697" d="M223.923,2054.216c7.743,1.777,8.107,8.087,16.244,7.764s17.059-15.828,25.593-15.828,11.538-8.474,14.163-8.151" transform="translate(246.578 -1781.35)" fill="none" stroke="#604edc" stroke-linecap="round" stroke-width="2"/>
      <path id="Path_11698" data-name="Path 11698" d="M223.923,2062.226s6.6-11.347,15.306-11.347,16.55,9.164,26.446,4.222,14.25-6.875,14.25-6.875" transform="translate(246.578 -1783.585)" fill="none" stroke="#ff7043" stroke-linecap="round" stroke-width="2"/>
      <g id="Group_16026" data-name="Group 16026" transform="translate(470.5 289.642)">
        <rect id="Rectangle_40901" data-name="Rectangle 40901" width="8" height="6" rx="3" fill="#d1d1d1"/>
        <rect id="Rectangle_40902" data-name="Rectangle 40902" width="8" height="6" rx="3" transform="translate(16)" fill="#d1d1d1"/>
        <rect id="Rectangle_40903" data-name="Rectangle 40903" width="8" height="6" rx="3" transform="translate(32)" fill="#d1d1d1"/>
        <rect id="Rectangle_40904" data-name="Rectangle 40904" width="8" height="6" rx="3" transform="translate(48)" fill="#d1d1d1"/>
      </g>
    </g>
    <rect id="Rectangle_40905" data-name="Rectangle 40905" width="72" height="64" rx="6" transform="translate(446 247)" fill="none"/>
  </g>
</svg>
`},97422:y=>{y.exports=`<svg id="Icon_d8_16x16" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <g id="Group_8059" data-name="Group 8059" transform="translate(563.553 580.106)">
    <path id="Path_7422" data-name="Path 7422" d="M-548.687-579.14l-1.73,5h-10.539l-1.73-5Z" transform="translate(0.134 0.034)" fill="#ff4013"/>
    <path id="Path_7423" data-name="Path 7423" d="M-551.387-565.14l-1.065,3h-4.87l-1.065-3Z" transform="translate(-0.666 -2.966)" fill="#22ac14"/>
    <path id="Path_7424" data-name="Path 7424" d="M-550.187-571.14l-1.328,4h-7.344l-1.328-4Z" transform="translate(-0.366 -1.966)" fill="#0091ea"/>
  </g>
  <rect id="Rectangle_7515" data-name="Rectangle 7515" width="16" height="16" fill="none"/>
</svg>
`},27532:y=>{y.exports=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="72" height="64" viewBox="0 0 72 64">
  <defs>
    <clipPath id="clip-clip-path-tsfunnel">
      <path id="Path_10329" data-name="Path 10329" d="M34,19,28,49H7L0,19Z" transform="translate(0 -19.579)" fill="#fff" stroke="#707070" stroke-width="1"/>
    </clipPath>
  </defs>
  <g id="Group_12147" data-name="Group 12147" transform="translate(-606 -351)">
    <g id="Mask_Group_417" data-name="Mask Group 417" transform="translate(625 368.579)" clip-path="url(#clip-clip-path-tsfunnel)">
      <rect id="Rectangle_24746" data-name="Rectangle 24746" width="36" height="8" transform="translate(-0.996 1.422)" fill="#e800f1"/>
      <rect id="Rectangle_24747" data-name="Rectangle 24747" width="36" height="8" transform="translate(-0.996 10.422)" fill="#0091ea"/>
      <rect id="Rectangle_24748" data-name="Rectangle 24748" width="36" height="8" transform="translate(-0.996 19.422)" fill="#22ac14"/>
    </g>
    <rect id="Rectangle_24760" data-name="Rectangle 24760" width="72" height="64" rx="6" transform="translate(606 351)" fill="none"/>
  </g>
</svg>
`},34880:y=>{y.exports=`<svg id="Component_3013_78" data-name="Component 3013 \u2013 78" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
	<circle id="Ellipse_2192" data-name="Ellipse 2192" cx="5" cy="5" r="5" transform="translate(3 3)" fill="currentColor"/>
	<rect id="Rectangle_44619" data-name="Rectangle 44619" width="16" height="16" fill="none"/>
</svg>
`},40178:y=>{y.exports=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="72" height="64" viewBox="0 0 72 64">
  <defs>
    <clipPath id="clip-path-funnel">
      <path id="Path_11699" data-name="Path 11699" d="M34,19,28,49H7L0,19Z" transform="translate(0 -19.579)" fill="#fff" stroke="#707070" stroke-width="1"/>
    </clipPath>
  </defs>
  <g id="Group_16030" data-name="Group 16030" transform="translate(-606 -351)">
    <g id="Mask_Group_15163" data-name="Mask Group 15163" transform="translate(625 368.579)" clip-path="url(#clip-path-funnel)">
      <rect id="Rectangle_40906" data-name="Rectangle 40906" width="36" height="8" transform="translate(-0.996 1.422)" fill="#ff4013"/>
      <rect id="Rectangle_40907" data-name="Rectangle 40907" width="36" height="8" transform="translate(-0.996 10.422)" fill="#0091ea"/>
      <rect id="Rectangle_40908" data-name="Rectangle 40908" width="36" height="8" transform="translate(-0.996 19.422)" fill="#22ac14"/>
    </g>
    <rect id="Rectangle_40909" data-name="Rectangle 40909" width="72" height="64" rx="6" transform="translate(606 351)" fill="none"/>
  </g>
</svg>
`},91020:y=>{y.exports=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="72" height="64" viewBox="0 0 72 64">
  <defs>
    <clipPath id="clip-path-sales-funnel">
      <path id="Path_11701" data-name="Path 11701" d="M34,19,28,49H7L0,19Z" transform="translate(0 -19.579)" fill="#fff" stroke="#707070" stroke-width="1"/>
    </clipPath>
    <filter id="Ellipse_2933" x="30.004" y="27" width="34" height="34" filterUnits="userSpaceOnUse">
      <feOffset dy="3" input="SourceAlpha"/>
      <feGaussianBlur stdDeviation="3" result="blur"/>
      <feFlood flood-color="#0058ef" flood-opacity="0.161"/>
      <feComposite operator="in" in2="blur"/>
      <feComposite in="SourceGraphic"/>
    </filter>
  </defs>
  <g id="Group_16038" data-name="Group 16038" transform="translate(-446 -455)">
    <g id="Group_16037" data-name="Group 16037">
      <g id="Mask_Group_15164" data-name="Mask Group 15164" transform="translate(465 472.579)" clip-path="url(#clip-path-sales-funnel)">
        <rect id="Rectangle_40922" data-name="Rectangle 40922" width="36" height="8" transform="translate(-0.996 1.422)" fill="#ff4013"/>
        <rect id="Rectangle_40923" data-name="Rectangle 40923" width="36" height="8" transform="translate(-0.996 10.422)" fill="#0091ea"/>
        <rect id="Rectangle_40924" data-name="Rectangle 40924" width="36" height="8" transform="translate(-0.996 19.422)" fill="#22ac14"/>
      </g>
      <g transform="matrix(1, 0, 0, 1, 446, 455)" filter="url(#Ellipse_2933)">
        <g id="Ellipse_2933-2" data-name="Ellipse 2933" transform="translate(39 33)" fill="#004fd8" stroke="#fff" stroke-width="1">
          <circle cx="8" cy="8" r="8" stroke="none"/>
          <circle cx="8" cy="8" r="7.5" fill="none"/>
        </g>
      </g>
      <g id="_25228" data-name="25228" transform="translate(367.551 490.542)">
        <path id="Path_11702" data-name="Path 11702" d="M129.051,6.646a2.054,2.054,0,0,0-.22-.466,1.649,1.649,0,0,0-.371-.387,4.379,4.379,0,0,0-.434-.3,4.439,4.439,0,0,0-.529-.259q-.336-.143-.532-.213t-.567-.192q-.329-.11-.49-.167t-.423-.165a2.593,2.593,0,0,1-.392-.189,3.026,3.026,0,0,1-.277-.2.7.7,0,0,1-.207-.253.714.714,0,0,1-.059-.292.777.777,0,0,1,.42-.676,2.024,2.024,0,0,1,1.085-.262,2.661,2.661,0,0,1,.6.07,3.453,3.453,0,0,1,.521.158,3.814,3.814,0,0,1,.41.195q.193.107.273.161c.054.037.088.061.1.073a.248.248,0,0,0,.189.043.193.193,0,0,0,.161-.1l.567-.889a.161.161,0,0,0-.035-.232c-.028-.024-.063-.053-.105-.085s-.133-.091-.273-.177a3.522,3.522,0,0,0-.444-.228,4.92,4.92,0,0,0-.609-.2l-.384-.083-2.3.053-.557.143-.531.319a2.125,2.125,0,0,0-.869,1.742,1.853,1.853,0,0,0,.06.475,2.21,2.21,0,0,0,.147.405,1.471,1.471,0,0,0,.249.353,4.023,4.023,0,0,0,.3.3,2.448,2.448,0,0,0,.375.259q.231.134.4.216t.438.189q.273.107.431.162l.431.152q.378.128.56.2t.462.195a1.969,1.969,0,0,1,.409.228,1.189,1.189,0,0,1,.235.256.559.559,0,0,1,.105.323.824.824,0,0,1-.431.743,1.88,1.88,0,0,1-1,.262,2.8,2.8,0,0,1-.518-.049,3.878,3.878,0,0,1-1.7-.762l-.014-.012a.188.188,0,0,0-.168-.055.228.228,0,0,0-.161.073l-.721.822a.168.168,0,0,0,.014.25q.035.037.122.11t.326.229a4.848,4.848,0,0,0,.518.292,5.091,5.091,0,0,0,.711.271l.377.08,2.3.042.832-.194.589-.572a2.156,2.156,0,0,0,.7-1.605A1.762,1.762,0,0,0,129.051,6.646Z" transform="translate(0 0)" fill="#fff"/>
        <rect id="Rectangle_40925" data-name="Rectangle 40925" width="1" height="11" transform="translate(125.453 -0.542)" fill="#fff"/>
      </g>
    </g>
    <rect id="Rectangle_40926" data-name="Rectangle 40926" width="72" height="64" rx="6" transform="translate(446 455)" fill="none"/>
  </g>
</svg>
`},23066:y=>{y.exports=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="72" height="64" viewBox="0 0 72 64">
  <defs>
    <linearGradient id="linear-gradient" x1="0.5" x2="0.5" y2="1" gradientUnits="objectBoundingBox">
      <stop offset="0" stop-color="#0065ea"/>
      <stop offset="1" stop-color="#005bc2"/>
    </linearGradient>
    <clipPath id="clip-path-gauge-widget">
      <path id="Subtraction_799" data-name="Subtraction 799" d="M44.7,36.165h0l-3.321-2.274a20,20,0,1,0-34.757,0L3.3,36.164a24,24,0,1,1,41.4,0Z" fill="url(#linear-gradient)"/>
    </clipPath>
  </defs>
  <g id="Group_15521" data-name="Group 15521" transform="translate(-526 -144)">
    <rect id="Rectangle_24269" data-name="Rectangle 24269" width="72" height="64" transform="translate(526 144)" fill="none"/>
    <g id="Group_12125" data-name="Group 12125" transform="translate(537.999 157)">
      <g id="Group_12123" data-name="Group 12123" transform="translate(0 0)">
        <g id="Mask_Group_122" data-name="Mask Group 122" transform="translate(0)" clip-path="url(#clip-path-gauge-widget)">
          <path id="Subtraction_793" data-name="Subtraction 793" d="M44.7,36.164h0L41.379,33.89a20,20,0,1,0-34.757,0L3.3,36.163a24,24,0,1,1,41.4,0Z" transform="translate(0 0.001)" fill="#0091ea"/>
          <path id="Polygon_109" data-name="Polygon 109" d="M31,0,62,23H0Z" transform="translate(55.001 22.001) rotate(180)" fill="#df1f26" stroke="#fff" stroke-width="2"/>
          <path id="Polygon_110" data-name="Polygon 110" d="M19,0,38,25H0Z" transform="translate(24.001 3.501) rotate(90)" fill="#c2185b" stroke="#fff" stroke-width="2"/>
          <path id="Polygon_112" data-name="Polygon 112" d="M19,0,38,25H0Z" transform="translate(24.001 41.501) rotate(-90)" fill="#0058ef" stroke="#fff" stroke-width="2"/>
        </g>
        <path id="Union_26" data-name="Union 26" d="M0,1.5A1.5,1.5,0,0,1,2.827.8l18.683.573L2.823,2.209A1.5,1.5,0,0,1,0,1.5Z" transform="translate(23.544 20.001) rotate(31)" fill="#df1f26"/>
      </g>
      <g id="Group_12124" data-name="Group 12124" transform="translate(17.001 34)">
        <g id="Group_9983" data-name="Group 9983" transform="translate(8 0)">
          <line id="Line_1133" data-name="Line 1133" x2="4" transform="translate(0.499)" fill="none" stroke="#0d2e4e" stroke-width="1"/>
          <line id="Line_1175" data-name="Line 1175" x2="4" transform="translate(0.499 4)" fill="none" stroke="#0d2e4e" stroke-width="1"/>
          <line id="Line_1178" data-name="Line 1178" x2="4" transform="translate(0.499 8)" fill="none" stroke="#0d2e4e" stroke-width="1"/>
          <line id="Line_1137" data-name="Line 1137" y1="3" transform="translate(5 0.5)" fill="none" stroke="#0d2e4e" stroke-width="1"/>
          <line id="Line_1177" data-name="Line 1177" y1="3" transform="translate(5 4.5)" fill="none" stroke="#0d2e4e" stroke-width="1"/>
          <line id="Line_1139" data-name="Line 1139" y1="3" transform="translate(0 0.5)" fill="none" stroke="#0d2e4e" stroke-width="1"/>
          <line id="Line_1176" data-name="Line 1176" y1="3" transform="translate(0 4.5)" fill="none" stroke="#0d2e4e" stroke-width="1"/>
        </g>
        <g id="Group_10333" data-name="Group 10333" transform="translate(0 0)">
          <line id="Line_1133-2" data-name="Line 1133" x2="4" transform="translate(0.499)" fill="none" stroke="#0d2e4e" stroke-width="1"/>
          <line id="Line_1175-2" data-name="Line 1175" x2="4" transform="translate(0.499 4)" fill="none" stroke="#0d2e4e" stroke-width="1"/>
          <line id="Line_1178-2" data-name="Line 1178" x2="4" transform="translate(0.499 8)" fill="none" stroke="#0d2e4e" stroke-width="1"/>
          <line id="Line_1137-2" data-name="Line 1137" y1="3" transform="translate(5 0.5)" fill="none" stroke="#0d2e4e" stroke-width="1"/>
          <line id="Line_1177-2" data-name="Line 1177" y1="3" transform="translate(5 4.5)" fill="none" stroke="#0d2e4e" stroke-width="1"/>
          <line id="Line_1139-2" data-name="Line 1139" y1="3" transform="translate(0 0.5)" fill="none" stroke="#0d2e4e" stroke-width="1"/>
          <line id="Line_1176-2" data-name="Line 1176" y1="3" transform="translate(0 4.5)" fill="none" stroke="#0d2e4e" stroke-width="1"/>
        </g>
      </g>
    </g>
  </g>
</svg>
`},86363:y=>{y.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.a{fill:#fff;}.b{fill:none;}</style></defs><g transform="translate(0.55 0.33)"><path class="a" d="M-15951.608,15185.819h-.941a1,1,0,0,1-1-1v-.837a6.1,6.1,0,0,1-1.55-.641l-.789.8a1,1,0,0,1-.689.273,1,1,0,0,1-.688-.273l-.62-.621a1,1,0,0,1,0-1.382l.78-.781a6,6,0,0,1-.713-1.578h-.729a1,1,0,0,1-1-1v-.937a1,1,0,0,1,1-1h.661a5.85,5.85,0,0,1,.681-1.69l-.673-.669a1,1,0,0,1,0-1.382l.62-.621a1,1,0,0,1,.691-.276,1,1,0,0,1,.69.276l.642.642a1.422,1.422,0,0,1,.831-.193h.141l.175,0a2.3,2.3,0,0,0,.571-.059v-1.2a1,1,0,0,1,1-1h.937a1,1,0,0,1,1,1v1.2a1.513,1.513,0,0,0,.49.071c.095,0,.19,0,.278-.011h.008c.1-.006.184-.009.255-.009a1.081,1.081,0,0,1,.606.149l.733-.729a1,1,0,0,1,.689-.276.994.994,0,0,1,.688.276l.62.617a1,1,0,0,1,0,1.382l-.729.729a6.012,6.012,0,0,1,.688,1.63h.7a.993.993,0,0,1,.957,1.01v.941a1,1,0,0,1-1,1h-.7a5.9,5.9,0,0,1-.688,1.643l.729.729a1,1,0,0,1,0,1.382l-.62.621a1,1,0,0,1-.689.273,1,1,0,0,1-.688-.273l-.733-.733a5.894,5.894,0,0,1-1.626.693v.837A1,1,0,0,1-15951.608,15185.819Zm-.441-10.121a2.5,2.5,0,0,0-2.5,2.5,2.5,2.5,0,0,0,2.5,2.5,2.5,2.5,0,0,0,2.5-2.5A2.5,2.5,0,0,0-15952.05,15175.7Z" transform="translate(15959.55 -15170.67)"/></g><rect class="b" width="16" height="16"/></svg>'},82142:y=>{y.exports=`<svg id="Component_5489_10" data-name="Component 5489 \u2013 10" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <path id="Subtraction_1013" data-name="Subtraction 1013" d="M1422.268-109.33h-.208a7.417,7.417,0,0,1-2.125-.3,7.126,7.126,0,0,1-1.906-.844,7.711,7.711,0,0,1-1.606-1.359,7.848,7.848,0,0,1-1.247-1.805l-.115-.187.115-.211a7.56,7.56,0,0,1,1.247-1.758,8.221,8.221,0,0,1,.856-.8l.735.735a6.43,6.43,0,0,0-1.661,2.034,5.727,5.727,0,0,0,2.437,2.532,7.813,7.813,0,0,0,3.477.96,7.38,7.38,0,0,0,1.18-.093l.835.835A7.67,7.67,0,0,1,1422.268-109.33Zm4.787-1.736h0l-.646-.646a6.561,6.561,0,0,0,1.775-2.117,6.627,6.627,0,0,0-1.086-1.453,6.967,6.967,0,0,0-1.386-1.09,7.05,7.05,0,0,0-1.64-.715,6.376,6.376,0,0,0-1.519-.251,2.683,2.683,0,0,1,1.83.9,2.991,2.991,0,0,1,.843,2.1v.117a2.753,2.753,0,0,1-.223,1.109h0l-3.973-3.973.052-.022.022-.009a3.17,3.17,0,0,1,1.166-.222c.094,0,.189,0,.284.006-.063,0-.127-.006-.191-.006h-.093a6.964,6.964,0,0,0-1.36.132l-.838-.838a7.225,7.225,0,0,1,1.99-.279,7.629,7.629,0,0,1,2.149.305,7.815,7.815,0,0,1,1.94.867,7.563,7.563,0,0,1,1.617,1.36,7.391,7.391,0,0,1,1.2,1.758l.093.211-.093.187a7,7,0,0,1-1.085,1.782,7.62,7.62,0,0,1-.827.794Zm-4.787-.279h-.092a2.672,2.672,0,0,1-2.033-.9,3.012,3.012,0,0,1-.832-2.1v-.221l3.212,3.212C1422.429-111.348,1422.346-111.345,1422.268-111.345Z" transform="translate(-1414.061 121.939)" fill="currentColor"/>
  <rect id="Rectangle_44636" data-name="Rectangle 44636" width="16" height="16" fill="none"/>
  <path id="Path_11999" data-name="Path 11999" d="M768,8279l12,12" transform="translate(-766 -8277)" stroke="currentColor" stroke-width="1"/>
</svg>
`},75327:y=>{y.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">
  <g id="Group_16020" data-name="Group 16020" transform="translate(-446 -144)">
    <rect id="Rectangle_40893" data-name="Rectangle 40893" width="32" height="3" rx="1.5" transform="translate(466 155.373)" fill="#d1d1d1"/>
    <text id="_100" data-name="100" transform="translate(483 188.257)" fill="#ff4013" font-size="22" font-family="Montserrat-Bold, Montserrat" font-weight="700" letter-spacing="-0.022em"><tspan x="-18" y="0">100</tspan></text>
    <rect id="Rectangle_40894" data-name="Rectangle 40894" width="72" height="64" transform="translate(446 144)" fill="none"/>
  </g>
</svg>
`},81279:y=>{y.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <g id="Group_16843" data-name="Group 16843" transform="translate(-7204 1034) rotate(-90)">
    <rect id="Rectangle_6408" data-name="Rectangle 6408" width="16" height="16" transform="translate(1018 7220) rotate(-90)" fill="none"/>
    <path id="Path_6208" data-name="Path 6208" d="M1859.754,240.671h1v6h2l-2.5,3-2.5-3h2Z" transform="translate(779.329 9071.754) rotate(-90)" fill="currentColor"/>
    <path id="Path_11993" data-name="Path 11993" d="M1032,7205.261v14" transform="translate(-0.5 -0.261)" fill="none" stroke="currentColor" stroke-width="1"/>
  </g>
</svg>
`},18650:y=>{y.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <g id="Group_16841" data-name="Group 16841" transform="translate(-1018 -7204)">
    <rect id="Rectangle_6408" data-name="Rectangle 6408" width="16" height="16" transform="translate(1018 7220) rotate(-90)" fill="none"/>
    <path id="Path_6208" data-name="Path 6208" d="M1859.754,240.671h1v6h2l-2.5,3-2.5-3h2Z" transform="translate(779.329 9071.754) rotate(-90)" fill="currentColor"/>
    <path id="Path_11993" data-name="Path 11993" d="M1032,7205.261v14" transform="translate(-0.5 -0.261)" fill="none" stroke="currentColor" stroke-width="1"/>
  </g>
</svg>
`},98207:y=>{y.exports=`<svg id="Group_16842" data-name="Group 16842" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <rect id="Rectangle_6408" data-name="Rectangle 6408" width="16" height="16" transform="translate(0 16) rotate(-90)" fill="none"/>
  <path id="Path_6208" data-name="Path 6208" d="M2,9H3V3H5L2.5,0,0,3H2Z" transform="translate(5 10) rotate(-90)" fill="currentColor"/>
  <path id="Path_11993" data-name="Path 11993" d="M1032,7205.261v14" transform="translate(-1029.5 -7204.261)" fill="none" stroke="currentColor" stroke-width="1"/>
</svg>
`},19146:y=>{y.exports=`<svg id="Component_3021_13" data-name="Component 3021 \u2013 13" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <rect id="Rectangle_6428" data-name="Rectangle 6428" width="16" height="16" fill="none"/>
  <path id="Path_6910" data-name="Path 6910" d="M-347,453.292h-5v-5Z" transform="translate(354 -439.293)" fill="#000"/>
  <path id="Path_6911" data-name="Path 6911" d="M-340,446.292v-5h-5Z" transform="translate(354 -439.293)" fill="#000"/>
  <line id="Line_295" data-name="Line 295" y1="4" x2="4" transform="translate(9 3)" fill="none" stroke="#000" stroke-width="1"/>
  <line id="Line_296" data-name="Line 296" y1="4" x2="4" transform="translate(3 9)" fill="none" stroke="#000" stroke-width="1"/>
</svg>
`},66255:y=>{y.exports=`<svg id="Component_170_54" data-name="Component 170 \u2013 54" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <g id="Group_7345" data-name="Group 7345" transform="translate(-2064.059 107.242)">
    <rect id="Rectangle_6419" data-name="Rectangle 6419" width="2" height="2" transform="translate(2071.059 -105.242)" fill="#000"/>
    <rect id="Rectangle_6420" data-name="Rectangle 6420" width="2" height="2" transform="translate(2071.059 -100.242)" fill="#000"/>
    <rect id="Rectangle_6421" data-name="Rectangle 6421" width="2" height="2" transform="translate(2071.059 -95.242)" fill="#000"/>
  </g>
  <rect id="Rectangle_6422" data-name="Rectangle 6422" width="16" height="16" fill="none"/>
</svg>
`},73144:y=>{y.exports=`<svg id="Component_654_35" data-name="Component 654 \u2013 35" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <rect id="Rectangle_6580" data-name="Rectangle 6580" width="16" height="16" fill="none"/>
  <line id="Line_831" data-name="Line 831" y1="4" x2="4" transform="translate(2 10)" fill="none" stroke="#000" stroke-width="1"/>
  <line id="Line_832" data-name="Line 832" y1="4" x2="4" transform="translate(10 2)" fill="none" stroke="#000" stroke-width="1"/>
  <path id="Path_7086" data-name="Path 7086" d="M-57.433,448.76h-4.5v-4.5Z" transform="translate(70.933 -441.76)" fill="#000"/>
  <path id="Path_7087" data-name="Path 7087" d="M-69.585,451.912h4.5v4.5Z" transform="translate(72.085 -442.912)" fill="#000"/>
</svg>
`},56055:y=>{y.exports=`<?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="64px" height="64px" viewBox="0 0 64 64" enable-background="new 0 0 64 64" xml:space="preserve">
<g>
	<path fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" d="M33,1c7.678,0,15.354,2.929,21.212,8.787
		C64.91,20.484,65.841,37.248,57.003,49l-6.001,6.002"/>
</g>
<g>
	<path fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" d="M31,63c-7.678,0-15.354-2.929-21.212-8.787
		C-0.91,43.516-1.841,26.752,6.997,15l6.001-6.002"/>
</g>
<polyline fill="none" stroke="#000000" stroke-width="2" stroke-linejoin="bevel" stroke-miterlimit="10" points="51,44 51,55 
	62,55 "/>
<polyline fill="none" stroke="#000000" stroke-width="2" stroke-linejoin="bevel" stroke-miterlimit="10" points="13,20 13,9 2,9 
	"/>
</svg>
`},7477:y=>{y.exports=`<svg id="Component_5490_8" data-name="Component 5490 \u2013 8" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <path id="Path_11998" data-name="Path 11998" d="M11.5-5.391h-.208a7.363,7.363,0,0,1-2.125-.3,7.077,7.077,0,0,1-1.906-.844A7.645,7.645,0,0,1,5.652-7.9,7.8,7.8,0,0,1,4.4-9.7l-.116-.187L4.4-10.1a7.521,7.521,0,0,1,1.248-1.758,8.035,8.035,0,0,1,1.64-1.359,7.874,7.874,0,0,1,1.917-.867,7.2,7.2,0,0,1,2.079-.3,7.6,7.6,0,0,1,2.149.3,7.774,7.774,0,0,1,1.941.867A7.517,7.517,0,0,1,17-11.859,7.355,7.355,0,0,1,18.2-10.1l.092.211L18.2-9.7a6.956,6.956,0,0,1-1.086,1.781A7.618,7.618,0,0,1,15.54-6.586a8.116,8.116,0,0,1-1.894.891A7.6,7.6,0,0,1,11.5-5.391Zm0-1.008a6.682,6.682,0,0,0,3.477-.926,6.473,6.473,0,0,0,2.437-2.566,6.593,6.593,0,0,0-1.086-1.453,6.972,6.972,0,0,0-1.386-1.09,7.025,7.025,0,0,0-1.64-.715,6.362,6.362,0,0,0-1.8-.258,6.738,6.738,0,0,0-3.442.926,6.364,6.364,0,0,0-2.472,2.59A5.7,5.7,0,0,0,8.02-7.359,7.768,7.768,0,0,0,11.5-6.4Zm0-7.008a3.16,3.16,0,0,0-1.167.223,2.742,2.742,0,0,0-1,.691h.208a1.054,1.054,0,0,1,.762.316,1.054,1.054,0,0,1,.323.785,1.066,1.066,0,0,1-.323.773,1.036,1.036,0,0,1-.762.328,1.183,1.183,0,0,1-.578-.152A.956.956,0,0,1,8.54-10.9v.492a3,3,0,0,0,.832,2.1,2.66,2.66,0,0,0,2.033.9H11.5a2.912,2.912,0,0,0,2.068-.844,2.708,2.708,0,0,0,.889-2.039v-.117a2.977,2.977,0,0,0-.843-2.1,2.671,2.671,0,0,0-2.021-.9H11.5Z" transform="translate(-3.289 18)" fill="currentColor"/>
  <rect id="Rectangle_44636" data-name="Rectangle 44636" width="16" height="16" fill="none"/>
</svg>
`},30766:y=>{y.exports=`<svg id="Component_211_1" data-name="Component 211 \u2013 1" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <g id="Group_7552" data-name="Group 7552" transform="translate(530.326 -406.05)">
    <g id="Path_7008" data-name="Path 7008" fill="none">
      <path d="M-519.789,420.05h-5.017l-4.52-12h14Z" stroke="none"/>
      <path d="M -520.484130859375 419.05029296875 L -516.7650146484375 409.05029296875 L -527.8809814453125 409.05029296875 L -524.1146240234375 419.05029296875 L -520.484130859375 419.05029296875 M -519.7891235351562 420.05029296875 L -524.8065795898438 420.05029296875 L -529.326171875 408.05029296875 L -515.326171875 408.05029296875 L -519.7891235351562 420.05029296875 Z" stroke="none" fill="#fff"/>
    </g>
    <line id="Line_802" data-name="Line 802" x2="9.762" transform="translate(-527.326 412.55)" fill="none" stroke="#fff" stroke-width="1"/>
    <line id="Line_803" data-name="Line 803" x2="6.451" transform="translate(-525.326 416.55)" fill="none" stroke="#fff" stroke-width="1"/>
  </g>
  <rect id="Rectangle_6546" data-name="Rectangle 6546" width="16" height="16" fill="none"/>
</svg>
`},54008:y=>{y.exports='<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26"><defs><style>.a{fill:#fff;}.b{fill:none;}</style></defs><path class="a" d="M930-390l6.662,9.444L930-373.136l10.675-7.42Z" transform="translate(-922.581 393.109)"/><rect class="b" width="26" height="26"/></svg>'}}]);
