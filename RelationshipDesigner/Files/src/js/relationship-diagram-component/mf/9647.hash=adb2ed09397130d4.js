(self.webpackChunkapp_studio_enterprise_relationship_diagram=self.webpackChunkapp_studio_enterprise_relationship_diagram||[]).push([[9647],{9647:(w,z,s)=>{s.r(z),s.d(z,{CrtDataTableEditPhoneCellComponent:()=>m,CrtDataTableEditPhoneCellModule:()=>S,CrtDataTablePhoneCellComponent:()=>O,CrtDataTablePhoneCellModule:()=>E,CrtPhoneInputComponent:()=>u,CrtPhoneInputDirective:()=>g,CrtPhoneInputModule:()=>M,IntlTelInputSelectors:()=>C,PhoneInputService:()=>d});var r=s(5960),h=s(40297),f=s(56711),P=s(52989),x=s(4091),k=s(70987),U=s(62521),c=s(38495),p=s(59564),v=s(96590),j=s(50456),y=s(20822),T=s(21018);const W={"hu-HU":JSON.parse('{"PhoneInput":{"CallButtonHint":"Felh\xEDv"}}'),"zh-CN":JSON.parse('{"PhoneInput":{"CallButtonHint":"Call up"}}'),"sq-AL":JSON.parse('{"PhoneInput":{"CallButtonHint":"Call up"}}'),"en-GB":JSON.parse('{"PhoneInput":{"CallButtonHint":"Call up"}}'),"bg-BG":JSON.parse('{"PhoneInput":{"CallButtonHint":"\u0417\u0432\u044A\u043D\u043D\u0438"}}'),"zh-TW":JSON.parse('{"PhoneInput":{"CallButtonHint":"\u547C\u53EB"}}'),"no-NO":JSON.parse('{"PhoneInput":{"CallButtonHint":"Ring opp"}}'),"ko-KR":JSON.parse('{"PhoneInput":{"CallButtonHint":"\uC804\uD654"}}'),"ja-JP":JSON.parse('{"PhoneInput":{"CallButtonHint":"\u767A\u4FE1"}}'),"fr-CA":JSON.parse('{"PhoneInput":{"CallButtonHint":"Call up"}}'),zh:JSON.parse('{"PhoneInput":{"CallButtonHint":"Call up"}}'),"vi-VN":JSON.parse('{"PhoneInput":{"CallButtonHint":"Call up"}}'),"tr-TR":JSON.parse('{"PhoneInput":{"CallButtonHint":"\xC7a\u011F\u0131rmak"}}'),"th-TH":JSON.parse('{"PhoneInput":{"CallButtonHint":"Call up"}}'),"sv-SE":JSON.parse('{"PhoneInput":{"CallButtonHint":"Call up"}}'),"ro-RO":JSON.parse('{"PhoneInput":{"CallButtonHint":"Apela\u021Bi"}}'),"pt-PT":JSON.parse('{"PhoneInput":{"CallButtonHint":"Call up"}}'),"pt-BR":JSON.parse('{"PhoneInput":{"CallButtonHint":"Chamar"}}'),"pl-PL":JSON.parse('{"PhoneInput":{"CallButtonHint":"Zadzwo\u0144"}}'),no:JSON.parse('{"PhoneInput":{"CallButtonHint":"Call up"}}'),"nl-NL":JSON.parse('{"PhoneInput":{"CallButtonHint":"Bel op"}}'),"lv-LV":JSON.parse('{"PhoneInput":{"CallButtonHint":"Piezvan\u012Bt"}}'),"kk-KZ":JSON.parse('{"PhoneInput":{"CallButtonHint":"Call up"}}'),"it-IT":JSON.parse('{"PhoneInput":{"CallButtonHint":"Richiama"}}'),"id-ID":JSON.parse('{"PhoneInput":{"CallButtonHint":"Call up"}}'),"he-IL":JSON.parse('{"PhoneInput":{"CallButtonHint":"\u05D1\u05E6\u05E2 \u05E9\u05D9\u05D7\u05D4"}}'),"fr-FR":JSON.parse('{"PhoneInput":{"CallButtonHint":"Appel"}}'),"fa-IR":JSON.parse('{"PhoneInput":{"CallButtonHint":"Call up"}}'),"es-ES":JSON.parse('{"PhoneInput":{"CallButtonHint":"Llamada"}}'),"de-DE":JSON.parse('{"PhoneInput":{"CallButtonHint":"Aufrufen"}}'),"cs-CZ":JSON.parse('{"PhoneInput":{"CallButtonHint":"Call up"}}'),"ar-SA":JSON.parse('{"PhoneInput":{"CallButtonHint":"Call up"}}'),"en-US":JSON.parse('{"PhoneInput":{"CallButtonHint":"Call up"}}'),"ru-RU":JSON.parse('{"PhoneInput":{"CallButtonHint":"\u041F\u043E\u0437\u0432\u043E\u043D\u0438\u0442\u044C"}}'),"uk-UA":JSON.parse('{"PhoneInput":{"CallButtonHint":"\u0417\u0430\u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443\u0432\u0430\u0442\u0438"}}')};var t=s(59131),V=s(79772),Q=s(87368),G=s(89422),K=s(31555),$=s(73730),X=s.n($),Y=s(33119),q=s.n(Y),C;(function(a){a.FlagContainer=".iti__flag-container",a.SelectedFlag=".iti__selected-flag",a.ActiveFlag=".iti__active",a.HighlightedFlag=".iti__highlight",a.CountryList=".iti__country-list"})(C||(C={}));class g{constructor(e,n,i){this._elementRef=e,this._overlayPositionBuilder=n,this._overlay=i,this._placeholderChar="_",this._isNeedToInit=!0,this.phoneValueChanged=new t.EventEmitter,this.alwaysShowFlags=!1,this._getSelectedCountryIso=()=>this._iti?.getSelectedCountryData().iso2}set displayPhoneMask(e){e&&(this._displayPhoneMask=e,this._isContentInited&&this._isNeedToInit&&this._initDirective())}get displayPhoneMask(){return this._displayPhoneMask}countryCodeChanged(){const e=this._getSelectedCountryIso();e&&(this._setPhoneMask(e),setTimeout(()=>this._setCursorPosition(),0)),this._imask&&(this._elementRef.nativeElement.value=this._imask.value,this.valueChanged())}valueChanged(){this.phoneValueChanged.emit(this._elementRef.nativeElement.value)}onBlur(e){if(e.relatedTarget instanceof HTMLElement&&(e.relatedTarget.classList.contains(C.SelectedFlag.slice(1))||e?.relatedTarget?.closest(C.CountryList)))return;this._closeDropdown(e);const n=this._elementRef.nativeElement.value;!this.alwaysShowFlags&&this.displayPhoneMask&&this.containsOnlyDialCode(n)?this.phoneValueChanged.emit(""):this.phoneValueChanged.emit(n)}_setPhoneMask(e){const n=this._phoneUtil.getExampleNumberForType(e,1),i=n.getCountryCode().toString(),o=this._phoneUtil.format(n,null),_={mask:`+{${i.replace("0","\\0")}} ${o.replace(/-/g," ").replace(/\d/g,"0")}`,lazy:!1,placeholderChar:this._placeholderChar};this._imask?(this._elementRef.nativeElement.value=this._getPhoneWithoutCode(this._elementRef.nativeElement.value),this._imask.updateValue(),this._imask.updateOptions(_)):this._imask=X()(this._elementRef.nativeElement,_)}_setCursorPosition(){const e=this._imask.masked.value.indexOf(this._placeholderChar);this._elementRef.nativeElement.setSelectionRange(e,e)}_getPhoneWithoutCode(e){return e.substring(e.indexOf(" ")+1).replace(/\s/g,"")}_getCountryCode(e){if(e==="USA")return"us";const n=new RegExp("^"+e);let i=this._iti.countries.find(o=>o.name===e||o.name.match(n));return i||(i=this._iti.countries.find(o=>o.name.indexOf(e)!==-1)),i&&i.iso2}_getItiConfig(e){const i={nationalMode:!1,dropdownContainer:this._overlayRef.overlayElement,autoHideDialCode:!1,excludeCountries:["ru","by"],preferredCountries:[],initialCountry:e?"us":null};return this.countrySelectionConfig?Object.assign(i,this.countrySelectionConfig):i}_initDirective(){s.e(1588).then(s.t.bind(s,1588,23)).then(({PhoneNumberUtil:e})=>{this._phoneUtil=e.getInstance();const n=this._elementRef.nativeElement.value?.indexOf("+")!==0;this.initIntlTelInput(n);const i=this._getSelectedCountryIso();this._elementRef.nativeElement.value&&!i||(this._setPhoneMask(i),this.alwaysShowFlags||(this._elementRef.nativeElement.focus(),this._setCursorPosition()),this._isNeedToInit=!1)}).catch(e=>{console.error("Error loading google-libphonenumber:",e)})}_destroyPhoneMask(e=!1){(this._elementRef.nativeElement.value===""||e===!0)&&(this._imask?.value&&(this._lastMaskValue=this._imask?.value),this._imask?.destroy(),this._imask=null,this._isNeedToInit=!0)}_closeDropdown(e){e.target?.classList.contains(C.CountryList.slice(1))||this._iti?._closeDropdown()}static _isRtlMode(){return getComputedStyle(window.document.body).direction==="rtl"}_fixCountryFlagsPositionInRTL(){g._isRtlMode()&&setTimeout(()=>{const e=this._elementRef.nativeElement.getBoundingClientRect(),n=document.querySelector(".iti--container");n.style.right=window.innerWidth-e.left-e.width+"px",n.style.left="0px"})}isValid(){const e=this.containsOnlyDialCode(this._elementRef.nativeElement.value);if(this.alwaysShowFlags&&e)return!1;const n=this._imask?.value||this._lastMaskValue;return n?e||n?.length>1&&n?.indexOf(this._placeholderChar)===-1:!0}ngAfterContentInit(){this._isContentInited=!0,(this.displayPhoneMask||this.alwaysShowFlags)&&this._isNeedToInit&&this._initDirective()}initIntlTelInput(e){if(this._iti)return;const n=this._elementRef.nativeElement;if(n){this._iti=q()(n,this._getItiConfig(e));const i=o=>{this._closeDropdown(o)};this._iti.telInput?.addEventListener("open:countrydropdown",o=>{setTimeout(()=>window.addEventListener("scroll",i,!0),0),this._fixCountryFlagsPositionInRTL()}),this._iti.telInput?.addEventListener("close:countrydropdown",o=>{setTimeout(()=>window.removeEventListener("scroll",i,!0),0)}),n.addEventListener("changecountry",this.changePhoneCountry.bind(this)),n.addEventListener("blur",this._destroyPhoneMask.bind(this,!1))}}changePhoneCountry(e){const n=e?.detail.countryCode;if(!n)return;const i=this._getCountryCode(n);i&&(this._iti.setCountry(i),this.countryCodeChanged())}onPhoneFocus(){if(this.displayPhoneMask){const e=this._iti.getSelectedCountryData(),n=e?.dialCode;!this._elementRef.nativeElement.value&&n!==void 0&&(this._setPhoneMask(e.iso2),this._imask.updateControl())}}containsOnlyDialCode(e){const n=e.replace(/\D/g,"");return this._iti?.getSelectedCountryData().dialCode===n}ngOnInit(){const e=this._overlayPositionBuilder.flexibleConnectedTo(this._elementRef).withPositions([{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top"}]);this._overlayRef=this._overlay.create({scrollStrategy:this._overlay.scrollStrategies.noop(),positionStrategy:e}),this._overlayRef.overlayElement.classList.add("cdk-overlay-connected-position-bounding-box")}ngOnDestroy(){this._overlayRef.dispose();const e=this._elementRef.nativeElement;e&&(this._iti?.destroy(),this._destroyPhoneMask(!0),e.removeEventListener("changecountry",this.changePhoneCountry.bind(this)),e.removeEventListener("blur",this._destroyPhoneMask.bind(this)),e.remove())}static{this.\u0275fac=function(n){return new(n||g)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(K.OverlayPositionBuilder),t.\u0275\u0275directiveInject(K.Overlay))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:g,selectors:[["","crtPhoneInput",""]],hostBindings:function(n,i){n&1&&t.\u0275\u0275listener("countrychange",function(){return i.countryCodeChanged()})("keyup",function(){return i.valueChanged()})("blur",function(l){return i.onBlur(l)})},inputs:{countrySelectionConfig:"countrySelectionConfig",alwaysShowFlags:"alwaysShowFlags",displayPhoneMask:"displayPhoneMask"},outputs:{phoneValueChanged:"phoneValueChanged"}})}}var R=s(73308);class d{constructor(e,n){this._customEventService=e,this._userInfo=n}_processIsTelephonyEnabledResponse(e){e!==void 0&&d.isTelephonyEnabled!==e&&(d.isTelephonyEnabled=e)}_isTelephonyEnabled(){return(0,R.A)(function*(){const e={type:"crt.7XRequest",action:"IsTelephonyEnabled",$context:{},$initialEvent:{}};return yield c.HandlerChainService.instance.process(e)})()}callNumber(e,n){return(0,R.A)(function*(){const i={type:"crt.7XRequest",action:"HandlePhoneLinkClick",$context:{},$initialEvent:{event:n,phoneNumber:e},payload:e};yield c.HandlerChainService.instance.process(i)})()}initIsTelephonyEnabled(){if(d.isTelephonyEnabledFlagInitialized=!0,this._userInfo?.isSSP){d.isTelephonyEnabled=!1;return}this._isTelephonyEnabled().then(e=>{this._processIsTelephonyEnabledResponse(e)}),this._customEventService.getDataViaEvent("CTIPanelInitialized").subscribe(e=>{this._processIsTelephonyEnabledResponse(e)})}static{this.\u0275fac=function(n){return new(n||d)(t.\u0275\u0275inject(v.CustomEventService),t.\u0275\u0275inject(T.UserInfo,8))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac})}}const tt=["intlTel"],et=["intlTelContainer"],nt=["*"],ot=a=>({"crt-input-required":a}),it=a=>({"grid-padding":a}),at=(a,e,n,i)=>({"crt-input-control":!0,"phone-mask":a,"value-empty":e,"edit-mode":n,"phone-wrapper":i}),D=a=>({"crt-input-control-element-hidden":a}),lt=(a,e)=>({"crt-input-control-element-hidden":a,"none-events":e});function st(a,e){if(a&1&&t.\u0275\u0275element(0,"crt-base-input-width-holder",10),a&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("label",n.label)("minWidth",180)}}function rt(a,e){a&1&&t.\u0275\u0275element(0,"crt-skeleton-loader")}function ct(a,e){a&1&&t.\u0275\u0275elementContainer(0)}function pt(a,e){if(a&1&&(t.\u0275\u0275elementContainerStart(0,null,3),t.\u0275\u0275elementStart(2,"crt-intl-tel-input",14,4),t.\u0275\u0275template(4,ct,1,0,"ng-container",21),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),a&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(10),i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(2,D,i.isFlagButtonHidden)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",n)}}function dt(a,e){if(a&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"input",22,5),t.\u0275\u0275listener("blur",function(o){t.\u0275\u0275restoreView(n);const l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.onBlurred(o))})("keyup",function(o){t.\u0275\u0275restoreView(n);const l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.onKeyUp(o))})("keydown",function(o){t.\u0275\u0275restoreView(n);const l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.onKeyDown(o))})("focus",function(){t.\u0275\u0275restoreView(n);const o=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(o.enableEditMode())})("phoneValueChanged",function(o){t.\u0275\u0275restoreView(n);const l=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(l.onPhoneValueChanged(o))}),t.\u0275\u0275elementEnd()}if(a&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(12,lt,n.isFlagButtonHidden,n.isViewCellMode))("displayPhoneMask",n.displayPhoneMask&&n.isFocused)("alwaysShowFlags",n.alwaysShowFlags)("countrySelectionConfig",n.countrySelectionConfig)("id",n.inputId)("formControl",n.control)("value",n.control==null?null:n.control.value)("readonly",n.readonly)("autocomplete",n.autocomplete)("placeholder",n.isShowPlaceholder?n.placeholder:"")("crtAriaRequired",n.required),t.\u0275\u0275attribute("aria-label",n.ariaLabel||n.label)}}function ut(a,e){a&1&&(t.\u0275\u0275element(0,"mat-icon",23),t.\u0275\u0275pipe(1,"translate")),a&2&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"Input.Readonly"))}function ht(a,e){if(a&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",24),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"crt-icon-tooltip",25),t.\u0275\u0275elementContainerEnd()),a&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.errorMessages),t.\u0275\u0275advance(),t.\u0275\u0275property("tooltip",n.errors)("ariaLabel",n.label)}}function _t(a,e){if(a&1&&t.\u0275\u0275element(0,"crt-icon-tooltip",27),a&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("tooltip",n.tooltip)("ariaLabel",n.label)}}function Ct(a,e){if(a&1&&t.\u0275\u0275template(0,_t,1,2,"crt-icon-tooltip",26),a&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngIf",n.tooltip)}}function gt(a,e){a&1&&(t.\u0275\u0275elementStart(0,"div",28),t.\u0275\u0275projection(1),t.\u0275\u0275elementEnd())}function mt(a,e){if(a&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",11)(1,"label",12),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(3,"mat-form-field",13)(4,"div",14)(5,"button",15),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275listener("click",function(o){t.\u0275\u0275restoreView(n);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.onCallLinkClicked(o,l.control==null?null:l.control.value))}),t.\u0275\u0275element(7,"mat-icon",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,pt,5,4,"ng-container",9)(9,dt,2,15,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(11,"div",17)(12,"a",18),t.\u0275\u0275listener("click",function(o){t.\u0275\u0275restoreView(n);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.onCallLinkClicked(o,l.control==null?null:l.control.value))})("keyup.enter",function(o){t.\u0275\u0275restoreView(n);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.onCallLinkClicked(o,l.control==null?null:l.control.value))}),t.\u0275\u0275text(13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(14,ut,2,3,"mat-icon",19)(15,ht,4,3,"ng-container",9)(16,Ct,1,1,"ng-template",null,2,t.\u0275\u0275templateRefExtractor)(18,gt,2,0,"div",20),t.\u0275\u0275elementEnd()()}if(a&2){const n=t.\u0275\u0275reference(10),i=t.\u0275\u0275reference(17),o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(23,ot,o.isShownRequiredMark))("for",o.inputId),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1("",o.label," "),t.\u0275\u0275advance(),t.\u0275\u0275classMap("label-position-"+o.displayLabelPosition),t.\u0275\u0275classProp("crt-input-control-container--invalid",o.invalid),t.\u0275\u0275property("appearance",o.appearance)("ngClass",t.\u0275\u0275pureFunction1(25,it,o.isEditCellMode)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction4(27,at,o.displayPhoneMask&&o.isFocused,o.isEmptyValue,o.isEdit&&!o.readonly,!o.alwaysShowFlags)),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(6,21,"PhoneInput.CallButtonHint")),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(32,D,o.isHandsetHidden)),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",o.displayAsPhone)("ngIfElse",n),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(34,D,o.isPhoneLinkHidden))("title",o.control==null?null:o.control.value),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",o.control==null?null:o.control.value," "),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",o.readonly),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",o.invalid&&!o.isViewCellMode)("ngIfElse",i),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!o.readonly&&o.tools)}}let u=class H extends y.CrtInputComponent{get isEdit(){return this.phoneAsLink===!0?this._isFocused||this.control.value?.length>0&&this.control.invalid:!0}get isEmptyValue(){return!(this.control?.value||this.value)}get isFlagButtonHidden(){return this.alwaysShowFlags?!1:!this.isFocused||this.readonly||!this.isEdit}get isPhoneLinkHidden(){return this.alwaysShowFlags?!0:!this.readonly&&this.isEdit&&this.isFocused}get isHandsetHidden(){return this.alwaysShowFlags?!0:this.displayPhoneMask&&this.isFocused||this.isGridMode&&this.isEmptyValue&&!this.isEdit}get displayPhoneMask(){return this.displayAsPhone&&this.isEdit}get isFocused(){return this._isFocused}get isEditCellMode(){return this.isGridMode&&!this.isViewCellMode}get isShowPlaceholder(){return this._isShowPlaceholder}set crtPhoneInput(e){e&&(this._crtPhoneInput=e,this._setValidator())}set intlTelContainer(e){e&&this.loadIntlTelInputComponent(e)}constructor(e,n,i,o){super(e,n),this.changeDetectorRef=n,this._translateService=i,this._phoneInputService=o,this._isShowPlaceholder=!0,this._validatorFn=this._createPhoneValidatorFn.bind(this),this._intlTelInputLoaded=!1,this.displayAsPhone=!0,this.alwaysShowFlags=!1,this.phoneAsLink=!1}_setValidator(){this.displayAsPhone&&(this.isEditCellMode?this.control.setValidators(this._validatorFn):this.control.hasValidator(this._validatorFn)||this.control.addValidators(this._validatorFn))}_createPhoneValidatorFn(){return this.control.pristine||this._crtPhoneInput?.isValid()||this.isEmptyValue?null:this._getValidationErrors()}_getValidationErrors(){return{phoneMaskValidator:{message:this._translateService.instant("Validators.Required.Message")}}}_openCountriesList(e){this._intlTel.nativeElement.querySelector(C.SelectedFlag)?.click(),this._intlTel.nativeElement.querySelector(C.ActiveFlag)?.focus(),e.preventDefault(),e.stopPropagation()}_isCountriesListOpened(){return this._intlTel.nativeElement.querySelector(C.SelectedFlag).getAttribute("aria-expanded")==="true"}loadIntlTelInputComponent(e){this._intlTelInputLoaded||s.e(4563).then(s.bind(s,74563)).then(n=>(e.createComponent(n.CrtIntlTelInputComponent).instance,this._intlTelInputLoaded=!0,this.detectChanges(),n.CrtIntlTelInputComponent))}onCallLinkClicked(e,n){n&&(d.isTelephonyEnabled?(this._phoneInputService.callNumber(n,e),e.stopPropagation()):window.location.href=`tel:${n}`)}enableEditMode(){this._isFocused=!0,this._isShowPlaceholder=this.isEmptyValue&&!this.displayPhoneMask,this.changeDetectorRef.detectChanges(),this.control.updateValueAndValidity()}disableEditMode(){this._isFocused=!1}onPhoneValueChanged(e){e!==this.control.value&&(!this._crtPhoneInput?.containsOnlyDialCode(e)||this.alwaysShowFlags)&&(this.control.setValue(e),this.control.markAsDirty(),this.changeDetectorRef.detectChanges(),this.control.updateValueAndValidity())}onBlurred(e){const n=e?.relatedTarget;n?.closest(C.FlagContainer)||n?.closest(C.CountryList)||(this.control.markAsTouched(),this.control.updateValueAndValidity(),this.disableEditMode(),this.control.setValue(this.control.value),this._isShowPlaceholder=this.control.value==="")}ngOnInit(){super.ngOnInit(),d.isTelephonyEnabledFlagInitialized||this._phoneInputService.initIsTelephonyEnabled()}onKeyDown(e){e.key===G.Key.ArrowDown&&!this._isCountriesListOpened()&&this._openCountriesList(e)}ngOnDestroy(){super.ngOnDestroy(),this.crtPhoneInput&&this.crtPhoneInput.ngOnDestroy(),this._intlTel&&this._intlTel.nativeElement.remove()}static{this.\u0275fac=function(n){return new(n||H)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(V.TranslateService),t.\u0275\u0275directiveInject(d))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:H,selectors:[["crt-phone-input"]],viewQuery:function(n,i){if(n&1&&(t.\u0275\u0275viewQuery(g,5),t.\u0275\u0275viewQuery(tt,5,t.ElementRef),t.\u0275\u0275viewQuery(et,5,t.ViewContainerRef)),n&2){let o;t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(i.crtPhoneInput=o.first),t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(i._intlTel=o.first),t.\u0275\u0275queryRefresh(o=t.\u0275\u0275loadQuery())&&(i.intlTelContainer=o.first)}},inputs:{displayAsPhone:"displayAsPhone",alwaysShowFlags:"alwaysShowFlags",isGridMode:"isGridMode",isViewCellMode:"isViewCellMode",phoneAsLink:"phoneAsLink",countrySelectionConfig:"countrySelectionConfig"},features:[t.\u0275\u0275ProvidersFeature([Q.defaultComponentLoaderVisibilityDelayProvider]),t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:nt,decls:6,vars:5,consts:[["input",""],["simpleInput",""],["tooltipIcon",""],["intlTelContainer",""],["intlTel",""],["textinput",""],[3,"label","minWidth",4,"ngIf"],[1,"crt-base-input-container"],["crtResizable","",1,"crt-input",3,"resized","ngClass","crtResizableDisabled"],[4,"ngIf","ngIfElse"],[3,"label","minWidth"],[1,"crt-input-label-container"],[1,"crt-input-label",3,"ngClass","for"],["floatLabel","never",1,"crt-input-control-container",3,"appearance","ngClass"],[3,"ngClass"],["data-qa","call-field-button","alt","call up","mat-icon-button","",1,"crt-input-control-call-button",3,"click","title","ngClass"],["svgIcon","call-icon"],[1,"phone-link-wrapper",3,"ngClass","title"],["tabindex","0",1,"phone-link",3,"click","keyup.enter"],["matSuffix","","svgIcon","lock","class","readonly-icon",3,"title",4,"ngIf"],["class","inner-tools-panel","data-qa","phone-input-tools",4,"ngIf"],[4,"ngTemplateOutlet"],["crtPhoneInput","","matInput","",3,"blur","keyup","keydown","focus","phoneValueChanged","ngClass","displayPhoneMask","alwaysShowFlags","countrySelectionConfig","id","formControl","value","readonly","autocomplete","placeholder","crtAriaRequired"],["matSuffix","","svgIcon","lock",1,"readonly-icon",3,"title"],[1,"cdk-visually-hidden"],["type","error",3,"tooltip","ariaLabel"],[3,"tooltip","ariaLabel",4,"ngIf"],[3,"tooltip","ariaLabel"],["data-qa","phone-input-tools",1,"inner-tools-panel"]],template:function(n,i){if(n&1){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,st,1,2,"crt-base-input-width-holder",6),t.\u0275\u0275elementStart(1,"div",7)(2,"div",8),t.\u0275\u0275listener("resized",function(_){return t.\u0275\u0275restoreView(o),t.\u0275\u0275resetView(i.onResized(_))}),t.\u0275\u0275template(3,rt,1,0,"crt-skeleton-loader",9)(4,mt,19,36,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()}if(n&2){const o=t.\u0275\u0275reference(5);t.\u0275\u0275property("ngIf",i.displayLabelPosition==="auto"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass","label-position-"+i.displayLabelPosition+" appearance-"+i.appearance)("crtResizableDisabled",!i.isAutoLabelPosition||i.containerQueryMechanismAvailable),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",i.loaderVisible)("ngIfElse",o)}},dependencies:[h.NgClass,h.NgIf,h.NgTemplateOutlet,f.DefaultValueAccessor,f.NgControlStatus,x.MatLegacyFormField,x.MatLegacySuffix,k.MatLegacyInput,P.MatIcon,f.FormControlDirective,p.CrtResizableDirective,p.SkeletonLoaderComponent,j.AriaRequiredDirective,p.CrtIconTooltipComponent,p.CrtBaseInputWidthHolderComponent,g,V.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{max-width:100%}.crt-base-edit-input-responsible[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]{container-type:inline-size}@container (width <= 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}}@container (width > 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]{overflow:hidden;padding-bottom:1px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-above.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{width:0;min-width:0;margin:0}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{height:0;color:transparent}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]   .inner-tools-panel[_ngcontent-%COMP%]{opacity:1;display:inline-flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;align-items:center}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]:not(:hover)   .readonly-icon[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;padding-inline-end:2px}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   textarea.mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0}[_nghost-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;align-items:center;padding-inline-end:2px}","[_nghost-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{pointer-events:auto!important;width:100%}[_nghost-%COMP%]   .crt-input-control-container.grid-padding[_ngcontent-%COMP%]{padding-left:8px}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]     .mat-form-field-empty.mat-form-field-label{padding-inline-start:25px;width:calc(100% - 88px)}[_nghost-%COMP%]   .crt-input-control-element-hidden[_ngcontent-%COMP%]{width:0!important;margin-inline-end:0!important;overflow:hidden}[_nghost-%COMP%]   .crt-input-control.phone-mask[_ngcontent-%COMP%]   crt-intl-tel-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input-control.phone-mask[_ngcontent-%COMP%]   .iti--allow-dropdown[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .crt-input-control.phone-mask.edit-mode[_ngcontent-%COMP%]{padding-inline-start:0}[_nghost-%COMP%]   .crt-input-control-call-button[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;transform:translateY(-14px);border:none;background-color:inherit;height:24px;padding:2px 0;cursor:pointer}[_nghost-%COMP%]   .crt-input-control-call-button[_ngcontent-%COMP%]:focus{outline:none;border-bottom:1px solid var(--crt-palette-primary-500)}[dir=rtl]   [_nghost-%COMP%]   .crt-input-control-call-button[_ngcontent-%COMP%]{left:auto;right:0}[_nghost-%COMP%]   input[crtPhoneInput].none-events[_ngcontent-%COMP%]{pointer-events:none!important}[_nghost-%COMP%]   crt-intl-tel-input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .phone-wrapper[_ngcontent-%COMP%]{padding-inline-start:24px;min-height:20px}[_nghost-%COMP%]   .phone-link-wrapper[_ngcontent-%COMP%]{width:100%;padding-left:0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;direction:ltr}[_nghost-%COMP%]   .phone-link-wrapper[_ngcontent-%COMP%]   .phone-link[_ngcontent-%COMP%]{color:var(--crt-palette-link-500);text-decoration:none}[_nghost-%COMP%]   .phone-link-wrapper[_ngcontent-%COMP%]   .phone-link[_ngcontent-%COMP%]:hover{text-decoration:underline}[readonly=true][_nghost-%COMP%]   crt-intl-tel-input.crt-input-control-element-hidden[_ngcontent-%COMP%]{display:none}[dir=rtl][_ngcontent-%COMP%]   div.phone-link-wrapper[_ngcontent-%COMP%]{direction:ltr}[dir=rtl][_ngcontent-%COMP%]   div.phone-wrapper[_ngcontent-%COMP%]{padding-inline-start:0px;padding-inline-end:2px!important}[dir=rtl][_ngcontent-%COMP%]   button.crt-input-control-call-button[_ngcontent-%COMP%]{position:relative;top:12px;margin-left:8px;margin-right:6px}"],changeDetection:0})}};(0,r.__decorate)([(0,c.CrtInput)(),(0,r.__metadata)("design:type",Object)],u.prototype,"displayAsPhone",void 0),(0,r.__decorate)([(0,c.CrtInput)(),(0,r.__metadata)("design:type",Object)],u.prototype,"alwaysShowFlags",void 0),(0,r.__decorate)([(0,c.CrtInput)(),(0,r.__metadata)("design:type",Object)],u.prototype,"isGridMode",void 0),(0,r.__decorate)([(0,c.CrtInput)(),(0,r.__metadata)("design:type",Object)],u.prototype,"isViewCellMode",void 0),(0,r.__decorate)([(0,c.CrtInput)(),(0,r.__metadata)("design:type",Object)],u.prototype,"phoneAsLink",void 0),(0,r.__decorate)([(0,c.CrtInput)(),(0,r.__metadata)("design:type",Object)],u.prototype,"countrySelectionConfig",void 0),u=(0,r.__decorate)([(0,c.CrtViewElement)({type:"crt.PhoneInput",formControlConfig:{relatesTo:"control"},contentSlots:["tools"]}),(0,c.CrtInterfaceDesignerItem)({toolbarConfig:{groupType:c.DesignerToolGroupType.Inputs,position:42,icon:s(12076),defaultPropertyValues:{label:"",control:"",labelPosition:"auto",placeholder:"",tooltip:"",needHandleSave:!1},defaultLocalizableStrings:{caption:"DataValueType.PhoneTextCaption",label:"DataValueType.PhoneTextCaption"}},dataValueTypes:[c.DataValueType.PHONE_TEXT],propertiesPanelComponentTypeName:"crt.PhoneTextPropertiesPanel",viewElementGroupType:c.ViewElementGroupType.Inputs,typeCaption:"DataValueType.PhoneTextShortenedCaption"}),(0,r.__metadata)("design:paramtypes",[t.Injector,t.ChangeDetectorRef,V.TranslateService,d])],u);var ne=s(10850);class b{_modifyInputType(e,n,i){const o=e.control.replace("$",""),l=n.attributes[o]?.modelConfig?.path;if(l){const _=this._getDataSchemaAttributeByPath(l,i);_?.dataValueType===c.DataValueType.PHONE_TEXT&&(e.type="crt.PhoneInput",e.phoneAsLink=!0,e.displayAsPhone=_.isMasked)}else e.type==="crt.PhoneInput"&&(e.phoneAsLink??=!0,e.displayAsPhone??=!0)}_getDataSchemaAttributeByPath(e,n){const[i,o]=e.split("."),l=n.dataSchemas[i]?.attributes;let _;for(const I in l)if(l[I].path===o||l[I].name===o){_=l[I];break}return _}crtOnViewModelInit(e,n,i){var o=this;return(0,R.A)(function*(){const l=e,_=T.MetadataSchemaUtils.getViewConfigInfoByProperty("type","crt.Input",l.viewConfig),I=T.MetadataSchemaUtils.getViewConfigInfoByProperty("type","crt.PhoneInput",l.viewConfig);return _.forEach(F=>{o._modifyInputType(F.viewConfig,l.viewModelConfig,i)}),I.forEach(F=>{o._modifyInputType(F.viewConfig,l.viewModelConfig,i)}),e})()}static{this.\u0275fac=function(n){return new(n||b)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac})}}let M=class B{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"call-icon",icon:s(31354)}])}static{this.\u0275fac=function(n){return new(n||B)(t.\u0275\u0275inject(p.MaterialIconsRegistrator))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:B})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[v.CustomEventService,d,{provide:T.CRT_METADATA_PREPROCESSOR,useClass:b,multi:!0}],imports:[h.CommonModule,f.FormsModule,k.MatLegacyInputModule,P.MatIconModule,x.MatLegacyFormFieldModule,f.ReactiveFormsModule,v.CrtLibTranslateModule.forRoot({i18n:W}),U.MatLegacyTooltipModule,p.CrtSkeletonLoaderModule,j.CdkModule,p.TooltipModule,p.CrtBaseInputWidthHolderModule,y.CrtInputModule]})}};M=(0,r.__decorate)([(0,c.CrtModule)({viewElements:[u]}),(0,r.__metadata)("design:paramtypes",[p.MaterialIconsRegistrator])],M),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(M,{declarations:[g,u],imports:[h.CommonModule,f.FormsModule,k.MatLegacyInputModule,P.MatIconModule,x.MatLegacyFormFieldModule,f.ReactiveFormsModule,p.CrtResizableDirective,v.CrtLibTranslateModule,U.MatLegacyTooltipModule,p.CrtSkeletonLoaderModule,j.CdkModule,p.TooltipModule,p.CrtBaseInputWidthHolderModule,y.CrtInputModule],exports:[g,u]})}();const ft=a=>({"left-padding":a});function yt(a,e){if(a&1&&t.\u0275\u0275element(0,"crt-phone-input",1),a&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("control",n.control)("autofocus",!n.isViewCellMode)("value",n.control.value)("displayAsPhone",n.displayAsPhone)("phoneAsLink",n.isViewCellMode)("isGridMode",!0)("isViewCellMode",n.isViewCellMode)("readonly",n.readonly)("ngClass",t.\u0275\u0275pureFunction1(9,ft,!n.displayAsPhone))}}let m=class N{constructor(){this.readonly=!1}onKeyDown(e){const n=e.key,i=e.target;e.key===G.Key.Enter&&i?.closest(".iti__highlight")&&(e.stopPropagation(),document.dispatchEvent(new KeyboardEvent("keydown",{key:n})))}static{this.\u0275fac=function(n){return new(n||N)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:N,selectors:[["crt-data-table-edit-phone-cell"]],hostBindings:function(n,i){n&1&&t.\u0275\u0275listener("keydown",function(l){return i.onKeyDown(l)})},inputs:{control:"control",readonly:"readonly",displayAsPhone:"displayAsPhone",isViewCellMode:"isViewCellMode"},decls:1,vars:1,consts:[["crtPhoneInput","","labelPosition","hidden","class","crt-data-table-edit-phone-cell",3,"control","autofocus","value","displayAsPhone","phoneAsLink","isGridMode","isViewCellMode","readonly","ngClass",4,"ngIf"],["crtPhoneInput","","labelPosition","hidden",1,"crt-data-table-edit-phone-cell",3,"control","autofocus","value","displayAsPhone","phoneAsLink","isGridMode","isViewCellMode","readonly","ngClass"]],template:function(n,i){n&1&&t.\u0275\u0275template(0,yt,1,11,"crt-phone-input",0),n&2&&t.\u0275\u0275property("ngIf",i.control)},dependencies:[h.NgClass,h.NgIf,g,u],styles:["[_nghost-%COMP%]{display:block;width:100%;height:18px}crt-phone-input[_ngcontent-%COMP%]{display:block;padding-inline-end:4px}"]})}};(0,r.__decorate)([(0,c.CrtInput)(),(0,r.__metadata)("design:type",f.FormControl)],m.prototype,"control",void 0),(0,r.__decorate)([(0,c.CrtInput)({propertyBindable:!0,defaultValue:!1,propertyName:c.ViewElementProperty.Readonly}),(0,r.__metadata)("design:type",Object)],m.prototype,"readonly",void 0),(0,r.__decorate)([(0,c.CrtInput)(),(0,r.__metadata)("design:type",Object)],m.prototype,"displayAsPhone",void 0),(0,r.__decorate)([(0,c.CrtInput)(),(0,r.__metadata)("design:type",Object)],m.prototype,"isViewCellMode",void 0),m=(0,r.__decorate)([(0,c.CrtViewElement)({type:"crt.DataTableEditPhoneCell",formControlConfig:{relatesTo:"control"},reuseStrategy:c.ViewElementReuseStrategy.Reuse})],m);let S=class A{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"call-icon",icon:s(31354)}])}static{this.\u0275fac=function(n){return new(n||A)(t.\u0275\u0275inject(p.MaterialIconsRegistrator))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:A})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[h.CommonModule,M]})}};S=(0,r.__decorate)([(0,c.CrtModule)({viewElements:[m]}),(0,r.__metadata)("design:paramtypes",[p.MaterialIconsRegistrator])],S),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(S,{declarations:[m],imports:[h.CommonModule,M],exports:[m]})}();var L=s(53893);function Pt(a,e){if(a&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",2),t.\u0275\u0275listener("click",function(o){t.\u0275\u0275restoreView(n);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.onCallLinkClicked(o,l.value))}),t.\u0275\u0275elementEnd()}}let O=class J extends y.CrtBaseDataTableCellDirective{constructor(e){super(),this._phoneInputService=e}onCallLinkClicked(e,n){n&&(L.PhoneInputService.isTelephonyEnabled?this._phoneInputService.callNumber(n,e):window.location.href=`tel:${n}`)}ngOnInit(){L.PhoneInputService.isTelephonyEnabledFlagInitialized||this._phoneInputService.initIsTelephonyEnabled()}static{this.\u0275fac=function(n){return new(n||J)(t.\u0275\u0275directiveInject(L.PhoneInputService))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:J,selectors:[["crt-data-table-phone-cell"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[["svgIcon","call-icon","class","grid-communication-call-icon",3,"click",4,"ngIf"],["underlining","hover","mode","preventDefault",1,"communication-link-wrapper",3,"clicked","href","caption"],["svgIcon","call-icon",1,"grid-communication-call-icon",3,"click"]],template:function(n,i){n&1&&(t.\u0275\u0275template(0,Pt,1,0,"mat-icon",0),t.\u0275\u0275elementStart(1,"crt-link",1),t.\u0275\u0275listener("clicked",function(l){return i.onCallLinkClicked(l.event,i.value)}),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275property("ngIf",i.value),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("caption",i.value),t.\u0275\u0275property("href",i.value?"tel:"+i.value:i.value))},dependencies:[h.NgIf,y.CrtLinkComponent,P.MatIcon],styles:["[_nghost-%COMP%]{display:flex;max-width:100%}[_nghost-%COMP%]   .grid-communication-call-icon[_ngcontent-%COMP%]{display:inline-block;flex-shrink:0;width:16px;height:16px;cursor:pointer}[_nghost-%COMP%]   .communication-link-wrapper[_ngcontent-%COMP%]{display:inline-block;min-width:0;margin-left:8px}[dir=rtl][_ngcontent-%COMP%]   crt-link.communication-link-wrapper[_ngcontent-%COMP%]{direction:ltr;margin-right:8px}"]})}};O=(0,r.__decorate)([(0,c.CrtViewElement)({type:"crt.TablePhoneCell",reuseStrategy:c.ViewElementReuseStrategy.Reuse}),(0,r.__metadata)("design:paramtypes",[L.PhoneInputService])],O);let E=class Z{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"call-icon",icon:s(31354)}])}static{this.\u0275fac=function(n){return new(n||Z)(t.\u0275\u0275inject(p.MaterialIconsRegistrator))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Z})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[v.CustomEventService,d],imports:[h.CommonModule,y.CrtLinkModule,P.MatIconModule]})}};E=(0,r.__decorate)([(0,c.CrtModule)({viewElements:[O]}),(0,r.__metadata)("design:paramtypes",[p.MaterialIconsRegistrator])],E),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(E,{declarations:[O],imports:[h.CommonModule,y.CrtLinkModule,P.MatIconModule],exports:[O]})}()},31354:w=>{w.exports=`<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.533 11.3618C14.6608 12.2665 13.4582 13.324 12.9317 13.9275C12.5558 14.3798 12.1041 14.8321 8.87494 13.0228C7.70062 12.3935 6.63518 11.5782 5.71967 10.6083C4.74935 9.6741 3.91405 8.60834 3.23788 7.44197C1.50789 4.19695 1.95946 3.66863 2.41022 3.37099C3.01152 2.84267 4.06453 1.71089 4.96694 2.76753C6.47066 4.57686 6.62119 5.40919 6.09471 5.86152C5.71878 6.08769 5.79362 6.16368 5.56824 6.31385C4.96694 6.91726 5.11747 7.8988 6.54546 9.33269L6.77084 9.63483C7.8238 10.6915 9.17699 11.2198 9.7792 10.6915C9.97273 10.4797 10.1488 10.2525 10.3057 10.0121C10.8321 9.48375 11.3587 9.63483 13.5394 11.3691" fill="#22AC14"/>
</svg>
`},12076:w=>{w.exports=`<svg width="100%" height="100%" viewBox="0 0 72 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="8.5" y="8.5" width="55" height="23" rx="0.5" fill="white" stroke="#0D2E4E"/>
<rect width="24" height="6" fill="#d1d1d1" rx="3" transform="translate(16 17)"></rect>
<path transform="translate(8,8)" d="M42.3353 6.83815L43.2638 6.46676L43.2638 6.46676L42.3353 6.83815ZM43.0381 8.59524L42.1097 8.96663L42.1097 8.96663L43.0381 8.59524ZM42.8245 9.94398L42.0563 9.3038L42.0563 9.30383L42.8245 9.94398ZM42.4463 10.3979L43.2145 11.0381L43.2145 11.0381L42.4463 10.3979ZM42.5276 12.1943L41.8205 12.9014L41.8205 12.9015L42.5276 12.1943ZM43.8057 13.4724L44.5128 12.7653L44.5128 12.7652L43.8057 13.4724ZM45.6021 13.5538L44.962 12.7855L44.9619 12.7856L45.6021 13.5538ZM46.0561 13.1755L46.6962 13.9439L46.6963 13.9438L46.0561 13.1755ZM47.4048 12.9619L47.7762 12.0335L47.7761 12.0334L47.4048 12.9619ZM49.1617 13.6648L48.7903 14.5932L48.7903 14.5932L49.1617 13.6648ZM49.9999 14.9027H48.9999V14.9027L49.9999 14.9027ZM50 16.7369H51V16.7368L50 16.7369ZM41.0973 7C41.2336 7 41.3562 7.08298 41.4068 7.20954L43.2638 6.46676C42.9094 5.58089 42.0514 5 41.0973 5V7ZM41.4068 7.20953L42.1097 8.96663L43.9666 8.22386L43.2638 6.46676L41.4068 7.20953ZM42.1097 8.96663C42.1552 9.08044 42.1346 9.20985 42.0563 9.3038L43.5928 10.5842C44.1415 9.92566 44.2849 9.01947 43.9666 8.22385L42.1097 8.96663ZM42.0563 9.30383L41.678 9.75777L43.2145 11.0381L43.5928 10.5841L42.0563 9.30383ZM41.6781 9.75774C40.9057 10.6846 40.9669 12.0479 41.8205 12.9014L43.2347 11.4872C43.113 11.3655 43.104 11.1708 43.2145 11.0381L41.6781 9.75774ZM41.8205 12.9015L43.0986 14.1795L44.5128 12.7652L43.2347 11.4872L41.8205 12.9015ZM43.0986 14.1795C43.952 15.0328 45.3152 15.0946 46.2422 14.322L44.9619 12.7856C44.8294 12.896 44.6347 12.8871 44.5128 12.7653L43.0986 14.1795ZM46.2421 14.3221L46.6962 13.9439L45.4161 12.4072L44.962 12.7855L46.2421 14.3221ZM46.6963 13.9438C46.7903 13.8654 46.9196 13.8449 47.0334 13.8904L47.7761 12.0334C46.9805 11.7152 46.0744 11.8586 45.4159 12.4073L46.6963 13.9438ZM47.0333 13.8904L48.7903 14.5932L49.5331 12.7363L47.7762 12.0335L47.0333 13.8904ZM48.7903 14.5932C48.917 14.6439 48.9999 14.7665 48.9999 14.9027H50.9999C50.9999 13.9485 50.4189 13.0906 49.5331 12.7363L48.7903 14.5932ZM48.9999 14.9027L49 16.7369L51 16.7368L50.9999 14.9026L48.9999 14.9027ZM49 16.7369C49 16.8823 48.8822 17 48.737 17V19C49.987 19 51 17.9867 51 16.7369H49ZM48.737 17C43.3594 17 39 12.6407 39 7.26318H37C37 13.7453 42.2549 19 48.737 19V17ZM39 7.26318C39 7.11782 39.1178 7 39.2632 7V5C38.0132 5 37 6.0133 37 7.26318H39ZM39.2632 7H41.0973V5H39.2632V7Z" fill="#FF4013"/>
</svg>
`}}]);
